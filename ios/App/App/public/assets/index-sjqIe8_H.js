var FN=Object.defineProperty;var ew=e=>{throw TypeError(e)};var BN=(e,t,n)=>t in e?FN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var nr=(e,t,n)=>BN(e,typeof t!="symbol"?t+"":t,n),Sm=(e,t,n)=>t.has(e)||ew("Cannot "+n);var lt=(e,t,n)=>(Sm(e,t,"read from private field"),n?n.call(e):t.get(e)),pr=(e,t,n)=>t.has(e)?ew("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),kn=(e,t,n,r)=>(Sm(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),As=(e,t,n)=>(Sm(e,t,"access private method"),n);var c1=(e,t,n,r)=>({set _(i){kn(e,t,i,n)},get _(){return lt(e,t,r)}});function c4(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var $c=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function gp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var u4={exports:{}},xp={},d4={exports:{}},Yn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oh=Symbol.for("react.element"),UN=Symbol.for("react.portal"),zN=Symbol.for("react.fragment"),WN=Symbol.for("react.strict_mode"),HN=Symbol.for("react.profiler"),VN=Symbol.for("react.provider"),qN=Symbol.for("react.context"),GN=Symbol.for("react.forward_ref"),KN=Symbol.for("react.suspense"),$N=Symbol.for("react.memo"),XN=Symbol.for("react.lazy"),tw=Symbol.iterator;function YN(e){return e===null||typeof e!="object"?null:(e=tw&&e[tw]||e["@@iterator"],typeof e=="function"?e:null)}var f4={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},h4=Object.assign,p4={};function Vd(e,t,n){this.props=e,this.context=t,this.refs=p4,this.updater=n||f4}Vd.prototype.isReactComponent={};Vd.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Vd.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function m4(){}m4.prototype=Vd.prototype;function Mx(e,t,n){this.props=e,this.context=t,this.refs=p4,this.updater=n||f4}var jx=Mx.prototype=new m4;jx.constructor=Mx;h4(jx,Vd.prototype);jx.isPureReactComponent=!0;var nw=Array.isArray,g4=Object.prototype.hasOwnProperty,Fx={current:null},x4={key:!0,ref:!0,__self:!0,__source:!0};function v4(e,t,n){var r,i={},a=null,u=null;if(t!=null)for(r in t.ref!==void 0&&(u=t.ref),t.key!==void 0&&(a=""+t.key),t)g4.call(t,r)&&!x4.hasOwnProperty(r)&&(i[r]=t[r]);var f=arguments.length-2;if(f===1)i.children=n;else if(1<f){for(var m=Array(f),p=0;p<f;p++)m[p]=arguments[p+2];i.children=m}if(e&&e.defaultProps)for(r in f=e.defaultProps,f)i[r]===void 0&&(i[r]=f[r]);return{$$typeof:Oh,type:e,key:a,ref:u,props:i,_owner:Fx.current}}function ZN(e,t){return{$$typeof:Oh,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Bx(e){return typeof e=="object"&&e!==null&&e.$$typeof===Oh}function QN(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var rw=/\/+/g;function _m(e,t){return typeof e=="object"&&e!==null&&e.key!=null?QN(""+e.key):t.toString(36)}function G1(e,t,n,r,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var u=!1;if(e===null)u=!0;else switch(a){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case Oh:case UN:u=!0}}if(u)return u=e,i=i(u),e=r===""?"."+_m(u,0):r,nw(i)?(n="",e!=null&&(n=e.replace(rw,"$&/")+"/"),G1(i,t,n,"",function(p){return p})):i!=null&&(Bx(i)&&(i=ZN(i,n+(!i.key||u&&u.key===i.key?"":(""+i.key).replace(rw,"$&/")+"/")+e)),t.push(i)),1;if(u=0,r=r===""?".":r+":",nw(e))for(var f=0;f<e.length;f++){a=e[f];var m=r+_m(a,f);u+=G1(a,t,n,m,i)}else if(m=YN(e),typeof m=="function")for(e=m.call(e),f=0;!(a=e.next()).done;)a=a.value,m=r+_m(a,f++),u+=G1(a,t,n,m,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function u1(e,t,n){if(e==null)return e;var r=[],i=0;return G1(e,r,"","",function(a){return t.call(n,a,i++)}),r}function JN(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var $s={current:null},K1={transition:null},eI={ReactCurrentDispatcher:$s,ReactCurrentBatchConfig:K1,ReactCurrentOwner:Fx};function y4(){throw Error("act(...) is not supported in production builds of React.")}Yn.Children={map:u1,forEach:function(e,t,n){u1(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return u1(e,function(){t++}),t},toArray:function(e){return u1(e,function(t){return t})||[]},only:function(e){if(!Bx(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Yn.Component=Vd;Yn.Fragment=zN;Yn.Profiler=HN;Yn.PureComponent=Mx;Yn.StrictMode=WN;Yn.Suspense=KN;Yn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eI;Yn.act=y4;Yn.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=h4({},e.props),i=e.key,a=e.ref,u=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,u=Fx.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var f=e.type.defaultProps;for(m in t)g4.call(t,m)&&!x4.hasOwnProperty(m)&&(r[m]=t[m]===void 0&&f!==void 0?f[m]:t[m])}var m=arguments.length-2;if(m===1)r.children=n;else if(1<m){f=Array(m);for(var p=0;p<m;p++)f[p]=arguments[p+2];r.children=f}return{$$typeof:Oh,type:e.type,key:i,ref:a,props:r,_owner:u}};Yn.createContext=function(e){return e={$$typeof:qN,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:VN,_context:e},e.Consumer=e};Yn.createElement=v4;Yn.createFactory=function(e){var t=v4.bind(null,e);return t.type=e,t};Yn.createRef=function(){return{current:null}};Yn.forwardRef=function(e){return{$$typeof:GN,render:e}};Yn.isValidElement=Bx;Yn.lazy=function(e){return{$$typeof:XN,_payload:{_status:-1,_result:e},_init:JN}};Yn.memo=function(e,t){return{$$typeof:$N,type:e,compare:t===void 0?null:t}};Yn.startTransition=function(e){var t=K1.transition;K1.transition={};try{e()}finally{K1.transition=t}};Yn.unstable_act=y4;Yn.useCallback=function(e,t){return $s.current.useCallback(e,t)};Yn.useContext=function(e){return $s.current.useContext(e)};Yn.useDebugValue=function(){};Yn.useDeferredValue=function(e){return $s.current.useDeferredValue(e)};Yn.useEffect=function(e,t){return $s.current.useEffect(e,t)};Yn.useId=function(){return $s.current.useId()};Yn.useImperativeHandle=function(e,t,n){return $s.current.useImperativeHandle(e,t,n)};Yn.useInsertionEffect=function(e,t){return $s.current.useInsertionEffect(e,t)};Yn.useLayoutEffect=function(e,t){return $s.current.useLayoutEffect(e,t)};Yn.useMemo=function(e,t){return $s.current.useMemo(e,t)};Yn.useReducer=function(e,t,n){return $s.current.useReducer(e,t,n)};Yn.useRef=function(e){return $s.current.useRef(e)};Yn.useState=function(e){return $s.current.useState(e)};Yn.useSyncExternalStore=function(e,t,n){return $s.current.useSyncExternalStore(e,t,n)};Yn.useTransition=function(){return $s.current.useTransition()};Yn.version="18.3.1";d4.exports=Yn;var F=d4.exports;const yt=gp(F),Ux=c4({__proto__:null,default:yt},[F]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tI=F,nI=Symbol.for("react.element"),rI=Symbol.for("react.fragment"),iI=Object.prototype.hasOwnProperty,sI=tI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,aI={key:!0,ref:!0,__self:!0,__source:!0};function w4(e,t,n){var r,i={},a=null,u=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(u=t.ref);for(r in t)iI.call(t,r)&&!aI.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:nI,type:e,key:a,ref:u,props:i,_owner:sI.current}}xp.Fragment=rI;xp.jsx=w4;xp.jsxs=w4;u4.exports=xp;var v=u4.exports,b4={exports:{}},Ma={},A4={exports:{}},S4={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(ne,_e){var ve=ne.length;ne.push(_e);e:for(;0<ve;){var Le=ve-1>>>1,W=ne[Le];if(0<i(W,_e))ne[Le]=_e,ne[ve]=W,ve=Le;else break e}}function n(ne){return ne.length===0?null:ne[0]}function r(ne){if(ne.length===0)return null;var _e=ne[0],ve=ne.pop();if(ve!==_e){ne[0]=ve;e:for(var Le=0,W=ne.length,ae=W>>>1;Le<ae;){var fe=2*(Le+1)-1,Ee=ne[fe],se=fe+1,we=ne[se];if(0>i(Ee,ve))se<W&&0>i(we,Ee)?(ne[Le]=we,ne[se]=ve,Le=se):(ne[Le]=Ee,ne[fe]=ve,Le=fe);else if(se<W&&0>i(we,ve))ne[Le]=we,ne[se]=ve,Le=se;else break e}}return _e}function i(ne,_e){var ve=ne.sortIndex-_e.sortIndex;return ve!==0?ve:ne.id-_e.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var u=Date,f=u.now();e.unstable_now=function(){return u.now()-f}}var m=[],p=[],y=1,S=null,E=3,A=!1,R=!1,I=!1,P=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function L(ne){for(var _e=n(p);_e!==null;){if(_e.callback===null)r(p);else if(_e.startTime<=ne)r(p),_e.sortIndex=_e.expirationTime,t(m,_e);else break;_e=n(p)}}function j(ne){if(I=!1,L(ne),!R)if(n(m)!==null)R=!0,Ne(J);else{var _e=n(p);_e!==null&&Ce(j,_e.startTime-ne)}}function J(ne,_e){R=!1,I&&(I=!1,k(Z),Z=-1),A=!0;var ve=E;try{for(L(_e),S=n(m);S!==null&&(!(S.expirationTime>_e)||ne&&!H());){var Le=S.callback;if(typeof Le=="function"){S.callback=null,E=S.priorityLevel;var W=Le(S.expirationTime<=_e);_e=e.unstable_now(),typeof W=="function"?S.callback=W:S===n(m)&&r(m),L(_e)}else r(m);S=n(m)}if(S!==null)var ae=!0;else{var fe=n(p);fe!==null&&Ce(j,fe.startTime-_e),ae=!1}return ae}finally{S=null,E=ve,A=!1}}var ce=!1,Y=null,Z=-1,z=5,he=-1;function H(){return!(e.unstable_now()-he<z)}function K(){if(Y!==null){var ne=e.unstable_now();he=ne;var _e=!0;try{_e=Y(!0,ne)}finally{_e?ue():(ce=!1,Y=null)}}else ce=!1}var ue;if(typeof O=="function")ue=function(){O(K)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,te=oe.port2;oe.port1.onmessage=K,ue=function(){te.postMessage(null)}}else ue=function(){P(K,0)};function Ne(ne){Y=ne,ce||(ce=!0,ue())}function Ce(ne,_e){Z=P(function(){ne(e.unstable_now())},_e)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ne){ne.callback=null},e.unstable_continueExecution=function(){R||A||(R=!0,Ne(J))},e.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<ne?Math.floor(1e3/ne):5},e.unstable_getCurrentPriorityLevel=function(){return E},e.unstable_getFirstCallbackNode=function(){return n(m)},e.unstable_next=function(ne){switch(E){case 1:case 2:case 3:var _e=3;break;default:_e=E}var ve=E;E=_e;try{return ne()}finally{E=ve}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ne,_e){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var ve=E;E=ne;try{return _e()}finally{E=ve}},e.unstable_scheduleCallback=function(ne,_e,ve){var Le=e.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?Le+ve:Le):ve=Le,ne){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=ve+W,ne={id:y++,callback:_e,priorityLevel:ne,startTime:ve,expirationTime:W,sortIndex:-1},ve>Le?(ne.sortIndex=ve,t(p,ne),n(m)===null&&ne===n(p)&&(I?(k(Z),Z=-1):I=!0,Ce(j,ve-Le))):(ne.sortIndex=W,t(m,ne),R||A||(R=!0,Ne(J))),ne},e.unstable_shouldYield=H,e.unstable_wrapCallback=function(ne){var _e=E;return function(){var ve=E;E=_e;try{return ne.apply(this,arguments)}finally{E=ve}}}})(S4);A4.exports=S4;var oI=A4.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lI=F,Da=oI;function mt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _4=new Set,Zf={};function Cu(e,t){Id(e,t),Id(e+"Capture",t)}function Id(e,t){for(Zf[e]=t,e=0;e<t.length;e++)_4.add(t[e])}var Nl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qg=Object.prototype.hasOwnProperty,cI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,iw={},sw={};function uI(e){return qg.call(sw,e)?!0:qg.call(iw,e)?!1:cI.test(e)?sw[e]=!0:(iw[e]=!0,!1)}function dI(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function fI(e,t,n,r){if(t===null||typeof t>"u"||dI(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Xs(e,t,n,r,i,a,u){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=u}var fs={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){fs[e]=new Xs(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];fs[t]=new Xs(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){fs[e]=new Xs(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){fs[e]=new Xs(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){fs[e]=new Xs(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){fs[e]=new Xs(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){fs[e]=new Xs(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){fs[e]=new Xs(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){fs[e]=new Xs(e,5,!1,e.toLowerCase(),null,!1,!1)});var zx=/[\-:]([a-z])/g;function Wx(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(zx,Wx);fs[t]=new Xs(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(zx,Wx);fs[t]=new Xs(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(zx,Wx);fs[t]=new Xs(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){fs[e]=new Xs(e,1,!1,e.toLowerCase(),null,!1,!1)});fs.xlinkHref=new Xs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){fs[e]=new Xs(e,1,!1,e.toLowerCase(),null,!0,!0)});function Hx(e,t,n,r){var i=fs.hasOwnProperty(t)?fs[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(fI(t,n,i,r)&&(n=null),r||i===null?uI(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Dl=lI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,d1=Symbol.for("react.element"),Vu=Symbol.for("react.portal"),qu=Symbol.for("react.fragment"),Vx=Symbol.for("react.strict_mode"),Gg=Symbol.for("react.profiler"),C4=Symbol.for("react.provider"),E4=Symbol.for("react.context"),qx=Symbol.for("react.forward_ref"),Kg=Symbol.for("react.suspense"),$g=Symbol.for("react.suspense_list"),Gx=Symbol.for("react.memo"),nc=Symbol.for("react.lazy"),N4=Symbol.for("react.offscreen"),aw=Symbol.iterator;function lf(e){return e===null||typeof e!="object"?null:(e=aw&&e[aw]||e["@@iterator"],typeof e=="function"?e:null)}var ci=Object.assign,Cm;function Af(e){if(Cm===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Cm=t&&t[1]||""}return`
`+Cm+e}var Em=!1;function Nm(e,t){if(!e||Em)return"";Em=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(p){var r=p}Reflect.construct(e,[],t)}else{try{t.call()}catch(p){r=p}e.call(t.prototype)}else{try{throw Error()}catch(p){r=p}e()}}catch(p){if(p&&r&&typeof p.stack=="string"){for(var i=p.stack.split(`
`),a=r.stack.split(`
`),u=i.length-1,f=a.length-1;1<=u&&0<=f&&i[u]!==a[f];)f--;for(;1<=u&&0<=f;u--,f--)if(i[u]!==a[f]){if(u!==1||f!==1)do if(u--,f--,0>f||i[u]!==a[f]){var m=`
`+i[u].replace(" at new "," at ");return e.displayName&&m.includes("<anonymous>")&&(m=m.replace("<anonymous>",e.displayName)),m}while(1<=u&&0<=f);break}}}finally{Em=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Af(e):""}function hI(e){switch(e.tag){case 5:return Af(e.type);case 16:return Af("Lazy");case 13:return Af("Suspense");case 19:return Af("SuspenseList");case 0:case 2:case 15:return e=Nm(e.type,!1),e;case 11:return e=Nm(e.type.render,!1),e;case 1:return e=Nm(e.type,!0),e;default:return""}}function Xg(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case qu:return"Fragment";case Vu:return"Portal";case Gg:return"Profiler";case Vx:return"StrictMode";case Kg:return"Suspense";case $g:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case E4:return(e.displayName||"Context")+".Consumer";case C4:return(e._context.displayName||"Context")+".Provider";case qx:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Gx:return t=e.displayName||null,t!==null?t:Xg(e.type)||"Memo";case nc:t=e._payload,e=e._init;try{return Xg(e(t))}catch{}}return null}function pI(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Xg(t);case 8:return t===Vx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Oc(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function I4(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function mI(e){var t=I4(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(u){r=""+u,a.call(this,u)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(u){r=""+u},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function f1(e){e._valueTracker||(e._valueTracker=mI(e))}function T4(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=I4(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function w0(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Yg(e,t){var n=t.checked;return ci({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ow(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Oc(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function k4(e,t){t=t.checked,t!=null&&Hx(e,"checked",t,!1)}function Zg(e,t){k4(e,t);var n=Oc(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Qg(e,t.type,n):t.hasOwnProperty("defaultValue")&&Qg(e,t.type,Oc(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function lw(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Qg(e,t,n){(t!=="number"||w0(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Sf=Array.isArray;function id(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Oc(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Jg(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(mt(91));return ci({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function cw(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(mt(92));if(Sf(n)){if(1<n.length)throw Error(mt(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Oc(n)}}function P4(e,t){var n=Oc(t.value),r=Oc(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function uw(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function R4(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function e2(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?R4(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var h1,O4=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(h1=h1||document.createElement("div"),h1.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=h1.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Qf(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Tf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gI=["Webkit","ms","Moz","O"];Object.keys(Tf).forEach(function(e){gI.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Tf[t]=Tf[e]})});function L4(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Tf.hasOwnProperty(e)&&Tf[e]?(""+t).trim():t+"px"}function D4(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=L4(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var xI=ci({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function t2(e,t){if(t){if(xI[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(mt(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(mt(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(mt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(mt(62))}}function n2(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var r2=null;function Kx(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var i2=null,sd=null,ad=null;function dw(e){if(e=Mh(e)){if(typeof i2!="function")throw Error(mt(280));var t=e.stateNode;t&&(t=Ap(t),i2(e.stateNode,e.type,t))}}function M4(e){sd?ad?ad.push(e):ad=[e]:sd=e}function j4(){if(sd){var e=sd,t=ad;if(ad=sd=null,dw(e),t)for(e=0;e<t.length;e++)dw(t[e])}}function F4(e,t){return e(t)}function B4(){}var Im=!1;function U4(e,t,n){if(Im)return e(t,n);Im=!0;try{return F4(e,t,n)}finally{Im=!1,(sd!==null||ad!==null)&&(B4(),j4())}}function Jf(e,t){var n=e.stateNode;if(n===null)return null;var r=Ap(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(mt(231,t,typeof n));return n}var s2=!1;if(Nl)try{var cf={};Object.defineProperty(cf,"passive",{get:function(){s2=!0}}),window.addEventListener("test",cf,cf),window.removeEventListener("test",cf,cf)}catch{s2=!1}function vI(e,t,n,r,i,a,u,f,m){var p=Array.prototype.slice.call(arguments,3);try{t.apply(n,p)}catch(y){this.onError(y)}}var kf=!1,b0=null,A0=!1,a2=null,yI={onError:function(e){kf=!0,b0=e}};function wI(e,t,n,r,i,a,u,f,m){kf=!1,b0=null,vI.apply(yI,arguments)}function bI(e,t,n,r,i,a,u,f,m){if(wI.apply(this,arguments),kf){if(kf){var p=b0;kf=!1,b0=null}else throw Error(mt(198));A0||(A0=!0,a2=p)}}function Eu(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function z4(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function fw(e){if(Eu(e)!==e)throw Error(mt(188))}function AI(e){var t=e.alternate;if(!t){if(t=Eu(e),t===null)throw Error(mt(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return fw(i),e;if(a===r)return fw(i),t;a=a.sibling}throw Error(mt(188))}if(n.return!==r.return)n=i,r=a;else{for(var u=!1,f=i.child;f;){if(f===n){u=!0,n=i,r=a;break}if(f===r){u=!0,r=i,n=a;break}f=f.sibling}if(!u){for(f=a.child;f;){if(f===n){u=!0,n=a,r=i;break}if(f===r){u=!0,r=a,n=i;break}f=f.sibling}if(!u)throw Error(mt(189))}}if(n.alternate!==r)throw Error(mt(190))}if(n.tag!==3)throw Error(mt(188));return n.stateNode.current===n?e:t}function W4(e){return e=AI(e),e!==null?H4(e):null}function H4(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=H4(e);if(t!==null)return t;e=e.sibling}return null}var V4=Da.unstable_scheduleCallback,hw=Da.unstable_cancelCallback,SI=Da.unstable_shouldYield,_I=Da.unstable_requestPaint,Si=Da.unstable_now,CI=Da.unstable_getCurrentPriorityLevel,$x=Da.unstable_ImmediatePriority,q4=Da.unstable_UserBlockingPriority,S0=Da.unstable_NormalPriority,EI=Da.unstable_LowPriority,G4=Da.unstable_IdlePriority,vp=null,$o=null;function NI(e){if($o&&typeof $o.onCommitFiberRoot=="function")try{$o.onCommitFiberRoot(vp,e,void 0,(e.current.flags&128)===128)}catch{}}var wo=Math.clz32?Math.clz32:kI,II=Math.log,TI=Math.LN2;function kI(e){return e>>>=0,e===0?32:31-(II(e)/TI|0)|0}var p1=64,m1=4194304;function _f(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function _0(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,u=n&268435455;if(u!==0){var f=u&~i;f!==0?r=_f(f):(a&=u,a!==0&&(r=_f(a)))}else u=n&~i,u!==0?r=_f(u):a!==0&&(r=_f(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-wo(t),i=1<<n,r|=e[n],t&=~i;return r}function PI(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function RI(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var u=31-wo(a),f=1<<u,m=i[u];m===-1?(!(f&n)||f&r)&&(i[u]=PI(f,t)):m<=t&&(e.expiredLanes|=f),a&=~f}}function o2(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function K4(){var e=p1;return p1<<=1,!(p1&4194240)&&(p1=64),e}function Tm(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Lh(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-wo(t),e[t]=n}function OI(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-wo(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}function Xx(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-wo(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Tr=0;function $4(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var X4,Yx,Y4,Z4,Q4,l2=!1,g1=[],vc=null,yc=null,wc=null,eh=new Map,th=new Map,ic=[],LI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pw(e,t){switch(e){case"focusin":case"focusout":vc=null;break;case"dragenter":case"dragleave":yc=null;break;case"mouseover":case"mouseout":wc=null;break;case"pointerover":case"pointerout":eh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":th.delete(t.pointerId)}}function uf(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Mh(t),t!==null&&Yx(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function DI(e,t,n,r,i){switch(t){case"focusin":return vc=uf(vc,e,t,n,r,i),!0;case"dragenter":return yc=uf(yc,e,t,n,r,i),!0;case"mouseover":return wc=uf(wc,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return eh.set(a,uf(eh.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,th.set(a,uf(th.get(a)||null,e,t,n,r,i)),!0}return!1}function J4(e){var t=Yc(e.target);if(t!==null){var n=Eu(t);if(n!==null){if(t=n.tag,t===13){if(t=z4(n),t!==null){e.blockedOn=t,Q4(e.priority,function(){Y4(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function $1(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=c2(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);r2=r,n.target.dispatchEvent(r),r2=null}else return t=Mh(n),t!==null&&Yx(t),e.blockedOn=n,!1;t.shift()}return!0}function mw(e,t,n){$1(e)&&n.delete(t)}function MI(){l2=!1,vc!==null&&$1(vc)&&(vc=null),yc!==null&&$1(yc)&&(yc=null),wc!==null&&$1(wc)&&(wc=null),eh.forEach(mw),th.forEach(mw)}function df(e,t){e.blockedOn===t&&(e.blockedOn=null,l2||(l2=!0,Da.unstable_scheduleCallback(Da.unstable_NormalPriority,MI)))}function nh(e){function t(i){return df(i,e)}if(0<g1.length){df(g1[0],e);for(var n=1;n<g1.length;n++){var r=g1[n];r.blockedOn===e&&(r.blockedOn=null)}}for(vc!==null&&df(vc,e),yc!==null&&df(yc,e),wc!==null&&df(wc,e),eh.forEach(t),th.forEach(t),n=0;n<ic.length;n++)r=ic[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<ic.length&&(n=ic[0],n.blockedOn===null);)J4(n),n.blockedOn===null&&ic.shift()}var od=Dl.ReactCurrentBatchConfig,C0=!0;function jI(e,t,n,r){var i=Tr,a=od.transition;od.transition=null;try{Tr=1,Zx(e,t,n,r)}finally{Tr=i,od.transition=a}}function FI(e,t,n,r){var i=Tr,a=od.transition;od.transition=null;try{Tr=4,Zx(e,t,n,r)}finally{Tr=i,od.transition=a}}function Zx(e,t,n,r){if(C0){var i=c2(e,t,n,r);if(i===null)Bm(e,t,r,E0,n),pw(e,r);else if(DI(i,e,t,n,r))r.stopPropagation();else if(pw(e,r),t&4&&-1<LI.indexOf(e)){for(;i!==null;){var a=Mh(i);if(a!==null&&X4(a),a=c2(e,t,n,r),a===null&&Bm(e,t,r,E0,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else Bm(e,t,r,null,n)}}var E0=null;function c2(e,t,n,r){if(E0=null,e=Kx(r),e=Yc(e),e!==null)if(t=Eu(e),t===null)e=null;else if(n=t.tag,n===13){if(e=z4(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return E0=e,null}function eA(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(CI()){case $x:return 1;case q4:return 4;case S0:case EI:return 16;case G4:return 536870912;default:return 16}default:return 16}}var fc=null,Qx=null,X1=null;function tA(){if(X1)return X1;var e,t=Qx,n=t.length,r,i="value"in fc?fc.value:fc.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var u=n-e;for(r=1;r<=u&&t[n-r]===i[a-r];r++);return X1=i.slice(e,1<r?1-r:void 0)}function Y1(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function x1(){return!0}function gw(){return!1}function ja(e){function t(n,r,i,a,u){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=u,this.currentTarget=null;for(var f in e)e.hasOwnProperty(f)&&(n=e[f],this[f]=n?n(a):a[f]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?x1:gw,this.isPropagationStopped=gw,this}return ci(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=x1)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=x1)},persist:function(){},isPersistent:x1}),t}var qd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jx=ja(qd),Dh=ci({},qd,{view:0,detail:0}),BI=ja(Dh),km,Pm,ff,yp=ci({},Dh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ev,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ff&&(ff&&e.type==="mousemove"?(km=e.screenX-ff.screenX,Pm=e.screenY-ff.screenY):Pm=km=0,ff=e),km)},movementY:function(e){return"movementY"in e?e.movementY:Pm}}),xw=ja(yp),UI=ci({},yp,{dataTransfer:0}),zI=ja(UI),WI=ci({},Dh,{relatedTarget:0}),Rm=ja(WI),HI=ci({},qd,{animationName:0,elapsedTime:0,pseudoElement:0}),VI=ja(HI),qI=ci({},qd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),GI=ja(qI),KI=ci({},qd,{data:0}),vw=ja(KI),$I={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},XI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},YI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ZI(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=YI[e])?!!t[e]:!1}function ev(){return ZI}var QI=ci({},Dh,{key:function(e){if(e.key){var t=$I[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Y1(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?XI[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ev,charCode:function(e){return e.type==="keypress"?Y1(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Y1(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),JI=ja(QI),e7=ci({},yp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yw=ja(e7),t7=ci({},Dh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ev}),n7=ja(t7),r7=ci({},qd,{propertyName:0,elapsedTime:0,pseudoElement:0}),i7=ja(r7),s7=ci({},yp,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),a7=ja(s7),o7=[9,13,27,32],tv=Nl&&"CompositionEvent"in window,Pf=null;Nl&&"documentMode"in document&&(Pf=document.documentMode);var l7=Nl&&"TextEvent"in window&&!Pf,nA=Nl&&(!tv||Pf&&8<Pf&&11>=Pf),ww=" ",bw=!1;function rA(e,t){switch(e){case"keyup":return o7.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function iA(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Gu=!1;function c7(e,t){switch(e){case"compositionend":return iA(t);case"keypress":return t.which!==32?null:(bw=!0,ww);case"textInput":return e=t.data,e===ww&&bw?null:e;default:return null}}function u7(e,t){if(Gu)return e==="compositionend"||!tv&&rA(e,t)?(e=tA(),X1=Qx=fc=null,Gu=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return nA&&t.locale!=="ko"?null:t.data;default:return null}}var d7={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Aw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!d7[e.type]:t==="textarea"}function sA(e,t,n,r){M4(r),t=N0(t,"onChange"),0<t.length&&(n=new Jx("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Rf=null,rh=null;function f7(e){gA(e,0)}function wp(e){var t=Xu(e);if(T4(t))return e}function h7(e,t){if(e==="change")return t}var aA=!1;if(Nl){var Om;if(Nl){var Lm="oninput"in document;if(!Lm){var Sw=document.createElement("div");Sw.setAttribute("oninput","return;"),Lm=typeof Sw.oninput=="function"}Om=Lm}else Om=!1;aA=Om&&(!document.documentMode||9<document.documentMode)}function _w(){Rf&&(Rf.detachEvent("onpropertychange",oA),rh=Rf=null)}function oA(e){if(e.propertyName==="value"&&wp(rh)){var t=[];sA(t,rh,e,Kx(e)),U4(f7,t)}}function p7(e,t,n){e==="focusin"?(_w(),Rf=t,rh=n,Rf.attachEvent("onpropertychange",oA)):e==="focusout"&&_w()}function m7(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return wp(rh)}function g7(e,t){if(e==="click")return wp(t)}function x7(e,t){if(e==="input"||e==="change")return wp(t)}function v7(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var So=typeof Object.is=="function"?Object.is:v7;function ih(e,t){if(So(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!qg.call(t,i)||!So(e[i],t[i]))return!1}return!0}function Cw(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ew(e,t){var n=Cw(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Cw(n)}}function lA(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?lA(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function cA(){for(var e=window,t=w0();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=w0(e.document)}return t}function nv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function y7(e){var t=cA(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&lA(n.ownerDocument.documentElement,n)){if(r!==null&&nv(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=Ew(n,a);var u=Ew(n,r);i&&u&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==u.node||e.focusOffset!==u.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(u.node,u.offset)):(t.setEnd(u.node,u.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var w7=Nl&&"documentMode"in document&&11>=document.documentMode,Ku=null,u2=null,Of=null,d2=!1;function Nw(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;d2||Ku==null||Ku!==w0(r)||(r=Ku,"selectionStart"in r&&nv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Of&&ih(Of,r)||(Of=r,r=N0(u2,"onSelect"),0<r.length&&(t=new Jx("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ku)))}function v1(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var $u={animationend:v1("Animation","AnimationEnd"),animationiteration:v1("Animation","AnimationIteration"),animationstart:v1("Animation","AnimationStart"),transitionend:v1("Transition","TransitionEnd")},Dm={},uA={};Nl&&(uA=document.createElement("div").style,"AnimationEvent"in window||(delete $u.animationend.animation,delete $u.animationiteration.animation,delete $u.animationstart.animation),"TransitionEvent"in window||delete $u.transitionend.transition);function bp(e){if(Dm[e])return Dm[e];if(!$u[e])return e;var t=$u[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in uA)return Dm[e]=t[n];return e}var dA=bp("animationend"),fA=bp("animationiteration"),hA=bp("animationstart"),pA=bp("transitionend"),mA=new Map,Iw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fc(e,t){mA.set(e,t),Cu(t,[e])}for(var Mm=0;Mm<Iw.length;Mm++){var jm=Iw[Mm],b7=jm.toLowerCase(),A7=jm[0].toUpperCase()+jm.slice(1);Fc(b7,"on"+A7)}Fc(dA,"onAnimationEnd");Fc(fA,"onAnimationIteration");Fc(hA,"onAnimationStart");Fc("dblclick","onDoubleClick");Fc("focusin","onFocus");Fc("focusout","onBlur");Fc(pA,"onTransitionEnd");Id("onMouseEnter",["mouseout","mouseover"]);Id("onMouseLeave",["mouseout","mouseover"]);Id("onPointerEnter",["pointerout","pointerover"]);Id("onPointerLeave",["pointerout","pointerover"]);Cu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Cu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Cu("onBeforeInput",["compositionend","keypress","textInput","paste"]);Cu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Cu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Cu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),S7=new Set("cancel close invalid load scroll toggle".split(" ").concat(Cf));function Tw(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,bI(r,t,void 0,e),e.currentTarget=null}function gA(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var u=r.length-1;0<=u;u--){var f=r[u],m=f.instance,p=f.currentTarget;if(f=f.listener,m!==a&&i.isPropagationStopped())break e;Tw(i,f,p),a=m}else for(u=0;u<r.length;u++){if(f=r[u],m=f.instance,p=f.currentTarget,f=f.listener,m!==a&&i.isPropagationStopped())break e;Tw(i,f,p),a=m}}}if(A0)throw e=a2,A0=!1,a2=null,e}function Xr(e,t){var n=t[g2];n===void 0&&(n=t[g2]=new Set);var r=e+"__bubble";n.has(r)||(xA(t,e,2,!1),n.add(r))}function Fm(e,t,n){var r=0;t&&(r|=4),xA(n,e,r,t)}var y1="_reactListening"+Math.random().toString(36).slice(2);function sh(e){if(!e[y1]){e[y1]=!0,_4.forEach(function(n){n!=="selectionchange"&&(S7.has(n)||Fm(n,!1,e),Fm(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[y1]||(t[y1]=!0,Fm("selectionchange",!1,t))}}function xA(e,t,n,r){switch(eA(t)){case 1:var i=jI;break;case 4:i=FI;break;default:i=Zx}n=i.bind(null,t,n,e),i=void 0,!s2||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Bm(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var u=r.tag;if(u===3||u===4){var f=r.stateNode.containerInfo;if(f===i||f.nodeType===8&&f.parentNode===i)break;if(u===4)for(u=r.return;u!==null;){var m=u.tag;if((m===3||m===4)&&(m=u.stateNode.containerInfo,m===i||m.nodeType===8&&m.parentNode===i))return;u=u.return}for(;f!==null;){if(u=Yc(f),u===null)return;if(m=u.tag,m===5||m===6){r=a=u;continue e}f=f.parentNode}}r=r.return}U4(function(){var p=a,y=Kx(n),S=[];e:{var E=mA.get(e);if(E!==void 0){var A=Jx,R=e;switch(e){case"keypress":if(Y1(n)===0)break e;case"keydown":case"keyup":A=JI;break;case"focusin":R="focus",A=Rm;break;case"focusout":R="blur",A=Rm;break;case"beforeblur":case"afterblur":A=Rm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":A=xw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":A=zI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":A=n7;break;case dA:case fA:case hA:A=VI;break;case pA:A=i7;break;case"scroll":A=BI;break;case"wheel":A=a7;break;case"copy":case"cut":case"paste":A=GI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":A=yw}var I=(t&4)!==0,P=!I&&e==="scroll",k=I?E!==null?E+"Capture":null:E;I=[];for(var O=p,L;O!==null;){L=O;var j=L.stateNode;if(L.tag===5&&j!==null&&(L=j,k!==null&&(j=Jf(O,k),j!=null&&I.push(ah(O,j,L)))),P)break;O=O.return}0<I.length&&(E=new A(E,R,null,n,y),S.push({event:E,listeners:I}))}}if(!(t&7)){e:{if(E=e==="mouseover"||e==="pointerover",A=e==="mouseout"||e==="pointerout",E&&n!==r2&&(R=n.relatedTarget||n.fromElement)&&(Yc(R)||R[Il]))break e;if((A||E)&&(E=y.window===y?y:(E=y.ownerDocument)?E.defaultView||E.parentWindow:window,A?(R=n.relatedTarget||n.toElement,A=p,R=R?Yc(R):null,R!==null&&(P=Eu(R),R!==P||R.tag!==5&&R.tag!==6)&&(R=null)):(A=null,R=p),A!==R)){if(I=xw,j="onMouseLeave",k="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(I=yw,j="onPointerLeave",k="onPointerEnter",O="pointer"),P=A==null?E:Xu(A),L=R==null?E:Xu(R),E=new I(j,O+"leave",A,n,y),E.target=P,E.relatedTarget=L,j=null,Yc(y)===p&&(I=new I(k,O+"enter",R,n,y),I.target=L,I.relatedTarget=P,j=I),P=j,A&&R)t:{for(I=A,k=R,O=0,L=I;L;L=Ou(L))O++;for(L=0,j=k;j;j=Ou(j))L++;for(;0<O-L;)I=Ou(I),O--;for(;0<L-O;)k=Ou(k),L--;for(;O--;){if(I===k||k!==null&&I===k.alternate)break t;I=Ou(I),k=Ou(k)}I=null}else I=null;A!==null&&kw(S,E,A,I,!1),R!==null&&P!==null&&kw(S,P,R,I,!0)}}e:{if(E=p?Xu(p):window,A=E.nodeName&&E.nodeName.toLowerCase(),A==="select"||A==="input"&&E.type==="file")var J=h7;else if(Aw(E))if(aA)J=x7;else{J=m7;var ce=p7}else(A=E.nodeName)&&A.toLowerCase()==="input"&&(E.type==="checkbox"||E.type==="radio")&&(J=g7);if(J&&(J=J(e,p))){sA(S,J,n,y);break e}ce&&ce(e,E,p),e==="focusout"&&(ce=E._wrapperState)&&ce.controlled&&E.type==="number"&&Qg(E,"number",E.value)}switch(ce=p?Xu(p):window,e){case"focusin":(Aw(ce)||ce.contentEditable==="true")&&(Ku=ce,u2=p,Of=null);break;case"focusout":Of=u2=Ku=null;break;case"mousedown":d2=!0;break;case"contextmenu":case"mouseup":case"dragend":d2=!1,Nw(S,n,y);break;case"selectionchange":if(w7)break;case"keydown":case"keyup":Nw(S,n,y)}var Y;if(tv)e:{switch(e){case"compositionstart":var Z="onCompositionStart";break e;case"compositionend":Z="onCompositionEnd";break e;case"compositionupdate":Z="onCompositionUpdate";break e}Z=void 0}else Gu?rA(e,n)&&(Z="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Z="onCompositionStart");Z&&(nA&&n.locale!=="ko"&&(Gu||Z!=="onCompositionStart"?Z==="onCompositionEnd"&&Gu&&(Y=tA()):(fc=y,Qx="value"in fc?fc.value:fc.textContent,Gu=!0)),ce=N0(p,Z),0<ce.length&&(Z=new vw(Z,e,null,n,y),S.push({event:Z,listeners:ce}),Y?Z.data=Y:(Y=iA(n),Y!==null&&(Z.data=Y)))),(Y=l7?c7(e,n):u7(e,n))&&(p=N0(p,"onBeforeInput"),0<p.length&&(y=new vw("onBeforeInput","beforeinput",null,n,y),S.push({event:y,listeners:p}),y.data=Y))}gA(S,t)})}function ah(e,t,n){return{instance:e,listener:t,currentTarget:n}}function N0(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Jf(e,n),a!=null&&r.unshift(ah(e,a,i)),a=Jf(e,t),a!=null&&r.push(ah(e,a,i))),e=e.return}return r}function Ou(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function kw(e,t,n,r,i){for(var a=t._reactName,u=[];n!==null&&n!==r;){var f=n,m=f.alternate,p=f.stateNode;if(m!==null&&m===r)break;f.tag===5&&p!==null&&(f=p,i?(m=Jf(n,a),m!=null&&u.unshift(ah(n,m,f))):i||(m=Jf(n,a),m!=null&&u.push(ah(n,m,f)))),n=n.return}u.length!==0&&e.push({event:t,listeners:u})}var _7=/\r\n?/g,C7=/\u0000|\uFFFD/g;function Pw(e){return(typeof e=="string"?e:""+e).replace(_7,`
`).replace(C7,"")}function w1(e,t,n){if(t=Pw(t),Pw(e)!==t&&n)throw Error(mt(425))}function I0(){}var f2=null,h2=null;function p2(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var m2=typeof setTimeout=="function"?setTimeout:void 0,E7=typeof clearTimeout=="function"?clearTimeout:void 0,Rw=typeof Promise=="function"?Promise:void 0,N7=typeof queueMicrotask=="function"?queueMicrotask:typeof Rw<"u"?function(e){return Rw.resolve(null).then(e).catch(I7)}:m2;function I7(e){setTimeout(function(){throw e})}function Um(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),nh(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);nh(t)}function bc(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ow(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Gd=Math.random().toString(36).slice(2),Ho="__reactFiber$"+Gd,oh="__reactProps$"+Gd,Il="__reactContainer$"+Gd,g2="__reactEvents$"+Gd,T7="__reactListeners$"+Gd,k7="__reactHandles$"+Gd;function Yc(e){var t=e[Ho];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Il]||n[Ho]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Ow(e);e!==null;){if(n=e[Ho])return n;e=Ow(e)}return t}e=n,n=e.parentNode}return null}function Mh(e){return e=e[Ho]||e[Il],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Xu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(mt(33))}function Ap(e){return e[oh]||null}var x2=[],Yu=-1;function Bc(e){return{current:e}}function Qr(e){0>Yu||(e.current=x2[Yu],x2[Yu]=null,Yu--)}function Hr(e,t){Yu++,x2[Yu]=e.current,e.current=t}var Lc={},Ps=Bc(Lc),fa=Bc(!1),fu=Lc;function Td(e,t){var n=e.type.contextTypes;if(!n)return Lc;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ha(e){return e=e.childContextTypes,e!=null}function T0(){Qr(fa),Qr(Ps)}function Lw(e,t,n){if(Ps.current!==Lc)throw Error(mt(168));Hr(Ps,t),Hr(fa,n)}function vA(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(mt(108,pI(e)||"Unknown",i));return ci({},n,r)}function k0(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Lc,fu=Ps.current,Hr(Ps,e),Hr(fa,fa.current),!0}function Dw(e,t,n){var r=e.stateNode;if(!r)throw Error(mt(169));n?(e=vA(e,t,fu),r.__reactInternalMemoizedMergedChildContext=e,Qr(fa),Qr(Ps),Hr(Ps,e)):Qr(fa),Hr(fa,n)}var ml=null,Sp=!1,zm=!1;function yA(e){ml===null?ml=[e]:ml.push(e)}function P7(e){Sp=!0,yA(e)}function Uc(){if(!zm&&ml!==null){zm=!0;var e=0,t=Tr;try{var n=ml;for(Tr=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ml=null,Sp=!1}catch(i){throw ml!==null&&(ml=ml.slice(e+1)),V4($x,Uc),i}finally{Tr=t,zm=!1}}return null}var Zu=[],Qu=0,P0=null,R0=0,Va=[],qa=0,hu=null,bl=1,Al="";function qc(e,t){Zu[Qu++]=R0,Zu[Qu++]=P0,P0=e,R0=t}function wA(e,t,n){Va[qa++]=bl,Va[qa++]=Al,Va[qa++]=hu,hu=e;var r=bl;e=Al;var i=32-wo(r)-1;r&=~(1<<i),n+=1;var a=32-wo(t)+i;if(30<a){var u=i-i%5;a=(r&(1<<u)-1).toString(32),r>>=u,i-=u,bl=1<<32-wo(t)+i|n<<i|r,Al=a+e}else bl=1<<a|n<<i|r,Al=e}function rv(e){e.return!==null&&(qc(e,1),wA(e,1,0))}function iv(e){for(;e===P0;)P0=Zu[--Qu],Zu[Qu]=null,R0=Zu[--Qu],Zu[Qu]=null;for(;e===hu;)hu=Va[--qa],Va[qa]=null,Al=Va[--qa],Va[qa]=null,bl=Va[--qa],Va[qa]=null}var Oa=null,ka=null,ii=!1,yo=null;function bA(e,t){var n=Ka(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Mw(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Oa=e,ka=bc(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Oa=e,ka=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=hu!==null?{id:bl,overflow:Al}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ka(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Oa=e,ka=null,!0):!1;default:return!1}}function v2(e){return(e.mode&1)!==0&&(e.flags&128)===0}function y2(e){if(ii){var t=ka;if(t){var n=t;if(!Mw(e,t)){if(v2(e))throw Error(mt(418));t=bc(n.nextSibling);var r=Oa;t&&Mw(e,t)?bA(r,n):(e.flags=e.flags&-4097|2,ii=!1,Oa=e)}}else{if(v2(e))throw Error(mt(418));e.flags=e.flags&-4097|2,ii=!1,Oa=e}}}function jw(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Oa=e}function b1(e){if(e!==Oa)return!1;if(!ii)return jw(e),ii=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!p2(e.type,e.memoizedProps)),t&&(t=ka)){if(v2(e))throw AA(),Error(mt(418));for(;t;)bA(e,t),t=bc(t.nextSibling)}if(jw(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(mt(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ka=bc(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ka=null}}else ka=Oa?bc(e.stateNode.nextSibling):null;return!0}function AA(){for(var e=ka;e;)e=bc(e.nextSibling)}function kd(){ka=Oa=null,ii=!1}function sv(e){yo===null?yo=[e]:yo.push(e)}var R7=Dl.ReactCurrentBatchConfig;function hf(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(mt(309));var r=n.stateNode}if(!r)throw Error(mt(147,e));var i=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(u){var f=i.refs;u===null?delete f[a]:f[a]=u},t._stringRef=a,t)}if(typeof e!="string")throw Error(mt(284));if(!n._owner)throw Error(mt(290,e))}return e}function A1(e,t){throw e=Object.prototype.toString.call(t),Error(mt(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Fw(e){var t=e._init;return t(e._payload)}function SA(e){function t(k,O){if(e){var L=k.deletions;L===null?(k.deletions=[O],k.flags|=16):L.push(O)}}function n(k,O){if(!e)return null;for(;O!==null;)t(k,O),O=O.sibling;return null}function r(k,O){for(k=new Map;O!==null;)O.key!==null?k.set(O.key,O):k.set(O.index,O),O=O.sibling;return k}function i(k,O){return k=Cc(k,O),k.index=0,k.sibling=null,k}function a(k,O,L){return k.index=L,e?(L=k.alternate,L!==null?(L=L.index,L<O?(k.flags|=2,O):L):(k.flags|=2,O)):(k.flags|=1048576,O)}function u(k){return e&&k.alternate===null&&(k.flags|=2),k}function f(k,O,L,j){return O===null||O.tag!==6?(O=$m(L,k.mode,j),O.return=k,O):(O=i(O,L),O.return=k,O)}function m(k,O,L,j){var J=L.type;return J===qu?y(k,O,L.props.children,j,L.key):O!==null&&(O.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===nc&&Fw(J)===O.type)?(j=i(O,L.props),j.ref=hf(k,O,L),j.return=k,j):(j=r0(L.type,L.key,L.props,null,k.mode,j),j.ref=hf(k,O,L),j.return=k,j)}function p(k,O,L,j){return O===null||O.tag!==4||O.stateNode.containerInfo!==L.containerInfo||O.stateNode.implementation!==L.implementation?(O=Xm(L,k.mode,j),O.return=k,O):(O=i(O,L.children||[]),O.return=k,O)}function y(k,O,L,j,J){return O===null||O.tag!==7?(O=uu(L,k.mode,j,J),O.return=k,O):(O=i(O,L),O.return=k,O)}function S(k,O,L){if(typeof O=="string"&&O!==""||typeof O=="number")return O=$m(""+O,k.mode,L),O.return=k,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case d1:return L=r0(O.type,O.key,O.props,null,k.mode,L),L.ref=hf(k,null,O),L.return=k,L;case Vu:return O=Xm(O,k.mode,L),O.return=k,O;case nc:var j=O._init;return S(k,j(O._payload),L)}if(Sf(O)||lf(O))return O=uu(O,k.mode,L,null),O.return=k,O;A1(k,O)}return null}function E(k,O,L,j){var J=O!==null?O.key:null;if(typeof L=="string"&&L!==""||typeof L=="number")return J!==null?null:f(k,O,""+L,j);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case d1:return L.key===J?m(k,O,L,j):null;case Vu:return L.key===J?p(k,O,L,j):null;case nc:return J=L._init,E(k,O,J(L._payload),j)}if(Sf(L)||lf(L))return J!==null?null:y(k,O,L,j,null);A1(k,L)}return null}function A(k,O,L,j,J){if(typeof j=="string"&&j!==""||typeof j=="number")return k=k.get(L)||null,f(O,k,""+j,J);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case d1:return k=k.get(j.key===null?L:j.key)||null,m(O,k,j,J);case Vu:return k=k.get(j.key===null?L:j.key)||null,p(O,k,j,J);case nc:var ce=j._init;return A(k,O,L,ce(j._payload),J)}if(Sf(j)||lf(j))return k=k.get(L)||null,y(O,k,j,J,null);A1(O,j)}return null}function R(k,O,L,j){for(var J=null,ce=null,Y=O,Z=O=0,z=null;Y!==null&&Z<L.length;Z++){Y.index>Z?(z=Y,Y=null):z=Y.sibling;var he=E(k,Y,L[Z],j);if(he===null){Y===null&&(Y=z);break}e&&Y&&he.alternate===null&&t(k,Y),O=a(he,O,Z),ce===null?J=he:ce.sibling=he,ce=he,Y=z}if(Z===L.length)return n(k,Y),ii&&qc(k,Z),J;if(Y===null){for(;Z<L.length;Z++)Y=S(k,L[Z],j),Y!==null&&(O=a(Y,O,Z),ce===null?J=Y:ce.sibling=Y,ce=Y);return ii&&qc(k,Z),J}for(Y=r(k,Y);Z<L.length;Z++)z=A(Y,k,Z,L[Z],j),z!==null&&(e&&z.alternate!==null&&Y.delete(z.key===null?Z:z.key),O=a(z,O,Z),ce===null?J=z:ce.sibling=z,ce=z);return e&&Y.forEach(function(H){return t(k,H)}),ii&&qc(k,Z),J}function I(k,O,L,j){var J=lf(L);if(typeof J!="function")throw Error(mt(150));if(L=J.call(L),L==null)throw Error(mt(151));for(var ce=J=null,Y=O,Z=O=0,z=null,he=L.next();Y!==null&&!he.done;Z++,he=L.next()){Y.index>Z?(z=Y,Y=null):z=Y.sibling;var H=E(k,Y,he.value,j);if(H===null){Y===null&&(Y=z);break}e&&Y&&H.alternate===null&&t(k,Y),O=a(H,O,Z),ce===null?J=H:ce.sibling=H,ce=H,Y=z}if(he.done)return n(k,Y),ii&&qc(k,Z),J;if(Y===null){for(;!he.done;Z++,he=L.next())he=S(k,he.value,j),he!==null&&(O=a(he,O,Z),ce===null?J=he:ce.sibling=he,ce=he);return ii&&qc(k,Z),J}for(Y=r(k,Y);!he.done;Z++,he=L.next())he=A(Y,k,Z,he.value,j),he!==null&&(e&&he.alternate!==null&&Y.delete(he.key===null?Z:he.key),O=a(he,O,Z),ce===null?J=he:ce.sibling=he,ce=he);return e&&Y.forEach(function(K){return t(k,K)}),ii&&qc(k,Z),J}function P(k,O,L,j){if(typeof L=="object"&&L!==null&&L.type===qu&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case d1:e:{for(var J=L.key,ce=O;ce!==null;){if(ce.key===J){if(J=L.type,J===qu){if(ce.tag===7){n(k,ce.sibling),O=i(ce,L.props.children),O.return=k,k=O;break e}}else if(ce.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===nc&&Fw(J)===ce.type){n(k,ce.sibling),O=i(ce,L.props),O.ref=hf(k,ce,L),O.return=k,k=O;break e}n(k,ce);break}else t(k,ce);ce=ce.sibling}L.type===qu?(O=uu(L.props.children,k.mode,j,L.key),O.return=k,k=O):(j=r0(L.type,L.key,L.props,null,k.mode,j),j.ref=hf(k,O,L),j.return=k,k=j)}return u(k);case Vu:e:{for(ce=L.key;O!==null;){if(O.key===ce)if(O.tag===4&&O.stateNode.containerInfo===L.containerInfo&&O.stateNode.implementation===L.implementation){n(k,O.sibling),O=i(O,L.children||[]),O.return=k,k=O;break e}else{n(k,O);break}else t(k,O);O=O.sibling}O=Xm(L,k.mode,j),O.return=k,k=O}return u(k);case nc:return ce=L._init,P(k,O,ce(L._payload),j)}if(Sf(L))return R(k,O,L,j);if(lf(L))return I(k,O,L,j);A1(k,L)}return typeof L=="string"&&L!==""||typeof L=="number"?(L=""+L,O!==null&&O.tag===6?(n(k,O.sibling),O=i(O,L),O.return=k,k=O):(n(k,O),O=$m(L,k.mode,j),O.return=k,k=O),u(k)):n(k,O)}return P}var Pd=SA(!0),_A=SA(!1),O0=Bc(null),L0=null,Ju=null,av=null;function ov(){av=Ju=L0=null}function lv(e){var t=O0.current;Qr(O0),e._currentValue=t}function w2(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ld(e,t){L0=e,av=Ju=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ua=!0),e.firstContext=null)}function Xa(e){var t=e._currentValue;if(av!==e)if(e={context:e,memoizedValue:t,next:null},Ju===null){if(L0===null)throw Error(mt(308));Ju=e,L0.dependencies={lanes:0,firstContext:e}}else Ju=Ju.next=e;return t}var Zc=null;function cv(e){Zc===null?Zc=[e]:Zc.push(e)}function CA(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,cv(t)):(n.next=i.next,i.next=n),t.interleaved=n,Tl(e,r)}function Tl(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var rc=!1;function uv(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function EA(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function _l(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ac(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,cr&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Tl(e,n)}return i=r.interleaved,i===null?(t.next=t,cv(r)):(t.next=i.next,i.next=t),r.interleaved=t,Tl(e,n)}function Z1(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Xx(e,n)}}function Bw(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var u={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=u:a=a.next=u,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function D0(e,t,n,r){var i=e.updateQueue;rc=!1;var a=i.firstBaseUpdate,u=i.lastBaseUpdate,f=i.shared.pending;if(f!==null){i.shared.pending=null;var m=f,p=m.next;m.next=null,u===null?a=p:u.next=p,u=m;var y=e.alternate;y!==null&&(y=y.updateQueue,f=y.lastBaseUpdate,f!==u&&(f===null?y.firstBaseUpdate=p:f.next=p,y.lastBaseUpdate=m))}if(a!==null){var S=i.baseState;u=0,y=p=m=null,f=a;do{var E=f.lane,A=f.eventTime;if((r&E)===E){y!==null&&(y=y.next={eventTime:A,lane:0,tag:f.tag,payload:f.payload,callback:f.callback,next:null});e:{var R=e,I=f;switch(E=t,A=n,I.tag){case 1:if(R=I.payload,typeof R=="function"){S=R.call(A,S,E);break e}S=R;break e;case 3:R.flags=R.flags&-65537|128;case 0:if(R=I.payload,E=typeof R=="function"?R.call(A,S,E):R,E==null)break e;S=ci({},S,E);break e;case 2:rc=!0}}f.callback!==null&&f.lane!==0&&(e.flags|=64,E=i.effects,E===null?i.effects=[f]:E.push(f))}else A={eventTime:A,lane:E,tag:f.tag,payload:f.payload,callback:f.callback,next:null},y===null?(p=y=A,m=S):y=y.next=A,u|=E;if(f=f.next,f===null){if(f=i.shared.pending,f===null)break;E=f,f=E.next,E.next=null,i.lastBaseUpdate=E,i.shared.pending=null}}while(!0);if(y===null&&(m=S),i.baseState=m,i.firstBaseUpdate=p,i.lastBaseUpdate=y,t=i.shared.interleaved,t!==null){i=t;do u|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);mu|=u,e.lanes=u,e.memoizedState=S}}function Uw(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(mt(191,i));i.call(r)}}}var jh={},Xo=Bc(jh),lh=Bc(jh),ch=Bc(jh);function Qc(e){if(e===jh)throw Error(mt(174));return e}function dv(e,t){switch(Hr(ch,t),Hr(lh,e),Hr(Xo,jh),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:e2(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=e2(t,e)}Qr(Xo),Hr(Xo,t)}function Rd(){Qr(Xo),Qr(lh),Qr(ch)}function NA(e){Qc(ch.current);var t=Qc(Xo.current),n=e2(t,e.type);t!==n&&(Hr(lh,e),Hr(Xo,n))}function fv(e){lh.current===e&&(Qr(Xo),Qr(lh))}var ai=Bc(0);function M0(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Wm=[];function hv(){for(var e=0;e<Wm.length;e++)Wm[e]._workInProgressVersionPrimary=null;Wm.length=0}var Q1=Dl.ReactCurrentDispatcher,Hm=Dl.ReactCurrentBatchConfig,pu=0,oi=null,Wi=null,$i=null,j0=!1,Lf=!1,uh=0,O7=0;function Ss(){throw Error(mt(321))}function pv(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!So(e[n],t[n]))return!1;return!0}function mv(e,t,n,r,i,a){if(pu=a,oi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Q1.current=e===null||e.memoizedState===null?j7:F7,e=n(r,i),Lf){a=0;do{if(Lf=!1,uh=0,25<=a)throw Error(mt(301));a+=1,$i=Wi=null,t.updateQueue=null,Q1.current=B7,e=n(r,i)}while(Lf)}if(Q1.current=F0,t=Wi!==null&&Wi.next!==null,pu=0,$i=Wi=oi=null,j0=!1,t)throw Error(mt(300));return e}function gv(){var e=uh!==0;return uh=0,e}function Bo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $i===null?oi.memoizedState=$i=e:$i=$i.next=e,$i}function Ya(){if(Wi===null){var e=oi.alternate;e=e!==null?e.memoizedState:null}else e=Wi.next;var t=$i===null?oi.memoizedState:$i.next;if(t!==null)$i=t,Wi=e;else{if(e===null)throw Error(mt(310));Wi=e,e={memoizedState:Wi.memoizedState,baseState:Wi.baseState,baseQueue:Wi.baseQueue,queue:Wi.queue,next:null},$i===null?oi.memoizedState=$i=e:$i=$i.next=e}return $i}function dh(e,t){return typeof t=="function"?t(e):t}function Vm(e){var t=Ya(),n=t.queue;if(n===null)throw Error(mt(311));n.lastRenderedReducer=e;var r=Wi,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var u=i.next;i.next=a.next,a.next=u}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var f=u=null,m=null,p=a;do{var y=p.lane;if((pu&y)===y)m!==null&&(m=m.next={lane:0,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null}),r=p.hasEagerState?p.eagerState:e(r,p.action);else{var S={lane:y,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null};m===null?(f=m=S,u=r):m=m.next=S,oi.lanes|=y,mu|=y}p=p.next}while(p!==null&&p!==a);m===null?u=r:m.next=f,So(r,t.memoizedState)||(ua=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=m,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do a=i.lane,oi.lanes|=a,mu|=a,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function qm(e){var t=Ya(),n=t.queue;if(n===null)throw Error(mt(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var u=i=i.next;do a=e(a,u.action),u=u.next;while(u!==i);So(a,t.memoizedState)||(ua=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function IA(){}function TA(e,t){var n=oi,r=Ya(),i=t(),a=!So(r.memoizedState,i);if(a&&(r.memoizedState=i,ua=!0),r=r.queue,xv(RA.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||$i!==null&&$i.memoizedState.tag&1){if(n.flags|=2048,fh(9,PA.bind(null,n,r,i,t),void 0,null),Yi===null)throw Error(mt(349));pu&30||kA(n,t,i)}return i}function kA(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=oi.updateQueue,t===null?(t={lastEffect:null,stores:null},oi.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function PA(e,t,n,r){t.value=n,t.getSnapshot=r,OA(t)&&LA(e)}function RA(e,t,n){return n(function(){OA(t)&&LA(e)})}function OA(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!So(e,n)}catch{return!0}}function LA(e){var t=Tl(e,1);t!==null&&bo(t,e,1,-1)}function zw(e){var t=Bo();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:dh,lastRenderedState:e},t.queue=e,e=e.dispatch=M7.bind(null,oi,e),[t.memoizedState,e]}function fh(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=oi.updateQueue,t===null?(t={lastEffect:null,stores:null},oi.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function DA(){return Ya().memoizedState}function J1(e,t,n,r){var i=Bo();oi.flags|=e,i.memoizedState=fh(1|t,n,void 0,r===void 0?null:r)}function _p(e,t,n,r){var i=Ya();r=r===void 0?null:r;var a=void 0;if(Wi!==null){var u=Wi.memoizedState;if(a=u.destroy,r!==null&&pv(r,u.deps)){i.memoizedState=fh(t,n,a,r);return}}oi.flags|=e,i.memoizedState=fh(1|t,n,a,r)}function Ww(e,t){return J1(8390656,8,e,t)}function xv(e,t){return _p(2048,8,e,t)}function MA(e,t){return _p(4,2,e,t)}function jA(e,t){return _p(4,4,e,t)}function FA(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function BA(e,t,n){return n=n!=null?n.concat([e]):null,_p(4,4,FA.bind(null,t,e),n)}function vv(){}function UA(e,t){var n=Ya();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&pv(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function zA(e,t){var n=Ya();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&pv(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function WA(e,t,n){return pu&21?(So(n,t)||(n=K4(),oi.lanes|=n,mu|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ua=!0),e.memoizedState=n)}function L7(e,t){var n=Tr;Tr=n!==0&&4>n?n:4,e(!0);var r=Hm.transition;Hm.transition={};try{e(!1),t()}finally{Tr=n,Hm.transition=r}}function HA(){return Ya().memoizedState}function D7(e,t,n){var r=_c(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},VA(e))qA(t,n);else if(n=CA(e,t,n,r),n!==null){var i=Gs();bo(n,e,r,i),GA(n,t,r)}}function M7(e,t,n){var r=_c(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(VA(e))qA(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var u=t.lastRenderedState,f=a(u,n);if(i.hasEagerState=!0,i.eagerState=f,So(f,u)){var m=t.interleaved;m===null?(i.next=i,cv(t)):(i.next=m.next,m.next=i),t.interleaved=i;return}}catch{}finally{}n=CA(e,t,i,r),n!==null&&(i=Gs(),bo(n,e,r,i),GA(n,t,r))}}function VA(e){var t=e.alternate;return e===oi||t!==null&&t===oi}function qA(e,t){Lf=j0=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function GA(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Xx(e,n)}}var F0={readContext:Xa,useCallback:Ss,useContext:Ss,useEffect:Ss,useImperativeHandle:Ss,useInsertionEffect:Ss,useLayoutEffect:Ss,useMemo:Ss,useReducer:Ss,useRef:Ss,useState:Ss,useDebugValue:Ss,useDeferredValue:Ss,useTransition:Ss,useMutableSource:Ss,useSyncExternalStore:Ss,useId:Ss,unstable_isNewReconciler:!1},j7={readContext:Xa,useCallback:function(e,t){return Bo().memoizedState=[e,t===void 0?null:t],e},useContext:Xa,useEffect:Ww,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,J1(4194308,4,FA.bind(null,t,e),n)},useLayoutEffect:function(e,t){return J1(4194308,4,e,t)},useInsertionEffect:function(e,t){return J1(4,2,e,t)},useMemo:function(e,t){var n=Bo();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Bo();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=D7.bind(null,oi,e),[r.memoizedState,e]},useRef:function(e){var t=Bo();return e={current:e},t.memoizedState=e},useState:zw,useDebugValue:vv,useDeferredValue:function(e){return Bo().memoizedState=e},useTransition:function(){var e=zw(!1),t=e[0];return e=L7.bind(null,e[1]),Bo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=oi,i=Bo();if(ii){if(n===void 0)throw Error(mt(407));n=n()}else{if(n=t(),Yi===null)throw Error(mt(349));pu&30||kA(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Ww(RA.bind(null,r,a,e),[e]),r.flags|=2048,fh(9,PA.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Bo(),t=Yi.identifierPrefix;if(ii){var n=Al,r=bl;n=(r&~(1<<32-wo(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=uh++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=O7++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},F7={readContext:Xa,useCallback:UA,useContext:Xa,useEffect:xv,useImperativeHandle:BA,useInsertionEffect:MA,useLayoutEffect:jA,useMemo:zA,useReducer:Vm,useRef:DA,useState:function(){return Vm(dh)},useDebugValue:vv,useDeferredValue:function(e){var t=Ya();return WA(t,Wi.memoizedState,e)},useTransition:function(){var e=Vm(dh)[0],t=Ya().memoizedState;return[e,t]},useMutableSource:IA,useSyncExternalStore:TA,useId:HA,unstable_isNewReconciler:!1},B7={readContext:Xa,useCallback:UA,useContext:Xa,useEffect:xv,useImperativeHandle:BA,useInsertionEffect:MA,useLayoutEffect:jA,useMemo:zA,useReducer:qm,useRef:DA,useState:function(){return qm(dh)},useDebugValue:vv,useDeferredValue:function(e){var t=Ya();return Wi===null?t.memoizedState=e:WA(t,Wi.memoizedState,e)},useTransition:function(){var e=qm(dh)[0],t=Ya().memoizedState;return[e,t]},useMutableSource:IA,useSyncExternalStore:TA,useId:HA,unstable_isNewReconciler:!1};function po(e,t){if(e&&e.defaultProps){t=ci({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function b2(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ci({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Cp={isMounted:function(e){return(e=e._reactInternals)?Eu(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Gs(),i=_c(e),a=_l(r,i);a.payload=t,n!=null&&(a.callback=n),t=Ac(e,a,i),t!==null&&(bo(t,e,i,r),Z1(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Gs(),i=_c(e),a=_l(r,i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Ac(e,a,i),t!==null&&(bo(t,e,i,r),Z1(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Gs(),r=_c(e),i=_l(n,r);i.tag=2,t!=null&&(i.callback=t),t=Ac(e,i,r),t!==null&&(bo(t,e,r,n),Z1(t,e,r))}};function Hw(e,t,n,r,i,a,u){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,u):t.prototype&&t.prototype.isPureReactComponent?!ih(n,r)||!ih(i,a):!0}function KA(e,t,n){var r=!1,i=Lc,a=t.contextType;return typeof a=="object"&&a!==null?a=Xa(a):(i=ha(t)?fu:Ps.current,r=t.contextTypes,a=(r=r!=null)?Td(e,i):Lc),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Cp,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Vw(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Cp.enqueueReplaceState(t,t.state,null)}function A2(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},uv(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=Xa(a):(a=ha(t)?fu:Ps.current,i.context=Td(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(b2(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Cp.enqueueReplaceState(i,i.state,null),D0(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Od(e,t){try{var n="",r=t;do n+=hI(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function Gm(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function S2(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var U7=typeof WeakMap=="function"?WeakMap:Map;function $A(e,t,n){n=_l(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){U0||(U0=!0,O2=r),S2(e,t)},n}function XA(e,t,n){n=_l(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){S2(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){S2(e,t),typeof r!="function"&&(Sc===null?Sc=new Set([this]):Sc.add(this));var u=t.stack;this.componentDidCatch(t.value,{componentStack:u!==null?u:""})}),n}function qw(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new U7;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=eT.bind(null,e,t,n),t.then(e,e))}function Gw(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Kw(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=_l(-1,1),t.tag=2,Ac(n,t,1))),n.lanes|=1),e)}var z7=Dl.ReactCurrentOwner,ua=!1;function Hs(e,t,n,r){t.child=e===null?_A(t,null,n,r):Pd(t,e.child,n,r)}function $w(e,t,n,r,i){n=n.render;var a=t.ref;return ld(t,i),r=mv(e,t,n,r,a,i),n=gv(),e!==null&&!ua?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,kl(e,t,i)):(ii&&n&&rv(t),t.flags|=1,Hs(e,t,r,i),t.child)}function Xw(e,t,n,r,i){if(e===null){var a=n.type;return typeof a=="function"&&!Ev(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,YA(e,t,a,r,i)):(e=r0(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var u=a.memoizedProps;if(n=n.compare,n=n!==null?n:ih,n(u,r)&&e.ref===t.ref)return kl(e,t,i)}return t.flags|=1,e=Cc(a,r),e.ref=t.ref,e.return=t,t.child=e}function YA(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(ih(a,r)&&e.ref===t.ref)if(ua=!1,t.pendingProps=r=a,(e.lanes&i)!==0)e.flags&131072&&(ua=!0);else return t.lanes=e.lanes,kl(e,t,i)}return _2(e,t,n,r,i)}function ZA(e,t,n){var r=t.pendingProps,i=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Hr(td,Ia),Ia|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Hr(td,Ia),Ia|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Hr(td,Ia),Ia|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,Hr(td,Ia),Ia|=r;return Hs(e,t,i,n),t.child}function QA(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function _2(e,t,n,r,i){var a=ha(n)?fu:Ps.current;return a=Td(t,a),ld(t,i),n=mv(e,t,n,r,a,i),r=gv(),e!==null&&!ua?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,kl(e,t,i)):(ii&&r&&rv(t),t.flags|=1,Hs(e,t,n,i),t.child)}function Yw(e,t,n,r,i){if(ha(n)){var a=!0;k0(t)}else a=!1;if(ld(t,i),t.stateNode===null)e0(e,t),KA(t,n,r),A2(t,n,r,i),r=!0;else if(e===null){var u=t.stateNode,f=t.memoizedProps;u.props=f;var m=u.context,p=n.contextType;typeof p=="object"&&p!==null?p=Xa(p):(p=ha(n)?fu:Ps.current,p=Td(t,p));var y=n.getDerivedStateFromProps,S=typeof y=="function"||typeof u.getSnapshotBeforeUpdate=="function";S||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(f!==r||m!==p)&&Vw(t,u,r,p),rc=!1;var E=t.memoizedState;u.state=E,D0(t,r,u,i),m=t.memoizedState,f!==r||E!==m||fa.current||rc?(typeof y=="function"&&(b2(t,n,y,r),m=t.memoizedState),(f=rc||Hw(t,n,f,r,E,m,p))?(S||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=m),u.props=r,u.state=m,u.context=p,r=f):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{u=t.stateNode,EA(e,t),f=t.memoizedProps,p=t.type===t.elementType?f:po(t.type,f),u.props=p,S=t.pendingProps,E=u.context,m=n.contextType,typeof m=="object"&&m!==null?m=Xa(m):(m=ha(n)?fu:Ps.current,m=Td(t,m));var A=n.getDerivedStateFromProps;(y=typeof A=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(f!==S||E!==m)&&Vw(t,u,r,m),rc=!1,E=t.memoizedState,u.state=E,D0(t,r,u,i);var R=t.memoizedState;f!==S||E!==R||fa.current||rc?(typeof A=="function"&&(b2(t,n,A,r),R=t.memoizedState),(p=rc||Hw(t,n,p,r,E,R,m)||!1)?(y||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(r,R,m),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(r,R,m)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||f===e.memoizedProps&&E===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&E===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=R),u.props=r,u.state=R,u.context=m,r=p):(typeof u.componentDidUpdate!="function"||f===e.memoizedProps&&E===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&E===e.memoizedState||(t.flags|=1024),r=!1)}return C2(e,t,n,r,a,i)}function C2(e,t,n,r,i,a){QA(e,t);var u=(t.flags&128)!==0;if(!r&&!u)return i&&Dw(t,n,!1),kl(e,t,a);r=t.stateNode,z7.current=t;var f=u&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&u?(t.child=Pd(t,e.child,null,a),t.child=Pd(t,null,f,a)):Hs(e,t,f,a),t.memoizedState=r.state,i&&Dw(t,n,!0),t.child}function JA(e){var t=e.stateNode;t.pendingContext?Lw(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Lw(e,t.context,!1),dv(e,t.containerInfo)}function Zw(e,t,n,r,i){return kd(),sv(i),t.flags|=256,Hs(e,t,n,r),t.child}var E2={dehydrated:null,treeContext:null,retryLane:0};function N2(e){return{baseLanes:e,cachePool:null,transitions:null}}function eS(e,t,n){var r=t.pendingProps,i=ai.current,a=!1,u=(t.flags&128)!==0,f;if((f=u)||(f=e!==null&&e.memoizedState===null?!1:(i&2)!==0),f?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Hr(ai,i&1),e===null)return y2(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(u=r.children,e=r.fallback,a?(r=t.mode,a=t.child,u={mode:"hidden",children:u},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=u):a=Ip(u,r,0,null),e=uu(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=N2(n),t.memoizedState=E2,e):yv(t,u));if(i=e.memoizedState,i!==null&&(f=i.dehydrated,f!==null))return W7(e,t,u,r,f,i,n);if(a){a=r.fallback,u=t.mode,i=e.child,f=i.sibling;var m={mode:"hidden",children:r.children};return!(u&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=m,t.deletions=null):(r=Cc(i,m),r.subtreeFlags=i.subtreeFlags&14680064),f!==null?a=Cc(f,a):(a=uu(a,u,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,u=e.child.memoizedState,u=u===null?N2(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},a.memoizedState=u,a.childLanes=e.childLanes&~n,t.memoizedState=E2,r}return a=e.child,e=a.sibling,r=Cc(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function yv(e,t){return t=Ip({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function S1(e,t,n,r){return r!==null&&sv(r),Pd(t,e.child,null,n),e=yv(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function W7(e,t,n,r,i,a,u){if(n)return t.flags&256?(t.flags&=-257,r=Gm(Error(mt(422))),S1(e,t,u,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Ip({mode:"visible",children:r.children},i,0,null),a=uu(a,i,u,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&Pd(t,e.child,null,u),t.child.memoizedState=N2(u),t.memoizedState=E2,a);if(!(t.mode&1))return S1(e,t,u,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var f=r.dgst;return r=f,a=Error(mt(419)),r=Gm(a,r,void 0),S1(e,t,u,r)}if(f=(u&e.childLanes)!==0,ua||f){if(r=Yi,r!==null){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|u)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Tl(e,i),bo(r,e,i,-1))}return Cv(),r=Gm(Error(mt(421))),S1(e,t,u,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=tT.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ka=bc(i.nextSibling),Oa=t,ii=!0,yo=null,e!==null&&(Va[qa++]=bl,Va[qa++]=Al,Va[qa++]=hu,bl=e.id,Al=e.overflow,hu=t),t=yv(t,r.children),t.flags|=4096,t)}function Qw(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),w2(e.return,t,n)}function Km(e,t,n,r,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function tS(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Hs(e,t,r.children,n),r=ai.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Qw(e,n,t);else if(e.tag===19)Qw(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Hr(ai,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&M0(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Km(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&M0(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Km(t,!0,n,null,a);break;case"together":Km(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function e0(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function kl(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),mu|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(mt(153));if(t.child!==null){for(e=t.child,n=Cc(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Cc(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function H7(e,t,n){switch(t.tag){case 3:JA(t),kd();break;case 5:NA(t);break;case 1:ha(t.type)&&k0(t);break;case 4:dv(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Hr(O0,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Hr(ai,ai.current&1),t.flags|=128,null):n&t.child.childLanes?eS(e,t,n):(Hr(ai,ai.current&1),e=kl(e,t,n),e!==null?e.sibling:null);Hr(ai,ai.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return tS(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Hr(ai,ai.current),r)break;return null;case 22:case 23:return t.lanes=0,ZA(e,t,n)}return kl(e,t,n)}var nS,I2,rS,iS;nS=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};I2=function(){};rS=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Qc(Xo.current);var a=null;switch(n){case"input":i=Yg(e,i),r=Yg(e,r),a=[];break;case"select":i=ci({},i,{value:void 0}),r=ci({},r,{value:void 0}),a=[];break;case"textarea":i=Jg(e,i),r=Jg(e,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=I0)}t2(n,r);var u;n=null;for(p in i)if(!r.hasOwnProperty(p)&&i.hasOwnProperty(p)&&i[p]!=null)if(p==="style"){var f=i[p];for(u in f)f.hasOwnProperty(u)&&(n||(n={}),n[u]="")}else p!=="dangerouslySetInnerHTML"&&p!=="children"&&p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(Zf.hasOwnProperty(p)?a||(a=[]):(a=a||[]).push(p,null));for(p in r){var m=r[p];if(f=i!=null?i[p]:void 0,r.hasOwnProperty(p)&&m!==f&&(m!=null||f!=null))if(p==="style")if(f){for(u in f)!f.hasOwnProperty(u)||m&&m.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in m)m.hasOwnProperty(u)&&f[u]!==m[u]&&(n||(n={}),n[u]=m[u])}else n||(a||(a=[]),a.push(p,n)),n=m;else p==="dangerouslySetInnerHTML"?(m=m?m.__html:void 0,f=f?f.__html:void 0,m!=null&&f!==m&&(a=a||[]).push(p,m)):p==="children"?typeof m!="string"&&typeof m!="number"||(a=a||[]).push(p,""+m):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&(Zf.hasOwnProperty(p)?(m!=null&&p==="onScroll"&&Xr("scroll",e),a||f===m||(a=[])):(a=a||[]).push(p,m))}n&&(a=a||[]).push("style",n);var p=a;(t.updateQueue=p)&&(t.flags|=4)}};iS=function(e,t,n,r){n!==r&&(t.flags|=4)};function pf(e,t){if(!ii)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function _s(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function V7(e,t,n){var r=t.pendingProps;switch(iv(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _s(t),null;case 1:return ha(t.type)&&T0(),_s(t),null;case 3:return r=t.stateNode,Rd(),Qr(fa),Qr(Ps),hv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(b1(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,yo!==null&&(M2(yo),yo=null))),I2(e,t),_s(t),null;case 5:fv(t);var i=Qc(ch.current);if(n=t.type,e!==null&&t.stateNode!=null)rS(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(mt(166));return _s(t),null}if(e=Qc(Xo.current),b1(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Ho]=t,r[oh]=a,e=(t.mode&1)!==0,n){case"dialog":Xr("cancel",r),Xr("close",r);break;case"iframe":case"object":case"embed":Xr("load",r);break;case"video":case"audio":for(i=0;i<Cf.length;i++)Xr(Cf[i],r);break;case"source":Xr("error",r);break;case"img":case"image":case"link":Xr("error",r),Xr("load",r);break;case"details":Xr("toggle",r);break;case"input":ow(r,a),Xr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Xr("invalid",r);break;case"textarea":cw(r,a),Xr("invalid",r)}t2(n,a),i=null;for(var u in a)if(a.hasOwnProperty(u)){var f=a[u];u==="children"?typeof f=="string"?r.textContent!==f&&(a.suppressHydrationWarning!==!0&&w1(r.textContent,f,e),i=["children",f]):typeof f=="number"&&r.textContent!==""+f&&(a.suppressHydrationWarning!==!0&&w1(r.textContent,f,e),i=["children",""+f]):Zf.hasOwnProperty(u)&&f!=null&&u==="onScroll"&&Xr("scroll",r)}switch(n){case"input":f1(r),lw(r,a,!0);break;case"textarea":f1(r),uw(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=I0)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{u=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=R4(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=u.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),n==="select"&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[Ho]=t,e[oh]=r,nS(e,t,!1,!1),t.stateNode=e;e:{switch(u=n2(n,r),n){case"dialog":Xr("cancel",e),Xr("close",e),i=r;break;case"iframe":case"object":case"embed":Xr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Cf.length;i++)Xr(Cf[i],e);i=r;break;case"source":Xr("error",e),i=r;break;case"img":case"image":case"link":Xr("error",e),Xr("load",e),i=r;break;case"details":Xr("toggle",e),i=r;break;case"input":ow(e,r),i=Yg(e,r),Xr("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=ci({},r,{value:void 0}),Xr("invalid",e);break;case"textarea":cw(e,r),i=Jg(e,r),Xr("invalid",e);break;default:i=r}t2(n,i),f=i;for(a in f)if(f.hasOwnProperty(a)){var m=f[a];a==="style"?D4(e,m):a==="dangerouslySetInnerHTML"?(m=m?m.__html:void 0,m!=null&&O4(e,m)):a==="children"?typeof m=="string"?(n!=="textarea"||m!=="")&&Qf(e,m):typeof m=="number"&&Qf(e,""+m):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Zf.hasOwnProperty(a)?m!=null&&a==="onScroll"&&Xr("scroll",e):m!=null&&Hx(e,a,m,u))}switch(n){case"input":f1(e),lw(e,r,!1);break;case"textarea":f1(e),uw(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Oc(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?id(e,!!r.multiple,a,!1):r.defaultValue!=null&&id(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=I0)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return _s(t),null;case 6:if(e&&t.stateNode!=null)iS(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(mt(166));if(n=Qc(ch.current),Qc(Xo.current),b1(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ho]=t,(a=r.nodeValue!==n)&&(e=Oa,e!==null))switch(e.tag){case 3:w1(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&w1(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ho]=t,t.stateNode=r}return _s(t),null;case 13:if(Qr(ai),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ii&&ka!==null&&t.mode&1&&!(t.flags&128))AA(),kd(),t.flags|=98560,a=!1;else if(a=b1(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(mt(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(mt(317));a[Ho]=t}else kd(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;_s(t),a=!1}else yo!==null&&(M2(yo),yo=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ai.current&1?Hi===0&&(Hi=3):Cv())),t.updateQueue!==null&&(t.flags|=4),_s(t),null);case 4:return Rd(),I2(e,t),e===null&&sh(t.stateNode.containerInfo),_s(t),null;case 10:return lv(t.type._context),_s(t),null;case 17:return ha(t.type)&&T0(),_s(t),null;case 19:if(Qr(ai),a=t.memoizedState,a===null)return _s(t),null;if(r=(t.flags&128)!==0,u=a.rendering,u===null)if(r)pf(a,!1);else{if(Hi!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(u=M0(e),u!==null){for(t.flags|=128,pf(a,!1),r=u.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,u=a.alternate,u===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,e=u.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Hr(ai,ai.current&1|2),t.child}e=e.sibling}a.tail!==null&&Si()>Ld&&(t.flags|=128,r=!0,pf(a,!1),t.lanes=4194304)}else{if(!r)if(e=M0(u),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),pf(a,!0),a.tail===null&&a.tailMode==="hidden"&&!u.alternate&&!ii)return _s(t),null}else 2*Si()-a.renderingStartTime>Ld&&n!==1073741824&&(t.flags|=128,r=!0,pf(a,!1),t.lanes=4194304);a.isBackwards?(u.sibling=t.child,t.child=u):(n=a.last,n!==null?n.sibling=u:t.child=u,a.last=u)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Si(),t.sibling=null,n=ai.current,Hr(ai,r?n&1|2:n&1),t):(_s(t),null);case 22:case 23:return _v(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ia&1073741824&&(_s(t),t.subtreeFlags&6&&(t.flags|=8192)):_s(t),null;case 24:return null;case 25:return null}throw Error(mt(156,t.tag))}function q7(e,t){switch(iv(t),t.tag){case 1:return ha(t.type)&&T0(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Rd(),Qr(fa),Qr(Ps),hv(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return fv(t),null;case 13:if(Qr(ai),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(mt(340));kd()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Qr(ai),null;case 4:return Rd(),null;case 10:return lv(t.type._context),null;case 22:case 23:return _v(),null;case 24:return null;default:return null}}var _1=!1,ks=!1,G7=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function ed(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){xi(e,t,r)}else n.current=null}function T2(e,t,n){try{n()}catch(r){xi(e,t,r)}}var Jw=!1;function K7(e,t){if(f2=C0,e=cA(),nv(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var u=0,f=-1,m=-1,p=0,y=0,S=e,E=null;t:for(;;){for(var A;S!==n||i!==0&&S.nodeType!==3||(f=u+i),S!==a||r!==0&&S.nodeType!==3||(m=u+r),S.nodeType===3&&(u+=S.nodeValue.length),(A=S.firstChild)!==null;)E=S,S=A;for(;;){if(S===e)break t;if(E===n&&++p===i&&(f=u),E===a&&++y===r&&(m=u),(A=S.nextSibling)!==null)break;S=E,E=S.parentNode}S=A}n=f===-1||m===-1?null:{start:f,end:m}}else n=null}n=n||{start:0,end:0}}else n=null;for(h2={focusedElem:e,selectionRange:n},C0=!1,Ut=t;Ut!==null;)if(t=Ut,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ut=e;else for(;Ut!==null;){t=Ut;try{var R=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(R!==null){var I=R.memoizedProps,P=R.memoizedState,k=t.stateNode,O=k.getSnapshotBeforeUpdate(t.elementType===t.type?I:po(t.type,I),P);k.__reactInternalSnapshotBeforeUpdate=O}break;case 3:var L=t.stateNode.containerInfo;L.nodeType===1?L.textContent="":L.nodeType===9&&L.documentElement&&L.removeChild(L.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(mt(163))}}catch(j){xi(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,Ut=e;break}Ut=t.return}return R=Jw,Jw=!1,R}function Df(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&T2(t,n,a)}i=i.next}while(i!==r)}}function Ep(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function k2(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function sS(e){var t=e.alternate;t!==null&&(e.alternate=null,sS(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ho],delete t[oh],delete t[g2],delete t[T7],delete t[k7])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function aS(e){return e.tag===5||e.tag===3||e.tag===4}function e5(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||aS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function P2(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=I0));else if(r!==4&&(e=e.child,e!==null))for(P2(e,t,n),e=e.sibling;e!==null;)P2(e,t,n),e=e.sibling}function R2(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(R2(e,t,n),e=e.sibling;e!==null;)R2(e,t,n),e=e.sibling}var ls=null,vo=!1;function Kl(e,t,n){for(n=n.child;n!==null;)oS(e,t,n),n=n.sibling}function oS(e,t,n){if($o&&typeof $o.onCommitFiberUnmount=="function")try{$o.onCommitFiberUnmount(vp,n)}catch{}switch(n.tag){case 5:ks||ed(n,t);case 6:var r=ls,i=vo;ls=null,Kl(e,t,n),ls=r,vo=i,ls!==null&&(vo?(e=ls,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ls.removeChild(n.stateNode));break;case 18:ls!==null&&(vo?(e=ls,n=n.stateNode,e.nodeType===8?Um(e.parentNode,n):e.nodeType===1&&Um(e,n),nh(e)):Um(ls,n.stateNode));break;case 4:r=ls,i=vo,ls=n.stateNode.containerInfo,vo=!0,Kl(e,t,n),ls=r,vo=i;break;case 0:case 11:case 14:case 15:if(!ks&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,u=a.destroy;a=a.tag,u!==void 0&&(a&2||a&4)&&T2(n,t,u),i=i.next}while(i!==r)}Kl(e,t,n);break;case 1:if(!ks&&(ed(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(f){xi(n,t,f)}Kl(e,t,n);break;case 21:Kl(e,t,n);break;case 22:n.mode&1?(ks=(r=ks)||n.memoizedState!==null,Kl(e,t,n),ks=r):Kl(e,t,n);break;default:Kl(e,t,n)}}function t5(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new G7),t.forEach(function(r){var i=nT.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function co(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,u=t,f=u;e:for(;f!==null;){switch(f.tag){case 5:ls=f.stateNode,vo=!1;break e;case 3:ls=f.stateNode.containerInfo,vo=!0;break e;case 4:ls=f.stateNode.containerInfo,vo=!0;break e}f=f.return}if(ls===null)throw Error(mt(160));oS(a,u,i),ls=null,vo=!1;var m=i.alternate;m!==null&&(m.return=null),i.return=null}catch(p){xi(i,t,p)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)lS(t,e),t=t.sibling}function lS(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(co(t,e),Mo(e),r&4){try{Df(3,e,e.return),Ep(3,e)}catch(I){xi(e,e.return,I)}try{Df(5,e,e.return)}catch(I){xi(e,e.return,I)}}break;case 1:co(t,e),Mo(e),r&512&&n!==null&&ed(n,n.return);break;case 5:if(co(t,e),Mo(e),r&512&&n!==null&&ed(n,n.return),e.flags&32){var i=e.stateNode;try{Qf(i,"")}catch(I){xi(e,e.return,I)}}if(r&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,u=n!==null?n.memoizedProps:a,f=e.type,m=e.updateQueue;if(e.updateQueue=null,m!==null)try{f==="input"&&a.type==="radio"&&a.name!=null&&k4(i,a),n2(f,u);var p=n2(f,a);for(u=0;u<m.length;u+=2){var y=m[u],S=m[u+1];y==="style"?D4(i,S):y==="dangerouslySetInnerHTML"?O4(i,S):y==="children"?Qf(i,S):Hx(i,y,S,p)}switch(f){case"input":Zg(i,a);break;case"textarea":P4(i,a);break;case"select":var E=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var A=a.value;A!=null?id(i,!!a.multiple,A,!1):E!==!!a.multiple&&(a.defaultValue!=null?id(i,!!a.multiple,a.defaultValue,!0):id(i,!!a.multiple,a.multiple?[]:"",!1))}i[oh]=a}catch(I){xi(e,e.return,I)}}break;case 6:if(co(t,e),Mo(e),r&4){if(e.stateNode===null)throw Error(mt(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(I){xi(e,e.return,I)}}break;case 3:if(co(t,e),Mo(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{nh(t.containerInfo)}catch(I){xi(e,e.return,I)}break;case 4:co(t,e),Mo(e);break;case 13:co(t,e),Mo(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Av=Si())),r&4&&t5(e);break;case 22:if(y=n!==null&&n.memoizedState!==null,e.mode&1?(ks=(p=ks)||y,co(t,e),ks=p):co(t,e),Mo(e),r&8192){if(p=e.memoizedState!==null,(e.stateNode.isHidden=p)&&!y&&e.mode&1)for(Ut=e,y=e.child;y!==null;){for(S=Ut=y;Ut!==null;){switch(E=Ut,A=E.child,E.tag){case 0:case 11:case 14:case 15:Df(4,E,E.return);break;case 1:ed(E,E.return);var R=E.stateNode;if(typeof R.componentWillUnmount=="function"){r=E,n=E.return;try{t=r,R.props=t.memoizedProps,R.state=t.memoizedState,R.componentWillUnmount()}catch(I){xi(r,n,I)}}break;case 5:ed(E,E.return);break;case 22:if(E.memoizedState!==null){r5(S);continue}}A!==null?(A.return=E,Ut=A):r5(S)}y=y.sibling}e:for(y=null,S=e;;){if(S.tag===5){if(y===null){y=S;try{i=S.stateNode,p?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(f=S.stateNode,m=S.memoizedProps.style,u=m!=null&&m.hasOwnProperty("display")?m.display:null,f.style.display=L4("display",u))}catch(I){xi(e,e.return,I)}}}else if(S.tag===6){if(y===null)try{S.stateNode.nodeValue=p?"":S.memoizedProps}catch(I){xi(e,e.return,I)}}else if((S.tag!==22&&S.tag!==23||S.memoizedState===null||S===e)&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===e)break e;for(;S.sibling===null;){if(S.return===null||S.return===e)break e;y===S&&(y=null),S=S.return}y===S&&(y=null),S.sibling.return=S.return,S=S.sibling}}break;case 19:co(t,e),Mo(e),r&4&&t5(e);break;case 21:break;default:co(t,e),Mo(e)}}function Mo(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(aS(n)){var r=n;break e}n=n.return}throw Error(mt(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Qf(i,""),r.flags&=-33);var a=e5(e);R2(e,a,i);break;case 3:case 4:var u=r.stateNode.containerInfo,f=e5(e);P2(e,f,u);break;default:throw Error(mt(161))}}catch(m){xi(e,e.return,m)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function $7(e,t,n){Ut=e,cS(e)}function cS(e,t,n){for(var r=(e.mode&1)!==0;Ut!==null;){var i=Ut,a=i.child;if(i.tag===22&&r){var u=i.memoizedState!==null||_1;if(!u){var f=i.alternate,m=f!==null&&f.memoizedState!==null||ks;f=_1;var p=ks;if(_1=u,(ks=m)&&!p)for(Ut=i;Ut!==null;)u=Ut,m=u.child,u.tag===22&&u.memoizedState!==null?i5(i):m!==null?(m.return=u,Ut=m):i5(i);for(;a!==null;)Ut=a,cS(a),a=a.sibling;Ut=i,_1=f,ks=p}n5(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Ut=a):n5(e)}}function n5(e){for(;Ut!==null;){var t=Ut;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ks||Ep(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ks)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:po(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Uw(t,a,r);break;case 3:var u=t.updateQueue;if(u!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Uw(t,u,n)}break;case 5:var f=t.stateNode;if(n===null&&t.flags&4){n=f;var m=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":m.autoFocus&&n.focus();break;case"img":m.src&&(n.src=m.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var p=t.alternate;if(p!==null){var y=p.memoizedState;if(y!==null){var S=y.dehydrated;S!==null&&nh(S)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(mt(163))}ks||t.flags&512&&k2(t)}catch(E){xi(t,t.return,E)}}if(t===e){Ut=null;break}if(n=t.sibling,n!==null){n.return=t.return,Ut=n;break}Ut=t.return}}function r5(e){for(;Ut!==null;){var t=Ut;if(t===e){Ut=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Ut=n;break}Ut=t.return}}function i5(e){for(;Ut!==null;){var t=Ut;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ep(4,t)}catch(m){xi(t,n,m)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(m){xi(t,i,m)}}var a=t.return;try{k2(t)}catch(m){xi(t,a,m)}break;case 5:var u=t.return;try{k2(t)}catch(m){xi(t,u,m)}}}catch(m){xi(t,t.return,m)}if(t===e){Ut=null;break}var f=t.sibling;if(f!==null){f.return=t.return,Ut=f;break}Ut=t.return}}var X7=Math.ceil,B0=Dl.ReactCurrentDispatcher,wv=Dl.ReactCurrentOwner,$a=Dl.ReactCurrentBatchConfig,cr=0,Yi=null,Ri=null,ds=0,Ia=0,td=Bc(0),Hi=0,hh=null,mu=0,Np=0,bv=0,Mf=null,ca=null,Av=0,Ld=1/0,pl=null,U0=!1,O2=null,Sc=null,C1=!1,hc=null,z0=0,jf=0,L2=null,t0=-1,n0=0;function Gs(){return cr&6?Si():t0!==-1?t0:t0=Si()}function _c(e){return e.mode&1?cr&2&&ds!==0?ds&-ds:R7.transition!==null?(n0===0&&(n0=K4()),n0):(e=Tr,e!==0||(e=window.event,e=e===void 0?16:eA(e.type)),e):1}function bo(e,t,n,r){if(50<jf)throw jf=0,L2=null,Error(mt(185));Lh(e,n,r),(!(cr&2)||e!==Yi)&&(e===Yi&&(!(cr&2)&&(Np|=n),Hi===4&&sc(e,ds)),pa(e,r),n===1&&cr===0&&!(t.mode&1)&&(Ld=Si()+500,Sp&&Uc()))}function pa(e,t){var n=e.callbackNode;RI(e,t);var r=_0(e,e===Yi?ds:0);if(r===0)n!==null&&hw(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&hw(n),t===1)e.tag===0?P7(s5.bind(null,e)):yA(s5.bind(null,e)),N7(function(){!(cr&6)&&Uc()}),n=null;else{switch($4(r)){case 1:n=$x;break;case 4:n=q4;break;case 16:n=S0;break;case 536870912:n=G4;break;default:n=S0}n=xS(n,uS.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function uS(e,t){if(t0=-1,n0=0,cr&6)throw Error(mt(327));var n=e.callbackNode;if(cd()&&e.callbackNode!==n)return null;var r=_0(e,e===Yi?ds:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=W0(e,r);else{t=r;var i=cr;cr|=2;var a=fS();(Yi!==e||ds!==t)&&(pl=null,Ld=Si()+500,cu(e,t));do try{Q7();break}catch(f){dS(e,f)}while(!0);ov(),B0.current=a,cr=i,Ri!==null?t=0:(Yi=null,ds=0,t=Hi)}if(t!==0){if(t===2&&(i=o2(e),i!==0&&(r=i,t=D2(e,i))),t===1)throw n=hh,cu(e,0),sc(e,r),pa(e,Si()),n;if(t===6)sc(e,r);else{if(i=e.current.alternate,!(r&30)&&!Y7(i)&&(t=W0(e,r),t===2&&(a=o2(e),a!==0&&(r=a,t=D2(e,a))),t===1))throw n=hh,cu(e,0),sc(e,r),pa(e,Si()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(mt(345));case 2:Gc(e,ca,pl);break;case 3:if(sc(e,r),(r&130023424)===r&&(t=Av+500-Si(),10<t)){if(_0(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Gs(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=m2(Gc.bind(null,e,ca,pl),t);break}Gc(e,ca,pl);break;case 4:if(sc(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-wo(r);a=1<<u,u=t[u],u>i&&(i=u),r&=~a}if(r=i,r=Si()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*X7(r/1960))-r,10<r){e.timeoutHandle=m2(Gc.bind(null,e,ca,pl),r);break}Gc(e,ca,pl);break;case 5:Gc(e,ca,pl);break;default:throw Error(mt(329))}}}return pa(e,Si()),e.callbackNode===n?uS.bind(null,e):null}function D2(e,t){var n=Mf;return e.current.memoizedState.isDehydrated&&(cu(e,t).flags|=256),e=W0(e,t),e!==2&&(t=ca,ca=n,t!==null&&M2(t)),e}function M2(e){ca===null?ca=e:ca.push.apply(ca,e)}function Y7(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!So(a(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function sc(e,t){for(t&=~bv,t&=~Np,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-wo(t),r=1<<n;e[n]=-1,t&=~r}}function s5(e){if(cr&6)throw Error(mt(327));cd();var t=_0(e,0);if(!(t&1))return pa(e,Si()),null;var n=W0(e,t);if(e.tag!==0&&n===2){var r=o2(e);r!==0&&(t=r,n=D2(e,r))}if(n===1)throw n=hh,cu(e,0),sc(e,t),pa(e,Si()),n;if(n===6)throw Error(mt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Gc(e,ca,pl),pa(e,Si()),null}function Sv(e,t){var n=cr;cr|=1;try{return e(t)}finally{cr=n,cr===0&&(Ld=Si()+500,Sp&&Uc())}}function gu(e){hc!==null&&hc.tag===0&&!(cr&6)&&cd();var t=cr;cr|=1;var n=$a.transition,r=Tr;try{if($a.transition=null,Tr=1,e)return e()}finally{Tr=r,$a.transition=n,cr=t,!(cr&6)&&Uc()}}function _v(){Ia=td.current,Qr(td)}function cu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,E7(n)),Ri!==null)for(n=Ri.return;n!==null;){var r=n;switch(iv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&T0();break;case 3:Rd(),Qr(fa),Qr(Ps),hv();break;case 5:fv(r);break;case 4:Rd();break;case 13:Qr(ai);break;case 19:Qr(ai);break;case 10:lv(r.type._context);break;case 22:case 23:_v()}n=n.return}if(Yi=e,Ri=e=Cc(e.current,null),ds=Ia=t,Hi=0,hh=null,bv=Np=mu=0,ca=Mf=null,Zc!==null){for(t=0;t<Zc.length;t++)if(n=Zc[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var u=a.next;a.next=i,r.next=u}n.pending=r}Zc=null}return e}function dS(e,t){do{var n=Ri;try{if(ov(),Q1.current=F0,j0){for(var r=oi.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}j0=!1}if(pu=0,$i=Wi=oi=null,Lf=!1,uh=0,wv.current=null,n===null||n.return===null){Hi=1,hh=t,Ri=null;break}e:{var a=e,u=n.return,f=n,m=t;if(t=ds,f.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){var p=m,y=f,S=y.tag;if(!(y.mode&1)&&(S===0||S===11||S===15)){var E=y.alternate;E?(y.updateQueue=E.updateQueue,y.memoizedState=E.memoizedState,y.lanes=E.lanes):(y.updateQueue=null,y.memoizedState=null)}var A=Gw(u);if(A!==null){A.flags&=-257,Kw(A,u,f,a,t),A.mode&1&&qw(a,p,t),t=A,m=p;var R=t.updateQueue;if(R===null){var I=new Set;I.add(m),t.updateQueue=I}else R.add(m);break e}else{if(!(t&1)){qw(a,p,t),Cv();break e}m=Error(mt(426))}}else if(ii&&f.mode&1){var P=Gw(u);if(P!==null){!(P.flags&65536)&&(P.flags|=256),Kw(P,u,f,a,t),sv(Od(m,f));break e}}a=m=Od(m,f),Hi!==4&&(Hi=2),Mf===null?Mf=[a]:Mf.push(a),a=u;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var k=$A(a,m,t);Bw(a,k);break e;case 1:f=m;var O=a.type,L=a.stateNode;if(!(a.flags&128)&&(typeof O.getDerivedStateFromError=="function"||L!==null&&typeof L.componentDidCatch=="function"&&(Sc===null||!Sc.has(L)))){a.flags|=65536,t&=-t,a.lanes|=t;var j=XA(a,f,t);Bw(a,j);break e}}a=a.return}while(a!==null)}pS(n)}catch(J){t=J,Ri===n&&n!==null&&(Ri=n=n.return);continue}break}while(!0)}function fS(){var e=B0.current;return B0.current=F0,e===null?F0:e}function Cv(){(Hi===0||Hi===3||Hi===2)&&(Hi=4),Yi===null||!(mu&268435455)&&!(Np&268435455)||sc(Yi,ds)}function W0(e,t){var n=cr;cr|=2;var r=fS();(Yi!==e||ds!==t)&&(pl=null,cu(e,t));do try{Z7();break}catch(i){dS(e,i)}while(!0);if(ov(),cr=n,B0.current=r,Ri!==null)throw Error(mt(261));return Yi=null,ds=0,Hi}function Z7(){for(;Ri!==null;)hS(Ri)}function Q7(){for(;Ri!==null&&!SI();)hS(Ri)}function hS(e){var t=gS(e.alternate,e,Ia);e.memoizedProps=e.pendingProps,t===null?pS(e):Ri=t,wv.current=null}function pS(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=q7(n,t),n!==null){n.flags&=32767,Ri=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Hi=6,Ri=null;return}}else if(n=V7(n,t,Ia),n!==null){Ri=n;return}if(t=t.sibling,t!==null){Ri=t;return}Ri=t=e}while(t!==null);Hi===0&&(Hi=5)}function Gc(e,t,n){var r=Tr,i=$a.transition;try{$a.transition=null,Tr=1,J7(e,t,n,r)}finally{$a.transition=i,Tr=r}return null}function J7(e,t,n,r){do cd();while(hc!==null);if(cr&6)throw Error(mt(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(mt(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(OI(e,a),e===Yi&&(Ri=Yi=null,ds=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||C1||(C1=!0,xS(S0,function(){return cd(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=$a.transition,$a.transition=null;var u=Tr;Tr=1;var f=cr;cr|=4,wv.current=null,K7(e,n),lS(n,e),y7(h2),C0=!!f2,h2=f2=null,e.current=n,$7(n),_I(),cr=f,Tr=u,$a.transition=a}else e.current=n;if(C1&&(C1=!1,hc=e,z0=i),a=e.pendingLanes,a===0&&(Sc=null),NI(n.stateNode),pa(e,Si()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(U0)throw U0=!1,e=O2,O2=null,e;return z0&1&&e.tag!==0&&cd(),a=e.pendingLanes,a&1?e===L2?jf++:(jf=0,L2=e):jf=0,Uc(),null}function cd(){if(hc!==null){var e=$4(z0),t=$a.transition,n=Tr;try{if($a.transition=null,Tr=16>e?16:e,hc===null)var r=!1;else{if(e=hc,hc=null,z0=0,cr&6)throw Error(mt(331));var i=cr;for(cr|=4,Ut=e.current;Ut!==null;){var a=Ut,u=a.child;if(Ut.flags&16){var f=a.deletions;if(f!==null){for(var m=0;m<f.length;m++){var p=f[m];for(Ut=p;Ut!==null;){var y=Ut;switch(y.tag){case 0:case 11:case 15:Df(8,y,a)}var S=y.child;if(S!==null)S.return=y,Ut=S;else for(;Ut!==null;){y=Ut;var E=y.sibling,A=y.return;if(sS(y),y===p){Ut=null;break}if(E!==null){E.return=A,Ut=E;break}Ut=A}}}var R=a.alternate;if(R!==null){var I=R.child;if(I!==null){R.child=null;do{var P=I.sibling;I.sibling=null,I=P}while(I!==null)}}Ut=a}}if(a.subtreeFlags&2064&&u!==null)u.return=a,Ut=u;else e:for(;Ut!==null;){if(a=Ut,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Df(9,a,a.return)}var k=a.sibling;if(k!==null){k.return=a.return,Ut=k;break e}Ut=a.return}}var O=e.current;for(Ut=O;Ut!==null;){u=Ut;var L=u.child;if(u.subtreeFlags&2064&&L!==null)L.return=u,Ut=L;else e:for(u=O;Ut!==null;){if(f=Ut,f.flags&2048)try{switch(f.tag){case 0:case 11:case 15:Ep(9,f)}}catch(J){xi(f,f.return,J)}if(f===u){Ut=null;break e}var j=f.sibling;if(j!==null){j.return=f.return,Ut=j;break e}Ut=f.return}}if(cr=i,Uc(),$o&&typeof $o.onPostCommitFiberRoot=="function")try{$o.onPostCommitFiberRoot(vp,e)}catch{}r=!0}return r}finally{Tr=n,$a.transition=t}}return!1}function a5(e,t,n){t=Od(n,t),t=$A(e,t,1),e=Ac(e,t,1),t=Gs(),e!==null&&(Lh(e,1,t),pa(e,t))}function xi(e,t,n){if(e.tag===3)a5(e,e,n);else for(;t!==null;){if(t.tag===3){a5(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Sc===null||!Sc.has(r))){e=Od(n,e),e=XA(t,e,1),t=Ac(t,e,1),e=Gs(),t!==null&&(Lh(t,1,e),pa(t,e));break}}t=t.return}}function eT(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Gs(),e.pingedLanes|=e.suspendedLanes&n,Yi===e&&(ds&n)===n&&(Hi===4||Hi===3&&(ds&130023424)===ds&&500>Si()-Av?cu(e,0):bv|=n),pa(e,t)}function mS(e,t){t===0&&(e.mode&1?(t=m1,m1<<=1,!(m1&130023424)&&(m1=4194304)):t=1);var n=Gs();e=Tl(e,t),e!==null&&(Lh(e,t,n),pa(e,n))}function tT(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),mS(e,n)}function nT(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(mt(314))}r!==null&&r.delete(t),mS(e,n)}var gS;gS=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||fa.current)ua=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ua=!1,H7(e,t,n);ua=!!(e.flags&131072)}else ua=!1,ii&&t.flags&1048576&&wA(t,R0,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;e0(e,t),e=t.pendingProps;var i=Td(t,Ps.current);ld(t,n),i=mv(null,t,r,e,i,n);var a=gv();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ha(r)?(a=!0,k0(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,uv(t),i.updater=Cp,t.stateNode=i,i._reactInternals=t,A2(t,r,e,n),t=C2(null,t,r,!0,a,n)):(t.tag=0,ii&&a&&rv(t),Hs(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(e0(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=iT(r),e=po(r,e),i){case 0:t=_2(null,t,r,e,n);break e;case 1:t=Yw(null,t,r,e,n);break e;case 11:t=$w(null,t,r,e,n);break e;case 14:t=Xw(null,t,r,po(r.type,e),n);break e}throw Error(mt(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:po(r,i),_2(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:po(r,i),Yw(e,t,r,i,n);case 3:e:{if(JA(t),e===null)throw Error(mt(387));r=t.pendingProps,a=t.memoizedState,i=a.element,EA(e,t),D0(t,r,null,n);var u=t.memoizedState;if(r=u.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=Od(Error(mt(423)),t),t=Zw(e,t,r,n,i);break e}else if(r!==i){i=Od(Error(mt(424)),t),t=Zw(e,t,r,n,i);break e}else for(ka=bc(t.stateNode.containerInfo.firstChild),Oa=t,ii=!0,yo=null,n=_A(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(kd(),r===i){t=kl(e,t,n);break e}Hs(e,t,r,n)}t=t.child}return t;case 5:return NA(t),e===null&&y2(t),r=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,u=i.children,p2(r,i)?u=null:a!==null&&p2(r,a)&&(t.flags|=32),QA(e,t),Hs(e,t,u,n),t.child;case 6:return e===null&&y2(t),null;case 13:return eS(e,t,n);case 4:return dv(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Pd(t,null,r,n):Hs(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:po(r,i),$w(e,t,r,i,n);case 7:return Hs(e,t,t.pendingProps,n),t.child;case 8:return Hs(e,t,t.pendingProps.children,n),t.child;case 12:return Hs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,u=i.value,Hr(O0,r._currentValue),r._currentValue=u,a!==null)if(So(a.value,u)){if(a.children===i.children&&!fa.current){t=kl(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var f=a.dependencies;if(f!==null){u=a.child;for(var m=f.firstContext;m!==null;){if(m.context===r){if(a.tag===1){m=_l(-1,n&-n),m.tag=2;var p=a.updateQueue;if(p!==null){p=p.shared;var y=p.pending;y===null?m.next=m:(m.next=y.next,y.next=m),p.pending=m}}a.lanes|=n,m=a.alternate,m!==null&&(m.lanes|=n),w2(a.return,n,t),f.lanes|=n;break}m=m.next}}else if(a.tag===10)u=a.type===t.type?null:a.child;else if(a.tag===18){if(u=a.return,u===null)throw Error(mt(341));u.lanes|=n,f=u.alternate,f!==null&&(f.lanes|=n),w2(u,n,t),u=a.sibling}else u=a.child;if(u!==null)u.return=a;else for(u=a;u!==null;){if(u===t){u=null;break}if(a=u.sibling,a!==null){a.return=u.return,u=a;break}u=u.return}a=u}Hs(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ld(t,n),i=Xa(i),r=r(i),t.flags|=1,Hs(e,t,r,n),t.child;case 14:return r=t.type,i=po(r,t.pendingProps),i=po(r.type,i),Xw(e,t,r,i,n);case 15:return YA(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:po(r,i),e0(e,t),t.tag=1,ha(r)?(e=!0,k0(t)):e=!1,ld(t,n),KA(t,r,i),A2(t,r,i,n),C2(null,t,r,!0,e,n);case 19:return tS(e,t,n);case 22:return ZA(e,t,n)}throw Error(mt(156,t.tag))};function xS(e,t){return V4(e,t)}function rT(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ka(e,t,n,r){return new rT(e,t,n,r)}function Ev(e){return e=e.prototype,!(!e||!e.isReactComponent)}function iT(e){if(typeof e=="function")return Ev(e)?1:0;if(e!=null){if(e=e.$$typeof,e===qx)return 11;if(e===Gx)return 14}return 2}function Cc(e,t){var n=e.alternate;return n===null?(n=Ka(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function r0(e,t,n,r,i,a){var u=2;if(r=e,typeof e=="function")Ev(e)&&(u=1);else if(typeof e=="string")u=5;else e:switch(e){case qu:return uu(n.children,i,a,t);case Vx:u=8,i|=8;break;case Gg:return e=Ka(12,n,t,i|2),e.elementType=Gg,e.lanes=a,e;case Kg:return e=Ka(13,n,t,i),e.elementType=Kg,e.lanes=a,e;case $g:return e=Ka(19,n,t,i),e.elementType=$g,e.lanes=a,e;case N4:return Ip(n,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case C4:u=10;break e;case E4:u=9;break e;case qx:u=11;break e;case Gx:u=14;break e;case nc:u=16,r=null;break e}throw Error(mt(130,e==null?e:typeof e,""))}return t=Ka(u,n,t,i),t.elementType=e,t.type=r,t.lanes=a,t}function uu(e,t,n,r){return e=Ka(7,e,r,t),e.lanes=n,e}function Ip(e,t,n,r){return e=Ka(22,e,r,t),e.elementType=N4,e.lanes=n,e.stateNode={isHidden:!1},e}function $m(e,t,n){return e=Ka(6,e,null,t),e.lanes=n,e}function Xm(e,t,n){return t=Ka(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function sT(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Tm(0),this.expirationTimes=Tm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tm(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Nv(e,t,n,r,i,a,u,f,m){return e=new sT(e,t,n,f,m),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Ka(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},uv(a),e}function aT(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Vu,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function vS(e){if(!e)return Lc;e=e._reactInternals;e:{if(Eu(e)!==e||e.tag!==1)throw Error(mt(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ha(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(mt(171))}if(e.tag===1){var n=e.type;if(ha(n))return vA(e,n,t)}return t}function yS(e,t,n,r,i,a,u,f,m){return e=Nv(n,r,!0,e,i,a,u,f,m),e.context=vS(null),n=e.current,r=Gs(),i=_c(n),a=_l(r,i),a.callback=t??null,Ac(n,a,i),e.current.lanes=i,Lh(e,i,r),pa(e,r),e}function Tp(e,t,n,r){var i=t.current,a=Gs(),u=_c(i);return n=vS(n),t.context===null?t.context=n:t.pendingContext=n,t=_l(a,u),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Ac(i,t,u),e!==null&&(bo(e,i,u,a),Z1(e,i,u)),u}function H0(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function o5(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Iv(e,t){o5(e,t),(e=e.alternate)&&o5(e,t)}function oT(){return null}var wS=typeof reportError=="function"?reportError:function(e){console.error(e)};function Tv(e){this._internalRoot=e}kp.prototype.render=Tv.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(mt(409));Tp(e,t,null,null)};kp.prototype.unmount=Tv.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;gu(function(){Tp(null,e,null,null)}),t[Il]=null}};function kp(e){this._internalRoot=e}kp.prototype.unstable_scheduleHydration=function(e){if(e){var t=Z4();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ic.length&&t!==0&&t<ic[n].priority;n++);ic.splice(n,0,e),n===0&&J4(e)}};function kv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Pp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function l5(){}function lT(e,t,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var p=H0(u);a.call(p)}}var u=yS(t,r,e,0,null,!1,!1,"",l5);return e._reactRootContainer=u,e[Il]=u.current,sh(e.nodeType===8?e.parentNode:e),gu(),u}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var f=r;r=function(){var p=H0(m);f.call(p)}}var m=Nv(e,0,!1,null,null,!1,!1,"",l5);return e._reactRootContainer=m,e[Il]=m.current,sh(e.nodeType===8?e.parentNode:e),gu(function(){Tp(t,m,n,r)}),m}function Rp(e,t,n,r,i){var a=n._reactRootContainer;if(a){var u=a;if(typeof i=="function"){var f=i;i=function(){var m=H0(u);f.call(m)}}Tp(t,u,e,i)}else u=lT(n,t,e,i,r);return H0(u)}X4=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=_f(t.pendingLanes);n!==0&&(Xx(t,n|1),pa(t,Si()),!(cr&6)&&(Ld=Si()+500,Uc()))}break;case 13:gu(function(){var r=Tl(e,1);if(r!==null){var i=Gs();bo(r,e,1,i)}}),Iv(e,1)}};Yx=function(e){if(e.tag===13){var t=Tl(e,134217728);if(t!==null){var n=Gs();bo(t,e,134217728,n)}Iv(e,134217728)}};Y4=function(e){if(e.tag===13){var t=_c(e),n=Tl(e,t);if(n!==null){var r=Gs();bo(n,e,t,r)}Iv(e,t)}};Z4=function(){return Tr};Q4=function(e,t){var n=Tr;try{return Tr=e,t()}finally{Tr=n}};i2=function(e,t,n){switch(t){case"input":if(Zg(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Ap(r);if(!i)throw Error(mt(90));T4(r),Zg(r,i)}}}break;case"textarea":P4(e,n);break;case"select":t=n.value,t!=null&&id(e,!!n.multiple,t,!1)}};F4=Sv;B4=gu;var cT={usingClientEntryPoint:!1,Events:[Mh,Xu,Ap,M4,j4,Sv]},mf={findFiberByHostInstance:Yc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},uT={bundleType:mf.bundleType,version:mf.version,rendererPackageName:mf.rendererPackageName,rendererConfig:mf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Dl.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=W4(e),e===null?null:e.stateNode},findFiberByHostInstance:mf.findFiberByHostInstance||oT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var E1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!E1.isDisabled&&E1.supportsFiber)try{vp=E1.inject(uT),$o=E1}catch{}}Ma.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cT;Ma.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!kv(t))throw Error(mt(200));return aT(e,t,null,n)};Ma.createRoot=function(e,t){if(!kv(e))throw Error(mt(299));var n=!1,r="",i=wS;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Nv(e,1,!1,null,null,n,!1,r,i),e[Il]=t.current,sh(e.nodeType===8?e.parentNode:e),new Tv(t)};Ma.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(mt(188)):(e=Object.keys(e).join(","),Error(mt(268,e)));return e=W4(t),e=e===null?null:e.stateNode,e};Ma.flushSync=function(e){return gu(e)};Ma.hydrate=function(e,t,n){if(!Pp(t))throw Error(mt(200));return Rp(null,e,t,!0,n)};Ma.hydrateRoot=function(e,t,n){if(!kv(e))throw Error(mt(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",u=wS;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(u=n.onRecoverableError)),t=yS(t,null,e,1,n??null,i,!1,a,u),e[Il]=t.current,sh(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new kp(t)};Ma.render=function(e,t,n){if(!Pp(t))throw Error(mt(200));return Rp(null,e,t,!1,n)};Ma.unmountComponentAtNode=function(e){if(!Pp(e))throw Error(mt(40));return e._reactRootContainer?(gu(function(){Rp(null,null,e,!1,function(){e._reactRootContainer=null,e[Il]=null})}),!0):!1};Ma.unstable_batchedUpdates=Sv;Ma.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Pp(n))throw Error(mt(200));if(e==null||e._reactInternals===void 0)throw Error(mt(38));return Rp(e,t,n,!1,r)};Ma.version="18.3.1-next-f1338f8080-20240426";function bS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(bS)}catch(e){console.error(e)}}bS(),b4.exports=Ma;var Nu=b4.exports;const AS=gp(Nu);var SS,c5=Nu;SS=c5.createRoot,c5.hydrateRoot;const dT=1,fT=1e6;let Ym=0;function hT(){return Ym=(Ym+1)%Number.MAX_SAFE_INTEGER,Ym.toString()}const Zm=new Map,u5=e=>{if(Zm.has(e))return;const t=setTimeout(()=>{Zm.delete(e),Ff({type:"REMOVE_TOAST",toastId:e})},fT);Zm.set(e,t)},pT=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,dT)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?u5(n):e.toasts.forEach(r=>{u5(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},i0=[];let s0={toasts:[]};function Ff(e){s0=pT(s0,e),i0.forEach(t=>{t(s0)})}function mT({...e}){const t=hT(),n=i=>Ff({type:"UPDATE_TOAST",toast:{...i,id:t}}),r=()=>Ff({type:"DISMISS_TOAST",toastId:t});return Ff({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||r()}}}),{id:t,dismiss:r,update:n}}function Ys(){const[e,t]=F.useState(s0);return F.useEffect(()=>(i0.push(t),()=>{const n=i0.indexOf(t);n>-1&&i0.splice(n,1)}),[e]),{...e,toast:mT,dismiss:n=>Ff({type:"DISMISS_TOAST",toastId:n})}}function gn(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function d5(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function _S(...e){return t=>{let n=!1;const r=e.map(i=>{const a=d5(i,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():d5(e[i],null)}}}}function Pr(...e){return F.useCallback(_S(...e),e)}function gT(e,t){const n=F.createContext(t),r=a=>{const{children:u,...f}=a,m=F.useMemo(()=>f,Object.values(f));return v.jsx(n.Provider,{value:m,children:u})};r.displayName=e+"Provider";function i(a){const u=F.useContext(n);if(u)return u;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[r,i]}function Ml(e,t=[]){let n=[];function r(a,u){const f=F.createContext(u),m=n.length;n=[...n,u];const p=S=>{var k;const{scope:E,children:A,...R}=S,I=((k=E==null?void 0:E[e])==null?void 0:k[m])||f,P=F.useMemo(()=>R,Object.values(R));return v.jsx(I.Provider,{value:P,children:A})};p.displayName=a+"Provider";function y(S,E){var I;const A=((I=E==null?void 0:E[e])==null?void 0:I[m])||f,R=F.useContext(A);if(R)return R;if(u!==void 0)return u;throw new Error(`\`${S}\` must be used within \`${a}\``)}return[p,y]}const i=()=>{const a=n.map(u=>F.createContext(u));return function(f){const m=(f==null?void 0:f[e])||a;return F.useMemo(()=>({[`__scope${e}`]:{...f,[e]:m}}),[f,m])}};return i.scopeName=e,[r,xT(i,...t)]}function xT(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const u=r.reduce((f,{useScope:m,scopeName:p})=>{const S=m(a)[`__scope${p}`];return{...f,...S}},{});return F.useMemo(()=>({[`__scope${t.scopeName}`]:u}),[u])}};return n.scopeName=t.scopeName,n}function Dd(e){const t=yT(e),n=F.forwardRef((r,i)=>{const{children:a,...u}=r,f=F.Children.toArray(a),m=f.find(wT);if(m){const p=m.props.children,y=f.map(S=>S===m?F.Children.count(p)>1?F.Children.only(null):F.isValidElement(p)?p.props.children:null:S);return v.jsx(t,{...u,ref:i,children:F.isValidElement(p)?F.cloneElement(p,void 0,y):null})}return v.jsx(t,{...u,ref:i,children:a})});return n.displayName=`${e}.Slot`,n}var vT=Dd("Slot");function yT(e){const t=F.forwardRef((n,r)=>{const{children:i,...a}=n;if(F.isValidElement(i)){const u=AT(i),f=bT(a,i.props);return i.type!==F.Fragment&&(f.ref=r?_S(r,u):u),F.cloneElement(i,f)}return F.Children.count(i)>1?F.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var CS=Symbol("radix.slottable");function ES(e){const t=({children:n})=>v.jsx(v.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=CS,t}function wT(e){return F.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===CS}function bT(e,t){const n={...t};for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...f)=>{const m=a(...f);return i(...f),m}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function AT(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Pv(e){const t=e+"CollectionProvider",[n,r]=Ml(t),[i,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),u=I=>{const{scope:P,children:k}=I,O=yt.useRef(null),L=yt.useRef(new Map).current;return v.jsx(i,{scope:P,itemMap:L,collectionRef:O,children:k})};u.displayName=t;const f=e+"CollectionSlot",m=Dd(f),p=yt.forwardRef((I,P)=>{const{scope:k,children:O}=I,L=a(f,k),j=Pr(P,L.collectionRef);return v.jsx(m,{ref:j,children:O})});p.displayName=f;const y=e+"CollectionItemSlot",S="data-radix-collection-item",E=Dd(y),A=yt.forwardRef((I,P)=>{const{scope:k,children:O,...L}=I,j=yt.useRef(null),J=Pr(P,j),ce=a(y,k);return yt.useEffect(()=>(ce.itemMap.set(j,{ref:j,...L}),()=>void ce.itemMap.delete(j))),v.jsx(E,{[S]:"",ref:J,children:O})});A.displayName=y;function R(I){const P=a(e+"CollectionConsumer",I);return yt.useCallback(()=>{const O=P.collectionRef.current;if(!O)return[];const L=Array.from(O.querySelectorAll(`[${S}]`));return Array.from(P.itemMap.values()).sort((ce,Y)=>L.indexOf(ce.ref.current)-L.indexOf(Y.ref.current))},[P.collectionRef,P.itemMap])}return[{Provider:u,Slot:p,ItemSlot:A},R,r]}var ST=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Bn=ST.reduce((e,t)=>{const n=Dd(`Primitive.${t}`),r=F.forwardRef((i,a)=>{const{asChild:u,...f}=i,m=u?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),v.jsx(m,{...f,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function NS(e,t){e&&Nu.flushSync(()=>e.dispatchEvent(t))}function Za(e){const t=F.useRef(e);return F.useEffect(()=>{t.current=e}),F.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function _T(e,t=globalThis==null?void 0:globalThis.document){const n=Za(e);F.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var CT="DismissableLayer",j2="dismissableLayer.update",ET="dismissableLayer.pointerDownOutside",NT="dismissableLayer.focusOutside",f5,IS=F.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Fh=F.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:u,onDismiss:f,...m}=e,p=F.useContext(IS),[y,S]=F.useState(null),E=(y==null?void 0:y.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,A]=F.useState({}),R=Pr(t,Y=>S(Y)),I=Array.from(p.layers),[P]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),k=I.indexOf(P),O=y?I.indexOf(y):-1,L=p.layersWithOutsidePointerEventsDisabled.size>0,j=O>=k,J=TT(Y=>{const Z=Y.target,z=[...p.branches].some(he=>he.contains(Z));!j||z||(i==null||i(Y),u==null||u(Y),Y.defaultPrevented||f==null||f())},E),ce=kT(Y=>{const Z=Y.target;[...p.branches].some(he=>he.contains(Z))||(a==null||a(Y),u==null||u(Y),Y.defaultPrevented||f==null||f())},E);return _T(Y=>{O===p.layers.size-1&&(r==null||r(Y),!Y.defaultPrevented&&f&&(Y.preventDefault(),f()))},E),F.useEffect(()=>{if(y)return n&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(f5=E.body.style.pointerEvents,E.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(y)),p.layers.add(y),h5(),()=>{n&&p.layersWithOutsidePointerEventsDisabled.size===1&&(E.body.style.pointerEvents=f5)}},[y,E,n,p]),F.useEffect(()=>()=>{y&&(p.layers.delete(y),p.layersWithOutsidePointerEventsDisabled.delete(y),h5())},[y,p]),F.useEffect(()=>{const Y=()=>A({});return document.addEventListener(j2,Y),()=>document.removeEventListener(j2,Y)},[]),v.jsx(Bn.div,{...m,ref:R,style:{pointerEvents:L?j?"auto":"none":void 0,...e.style},onFocusCapture:gn(e.onFocusCapture,ce.onFocusCapture),onBlurCapture:gn(e.onBlurCapture,ce.onBlurCapture),onPointerDownCapture:gn(e.onPointerDownCapture,J.onPointerDownCapture)})});Fh.displayName=CT;var IT="DismissableLayerBranch",TS=F.forwardRef((e,t)=>{const n=F.useContext(IS),r=F.useRef(null),i=Pr(t,r);return F.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),v.jsx(Bn.div,{...e,ref:i})});TS.displayName=IT;function TT(e,t=globalThis==null?void 0:globalThis.document){const n=Za(e),r=F.useRef(!1),i=F.useRef(()=>{});return F.useEffect(()=>{const a=f=>{if(f.target&&!r.current){let m=function(){kS(ET,n,p,{discrete:!0})};const p={originalEvent:f};f.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=m,t.addEventListener("click",i.current,{once:!0})):m()}else t.removeEventListener("click",i.current);r.current=!1},u=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(u),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function kT(e,t=globalThis==null?void 0:globalThis.document){const n=Za(e),r=F.useRef(!1);return F.useEffect(()=>{const i=a=>{a.target&&!r.current&&kS(NT,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function h5(){const e=new CustomEvent(j2);document.dispatchEvent(e)}function kS(e,t,n,{discrete:r}){const i=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?NS(i,a):i.dispatchEvent(a)}var PT=Fh,RT=TS,hs=globalThis!=null&&globalThis.document?F.useLayoutEffect:()=>{},OT="Portal",Op=F.forwardRef((e,t)=>{var f;const{container:n,...r}=e,[i,a]=F.useState(!1);hs(()=>a(!0),[]);const u=n||i&&((f=globalThis==null?void 0:globalThis.document)==null?void 0:f.body);return u?AS.createPortal(v.jsx(Bn.div,{...r,ref:t}),u):null});Op.displayName=OT;function LT(e,t){return F.useReducer((n,r)=>t[n][r]??n,e)}var Iu=e=>{const{present:t,children:n}=e,r=DT(t),i=typeof n=="function"?n({present:r.isPresent}):F.Children.only(n),a=Pr(r.ref,MT(i));return typeof n=="function"||r.isPresent?F.cloneElement(i,{ref:a}):null};Iu.displayName="Presence";function DT(e){const[t,n]=F.useState(),r=F.useRef(null),i=F.useRef(e),a=F.useRef("none"),u=e?"mounted":"unmounted",[f,m]=LT(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return F.useEffect(()=>{const p=N1(r.current);a.current=f==="mounted"?p:"none"},[f]),hs(()=>{const p=r.current,y=i.current;if(y!==e){const E=a.current,A=N1(p);e?m("MOUNT"):A==="none"||(p==null?void 0:p.display)==="none"?m("UNMOUNT"):m(y&&E!==A?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,m]),hs(()=>{if(t){let p;const y=t.ownerDocument.defaultView??window,S=A=>{const I=N1(r.current).includes(A.animationName);if(A.target===t&&I&&(m("ANIMATION_END"),!i.current)){const P=t.style.animationFillMode;t.style.animationFillMode="forwards",p=y.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=P)})}},E=A=>{A.target===t&&(a.current=N1(r.current))};return t.addEventListener("animationstart",E),t.addEventListener("animationcancel",S),t.addEventListener("animationend",S),()=>{y.clearTimeout(p),t.removeEventListener("animationstart",E),t.removeEventListener("animationcancel",S),t.removeEventListener("animationend",S)}}else m("ANIMATION_END")},[t,m]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:F.useCallback(p=>{r.current=p?getComputedStyle(p):null,n(p)},[])}}function N1(e){return(e==null?void 0:e.animationName)||"none"}function MT(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var jT=Ux[" useInsertionEffect ".trim().toString()]||hs;function Md({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,a,u]=FT({defaultProp:t,onChange:n}),f=e!==void 0,m=f?e:i;{const y=F.useRef(e!==void 0);F.useEffect(()=>{const S=y.current;S!==f&&console.warn(`${r} is changing from ${S?"controlled":"uncontrolled"} to ${f?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),y.current=f},[f,r])}const p=F.useCallback(y=>{var S;if(f){const E=BT(y)?y(e):y;E!==e&&((S=u.current)==null||S.call(u,E))}else a(y)},[f,e,a,u]);return[m,p]}function FT({defaultProp:e,onChange:t}){const[n,r]=F.useState(e),i=F.useRef(n),a=F.useRef(t);return jT(()=>{a.current=t},[t]),F.useEffect(()=>{var u;i.current!==n&&((u=a.current)==null||u.call(a,n),i.current=n)},[n,i]),[n,r,a]}function BT(e){return typeof e=="function"}var PS=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),UT="VisuallyHidden",Lp=F.forwardRef((e,t)=>v.jsx(Bn.span,{...e,ref:t,style:{...PS,...e.style}}));Lp.displayName=UT;var zT=Lp,Rv="ToastProvider",[Ov,WT,HT]=Pv("Toast"),[RS,FW]=Ml("Toast",[HT]),[VT,Dp]=RS(Rv),OS=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:u}=e,[f,m]=F.useState(null),[p,y]=F.useState(0),S=F.useRef(!1),E=F.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Rv}\`. Expected non-empty \`string\`.`),v.jsx(Ov.Provider,{scope:t,children:v.jsx(VT,{scope:t,label:n,duration:r,swipeDirection:i,swipeThreshold:a,toastCount:p,viewport:f,onViewportChange:m,onToastAdd:F.useCallback(()=>y(A=>A+1),[]),onToastRemove:F.useCallback(()=>y(A=>A-1),[]),isFocusedToastEscapeKeyDownRef:S,isClosePausedRef:E,children:u})})};OS.displayName=Rv;var LS="ToastViewport",qT=["F8"],F2="toast.viewportPause",B2="toast.viewportResume",DS=F.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=qT,label:i="Notifications ({hotkey})",...a}=e,u=Dp(LS,n),f=WT(n),m=F.useRef(null),p=F.useRef(null),y=F.useRef(null),S=F.useRef(null),E=Pr(t,S,u.onViewportChange),A=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),R=u.toastCount>0;F.useEffect(()=>{const P=k=>{var L;r.length!==0&&r.every(j=>k[j]||k.code===j)&&((L=S.current)==null||L.focus())};return document.addEventListener("keydown",P),()=>document.removeEventListener("keydown",P)},[r]),F.useEffect(()=>{const P=m.current,k=S.current;if(R&&P&&k){const O=()=>{if(!u.isClosePausedRef.current){const ce=new CustomEvent(F2);k.dispatchEvent(ce),u.isClosePausedRef.current=!0}},L=()=>{if(u.isClosePausedRef.current){const ce=new CustomEvent(B2);k.dispatchEvent(ce),u.isClosePausedRef.current=!1}},j=ce=>{!P.contains(ce.relatedTarget)&&L()},J=()=>{P.contains(document.activeElement)||L()};return P.addEventListener("focusin",O),P.addEventListener("focusout",j),P.addEventListener("pointermove",O),P.addEventListener("pointerleave",J),window.addEventListener("blur",O),window.addEventListener("focus",L),()=>{P.removeEventListener("focusin",O),P.removeEventListener("focusout",j),P.removeEventListener("pointermove",O),P.removeEventListener("pointerleave",J),window.removeEventListener("blur",O),window.removeEventListener("focus",L)}}},[R,u.isClosePausedRef]);const I=F.useCallback(({tabbingDirection:P})=>{const O=f().map(L=>{const j=L.ref.current,J=[j,...ik(j)];return P==="forwards"?J:J.reverse()});return(P==="forwards"?O.reverse():O).flat()},[f]);return F.useEffect(()=>{const P=S.current;if(P){const k=O=>{var J,ce,Y;const L=O.altKey||O.ctrlKey||O.metaKey;if(O.key==="Tab"&&!L){const Z=document.activeElement,z=O.shiftKey;if(O.target===P&&z){(J=p.current)==null||J.focus();return}const K=I({tabbingDirection:z?"backwards":"forwards"}),ue=K.findIndex(oe=>oe===Z);Qm(K.slice(ue+1))?O.preventDefault():z?(ce=p.current)==null||ce.focus():(Y=y.current)==null||Y.focus()}};return P.addEventListener("keydown",k),()=>P.removeEventListener("keydown",k)}},[f,I]),v.jsxs(RT,{ref:m,role:"region","aria-label":i.replace("{hotkey}",A),tabIndex:-1,style:{pointerEvents:R?void 0:"none"},children:[R&&v.jsx(U2,{ref:p,onFocusFromOutsideViewport:()=>{const P=I({tabbingDirection:"forwards"});Qm(P)}}),v.jsx(Ov.Slot,{scope:n,children:v.jsx(Bn.ol,{tabIndex:-1,...a,ref:E})}),R&&v.jsx(U2,{ref:y,onFocusFromOutsideViewport:()=>{const P=I({tabbingDirection:"backwards"});Qm(P)}})]})});DS.displayName=LS;var MS="ToastFocusProxy",U2=F.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=e,a=Dp(MS,n);return v.jsx(Lp,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:u=>{var p;const f=u.relatedTarget;!((p=a.viewport)!=null&&p.contains(f))&&r()}})});U2.displayName=MS;var Bh="Toast",GT="toast.swipeStart",KT="toast.swipeMove",$T="toast.swipeCancel",XT="toast.swipeEnd",jS=F.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:a,...u}=e,[f,m]=Md({prop:r,defaultProp:i??!0,onChange:a,caller:Bh});return v.jsx(Iu,{present:n||f,children:v.jsx(QT,{open:f,...u,ref:t,onClose:()=>m(!1),onPause:Za(e.onPause),onResume:Za(e.onResume),onSwipeStart:gn(e.onSwipeStart,p=>{p.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:gn(e.onSwipeMove,p=>{const{x:y,y:S}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","move"),p.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${y}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${S}px`)}),onSwipeCancel:gn(e.onSwipeCancel,p=>{p.currentTarget.setAttribute("data-swipe","cancel"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:gn(e.onSwipeEnd,p=>{const{x:y,y:S}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","end"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${y}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${S}px`),m(!1)})})})});jS.displayName=Bh;var[YT,ZT]=RS(Bh,{onClose(){}}),QT=F.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:a,onClose:u,onEscapeKeyDown:f,onPause:m,onResume:p,onSwipeStart:y,onSwipeMove:S,onSwipeCancel:E,onSwipeEnd:A,...R}=e,I=Dp(Bh,n),[P,k]=F.useState(null),O=Pr(t,oe=>k(oe)),L=F.useRef(null),j=F.useRef(null),J=i||I.duration,ce=F.useRef(0),Y=F.useRef(J),Z=F.useRef(0),{onToastAdd:z,onToastRemove:he}=I,H=Za(()=>{var te;(P==null?void 0:P.contains(document.activeElement))&&((te=I.viewport)==null||te.focus()),u()}),K=F.useCallback(oe=>{!oe||oe===1/0||(window.clearTimeout(Z.current),ce.current=new Date().getTime(),Z.current=window.setTimeout(H,oe))},[H]);F.useEffect(()=>{const oe=I.viewport;if(oe){const te=()=>{K(Y.current),p==null||p()},Ne=()=>{const Ce=new Date().getTime()-ce.current;Y.current=Y.current-Ce,window.clearTimeout(Z.current),m==null||m()};return oe.addEventListener(F2,Ne),oe.addEventListener(B2,te),()=>{oe.removeEventListener(F2,Ne),oe.removeEventListener(B2,te)}}},[I.viewport,J,m,p,K]),F.useEffect(()=>{a&&!I.isClosePausedRef.current&&K(J)},[a,J,I.isClosePausedRef,K]),F.useEffect(()=>(z(),()=>he()),[z,he]);const ue=F.useMemo(()=>P?VS(P):null,[P]);return I.viewport?v.jsxs(v.Fragment,{children:[ue&&v.jsx(JT,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:ue}),v.jsx(YT,{scope:n,onClose:H,children:Nu.createPortal(v.jsx(Ov.ItemSlot,{scope:n,children:v.jsx(PT,{asChild:!0,onEscapeKeyDown:gn(f,()=>{I.isFocusedToastEscapeKeyDownRef.current||H(),I.isFocusedToastEscapeKeyDownRef.current=!1}),children:v.jsx(Bn.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":I.swipeDirection,...R,ref:O,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:gn(e.onKeyDown,oe=>{oe.key==="Escape"&&(f==null||f(oe.nativeEvent),oe.nativeEvent.defaultPrevented||(I.isFocusedToastEscapeKeyDownRef.current=!0,H()))}),onPointerDown:gn(e.onPointerDown,oe=>{oe.button===0&&(L.current={x:oe.clientX,y:oe.clientY})}),onPointerMove:gn(e.onPointerMove,oe=>{if(!L.current)return;const te=oe.clientX-L.current.x,Ne=oe.clientY-L.current.y,Ce=!!j.current,ne=["left","right"].includes(I.swipeDirection),_e=["left","up"].includes(I.swipeDirection)?Math.min:Math.max,ve=ne?_e(0,te):0,Le=ne?0:_e(0,Ne),W=oe.pointerType==="touch"?10:2,ae={x:ve,y:Le},fe={originalEvent:oe,delta:ae};Ce?(j.current=ae,I1(KT,S,fe,{discrete:!1})):p5(ae,I.swipeDirection,W)?(j.current=ae,I1(GT,y,fe,{discrete:!1}),oe.target.setPointerCapture(oe.pointerId)):(Math.abs(te)>W||Math.abs(Ne)>W)&&(L.current=null)}),onPointerUp:gn(e.onPointerUp,oe=>{const te=j.current,Ne=oe.target;if(Ne.hasPointerCapture(oe.pointerId)&&Ne.releasePointerCapture(oe.pointerId),j.current=null,L.current=null,te){const Ce=oe.currentTarget,ne={originalEvent:oe,delta:te};p5(te,I.swipeDirection,I.swipeThreshold)?I1(XT,A,ne,{discrete:!0}):I1($T,E,ne,{discrete:!0}),Ce.addEventListener("click",_e=>_e.preventDefault(),{once:!0})}})})})}),I.viewport)})]}):null}),JT=e=>{const{__scopeToast:t,children:n,...r}=e,i=Dp(Bh,t),[a,u]=F.useState(!1),[f,m]=F.useState(!1);return nk(()=>u(!0)),F.useEffect(()=>{const p=window.setTimeout(()=>m(!0),1e3);return()=>window.clearTimeout(p)},[]),f?null:v.jsx(Op,{asChild:!0,children:v.jsx(Lp,{...r,children:a&&v.jsxs(v.Fragment,{children:[i.label," ",n]})})})},ek="ToastTitle",FS=F.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return v.jsx(Bn.div,{...r,ref:t})});FS.displayName=ek;var tk="ToastDescription",BS=F.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return v.jsx(Bn.div,{...r,ref:t})});BS.displayName=tk;var US="ToastAction",zS=F.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?v.jsx(HS,{altText:n,asChild:!0,children:v.jsx(Lv,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${US}\`. Expected non-empty \`string\`.`),null)});zS.displayName=US;var WS="ToastClose",Lv=F.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,i=ZT(WS,n);return v.jsx(HS,{asChild:!0,children:v.jsx(Bn.button,{type:"button",...r,ref:t,onClick:gn(e.onClick,i.onClose)})})});Lv.displayName=WS;var HS=F.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...i}=e;return v.jsx(Bn.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:t})});function VS(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),rk(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const u=r.dataset.radixToastAnnounceAlt;u&&t.push(u)}else t.push(...VS(r))}}),t}function I1(e,t,n,{discrete:r}){const i=n.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?NS(i,a):i.dispatchEvent(a)}var p5=(e,t,n=0)=>{const r=Math.abs(e.x),i=Math.abs(e.y),a=r>i;return t==="left"||t==="right"?a&&r>n:!a&&i>n};function nk(e=()=>{}){const t=Za(e);hs(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function rk(e){return e.nodeType===e.ELEMENT_NODE}function ik(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Qm(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var sk=OS,qS=DS,GS=jS,KS=FS,$S=BS,XS=zS,YS=Lv;function ZS(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=ZS(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function QS(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=ZS(e))&&(r&&(r+=" "),r+=t);return r}const m5=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,g5=QS,Uh=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return g5(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:a}=t,u=Object.keys(i).map(p=>{const y=n==null?void 0:n[p],S=a==null?void 0:a[p];if(y===null)return null;const E=m5(y)||m5(S);return i[p][E]}),f=n&&Object.entries(n).reduce((p,y)=>{let[S,E]=y;return E===void 0||(p[S]=E),p},{}),m=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((p,y)=>{let{class:S,className:E,...A}=y;return Object.entries(A).every(R=>{let[I,P]=R;return Array.isArray(P)?P.includes({...a,...f}[I]):{...a,...f}[I]===P})?[...p,S,E]:p},[]);return g5(e,u,m,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ak=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),JS=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ok={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lk=F.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:u,...f},m)=>F.createElement("svg",{ref:m,...ok,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:JS("lucide",i),...f},[...u.map(([p,y])=>F.createElement(p,y)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ur=(e,t)=>{const n=F.forwardRef(({className:r,...i},a)=>F.createElement(lk,{ref:a,iconNode:t,className:JS(`lucide-${ak(e)}`,r),...i}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xu=ur("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ck=ur("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=ur("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uk=ur("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dk=ur("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e8=ur("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fk=ur("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hk=ur("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pk=ur("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mk=ur("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gk=ur("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xk=ur("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dv=ur("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vk=ur("Dumbbell",[["path",{d:"M14.4 14.4 9.6 9.6",key:"ic80wn"}],["path",{d:"M18.657 21.485a2 2 0 1 1-2.829-2.828l-1.767 1.768a2 2 0 1 1-2.829-2.829l6.364-6.364a2 2 0 1 1 2.829 2.829l-1.768 1.767a2 2 0 1 1 2.828 2.829z",key:"nnl7wr"}],["path",{d:"m21.5 21.5-1.4-1.4",key:"1f1ice"}],["path",{d:"M3.9 3.9 2.5 2.5",key:"1evmna"}],["path",{d:"M6.404 12.768a2 2 0 1 1-2.829-2.829l1.768-1.767a2 2 0 1 1-2.828-2.829l2.828-2.828a2 2 0 1 1 2.829 2.828l1.767-1.768a2 2 0 1 1 2.829 2.829z",key:"yhosts"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yk=ur("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wk=ur("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mp=ur("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bk=ur("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jm=ur("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ak=ur("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sk=ur("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _k=ur("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ck=ur("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ek=ur("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x5=ur("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nk=ur("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=ur("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v5=ur("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mv=ur("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y5=ur("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ik=ur("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jv=ur("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jp=ur("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Tk="modulepreload",kk=function(e){return"/"+e},w5={},Ao=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),f=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));i=Promise.allSettled(n.map(m=>{if(m=kk(m),m in w5)return;w5[m]=!0;const p=m.endsWith(".css"),y=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${y}`))return;const S=document.createElement("link");if(S.rel=p?"stylesheet":Tk,p||(S.as="script"),S.crossOrigin="",S.href=m,f&&S.setAttribute("nonce",f),document.head.appendChild(S),p)return new Promise((E,A)=>{S.addEventListener("load",E),S.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${m}`)))})}))}function a(u){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=u,window.dispatchEvent(f),!f.defaultPrevented)throw u}return i.then(u=>{for(const f of u||[])f.status==="rejected"&&a(f.reason);return t().catch(a)})},Fv="-",Pk=e=>{const t=Ok(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:u=>{const f=u.split(Fv);return f[0]===""&&f.length!==1&&f.shift(),t8(f,t)||Rk(u)},getConflictingClassGroupIds:(u,f)=>{const m=n[u]||[];return f&&r[u]?[...m,...r[u]]:m}}},t8=(e,t)=>{var u;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?t8(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const a=e.join(Fv);return(u=t.validators.find(({validator:f})=>f(a)))==null?void 0:u.classGroupId},b5=/^\[(.+)\]$/,Rk=e=>{if(b5.test(e)){const t=b5.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},Ok=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return Dk(Object.entries(e.classGroups),n).forEach(([a,u])=>{H2(u,r,a,t)}),r},H2=(e,t,n,r)=>{e.forEach(i=>{if(typeof i=="string"){const a=i===""?t:A5(t,i);a.classGroupId=n;return}if(typeof i=="function"){if(Lk(i)){H2(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([a,u])=>{H2(u,A5(t,a),n,r)})})},A5=(e,t)=>{let n=e;return t.split(Fv).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Lk=e=>e.isThemeGetter,Dk=(e,t)=>t?e.map(([n,r])=>{const i=r.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([u,f])=>[t+u,f])):a);return[n,i]}):e,Mk=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(a,u)=>{n.set(a,u),t++,t>e&&(t=0,r=n,n=new Map)};return{get(a){let u=n.get(a);if(u!==void 0)return u;if((u=r.get(a))!==void 0)return i(a,u),u},set(a,u){n.has(a)?n.set(a,u):i(a,u)}}},n8="!",jk=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,i=t[0],a=t.length,u=f=>{const m=[];let p=0,y=0,S;for(let P=0;P<f.length;P++){let k=f[P];if(p===0){if(k===i&&(r||f.slice(P,P+a)===t)){m.push(f.slice(y,P)),y=P+a;continue}if(k==="/"){S=P;continue}}k==="["?p++:k==="]"&&p--}const E=m.length===0?f:f.substring(y),A=E.startsWith(n8),R=A?E.substring(1):E,I=S&&S>y?S-y:void 0;return{modifiers:m,hasImportantModifier:A,baseClassName:R,maybePostfixModifierPosition:I}};return n?f=>n({className:f,parseClassName:u}):u},Fk=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},Bk=e=>({cache:Mk(e.cacheSize),parseClassName:jk(e),...Pk(e)}),Uk=/\s+/,zk=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=t,a=[],u=e.trim().split(Uk);let f="";for(let m=u.length-1;m>=0;m-=1){const p=u[m],{modifiers:y,hasImportantModifier:S,baseClassName:E,maybePostfixModifierPosition:A}=n(p);let R=!!A,I=r(R?E.substring(0,A):E);if(!I){if(!R){f=p+(f.length>0?" "+f:f);continue}if(I=r(E),!I){f=p+(f.length>0?" "+f:f);continue}R=!1}const P=Fk(y).join(":"),k=S?P+n8:P,O=k+I;if(a.includes(O))continue;a.push(O);const L=i(I,R);for(let j=0;j<L.length;++j){const J=L[j];a.push(k+J)}f=p+(f.length>0?" "+f:f)}return f};function Wk(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=r8(t))&&(r&&(r+=" "),r+=n);return r}const r8=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=r8(e[r]))&&(n&&(n+=" "),n+=t);return n};function Hk(e,...t){let n,r,i,a=u;function u(m){const p=t.reduce((y,S)=>S(y),e());return n=Bk(p),r=n.cache.get,i=n.cache.set,a=f,f(m)}function f(m){const p=r(m);if(p)return p;const y=zk(m,n);return i(m,y),y}return function(){return a(Wk.apply(null,arguments))}}const $r=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},i8=/^\[(?:([a-z-]+):)?(.+)\]$/i,Vk=/^\d+\/\d+$/,qk=new Set(["px","full","screen"]),Gk=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Kk=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,$k=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Xk=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Yk=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,cl=e=>ud(e)||qk.has(e)||Vk.test(e),$l=e=>Kd(e,"length",iP),ud=e=>!!e&&!Number.isNaN(Number(e)),eg=e=>Kd(e,"number",ud),gf=e=>!!e&&Number.isInteger(Number(e)),Zk=e=>e.endsWith("%")&&ud(e.slice(0,-1)),jn=e=>i8.test(e),Xl=e=>Gk.test(e),Qk=new Set(["length","size","percentage"]),Jk=e=>Kd(e,Qk,s8),eP=e=>Kd(e,"position",s8),tP=new Set(["image","url"]),nP=e=>Kd(e,tP,aP),rP=e=>Kd(e,"",sP),xf=()=>!0,Kd=(e,t,n)=>{const r=i8.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},iP=e=>Kk.test(e)&&!$k.test(e),s8=()=>!1,sP=e=>Xk.test(e),aP=e=>Yk.test(e),oP=()=>{const e=$r("colors"),t=$r("spacing"),n=$r("blur"),r=$r("brightness"),i=$r("borderColor"),a=$r("borderRadius"),u=$r("borderSpacing"),f=$r("borderWidth"),m=$r("contrast"),p=$r("grayscale"),y=$r("hueRotate"),S=$r("invert"),E=$r("gap"),A=$r("gradientColorStops"),R=$r("gradientColorStopPositions"),I=$r("inset"),P=$r("margin"),k=$r("opacity"),O=$r("padding"),L=$r("saturate"),j=$r("scale"),J=$r("sepia"),ce=$r("skew"),Y=$r("space"),Z=$r("translate"),z=()=>["auto","contain","none"],he=()=>["auto","hidden","clip","visible","scroll"],H=()=>["auto",jn,t],K=()=>[jn,t],ue=()=>["",cl,$l],oe=()=>["auto",ud,jn],te=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Ne=()=>["solid","dashed","dotted","double","none"],Ce=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ne=()=>["start","end","center","between","around","evenly","stretch"],_e=()=>["","0",jn],ve=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Le=()=>[ud,jn];return{cacheSize:500,separator:":",theme:{colors:[xf],spacing:[cl,$l],blur:["none","",Xl,jn],brightness:Le(),borderColor:[e],borderRadius:["none","","full",Xl,jn],borderSpacing:K(),borderWidth:ue(),contrast:Le(),grayscale:_e(),hueRotate:Le(),invert:_e(),gap:K(),gradientColorStops:[e],gradientColorStopPositions:[Zk,$l],inset:H(),margin:H(),opacity:Le(),padding:K(),saturate:Le(),scale:Le(),sepia:_e(),skew:Le(),space:K(),translate:K()},classGroups:{aspect:[{aspect:["auto","square","video",jn]}],container:["container"],columns:[{columns:[Xl]}],"break-after":[{"break-after":ve()}],"break-before":[{"break-before":ve()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...te(),jn]}],overflow:[{overflow:he()}],"overflow-x":[{"overflow-x":he()}],"overflow-y":[{"overflow-y":he()}],overscroll:[{overscroll:z()}],"overscroll-x":[{"overscroll-x":z()}],"overscroll-y":[{"overscroll-y":z()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[I]}],"inset-x":[{"inset-x":[I]}],"inset-y":[{"inset-y":[I]}],start:[{start:[I]}],end:[{end:[I]}],top:[{top:[I]}],right:[{right:[I]}],bottom:[{bottom:[I]}],left:[{left:[I]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",gf,jn]}],basis:[{basis:H()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",jn]}],grow:[{grow:_e()}],shrink:[{shrink:_e()}],order:[{order:["first","last","none",gf,jn]}],"grid-cols":[{"grid-cols":[xf]}],"col-start-end":[{col:["auto",{span:["full",gf,jn]},jn]}],"col-start":[{"col-start":oe()}],"col-end":[{"col-end":oe()}],"grid-rows":[{"grid-rows":[xf]}],"row-start-end":[{row:["auto",{span:[gf,jn]},jn]}],"row-start":[{"row-start":oe()}],"row-end":[{"row-end":oe()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",jn]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",jn]}],gap:[{gap:[E]}],"gap-x":[{"gap-x":[E]}],"gap-y":[{"gap-y":[E]}],"justify-content":[{justify:["normal",...ne()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...ne(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...ne(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[O]}],px:[{px:[O]}],py:[{py:[O]}],ps:[{ps:[O]}],pe:[{pe:[O]}],pt:[{pt:[O]}],pr:[{pr:[O]}],pb:[{pb:[O]}],pl:[{pl:[O]}],m:[{m:[P]}],mx:[{mx:[P]}],my:[{my:[P]}],ms:[{ms:[P]}],me:[{me:[P]}],mt:[{mt:[P]}],mr:[{mr:[P]}],mb:[{mb:[P]}],ml:[{ml:[P]}],"space-x":[{"space-x":[Y]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[Y]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",jn,t]}],"min-w":[{"min-w":[jn,t,"min","max","fit"]}],"max-w":[{"max-w":[jn,t,"none","full","min","max","fit","prose",{screen:[Xl]},Xl]}],h:[{h:[jn,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[jn,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[jn,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[jn,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Xl,$l]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",eg]}],"font-family":[{font:[xf]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",jn]}],"line-clamp":[{"line-clamp":["none",ud,eg]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",cl,jn]}],"list-image":[{"list-image":["none",jn]}],"list-style-type":[{list:["none","disc","decimal",jn]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[k]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[k]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ne(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",cl,$l]}],"underline-offset":[{"underline-offset":["auto",cl,jn]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:K()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",jn]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",jn]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[k]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...te(),eP]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Jk]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},nP]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[R]}],"gradient-via-pos":[{via:[R]}],"gradient-to-pos":[{to:[R]}],"gradient-from":[{from:[A]}],"gradient-via":[{via:[A]}],"gradient-to":[{to:[A]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[f]}],"border-w-x":[{"border-x":[f]}],"border-w-y":[{"border-y":[f]}],"border-w-s":[{"border-s":[f]}],"border-w-e":[{"border-e":[f]}],"border-w-t":[{"border-t":[f]}],"border-w-r":[{"border-r":[f]}],"border-w-b":[{"border-b":[f]}],"border-w-l":[{"border-l":[f]}],"border-opacity":[{"border-opacity":[k]}],"border-style":[{border:[...Ne(),"hidden"]}],"divide-x":[{"divide-x":[f]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[f]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[k]}],"divide-style":[{divide:Ne()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...Ne()]}],"outline-offset":[{"outline-offset":[cl,jn]}],"outline-w":[{outline:[cl,$l]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:ue()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[k]}],"ring-offset-w":[{"ring-offset":[cl,$l]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Xl,rP]}],"shadow-color":[{shadow:[xf]}],opacity:[{opacity:[k]}],"mix-blend":[{"mix-blend":[...Ce(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Ce()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[m]}],"drop-shadow":[{"drop-shadow":["","none",Xl,jn]}],grayscale:[{grayscale:[p]}],"hue-rotate":[{"hue-rotate":[y]}],invert:[{invert:[S]}],saturate:[{saturate:[L]}],sepia:[{sepia:[J]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[m]}],"backdrop-grayscale":[{"backdrop-grayscale":[p]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[y]}],"backdrop-invert":[{"backdrop-invert":[S]}],"backdrop-opacity":[{"backdrop-opacity":[k]}],"backdrop-saturate":[{"backdrop-saturate":[L]}],"backdrop-sepia":[{"backdrop-sepia":[J]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[u]}],"border-spacing-x":[{"border-spacing-x":[u]}],"border-spacing-y":[{"border-spacing-y":[u]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",jn]}],duration:[{duration:Le()}],ease:[{ease:["linear","in","out","in-out",jn]}],delay:[{delay:Le()}],animate:[{animate:["none","spin","ping","pulse","bounce",jn]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[gf,jn]}],"translate-x":[{"translate-x":[Z]}],"translate-y":[{"translate-y":[Z]}],"skew-x":[{"skew-x":[ce]}],"skew-y":[{"skew-y":[ce]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",jn]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",jn]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":K()}],"scroll-mx":[{"scroll-mx":K()}],"scroll-my":[{"scroll-my":K()}],"scroll-ms":[{"scroll-ms":K()}],"scroll-me":[{"scroll-me":K()}],"scroll-mt":[{"scroll-mt":K()}],"scroll-mr":[{"scroll-mr":K()}],"scroll-mb":[{"scroll-mb":K()}],"scroll-ml":[{"scroll-ml":K()}],"scroll-p":[{"scroll-p":K()}],"scroll-px":[{"scroll-px":K()}],"scroll-py":[{"scroll-py":K()}],"scroll-ps":[{"scroll-ps":K()}],"scroll-pe":[{"scroll-pe":K()}],"scroll-pt":[{"scroll-pt":K()}],"scroll-pr":[{"scroll-pr":K()}],"scroll-pb":[{"scroll-pb":K()}],"scroll-pl":[{"scroll-pl":K()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",jn]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[cl,$l,eg]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},lP=Hk(oP);function Ht(...e){return lP(QS(e))}async function a8(e){return await(await Ao(async()=>{const{default:n}=await import("./browser-DL3kb7mT.js").then(r=>r.b);return{default:n}},[])).default.toDataURL(e,{margin:1,scale:4})}async function cP(e){const t=document.createElement("canvas"),n=(await Ao(async()=>{const{default:r}=await import("./JsBarcode-0Y_AX0Oo.js").then(i=>i.J);return{default:r}},[])).default;return n(t,e,{format:"CODE128",displayValue:!1,margin:0}),t.toDataURL("image/png")}const uP=sk,o8=F.forwardRef(({className:e,...t},n)=>v.jsx(qS,{ref:n,className:Ht("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));o8.displayName=qS.displayName;const dP=Uh("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),l8=F.forwardRef(({className:e,variant:t,...n},r)=>v.jsx(GS,{ref:r,className:Ht(dP({variant:t}),e),...n}));l8.displayName=GS.displayName;const fP=F.forwardRef(({className:e,...t},n)=>v.jsx(XS,{ref:n,className:Ht("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));fP.displayName=XS.displayName;const c8=F.forwardRef(({className:e,...t},n)=>v.jsx(YS,{ref:n,className:Ht("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:v.jsx(jp,{className:"h-4 w-4"})}));c8.displayName=YS.displayName;const u8=F.forwardRef(({className:e,...t},n)=>v.jsx(KS,{ref:n,className:Ht("text-sm font-semibold",e),...t}));u8.displayName=KS.displayName;const d8=F.forwardRef(({className:e,...t},n)=>v.jsx($S,{ref:n,className:Ht("text-sm opacity-90",e),...t}));d8.displayName=$S.displayName;function hP(){const{toasts:e}=Ys();return v.jsxs(uP,{children:[e.map(function({id:t,title:n,description:r,action:i,...a}){return v.jsxs(l8,{...a,children:[v.jsxs("div",{className:"grid gap-1",children:[n&&v.jsx(u8,{children:n}),r&&v.jsx(d8,{children:r})]}),i,v.jsx(c8,{})]},t)}),v.jsx(o8,{})]})}var S5=["light","dark"],pP="(prefers-color-scheme: dark)",mP=F.createContext(void 0),gP={setTheme:e=>{},themes:[]},xP=()=>{var e;return(e=F.useContext(mP))!=null?e:gP};F.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:a,value:u,attrs:f,nonce:m})=>{let p=a==="system",y=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${f.map(R=>`'${R}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,S=i?S5.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",E=(R,I=!1,P=!0)=>{let k=u?u[R]:R,O=I?R+"|| ''":`'${k}'`,L="";return i&&P&&!I&&S5.includes(R)&&(L+=`d.style.colorScheme = '${R}';`),n==="class"?I||k?L+=`c.add(${O})`:L+="null":k&&(L+=`d[s](n,${O})`),L},A=e?`!function(){${y}${E(e)}}()`:r?`!function(){try{${y}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${p})){var t='${pP}',m=window.matchMedia(t);if(m.media!==t||m.matches){${E("dark")}}else{${E("light")}}}else if(e){${u?`var x=${JSON.stringify(u)};`:""}${E(u?"x[e]":"e",!0)}}${p?"":"else{"+E(a,!1,!1)+"}"}${S}}catch(e){}}()`:`!function(){try{${y}var e=localStorage.getItem('${t}');if(e){${u?`var x=${JSON.stringify(u)};`:""}${E(u?"x[e]":"e",!0)}}else{${E(a,!1,!1)};}${S}}catch(t){}}();`;return F.createElement("script",{nonce:m,dangerouslySetInnerHTML:{__html:A}})});var vP=e=>{switch(e){case"success":return bP;case"info":return SP;case"warning":return AP;case"error":return _P;default:return null}},yP=Array(12).fill(0),wP=({visible:e,className:t})=>yt.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},yt.createElement("div",{className:"sonner-spinner"},yP.map((n,r)=>yt.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),bP=yt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},yt.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),AP=yt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},yt.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),SP=yt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},yt.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),_P=yt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},yt.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),CP=yt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},yt.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),yt.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),EP=()=>{let[e,t]=yt.useState(document.hidden);return yt.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},V2=1,NP=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;let{message:r,...i}=t,a=typeof(t==null?void 0:t.id)=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:V2++,u=this.toasts.find(m=>m.id===a),f=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),u?this.toasts=this.toasts.map(m=>m.id===a?(this.publish({...m,...t,id:a,title:r}),{...m,...t,id:a,dismissible:f,title:r}):m):this.addToast({title:r,...i,dismissible:f,id:a}),a},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:t,dismiss:!0})),t),this.message=(t,n)=>this.create({...n,message:t}),this.error=(t,n)=>this.create({...n,message:t,type:"error"}),this.success=(t,n)=>this.create({...n,type:"success",message:t}),this.info=(t,n)=>this.create({...n,type:"info",message:t}),this.warning=(t,n)=>this.create({...n,type:"warning",message:t}),this.loading=(t,n)=>this.create({...n,type:"loading",message:t}),this.promise=(t,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let i=t instanceof Promise?t:t(),a=r!==void 0,u,f=i.then(async p=>{if(u=["resolve",p],yt.isValidElement(p))a=!1,this.create({id:r,type:"default",message:p});else if(TP(p)&&!p.ok){a=!1;let y=typeof n.error=="function"?await n.error(`HTTP error! status: ${p.status}`):n.error,S=typeof n.description=="function"?await n.description(`HTTP error! status: ${p.status}`):n.description;this.create({id:r,type:"error",message:y,description:S})}else if(n.success!==void 0){a=!1;let y=typeof n.success=="function"?await n.success(p):n.success,S=typeof n.description=="function"?await n.description(p):n.description;this.create({id:r,type:"success",message:y,description:S})}}).catch(async p=>{if(u=["reject",p],n.error!==void 0){a=!1;let y=typeof n.error=="function"?await n.error(p):n.error,S=typeof n.description=="function"?await n.description(p):n.description;this.create({id:r,type:"error",message:y,description:S})}}).finally(()=>{var p;a&&(this.dismiss(r),r=void 0),(p=n.finally)==null||p.call(n)}),m=()=>new Promise((p,y)=>f.then(()=>u[0]==="reject"?y(u[1]):p(u[1])).catch(y));return typeof r!="string"&&typeof r!="number"?{unwrap:m}:Object.assign(r,{unwrap:m})},this.custom=(t,n)=>{let r=(n==null?void 0:n.id)||V2++;return this.create({jsx:t(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},la=new NP,IP=(e,t)=>{let n=(t==null?void 0:t.id)||V2++;return la.addToast({title:e,...t,id:n}),n},TP=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",kP=IP,PP=()=>la.toasts,RP=()=>la.getActiveToasts();Object.assign(kP,{success:la.success,info:la.info,warning:la.warning,error:la.error,custom:la.custom,message:la.message,promise:la.promise,dismiss:la.dismiss,loading:la.loading},{getHistory:PP,getToasts:RP});function OP(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}OP(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function T1(e){return e.label!==void 0}var LP=3,DP="32px",MP="16px",_5=4e3,jP=356,FP=14,BP=20,UP=200;function uo(...e){return e.filter(Boolean).join(" ")}function zP(e){let[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}var WP=e=>{var t,n,r,i,a,u,f,m,p,y,S;let{invert:E,toast:A,unstyled:R,interacting:I,setHeights:P,visibleToasts:k,heights:O,index:L,toasts:j,expanded:J,removeToast:ce,defaultRichColors:Y,closeButton:Z,style:z,cancelButtonStyle:he,actionButtonStyle:H,className:K="",descriptionClassName:ue="",duration:oe,position:te,gap:Ne,loadingIcon:Ce,expandByDefault:ne,classNames:_e,icons:ve,closeButtonAriaLabel:Le="Close toast",pauseWhenPageIsHidden:W}=e,[ae,fe]=yt.useState(null),[Ee,se]=yt.useState(null),[we,Re]=yt.useState(!1),[Ie,je]=yt.useState(!1),[ze,Ge]=yt.useState(!1),[Je,Ye]=yt.useState(!1),[be,ln]=yt.useState(!1),[Lt,gt]=yt.useState(0),[Qe,Mt]=yt.useState(0),Ke=yt.useRef(A.duration||oe||_5),cn=yt.useRef(null),Ot=yt.useRef(null),bn=L===0,an=L+1<=k,Nt=A.type,An=A.dismissible!==!1,tn=A.className||"",Ct=A.descriptionClassName||"",$t=yt.useMemo(()=>O.findIndex(Bt=>Bt.toastId===A.id)||0,[O,A.id]),Ft=yt.useMemo(()=>{var Bt;return(Bt=A.closeButton)!=null?Bt:Z},[A.closeButton,Z]),Un=yt.useMemo(()=>A.duration||oe||_5,[A.duration,oe]),Vt=yt.useRef(0),Ze=yt.useRef(0),It=yt.useRef(0),it=yt.useRef(null),[At,pn]=te.split("-"),on=yt.useMemo(()=>O.reduce((Bt,mn,un)=>un>=$t?Bt:Bt+mn.height,0),[O,$t]),ut=EP(),nn=A.invert||E,Pn=Nt==="loading";Ze.current=yt.useMemo(()=>$t*Ne+on,[$t,on]),yt.useEffect(()=>{Ke.current=Un},[Un]),yt.useEffect(()=>{Re(!0)},[]),yt.useEffect(()=>{let Bt=Ot.current;if(Bt){let mn=Bt.getBoundingClientRect().height;return Mt(mn),P(un=>[{toastId:A.id,height:mn,position:A.position},...un]),()=>P(un=>un.filter(Zn=>Zn.toastId!==A.id))}},[P,A.id]),yt.useLayoutEffect(()=>{if(!we)return;let Bt=Ot.current,mn=Bt.style.height;Bt.style.height="auto";let un=Bt.getBoundingClientRect().height;Bt.style.height=mn,Mt(un),P(Zn=>Zn.find(kt=>kt.toastId===A.id)?Zn.map(kt=>kt.toastId===A.id?{...kt,height:un}:kt):[{toastId:A.id,height:un,position:A.position},...Zn])},[we,A.title,A.description,P,A.id]);let qt=yt.useCallback(()=>{je(!0),gt(Ze.current),P(Bt=>Bt.filter(mn=>mn.toastId!==A.id)),setTimeout(()=>{ce(A)},UP)},[A,ce,P,Ze]);yt.useEffect(()=>{if(A.promise&&Nt==="loading"||A.duration===1/0||A.type==="loading")return;let Bt;return J||I||W&&ut?(()=>{if(It.current<Vt.current){let mn=new Date().getTime()-Vt.current;Ke.current=Ke.current-mn}It.current=new Date().getTime()})():Ke.current!==1/0&&(Vt.current=new Date().getTime(),Bt=setTimeout(()=>{var mn;(mn=A.onAutoClose)==null||mn.call(A,A),qt()},Ke.current)),()=>clearTimeout(Bt)},[J,I,A,Nt,W,ut,qt]),yt.useEffect(()=>{A.delete&&qt()},[qt,A.delete]);function Hn(){var Bt,mn,un;return ve!=null&&ve.loading?yt.createElement("div",{className:uo(_e==null?void 0:_e.loader,(Bt=A==null?void 0:A.classNames)==null?void 0:Bt.loader,"sonner-loader"),"data-visible":Nt==="loading"},ve.loading):Ce?yt.createElement("div",{className:uo(_e==null?void 0:_e.loader,(mn=A==null?void 0:A.classNames)==null?void 0:mn.loader,"sonner-loader"),"data-visible":Nt==="loading"},Ce):yt.createElement(wP,{className:uo(_e==null?void 0:_e.loader,(un=A==null?void 0:A.classNames)==null?void 0:un.loader),visible:Nt==="loading"})}return yt.createElement("li",{tabIndex:0,ref:Ot,className:uo(K,tn,_e==null?void 0:_e.toast,(t=A==null?void 0:A.classNames)==null?void 0:t.toast,_e==null?void 0:_e.default,_e==null?void 0:_e[Nt],(n=A==null?void 0:A.classNames)==null?void 0:n[Nt]),"data-sonner-toast":"","data-rich-colors":(r=A.richColors)!=null?r:Y,"data-styled":!(A.jsx||A.unstyled||R),"data-mounted":we,"data-promise":!!A.promise,"data-swiped":be,"data-removed":Ie,"data-visible":an,"data-y-position":At,"data-x-position":pn,"data-index":L,"data-front":bn,"data-swiping":ze,"data-dismissible":An,"data-type":Nt,"data-invert":nn,"data-swipe-out":Je,"data-swipe-direction":Ee,"data-expanded":!!(J||ne&&we),style:{"--index":L,"--toasts-before":L,"--z-index":j.length-L,"--offset":`${Ie?Lt:Ze.current}px`,"--initial-height":ne?"auto":`${Qe}px`,...z,...A.style},onDragEnd:()=>{Ge(!1),fe(null),it.current=null},onPointerDown:Bt=>{Pn||!An||(cn.current=new Date,gt(Ze.current),Bt.target.setPointerCapture(Bt.pointerId),Bt.target.tagName!=="BUTTON"&&(Ge(!0),it.current={x:Bt.clientX,y:Bt.clientY}))},onPointerUp:()=>{var Bt,mn,un,Zn;if(Je||!An)return;it.current=null;let kt=Number(((Bt=Ot.current)==null?void 0:Bt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ar=Number(((mn=Ot.current)==null?void 0:mn.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Jr=new Date().getTime()-((un=cn.current)==null?void 0:un.getTime()),rn=ae==="x"?kt:ar,En=Math.abs(rn)/Jr;if(Math.abs(rn)>=BP||En>.11){gt(Ze.current),(Zn=A.onDismiss)==null||Zn.call(A,A),se(ae==="x"?kt>0?"right":"left":ar>0?"down":"up"),qt(),Ye(!0),ln(!1);return}Ge(!1),fe(null)},onPointerMove:Bt=>{var mn,un,Zn,kt;if(!it.current||!An||((mn=window.getSelection())==null?void 0:mn.toString().length)>0)return;let ar=Bt.clientY-it.current.y,Jr=Bt.clientX-it.current.x,rn=(un=e.swipeDirections)!=null?un:zP(te);!ae&&(Math.abs(Jr)>1||Math.abs(ar)>1)&&fe(Math.abs(Jr)>Math.abs(ar)?"x":"y");let En={x:0,y:0};ae==="y"?(rn.includes("top")||rn.includes("bottom"))&&(rn.includes("top")&&ar<0||rn.includes("bottom")&&ar>0)&&(En.y=ar):ae==="x"&&(rn.includes("left")||rn.includes("right"))&&(rn.includes("left")&&Jr<0||rn.includes("right")&&Jr>0)&&(En.x=Jr),(Math.abs(En.x)>0||Math.abs(En.y)>0)&&ln(!0),(Zn=Ot.current)==null||Zn.style.setProperty("--swipe-amount-x",`${En.x}px`),(kt=Ot.current)==null||kt.style.setProperty("--swipe-amount-y",`${En.y}px`)}},Ft&&!A.jsx?yt.createElement("button",{"aria-label":Le,"data-disabled":Pn,"data-close-button":!0,onClick:Pn||!An?()=>{}:()=>{var Bt;qt(),(Bt=A.onDismiss)==null||Bt.call(A,A)},className:uo(_e==null?void 0:_e.closeButton,(i=A==null?void 0:A.classNames)==null?void 0:i.closeButton)},(a=ve==null?void 0:ve.close)!=null?a:CP):null,A.jsx||F.isValidElement(A.title)?A.jsx?A.jsx:typeof A.title=="function"?A.title():A.title:yt.createElement(yt.Fragment,null,Nt||A.icon||A.promise?yt.createElement("div",{"data-icon":"",className:uo(_e==null?void 0:_e.icon,(u=A==null?void 0:A.classNames)==null?void 0:u.icon)},A.promise||A.type==="loading"&&!A.icon?A.icon||Hn():null,A.type!=="loading"?A.icon||(ve==null?void 0:ve[Nt])||vP(Nt):null):null,yt.createElement("div",{"data-content":"",className:uo(_e==null?void 0:_e.content,(f=A==null?void 0:A.classNames)==null?void 0:f.content)},yt.createElement("div",{"data-title":"",className:uo(_e==null?void 0:_e.title,(m=A==null?void 0:A.classNames)==null?void 0:m.title)},typeof A.title=="function"?A.title():A.title),A.description?yt.createElement("div",{"data-description":"",className:uo(ue,Ct,_e==null?void 0:_e.description,(p=A==null?void 0:A.classNames)==null?void 0:p.description)},typeof A.description=="function"?A.description():A.description):null),F.isValidElement(A.cancel)?A.cancel:A.cancel&&T1(A.cancel)?yt.createElement("button",{"data-button":!0,"data-cancel":!0,style:A.cancelButtonStyle||he,onClick:Bt=>{var mn,un;T1(A.cancel)&&An&&((un=(mn=A.cancel).onClick)==null||un.call(mn,Bt),qt())},className:uo(_e==null?void 0:_e.cancelButton,(y=A==null?void 0:A.classNames)==null?void 0:y.cancelButton)},A.cancel.label):null,F.isValidElement(A.action)?A.action:A.action&&T1(A.action)?yt.createElement("button",{"data-button":!0,"data-action":!0,style:A.actionButtonStyle||H,onClick:Bt=>{var mn,un;T1(A.action)&&((un=(mn=A.action).onClick)==null||un.call(mn,Bt),!Bt.defaultPrevented&&qt())},className:uo(_e==null?void 0:_e.actionButton,(S=A==null?void 0:A.classNames)==null?void 0:S.actionButton)},A.action.label):null))};function C5(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function HP(e,t){let n={};return[e,t].forEach((r,i)=>{let a=i===1,u=a?"--mobile-offset":"--offset",f=a?MP:DP;function m(p){["top","right","bottom","left"].forEach(y=>{n[`${u}-${y}`]=typeof p=="number"?`${p}px`:p})}typeof r=="number"||typeof r=="string"?m(r):typeof r=="object"?["top","right","bottom","left"].forEach(p=>{r[p]===void 0?n[`${u}-${p}`]=f:n[`${u}-${p}`]=typeof r[p]=="number"?`${r[p]}px`:r[p]}):m(f)}),n}var VP=F.forwardRef(function(e,t){let{invert:n,position:r="bottom-right",hotkey:i=["altKey","KeyT"],expand:a,closeButton:u,className:f,offset:m,mobileOffset:p,theme:y="light",richColors:S,duration:E,style:A,visibleToasts:R=LP,toastOptions:I,dir:P=C5(),gap:k=FP,loadingIcon:O,icons:L,containerAriaLabel:j="Notifications",pauseWhenPageIsHidden:J}=e,[ce,Y]=yt.useState([]),Z=yt.useMemo(()=>Array.from(new Set([r].concat(ce.filter(W=>W.position).map(W=>W.position)))),[ce,r]),[z,he]=yt.useState([]),[H,K]=yt.useState(!1),[ue,oe]=yt.useState(!1),[te,Ne]=yt.useState(y!=="system"?y:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Ce=yt.useRef(null),ne=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),_e=yt.useRef(null),ve=yt.useRef(!1),Le=yt.useCallback(W=>{Y(ae=>{var fe;return(fe=ae.find(Ee=>Ee.id===W.id))!=null&&fe.delete||la.dismiss(W.id),ae.filter(({id:Ee})=>Ee!==W.id)})},[]);return yt.useEffect(()=>la.subscribe(W=>{if(W.dismiss){Y(ae=>ae.map(fe=>fe.id===W.id?{...fe,delete:!0}:fe));return}setTimeout(()=>{AS.flushSync(()=>{Y(ae=>{let fe=ae.findIndex(Ee=>Ee.id===W.id);return fe!==-1?[...ae.slice(0,fe),{...ae[fe],...W},...ae.slice(fe+1)]:[W,...ae]})})})}),[]),yt.useEffect(()=>{if(y!=="system"){Ne(y);return}if(y==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Ne("dark"):Ne("light")),typeof window>"u")return;let W=window.matchMedia("(prefers-color-scheme: dark)");try{W.addEventListener("change",({matches:ae})=>{Ne(ae?"dark":"light")})}catch{W.addListener(({matches:fe})=>{try{Ne(fe?"dark":"light")}catch(Ee){console.error(Ee)}})}},[y]),yt.useEffect(()=>{ce.length<=1&&K(!1)},[ce]),yt.useEffect(()=>{let W=ae=>{var fe,Ee;i.every(se=>ae[se]||ae.code===se)&&(K(!0),(fe=Ce.current)==null||fe.focus()),ae.code==="Escape"&&(document.activeElement===Ce.current||(Ee=Ce.current)!=null&&Ee.contains(document.activeElement))&&K(!1)};return document.addEventListener("keydown",W),()=>document.removeEventListener("keydown",W)},[i]),yt.useEffect(()=>{if(Ce.current)return()=>{_e.current&&(_e.current.focus({preventScroll:!0}),_e.current=null,ve.current=!1)}},[Ce.current]),yt.createElement("section",{ref:t,"aria-label":`${j} ${ne}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},Z.map((W,ae)=>{var fe;let[Ee,se]=W.split("-");return ce.length?yt.createElement("ol",{key:W,dir:P==="auto"?C5():P,tabIndex:-1,ref:Ce,className:f,"data-sonner-toaster":!0,"data-theme":te,"data-y-position":Ee,"data-lifted":H&&ce.length>1&&!a,"data-x-position":se,style:{"--front-toast-height":`${((fe=z[0])==null?void 0:fe.height)||0}px`,"--width":`${jP}px`,"--gap":`${k}px`,...A,...HP(m,p)},onBlur:we=>{ve.current&&!we.currentTarget.contains(we.relatedTarget)&&(ve.current=!1,_e.current&&(_e.current.focus({preventScroll:!0}),_e.current=null))},onFocus:we=>{we.target instanceof HTMLElement&&we.target.dataset.dismissible==="false"||ve.current||(ve.current=!0,_e.current=we.relatedTarget)},onMouseEnter:()=>K(!0),onMouseMove:()=>K(!0),onMouseLeave:()=>{ue||K(!1)},onDragEnd:()=>K(!1),onPointerDown:we=>{we.target instanceof HTMLElement&&we.target.dataset.dismissible==="false"||oe(!0)},onPointerUp:()=>oe(!1)},ce.filter(we=>!we.position&&ae===0||we.position===W).map((we,Re)=>{var Ie,je;return yt.createElement(WP,{key:we.id,icons:L,index:Re,toast:we,defaultRichColors:S,duration:(Ie=I==null?void 0:I.duration)!=null?Ie:E,className:I==null?void 0:I.className,descriptionClassName:I==null?void 0:I.descriptionClassName,invert:n,visibleToasts:R,closeButton:(je=I==null?void 0:I.closeButton)!=null?je:u,interacting:ue,position:W,style:I==null?void 0:I.style,unstyled:I==null?void 0:I.unstyled,classNames:I==null?void 0:I.classNames,cancelButtonStyle:I==null?void 0:I.cancelButtonStyle,actionButtonStyle:I==null?void 0:I.actionButtonStyle,removeToast:Le,toasts:ce.filter(ze=>ze.position==we.position),heights:z.filter(ze=>ze.position==we.position),setHeights:he,expandByDefault:a,gap:k,loadingIcon:O,expanded:H,pauseWhenPageIsHidden:J,swipeDirections:e.swipeDirections})})):null}))});const qP=({...e})=>{const{theme:t="system"}=xP();return v.jsx(VP,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var GP=Ux[" useId ".trim().toString()]||(()=>{}),KP=0;function Ec(e){const[t,n]=F.useState(GP());return hs(()=>{n(r=>r??String(KP++))},[e]),t?`radix-${t}`:""}const $P=["top","right","bottom","left"],Dc=Math.min,Ta=Math.max,V0=Math.round,k1=Math.floor,Yo=e=>({x:e,y:e}),XP={left:"right",right:"left",bottom:"top",top:"bottom"},YP={start:"end",end:"start"};function q2(e,t,n){return Ta(e,Dc(t,n))}function Pl(e,t){return typeof e=="function"?e(t):e}function Rl(e){return e.split("-")[0]}function $d(e){return e.split("-")[1]}function Bv(e){return e==="x"?"y":"x"}function Uv(e){return e==="y"?"height":"width"}const ZP=new Set(["top","bottom"]);function Go(e){return ZP.has(Rl(e))?"y":"x"}function zv(e){return Bv(Go(e))}function QP(e,t,n){n===void 0&&(n=!1);const r=$d(e),i=zv(e),a=Uv(i);let u=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(u=q0(u)),[u,q0(u)]}function JP(e){const t=q0(e);return[G2(e),t,G2(t)]}function G2(e){return e.replace(/start|end/g,t=>YP[t])}const E5=["left","right"],N5=["right","left"],eR=["top","bottom"],tR=["bottom","top"];function nR(e,t,n){switch(e){case"top":case"bottom":return n?t?N5:E5:t?E5:N5;case"left":case"right":return t?eR:tR;default:return[]}}function rR(e,t,n,r){const i=$d(e);let a=nR(Rl(e),n==="start",r);return i&&(a=a.map(u=>u+"-"+i),t&&(a=a.concat(a.map(G2)))),a}function q0(e){return e.replace(/left|right|bottom|top/g,t=>XP[t])}function iR(e){return{top:0,right:0,bottom:0,left:0,...e}}function f8(e){return typeof e!="number"?iR(e):{top:e,right:e,bottom:e,left:e}}function G0(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function I5(e,t,n){let{reference:r,floating:i}=e;const a=Go(t),u=zv(t),f=Uv(u),m=Rl(t),p=a==="y",y=r.x+r.width/2-i.width/2,S=r.y+r.height/2-i.height/2,E=r[f]/2-i[f]/2;let A;switch(m){case"top":A={x:y,y:r.y-i.height};break;case"bottom":A={x:y,y:r.y+r.height};break;case"right":A={x:r.x+r.width,y:S};break;case"left":A={x:r.x-i.width,y:S};break;default:A={x:r.x,y:r.y}}switch($d(t)){case"start":A[u]-=E*(n&&p?-1:1);break;case"end":A[u]+=E*(n&&p?-1:1);break}return A}const sR=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:u}=n,f=a.filter(Boolean),m=await(u.isRTL==null?void 0:u.isRTL(t));let p=await u.getElementRects({reference:e,floating:t,strategy:i}),{x:y,y:S}=I5(p,r,m),E=r,A={},R=0;for(let I=0;I<f.length;I++){const{name:P,fn:k}=f[I],{x:O,y:L,data:j,reset:J}=await k({x:y,y:S,initialPlacement:r,placement:E,strategy:i,middlewareData:A,rects:p,platform:u,elements:{reference:e,floating:t}});y=O??y,S=L??S,A={...A,[P]:{...A[P],...j}},J&&R<=50&&(R++,typeof J=="object"&&(J.placement&&(E=J.placement),J.rects&&(p=J.rects===!0?await u.getElementRects({reference:e,floating:t,strategy:i}):J.rects),{x:y,y:S}=I5(p,E,m)),I=-1)}return{x:y,y:S,placement:E,strategy:i,middlewareData:A}};async function ph(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:a,rects:u,elements:f,strategy:m}=e,{boundary:p="clippingAncestors",rootBoundary:y="viewport",elementContext:S="floating",altBoundary:E=!1,padding:A=0}=Pl(t,e),R=f8(A),P=f[E?S==="floating"?"reference":"floating":S],k=G0(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(P)))==null||n?P:P.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(f.floating)),boundary:p,rootBoundary:y,strategy:m})),O=S==="floating"?{x:r,y:i,width:u.floating.width,height:u.floating.height}:u.reference,L=await(a.getOffsetParent==null?void 0:a.getOffsetParent(f.floating)),j=await(a.isElement==null?void 0:a.isElement(L))?await(a.getScale==null?void 0:a.getScale(L))||{x:1,y:1}:{x:1,y:1},J=G0(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:O,offsetParent:L,strategy:m}):O);return{top:(k.top-J.top+R.top)/j.y,bottom:(J.bottom-k.bottom+R.bottom)/j.y,left:(k.left-J.left+R.left)/j.x,right:(J.right-k.right+R.right)/j.x}}const aR=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:a,platform:u,elements:f,middlewareData:m}=t,{element:p,padding:y=0}=Pl(e,t)||{};if(p==null)return{};const S=f8(y),E={x:n,y:r},A=zv(i),R=Uv(A),I=await u.getDimensions(p),P=A==="y",k=P?"top":"left",O=P?"bottom":"right",L=P?"clientHeight":"clientWidth",j=a.reference[R]+a.reference[A]-E[A]-a.floating[R],J=E[A]-a.reference[A],ce=await(u.getOffsetParent==null?void 0:u.getOffsetParent(p));let Y=ce?ce[L]:0;(!Y||!await(u.isElement==null?void 0:u.isElement(ce)))&&(Y=f.floating[L]||a.floating[R]);const Z=j/2-J/2,z=Y/2-I[R]/2-1,he=Dc(S[k],z),H=Dc(S[O],z),K=he,ue=Y-I[R]-H,oe=Y/2-I[R]/2+Z,te=q2(K,oe,ue),Ne=!m.arrow&&$d(i)!=null&&oe!==te&&a.reference[R]/2-(oe<K?he:H)-I[R]/2<0,Ce=Ne?oe<K?oe-K:oe-ue:0;return{[A]:E[A]+Ce,data:{[A]:te,centerOffset:oe-te-Ce,...Ne&&{alignmentOffset:Ce}},reset:Ne}}}),oR=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:a,rects:u,initialPlacement:f,platform:m,elements:p}=t,{mainAxis:y=!0,crossAxis:S=!0,fallbackPlacements:E,fallbackStrategy:A="bestFit",fallbackAxisSideDirection:R="none",flipAlignment:I=!0,...P}=Pl(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const k=Rl(i),O=Go(f),L=Rl(f)===f,j=await(m.isRTL==null?void 0:m.isRTL(p.floating)),J=E||(L||!I?[q0(f)]:JP(f)),ce=R!=="none";!E&&ce&&J.push(...rR(f,I,R,j));const Y=[f,...J],Z=await ph(t,P),z=[];let he=((r=a.flip)==null?void 0:r.overflows)||[];if(y&&z.push(Z[k]),S){const oe=QP(i,u,j);z.push(Z[oe[0]],Z[oe[1]])}if(he=[...he,{placement:i,overflows:z}],!z.every(oe=>oe<=0)){var H,K;const oe=(((H=a.flip)==null?void 0:H.index)||0)+1,te=Y[oe];if(te&&(!(S==="alignment"?O!==Go(te):!1)||he.every(ne=>ne.overflows[0]>0&&Go(ne.placement)===O)))return{data:{index:oe,overflows:he},reset:{placement:te}};let Ne=(K=he.filter(Ce=>Ce.overflows[0]<=0).sort((Ce,ne)=>Ce.overflows[1]-ne.overflows[1])[0])==null?void 0:K.placement;if(!Ne)switch(A){case"bestFit":{var ue;const Ce=(ue=he.filter(ne=>{if(ce){const _e=Go(ne.placement);return _e===O||_e==="y"}return!0}).map(ne=>[ne.placement,ne.overflows.filter(_e=>_e>0).reduce((_e,ve)=>_e+ve,0)]).sort((ne,_e)=>ne[1]-_e[1])[0])==null?void 0:ue[0];Ce&&(Ne=Ce);break}case"initialPlacement":Ne=f;break}if(i!==Ne)return{reset:{placement:Ne}}}return{}}}};function T5(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function k5(e){return $P.some(t=>e[t]>=0)}const lR=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=Pl(e,t);switch(r){case"referenceHidden":{const a=await ph(t,{...i,elementContext:"reference"}),u=T5(a,n.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:k5(u)}}}case"escaped":{const a=await ph(t,{...i,altBoundary:!0}),u=T5(a,n.floating);return{data:{escapedOffsets:u,escaped:k5(u)}}}default:return{}}}}},h8=new Set(["left","top"]);async function cR(e,t){const{placement:n,platform:r,elements:i}=e,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),u=Rl(n),f=$d(n),m=Go(n)==="y",p=h8.has(u)?-1:1,y=a&&m?-1:1,S=Pl(t,e);let{mainAxis:E,crossAxis:A,alignmentAxis:R}=typeof S=="number"?{mainAxis:S,crossAxis:0,alignmentAxis:null}:{mainAxis:S.mainAxis||0,crossAxis:S.crossAxis||0,alignmentAxis:S.alignmentAxis};return f&&typeof R=="number"&&(A=f==="end"?R*-1:R),m?{x:A*y,y:E*p}:{x:E*p,y:A*y}}const uR=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:a,placement:u,middlewareData:f}=t,m=await cR(t,e);return u===((n=f.offset)==null?void 0:n.placement)&&(r=f.arrow)!=null&&r.alignmentOffset?{}:{x:i+m.x,y:a+m.y,data:{...m,placement:u}}}}},dR=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:a=!0,crossAxis:u=!1,limiter:f={fn:P=>{let{x:k,y:O}=P;return{x:k,y:O}}},...m}=Pl(e,t),p={x:n,y:r},y=await ph(t,m),S=Go(Rl(i)),E=Bv(S);let A=p[E],R=p[S];if(a){const P=E==="y"?"top":"left",k=E==="y"?"bottom":"right",O=A+y[P],L=A-y[k];A=q2(O,A,L)}if(u){const P=S==="y"?"top":"left",k=S==="y"?"bottom":"right",O=R+y[P],L=R-y[k];R=q2(O,R,L)}const I=f.fn({...t,[E]:A,[S]:R});return{...I,data:{x:I.x-n,y:I.y-r,enabled:{[E]:a,[S]:u}}}}}},fR=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:a,middlewareData:u}=t,{offset:f=0,mainAxis:m=!0,crossAxis:p=!0}=Pl(e,t),y={x:n,y:r},S=Go(i),E=Bv(S);let A=y[E],R=y[S];const I=Pl(f,t),P=typeof I=="number"?{mainAxis:I,crossAxis:0}:{mainAxis:0,crossAxis:0,...I};if(m){const L=E==="y"?"height":"width",j=a.reference[E]-a.floating[L]+P.mainAxis,J=a.reference[E]+a.reference[L]-P.mainAxis;A<j?A=j:A>J&&(A=J)}if(p){var k,O;const L=E==="y"?"width":"height",j=h8.has(Rl(i)),J=a.reference[S]-a.floating[L]+(j&&((k=u.offset)==null?void 0:k[S])||0)+(j?0:P.crossAxis),ce=a.reference[S]+a.reference[L]+(j?0:((O=u.offset)==null?void 0:O[S])||0)-(j?P.crossAxis:0);R<J?R=J:R>ce&&(R=ce)}return{[E]:A,[S]:R}}}},hR=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:a,platform:u,elements:f}=t,{apply:m=()=>{},...p}=Pl(e,t),y=await ph(t,p),S=Rl(i),E=$d(i),A=Go(i)==="y",{width:R,height:I}=a.floating;let P,k;S==="top"||S==="bottom"?(P=S,k=E===(await(u.isRTL==null?void 0:u.isRTL(f.floating))?"start":"end")?"left":"right"):(k=S,P=E==="end"?"top":"bottom");const O=I-y.top-y.bottom,L=R-y.left-y.right,j=Dc(I-y[P],O),J=Dc(R-y[k],L),ce=!t.middlewareData.shift;let Y=j,Z=J;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(Z=L),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(Y=O),ce&&!E){const he=Ta(y.left,0),H=Ta(y.right,0),K=Ta(y.top,0),ue=Ta(y.bottom,0);A?Z=R-2*(he!==0||H!==0?he+H:Ta(y.left,y.right)):Y=I-2*(K!==0||ue!==0?K+ue:Ta(y.top,y.bottom))}await m({...t,availableWidth:Z,availableHeight:Y});const z=await u.getDimensions(f.floating);return R!==z.width||I!==z.height?{reset:{rects:!0}}:{}}}};function Fp(){return typeof window<"u"}function Xd(e){return p8(e)?(e.nodeName||"").toLowerCase():"#document"}function La(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function tl(e){var t;return(t=(p8(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function p8(e){return Fp()?e instanceof Node||e instanceof La(e).Node:!1}function _o(e){return Fp()?e instanceof Element||e instanceof La(e).Element:!1}function Jo(e){return Fp()?e instanceof HTMLElement||e instanceof La(e).HTMLElement:!1}function P5(e){return!Fp()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof La(e).ShadowRoot}const pR=new Set(["inline","contents"]);function zh(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Co(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!pR.has(i)}const mR=new Set(["table","td","th"]);function gR(e){return mR.has(Xd(e))}const xR=[":popover-open",":modal"];function Bp(e){return xR.some(t=>{try{return e.matches(t)}catch{return!1}})}const vR=["transform","translate","scale","rotate","perspective"],yR=["transform","translate","scale","rotate","perspective","filter"],wR=["paint","layout","strict","content"];function Wv(e){const t=Hv(),n=_o(e)?Co(e):e;return vR.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||yR.some(r=>(n.willChange||"").includes(r))||wR.some(r=>(n.contain||"").includes(r))}function bR(e){let t=Mc(e);for(;Jo(t)&&!jd(t);){if(Wv(t))return t;if(Bp(t))return null;t=Mc(t)}return null}function Hv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const AR=new Set(["html","body","#document"]);function jd(e){return AR.has(Xd(e))}function Co(e){return La(e).getComputedStyle(e)}function Up(e){return _o(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Mc(e){if(Xd(e)==="html")return e;const t=e.assignedSlot||e.parentNode||P5(e)&&e.host||tl(e);return P5(t)?t.host:t}function m8(e){const t=Mc(e);return jd(t)?e.ownerDocument?e.ownerDocument.body:e.body:Jo(t)&&zh(t)?t:m8(t)}function mh(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=m8(e),a=i===((r=e.ownerDocument)==null?void 0:r.body),u=La(i);if(a){const f=K2(u);return t.concat(u,u.visualViewport||[],zh(i)?i:[],f&&n?mh(f):[])}return t.concat(i,mh(i,[],n))}function K2(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function g8(e){const t=Co(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Jo(e),a=i?e.offsetWidth:n,u=i?e.offsetHeight:r,f=V0(n)!==a||V0(r)!==u;return f&&(n=a,r=u),{width:n,height:r,$:f}}function Vv(e){return _o(e)?e:e.contextElement}function dd(e){const t=Vv(e);if(!Jo(t))return Yo(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:a}=g8(t);let u=(a?V0(n.width):n.width)/r,f=(a?V0(n.height):n.height)/i;return(!u||!Number.isFinite(u))&&(u=1),(!f||!Number.isFinite(f))&&(f=1),{x:u,y:f}}const SR=Yo(0);function x8(e){const t=La(e);return!Hv()||!t.visualViewport?SR:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function _R(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==La(e)?!1:t}function vu(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),a=Vv(e);let u=Yo(1);t&&(r?_o(r)&&(u=dd(r)):u=dd(e));const f=_R(a,n,r)?x8(a):Yo(0);let m=(i.left+f.x)/u.x,p=(i.top+f.y)/u.y,y=i.width/u.x,S=i.height/u.y;if(a){const E=La(a),A=r&&_o(r)?La(r):r;let R=E,I=K2(R);for(;I&&r&&A!==R;){const P=dd(I),k=I.getBoundingClientRect(),O=Co(I),L=k.left+(I.clientLeft+parseFloat(O.paddingLeft))*P.x,j=k.top+(I.clientTop+parseFloat(O.paddingTop))*P.y;m*=P.x,p*=P.y,y*=P.x,S*=P.y,m+=L,p+=j,R=La(I),I=K2(R)}}return G0({width:y,height:S,x:m,y:p})}function qv(e,t){const n=Up(e).scrollLeft;return t?t.left+n:vu(tl(e)).left+n}function v8(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),i=r.left+t.scrollLeft-(n?0:qv(e,r)),a=r.top+t.scrollTop;return{x:i,y:a}}function CR(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const a=i==="fixed",u=tl(r),f=t?Bp(t.floating):!1;if(r===u||f&&a)return n;let m={scrollLeft:0,scrollTop:0},p=Yo(1);const y=Yo(0),S=Jo(r);if((S||!S&&!a)&&((Xd(r)!=="body"||zh(u))&&(m=Up(r)),Jo(r))){const A=vu(r);p=dd(r),y.x=A.x+r.clientLeft,y.y=A.y+r.clientTop}const E=u&&!S&&!a?v8(u,m,!0):Yo(0);return{width:n.width*p.x,height:n.height*p.y,x:n.x*p.x-m.scrollLeft*p.x+y.x+E.x,y:n.y*p.y-m.scrollTop*p.y+y.y+E.y}}function ER(e){return Array.from(e.getClientRects())}function NR(e){const t=tl(e),n=Up(e),r=e.ownerDocument.body,i=Ta(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=Ta(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let u=-n.scrollLeft+qv(e);const f=-n.scrollTop;return Co(r).direction==="rtl"&&(u+=Ta(t.clientWidth,r.clientWidth)-i),{width:i,height:a,x:u,y:f}}function IR(e,t){const n=La(e),r=tl(e),i=n.visualViewport;let a=r.clientWidth,u=r.clientHeight,f=0,m=0;if(i){a=i.width,u=i.height;const p=Hv();(!p||p&&t==="fixed")&&(f=i.offsetLeft,m=i.offsetTop)}return{width:a,height:u,x:f,y:m}}const TR=new Set(["absolute","fixed"]);function kR(e,t){const n=vu(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,a=Jo(e)?dd(e):Yo(1),u=e.clientWidth*a.x,f=e.clientHeight*a.y,m=i*a.x,p=r*a.y;return{width:u,height:f,x:m,y:p}}function R5(e,t,n){let r;if(t==="viewport")r=IR(e,n);else if(t==="document")r=NR(tl(e));else if(_o(t))r=kR(t,n);else{const i=x8(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return G0(r)}function y8(e,t){const n=Mc(e);return n===t||!_o(n)||jd(n)?!1:Co(n).position==="fixed"||y8(n,t)}function PR(e,t){const n=t.get(e);if(n)return n;let r=mh(e,[],!1).filter(f=>_o(f)&&Xd(f)!=="body"),i=null;const a=Co(e).position==="fixed";let u=a?Mc(e):e;for(;_o(u)&&!jd(u);){const f=Co(u),m=Wv(u);!m&&f.position==="fixed"&&(i=null),(a?!m&&!i:!m&&f.position==="static"&&!!i&&TR.has(i.position)||zh(u)&&!m&&y8(e,u))?r=r.filter(y=>y!==u):i=f,u=Mc(u)}return t.set(e,r),r}function RR(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const u=[...n==="clippingAncestors"?Bp(t)?[]:PR(t,this._c):[].concat(n),r],f=u[0],m=u.reduce((p,y)=>{const S=R5(t,y,i);return p.top=Ta(S.top,p.top),p.right=Dc(S.right,p.right),p.bottom=Dc(S.bottom,p.bottom),p.left=Ta(S.left,p.left),p},R5(t,f,i));return{width:m.right-m.left,height:m.bottom-m.top,x:m.left,y:m.top}}function OR(e){const{width:t,height:n}=g8(e);return{width:t,height:n}}function LR(e,t,n){const r=Jo(t),i=tl(t),a=n==="fixed",u=vu(e,!0,a,t);let f={scrollLeft:0,scrollTop:0};const m=Yo(0);function p(){m.x=qv(i)}if(r||!r&&!a)if((Xd(t)!=="body"||zh(i))&&(f=Up(t)),r){const A=vu(t,!0,a,t);m.x=A.x+t.clientLeft,m.y=A.y+t.clientTop}else i&&p();a&&!r&&i&&p();const y=i&&!r&&!a?v8(i,f):Yo(0),S=u.left+f.scrollLeft-m.x-y.x,E=u.top+f.scrollTop-m.y-y.y;return{x:S,y:E,width:u.width,height:u.height}}function tg(e){return Co(e).position==="static"}function O5(e,t){if(!Jo(e)||Co(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return tl(e)===n&&(n=n.ownerDocument.body),n}function w8(e,t){const n=La(e);if(Bp(e))return n;if(!Jo(e)){let i=Mc(e);for(;i&&!jd(i);){if(_o(i)&&!tg(i))return i;i=Mc(i)}return n}let r=O5(e,t);for(;r&&gR(r)&&tg(r);)r=O5(r,t);return r&&jd(r)&&tg(r)&&!Wv(r)?n:r||bR(e)||n}const DR=async function(e){const t=this.getOffsetParent||w8,n=this.getDimensions,r=await n(e.floating);return{reference:LR(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function MR(e){return Co(e).direction==="rtl"}const jR={convertOffsetParentRelativeRectToViewportRelativeRect:CR,getDocumentElement:tl,getClippingRect:RR,getOffsetParent:w8,getElementRects:DR,getClientRects:ER,getDimensions:OR,getScale:dd,isElement:_o,isRTL:MR};function b8(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function FR(e,t){let n=null,r;const i=tl(e);function a(){var f;clearTimeout(r),(f=n)==null||f.disconnect(),n=null}function u(f,m){f===void 0&&(f=!1),m===void 0&&(m=1),a();const p=e.getBoundingClientRect(),{left:y,top:S,width:E,height:A}=p;if(f||t(),!E||!A)return;const R=k1(S),I=k1(i.clientWidth-(y+E)),P=k1(i.clientHeight-(S+A)),k=k1(y),L={rootMargin:-R+"px "+-I+"px "+-P+"px "+-k+"px",threshold:Ta(0,Dc(1,m))||1};let j=!0;function J(ce){const Y=ce[0].intersectionRatio;if(Y!==m){if(!j)return u();Y?u(!1,Y):r=setTimeout(()=>{u(!1,1e-7)},1e3)}Y===1&&!b8(p,e.getBoundingClientRect())&&u(),j=!1}try{n=new IntersectionObserver(J,{...L,root:i.ownerDocument})}catch{n=new IntersectionObserver(J,L)}n.observe(e)}return u(!0),a}function BR(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:m=!1}=r,p=Vv(e),y=i||a?[...p?mh(p):[],...mh(t)]:[];y.forEach(k=>{i&&k.addEventListener("scroll",n,{passive:!0}),a&&k.addEventListener("resize",n)});const S=p&&f?FR(p,n):null;let E=-1,A=null;u&&(A=new ResizeObserver(k=>{let[O]=k;O&&O.target===p&&A&&(A.unobserve(t),cancelAnimationFrame(E),E=requestAnimationFrame(()=>{var L;(L=A)==null||L.observe(t)})),n()}),p&&!m&&A.observe(p),A.observe(t));let R,I=m?vu(e):null;m&&P();function P(){const k=vu(e);I&&!b8(I,k)&&n(),I=k,R=requestAnimationFrame(P)}return n(),()=>{var k;y.forEach(O=>{i&&O.removeEventListener("scroll",n),a&&O.removeEventListener("resize",n)}),S==null||S(),(k=A)==null||k.disconnect(),A=null,m&&cancelAnimationFrame(R)}}const UR=uR,zR=dR,WR=oR,HR=hR,VR=lR,L5=aR,qR=fR,GR=(e,t,n)=>{const r=new Map,i={platform:jR,...n},a={...i.platform,_c:r};return sR(e,t,{...i,platform:a})};var KR=typeof document<"u",$R=function(){},a0=KR?F.useLayoutEffect:$R;function K0(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!K0(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const a=i[r];if(!(a==="_owner"&&e.$$typeof)&&!K0(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function A8(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function D5(e,t){const n=A8(e);return Math.round(t*n)/n}function ng(e){const t=F.useRef(e);return a0(()=>{t.current=e}),t}function XR(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:u}={},transform:f=!0,whileElementsMounted:m,open:p}=e,[y,S]=F.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[E,A]=F.useState(r);K0(E,r)||A(r);const[R,I]=F.useState(null),[P,k]=F.useState(null),O=F.useCallback(ne=>{ne!==ce.current&&(ce.current=ne,I(ne))},[]),L=F.useCallback(ne=>{ne!==Y.current&&(Y.current=ne,k(ne))},[]),j=a||R,J=u||P,ce=F.useRef(null),Y=F.useRef(null),Z=F.useRef(y),z=m!=null,he=ng(m),H=ng(i),K=ng(p),ue=F.useCallback(()=>{if(!ce.current||!Y.current)return;const ne={placement:t,strategy:n,middleware:E};H.current&&(ne.platform=H.current),GR(ce.current,Y.current,ne).then(_e=>{const ve={..._e,isPositioned:K.current!==!1};oe.current&&!K0(Z.current,ve)&&(Z.current=ve,Nu.flushSync(()=>{S(ve)}))})},[E,t,n,H,K]);a0(()=>{p===!1&&Z.current.isPositioned&&(Z.current.isPositioned=!1,S(ne=>({...ne,isPositioned:!1})))},[p]);const oe=F.useRef(!1);a0(()=>(oe.current=!0,()=>{oe.current=!1}),[]),a0(()=>{if(j&&(ce.current=j),J&&(Y.current=J),j&&J){if(he.current)return he.current(j,J,ue);ue()}},[j,J,ue,he,z]);const te=F.useMemo(()=>({reference:ce,floating:Y,setReference:O,setFloating:L}),[O,L]),Ne=F.useMemo(()=>({reference:j,floating:J}),[j,J]),Ce=F.useMemo(()=>{const ne={position:n,left:0,top:0};if(!Ne.floating)return ne;const _e=D5(Ne.floating,y.x),ve=D5(Ne.floating,y.y);return f?{...ne,transform:"translate("+_e+"px, "+ve+"px)",...A8(Ne.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:_e,top:ve}},[n,f,Ne.floating,y.x,y.y]);return F.useMemo(()=>({...y,update:ue,refs:te,elements:Ne,floatingStyles:Ce}),[y,ue,te,Ne,Ce])}const YR=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?L5({element:r.current,padding:i}).fn(n):{}:r?L5({element:r,padding:i}).fn(n):{}}}},ZR=(e,t)=>({...UR(e),options:[e,t]}),QR=(e,t)=>({...zR(e),options:[e,t]}),JR=(e,t)=>({...qR(e),options:[e,t]}),eO=(e,t)=>({...WR(e),options:[e,t]}),tO=(e,t)=>({...HR(e),options:[e,t]}),nO=(e,t)=>({...VR(e),options:[e,t]}),rO=(e,t)=>({...YR(e),options:[e,t]});var iO="Arrow",S8=F.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...a}=e;return v.jsx(Bn.svg,{...a,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:v.jsx("polygon",{points:"0,0 30,0 15,10"})})});S8.displayName=iO;var sO=S8;function aO(e){const[t,n]=F.useState(void 0);return hs(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let u,f;if("borderBoxSize"in a){const m=a.borderBoxSize,p=Array.isArray(m)?m[0]:m;u=p.inlineSize,f=p.blockSize}else u=e.offsetWidth,f=e.offsetHeight;n({width:u,height:f})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Gv="Popper",[_8,zp]=Ml(Gv),[oO,C8]=_8(Gv),E8=e=>{const{__scopePopper:t,children:n}=e,[r,i]=F.useState(null);return v.jsx(oO,{scope:t,anchor:r,onAnchorChange:i,children:n})};E8.displayName=Gv;var N8="PopperAnchor",I8=F.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,a=C8(N8,n),u=F.useRef(null),f=Pr(t,u);return F.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||u.current)}),r?null:v.jsx(Bn.div,{...i,ref:f})});I8.displayName=N8;var Kv="PopperContent",[lO,cO]=_8(Kv),T8=F.forwardRef((e,t)=>{var we,Re,Ie,je,ze,Ge;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:a="center",alignOffset:u=0,arrowPadding:f=0,avoidCollisions:m=!0,collisionBoundary:p=[],collisionPadding:y=0,sticky:S="partial",hideWhenDetached:E=!1,updatePositionStrategy:A="optimized",onPlaced:R,...I}=e,P=C8(Kv,n),[k,O]=F.useState(null),L=Pr(t,Je=>O(Je)),[j,J]=F.useState(null),ce=aO(j),Y=(ce==null?void 0:ce.width)??0,Z=(ce==null?void 0:ce.height)??0,z=r+(a!=="center"?"-"+a:""),he=typeof y=="number"?y:{top:0,right:0,bottom:0,left:0,...y},H=Array.isArray(p)?p:[p],K=H.length>0,ue={padding:he,boundary:H.filter(dO),altBoundary:K},{refs:oe,floatingStyles:te,placement:Ne,isPositioned:Ce,middlewareData:ne}=XR({strategy:"fixed",placement:z,whileElementsMounted:(...Je)=>BR(...Je,{animationFrame:A==="always"}),elements:{reference:P.anchor},middleware:[ZR({mainAxis:i+Z,alignmentAxis:u}),m&&QR({mainAxis:!0,crossAxis:!1,limiter:S==="partial"?JR():void 0,...ue}),m&&eO({...ue}),tO({...ue,apply:({elements:Je,rects:Ye,availableWidth:be,availableHeight:ln})=>{const{width:Lt,height:gt}=Ye.reference,Qe=Je.floating.style;Qe.setProperty("--radix-popper-available-width",`${be}px`),Qe.setProperty("--radix-popper-available-height",`${ln}px`),Qe.setProperty("--radix-popper-anchor-width",`${Lt}px`),Qe.setProperty("--radix-popper-anchor-height",`${gt}px`)}}),j&&rO({element:j,padding:f}),fO({arrowWidth:Y,arrowHeight:Z}),E&&nO({strategy:"referenceHidden",...ue})]}),[_e,ve]=R8(Ne),Le=Za(R);hs(()=>{Ce&&(Le==null||Le())},[Ce,Le]);const W=(we=ne.arrow)==null?void 0:we.x,ae=(Re=ne.arrow)==null?void 0:Re.y,fe=((Ie=ne.arrow)==null?void 0:Ie.centerOffset)!==0,[Ee,se]=F.useState();return hs(()=>{k&&se(window.getComputedStyle(k).zIndex)},[k]),v.jsx("div",{ref:oe.setFloating,"data-radix-popper-content-wrapper":"",style:{...te,transform:Ce?te.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ee,"--radix-popper-transform-origin":[(je=ne.transformOrigin)==null?void 0:je.x,(ze=ne.transformOrigin)==null?void 0:ze.y].join(" "),...((Ge=ne.hide)==null?void 0:Ge.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:v.jsx(lO,{scope:n,placedSide:_e,onArrowChange:J,arrowX:W,arrowY:ae,shouldHideArrow:fe,children:v.jsx(Bn.div,{"data-side":_e,"data-align":ve,...I,ref:L,style:{...I.style,animation:Ce?void 0:"none"}})})})});T8.displayName=Kv;var k8="PopperArrow",uO={top:"bottom",right:"left",bottom:"top",left:"right"},P8=F.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,a=cO(k8,r),u=uO[a.placedSide];return v.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:v.jsx(sO,{...i,ref:n,style:{...i.style,display:"block"}})})});P8.displayName=k8;function dO(e){return e!==null}var fO=e=>({name:"transformOrigin",options:e,fn(t){var P,k,O;const{placement:n,rects:r,middlewareData:i}=t,u=((P=i.arrow)==null?void 0:P.centerOffset)!==0,f=u?0:e.arrowWidth,m=u?0:e.arrowHeight,[p,y]=R8(n),S={start:"0%",center:"50%",end:"100%"}[y],E=(((k=i.arrow)==null?void 0:k.x)??0)+f/2,A=(((O=i.arrow)==null?void 0:O.y)??0)+m/2;let R="",I="";return p==="bottom"?(R=u?S:`${E}px`,I=`${-m}px`):p==="top"?(R=u?S:`${E}px`,I=`${r.floating.height+m}px`):p==="right"?(R=`${-m}px`,I=u?S:`${A}px`):p==="left"&&(R=`${r.floating.width+m}px`,I=u?S:`${A}px`),{data:{x:R,y:I}}}});function R8(e){const[t,n="center"]=e.split("-");return[t,n]}var hO=E8,O8=I8,L8=T8,D8=P8,[Wp,UW]=Ml("Tooltip",[zp]),$v=zp(),M8="TooltipProvider",pO=700,M5="tooltip.open",[mO,j8]=Wp(M8),F8=e=>{const{__scopeTooltip:t,delayDuration:n=pO,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:a}=e,u=F.useRef(!0),f=F.useRef(!1),m=F.useRef(0);return F.useEffect(()=>{const p=m.current;return()=>window.clearTimeout(p)},[]),v.jsx(mO,{scope:t,isOpenDelayedRef:u,delayDuration:n,onOpen:F.useCallback(()=>{window.clearTimeout(m.current),u.current=!1},[]),onClose:F.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>u.current=!0,r)},[r]),isPointerInTransitRef:f,onPointerInTransitChange:F.useCallback(p=>{f.current=p},[]),disableHoverableContent:i,children:a})};F8.displayName=M8;var B8="Tooltip",[zW,Hp]=Wp(B8),$2="TooltipTrigger",gO=F.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=Hp($2,n),a=j8($2,n),u=$v(n),f=F.useRef(null),m=Pr(t,f,i.onTriggerChange),p=F.useRef(!1),y=F.useRef(!1),S=F.useCallback(()=>p.current=!1,[]);return F.useEffect(()=>()=>document.removeEventListener("pointerup",S),[S]),v.jsx(O8,{asChild:!0,...u,children:v.jsx(Bn.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:m,onPointerMove:gn(e.onPointerMove,E=>{E.pointerType!=="touch"&&!y.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),y.current=!0)}),onPointerLeave:gn(e.onPointerLeave,()=>{i.onTriggerLeave(),y.current=!1}),onPointerDown:gn(e.onPointerDown,()=>{i.open&&i.onClose(),p.current=!0,document.addEventListener("pointerup",S,{once:!0})}),onFocus:gn(e.onFocus,()=>{p.current||i.onOpen()}),onBlur:gn(e.onBlur,i.onClose),onClick:gn(e.onClick,i.onClose)})})});gO.displayName=$2;var xO="TooltipPortal",[WW,vO]=Wp(xO,{forceMount:void 0}),Fd="TooltipContent",U8=F.forwardRef((e,t)=>{const n=vO(Fd,e.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...a}=e,u=Hp(Fd,e.__scopeTooltip);return v.jsx(Iu,{present:r||u.open,children:u.disableHoverableContent?v.jsx(z8,{side:i,...a,ref:t}):v.jsx(yO,{side:i,...a,ref:t})})}),yO=F.forwardRef((e,t)=>{const n=Hp(Fd,e.__scopeTooltip),r=j8(Fd,e.__scopeTooltip),i=F.useRef(null),a=Pr(t,i),[u,f]=F.useState(null),{trigger:m,onClose:p}=n,y=i.current,{onPointerInTransitChange:S}=r,E=F.useCallback(()=>{f(null),S(!1)},[S]),A=F.useCallback((R,I)=>{const P=R.currentTarget,k={x:R.clientX,y:R.clientY},O=_O(k,P.getBoundingClientRect()),L=CO(k,O),j=EO(I.getBoundingClientRect()),J=IO([...L,...j]);f(J),S(!0)},[S]);return F.useEffect(()=>()=>E(),[E]),F.useEffect(()=>{if(m&&y){const R=P=>A(P,y),I=P=>A(P,m);return m.addEventListener("pointerleave",R),y.addEventListener("pointerleave",I),()=>{m.removeEventListener("pointerleave",R),y.removeEventListener("pointerleave",I)}}},[m,y,A,E]),F.useEffect(()=>{if(u){const R=I=>{const P=I.target,k={x:I.clientX,y:I.clientY},O=(m==null?void 0:m.contains(P))||(y==null?void 0:y.contains(P)),L=!NO(k,u);O?E():L&&(E(),p())};return document.addEventListener("pointermove",R),()=>document.removeEventListener("pointermove",R)}},[m,y,u,p,E]),v.jsx(z8,{...e,ref:a})}),[wO,bO]=Wp(B8,{isInside:!1}),AO=ES("TooltipContent"),z8=F.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:u,...f}=e,m=Hp(Fd,n),p=$v(n),{onClose:y}=m;return F.useEffect(()=>(document.addEventListener(M5,y),()=>document.removeEventListener(M5,y)),[y]),F.useEffect(()=>{if(m.trigger){const S=E=>{const A=E.target;A!=null&&A.contains(m.trigger)&&y()};return window.addEventListener("scroll",S,{capture:!0}),()=>window.removeEventListener("scroll",S,{capture:!0})}},[m.trigger,y]),v.jsx(Fh,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:u,onFocusOutside:S=>S.preventDefault(),onDismiss:y,children:v.jsxs(L8,{"data-state":m.stateAttribute,...p,...f,ref:t,style:{...f.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[v.jsx(AO,{children:r}),v.jsx(wO,{scope:n,isInside:!0,children:v.jsx(zT,{id:m.contentId,role:"tooltip",children:i||r})})]})})});U8.displayName=Fd;var W8="TooltipArrow",SO=F.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=$v(n);return bO(W8,n).isInside?null:v.jsx(D8,{...i,...r,ref:t})});SO.displayName=W8;function _O(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(n,r,i,a)){case a:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function CO(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function EO(e){const{top:t,right:n,bottom:r,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:r},{x:i,y:r}]}function NO(e,t){const{x:n,y:r}=e;let i=!1;for(let a=0,u=t.length-1;a<t.length;u=a++){const f=t[a],m=t[u],p=f.x,y=f.y,S=m.x,E=m.y;y>r!=E>r&&n<(S-p)*(r-y)/(E-y)+p&&(i=!i)}return i}function IO(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),TO(t)}function TO(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const i=e[r];for(;t.length>=2;){const a=t[t.length-1],u=t[t.length-2];if((a.x-u.x)*(i.y-u.y)>=(a.y-u.y)*(i.x-u.x))t.pop();else break}t.push(i)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const i=e[r];for(;n.length>=2;){const a=n[n.length-1],u=n[n.length-2];if((a.x-u.x)*(i.y-u.y)>=(a.y-u.y)*(i.x-u.x))n.pop();else break}n.push(i)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var kO=F8,H8=U8;const PO=kO,RO=F.forwardRef(({className:e,sideOffset:t=4,...n},r)=>v.jsx(H8,{ref:r,sideOffset:t,className:Ht("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));RO.displayName=H8.displayName;var Vp=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},qp=typeof window>"u"||"Deno"in globalThis;function mo(){}function OO(e,t){return typeof e=="function"?e(t):e}function LO(e){return typeof e=="number"&&e>=0&&e!==1/0}function DO(e,t){return Math.max(e+(t||0)-Date.now(),0)}function X2(e,t){return typeof e=="function"?e(t):e}function MO(e,t){return typeof e=="function"?e(t):e}function j5(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:a,queryKey:u,stale:f}=e;if(u){if(r){if(t.queryHash!==Xv(u,t.options))return!1}else if(!xh(t.queryKey,u))return!1}if(n!=="all"){const m=t.isActive();if(n==="active"&&!m||n==="inactive"&&m)return!1}return!(typeof f=="boolean"&&t.isStale()!==f||i&&i!==t.state.fetchStatus||a&&!a(t))}function F5(e,t){const{exact:n,status:r,predicate:i,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(n){if(gh(t.options.mutationKey)!==gh(a))return!1}else if(!xh(t.options.mutationKey,a))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function Xv(e,t){return((t==null?void 0:t.queryKeyHashFn)||gh)(e)}function gh(e){return JSON.stringify(e,(t,n)=>Y2(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function xh(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>xh(e[n],t[n])):!1}function V8(e,t){if(e===t)return e;const n=B5(e)&&B5(t);if(n||Y2(e)&&Y2(t)){const r=n?e:Object.keys(e),i=r.length,a=n?t:Object.keys(t),u=a.length,f=n?[]:{},m=new Set(r);let p=0;for(let y=0;y<u;y++){const S=n?y:a[y];(!n&&m.has(S)||n)&&e[S]===void 0&&t[S]===void 0?(f[S]=void 0,p++):(f[S]=V8(e[S],t[S]),f[S]===e[S]&&e[S]!==void 0&&p++)}return i===u&&p===i?e:f}return t}function B5(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Y2(e){if(!U5(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!U5(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function U5(e){return Object.prototype.toString.call(e)==="[object Object]"}function jO(e){return new Promise(t=>{setTimeout(t,e)})}function FO(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?V8(e,t):t}function BO(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function UO(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Yv=Symbol();function q8(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Yv?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var ru,oc,wd,t4,zO=(t4=class extends Vp{constructor(){super();pr(this,ru);pr(this,oc);pr(this,wd);kn(this,wd,t=>{if(!qp&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){lt(this,oc)||this.setEventListener(lt(this,wd))}onUnsubscribe(){var t;this.hasListeners()||((t=lt(this,oc))==null||t.call(this),kn(this,oc,void 0))}setEventListener(t){var n;kn(this,wd,t),(n=lt(this,oc))==null||n.call(this),kn(this,oc,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){lt(this,ru)!==t&&(kn(this,ru,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof lt(this,ru)=="boolean"?lt(this,ru):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ru=new WeakMap,oc=new WeakMap,wd=new WeakMap,t4),G8=new zO,bd,lc,Ad,n4,WO=(n4=class extends Vp{constructor(){super();pr(this,bd,!0);pr(this,lc);pr(this,Ad);kn(this,Ad,t=>{if(!qp&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){lt(this,lc)||this.setEventListener(lt(this,Ad))}onUnsubscribe(){var t;this.hasListeners()||((t=lt(this,lc))==null||t.call(this),kn(this,lc,void 0))}setEventListener(t){var n;kn(this,Ad,t),(n=lt(this,lc))==null||n.call(this),kn(this,lc,t(this.setOnline.bind(this)))}setOnline(t){lt(this,bd)!==t&&(kn(this,bd,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return lt(this,bd)}},bd=new WeakMap,lc=new WeakMap,Ad=new WeakMap,n4),$0=new WO;function HO(){let e,t;const n=new Promise((i,a)=>{e=i,t=a});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},n.reject=i=>{r({status:"rejected",reason:i}),t(i)},n}function VO(e){return Math.min(1e3*2**e,3e4)}function K8(e){return(e??"online")==="online"?$0.isOnline():!0}var $8=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function rg(e){return e instanceof $8}function X8(e){let t=!1,n=0,r=!1,i;const a=HO(),u=I=>{var P;r||(E(new $8(I)),(P=e.abort)==null||P.call(e))},f=()=>{t=!0},m=()=>{t=!1},p=()=>G8.isFocused()&&(e.networkMode==="always"||$0.isOnline())&&e.canRun(),y=()=>K8(e.networkMode)&&e.canRun(),S=I=>{var P;r||(r=!0,(P=e.onSuccess)==null||P.call(e,I),i==null||i(),a.resolve(I))},E=I=>{var P;r||(r=!0,(P=e.onError)==null||P.call(e,I),i==null||i(),a.reject(I))},A=()=>new Promise(I=>{var P;i=k=>{(r||p())&&I(k)},(P=e.onPause)==null||P.call(e)}).then(()=>{var I;i=void 0,r||(I=e.onContinue)==null||I.call(e)}),R=()=>{if(r)return;let I;const P=n===0?e.initialPromise:void 0;try{I=P??e.fn()}catch(k){I=Promise.reject(k)}Promise.resolve(I).then(S).catch(k=>{var ce;if(r)return;const O=e.retry??(qp?0:3),L=e.retryDelay??VO,j=typeof L=="function"?L(n,k):L,J=O===!0||typeof O=="number"&&n<O||typeof O=="function"&&O(n,k);if(t||!J){E(k);return}n++,(ce=e.onFail)==null||ce.call(e,n,k),jO(j).then(()=>p()?void 0:A()).then(()=>{t?E(k):R()})})};return{promise:a,cancel:u,continue:()=>(i==null||i(),a),cancelRetry:f,continueRetry:m,canStart:y,start:()=>(y()?R():A().then(R),a)}}var qO=e=>setTimeout(e,0);function GO(){let e=[],t=0,n=f=>{f()},r=f=>{f()},i=qO;const a=f=>{t?e.push(f):i(()=>{n(f)})},u=()=>{const f=e;e=[],f.length&&i(()=>{r(()=>{f.forEach(m=>{n(m)})})})};return{batch:f=>{let m;t++;try{m=f()}finally{t--,t||u()}return m},batchCalls:f=>(...m)=>{a(()=>{f(...m)})},schedule:a,setNotifyFunction:f=>{n=f},setBatchNotifyFunction:f=>{r=f},setScheduler:f=>{i=f}}}var Vs=GO(),iu,r4,Y8=(r4=class{constructor(){pr(this,iu)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),LO(this.gcTime)&&kn(this,iu,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(qp?1/0:5*60*1e3))}clearGcTimeout(){lt(this,iu)&&(clearTimeout(lt(this,iu)),kn(this,iu,void 0))}},iu=new WeakMap,r4),Sd,su,Ha,au,Ts,Ph,ou,go,fl,i4,KO=(i4=class extends Y8{constructor(t){super();pr(this,go);pr(this,Sd);pr(this,su);pr(this,Ha);pr(this,au);pr(this,Ts);pr(this,Ph);pr(this,ou);kn(this,ou,!1),kn(this,Ph,t.defaultOptions),this.setOptions(t.options),this.observers=[],kn(this,au,t.client),kn(this,Ha,lt(this,au).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,kn(this,Sd,XO(this.options)),this.state=t.state??lt(this,Sd),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=lt(this,Ts))==null?void 0:t.promise}setOptions(t){this.options={...lt(this,Ph),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&lt(this,Ha).remove(this)}setData(t,n){const r=FO(this.state.data,t,this.options);return As(this,go,fl).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){As(this,go,fl).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,i;const n=(r=lt(this,Ts))==null?void 0:r.promise;return(i=lt(this,Ts))==null||i.cancel(t),n?n.then(mo).catch(mo):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(lt(this,Sd))}isActive(){return this.observers.some(t=>MO(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Yv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>X2(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!DO(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=lt(this,Ts))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=lt(this,Ts))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),lt(this,Ha).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(lt(this,Ts)&&(lt(this,ou)?lt(this,Ts).cancel({revert:!0}):lt(this,Ts).cancelRetry()),this.scheduleGc()),lt(this,Ha).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||As(this,go,fl).call(this,{type:"invalidate"})}fetch(t,n){var p,y,S;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(lt(this,Ts))return lt(this,Ts).continueRetry(),lt(this,Ts).promise}if(t&&this.setOptions(t),!this.options.queryFn){const E=this.observers.find(A=>A.options.queryFn);E&&this.setOptions(E.options)}const r=new AbortController,i=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(kn(this,ou,!0),r.signal)})},a=()=>{const E=q8(this.options,n),R=(()=>{const I={client:lt(this,au),queryKey:this.queryKey,meta:this.meta};return i(I),I})();return kn(this,ou,!1),this.options.persister?this.options.persister(E,R,this):E(R)},f=(()=>{const E={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:lt(this,au),state:this.state,fetchFn:a};return i(E),E})();(p=this.options.behavior)==null||p.onFetch(f,this),kn(this,su,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((y=f.fetchOptions)==null?void 0:y.meta))&&As(this,go,fl).call(this,{type:"fetch",meta:(S=f.fetchOptions)==null?void 0:S.meta});const m=E=>{var A,R,I,P;rg(E)&&E.silent||As(this,go,fl).call(this,{type:"error",error:E}),rg(E)||((R=(A=lt(this,Ha).config).onError)==null||R.call(A,E,this),(P=(I=lt(this,Ha).config).onSettled)==null||P.call(I,this.state.data,E,this)),this.scheduleGc()};return kn(this,Ts,X8({initialPromise:n==null?void 0:n.initialPromise,fn:f.fetchFn,abort:r.abort.bind(r),onSuccess:E=>{var A,R,I,P;if(E===void 0){m(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(E)}catch(k){m(k);return}(R=(A=lt(this,Ha).config).onSuccess)==null||R.call(A,E,this),(P=(I=lt(this,Ha).config).onSettled)==null||P.call(I,E,this.state.error,this),this.scheduleGc()},onError:m,onFail:(E,A)=>{As(this,go,fl).call(this,{type:"failed",failureCount:E,error:A})},onPause:()=>{As(this,go,fl).call(this,{type:"pause"})},onContinue:()=>{As(this,go,fl).call(this,{type:"continue"})},retry:f.options.retry,retryDelay:f.options.retryDelay,networkMode:f.options.networkMode,canRun:()=>!0})),lt(this,Ts).start()}},Sd=new WeakMap,su=new WeakMap,Ha=new WeakMap,au=new WeakMap,Ts=new WeakMap,Ph=new WeakMap,ou=new WeakMap,go=new WeakSet,fl=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...$O(r.data,this.options),fetchMeta:t.meta??null};case"success":return kn(this,su,void 0),{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=t.error;return rg(i)&&i.revert&&lt(this,su)?{...lt(this,su),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Vs.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),lt(this,Ha).notify({query:this,type:"updated",action:t})})},i4);function $O(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:K8(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function XO(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Uo,s4,YO=(s4=class extends Vp{constructor(t={}){super();pr(this,Uo);this.config=t,kn(this,Uo,new Map)}build(t,n,r){const i=n.queryKey,a=n.queryHash??Xv(i,n);let u=this.get(a);return u||(u=new KO({client:t,queryKey:i,queryHash:a,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(i)}),this.add(u)),u}add(t){lt(this,Uo).has(t.queryHash)||(lt(this,Uo).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=lt(this,Uo).get(t.queryHash);n&&(t.destroy(),n===t&&lt(this,Uo).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Vs.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return lt(this,Uo).get(t)}getAll(){return[...lt(this,Uo).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>j5(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>j5(t,r)):n}notify(t){Vs.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Vs.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Vs.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Uo=new WeakMap,s4),zo,Ws,lu,Wo,Ql,a4,ZO=(a4=class extends Y8{constructor(t){super();pr(this,Wo);pr(this,zo);pr(this,Ws);pr(this,lu);this.mutationId=t.mutationId,kn(this,Ws,t.mutationCache),kn(this,zo,[]),this.state=t.state||QO(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){lt(this,zo).includes(t)||(lt(this,zo).push(t),this.clearGcTimeout(),lt(this,Ws).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){kn(this,zo,lt(this,zo).filter(n=>n!==t)),this.scheduleGc(),lt(this,Ws).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){lt(this,zo).length||(this.state.status==="pending"?this.scheduleGc():lt(this,Ws).remove(this))}continue(){var t;return((t=lt(this,lu))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,u,f,m,p,y,S,E,A,R,I,P,k,O,L,j,J,ce,Y,Z;const n=()=>{As(this,Wo,Ql).call(this,{type:"continue"})};kn(this,lu,X8({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(z,he)=>{As(this,Wo,Ql).call(this,{type:"failed",failureCount:z,error:he})},onPause:()=>{As(this,Wo,Ql).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>lt(this,Ws).canRun(this)}));const r=this.state.status==="pending",i=!lt(this,lu).canStart();try{if(r)n();else{As(this,Wo,Ql).call(this,{type:"pending",variables:t,isPaused:i}),await((u=(a=lt(this,Ws).config).onMutate)==null?void 0:u.call(a,t,this));const he=await((m=(f=this.options).onMutate)==null?void 0:m.call(f,t));he!==this.state.context&&As(this,Wo,Ql).call(this,{type:"pending",context:he,variables:t,isPaused:i})}const z=await lt(this,lu).start();return await((y=(p=lt(this,Ws).config).onSuccess)==null?void 0:y.call(p,z,t,this.state.context,this)),await((E=(S=this.options).onSuccess)==null?void 0:E.call(S,z,t,this.state.context)),await((R=(A=lt(this,Ws).config).onSettled)==null?void 0:R.call(A,z,null,this.state.variables,this.state.context,this)),await((P=(I=this.options).onSettled)==null?void 0:P.call(I,z,null,t,this.state.context)),As(this,Wo,Ql).call(this,{type:"success",data:z}),z}catch(z){try{throw await((O=(k=lt(this,Ws).config).onError)==null?void 0:O.call(k,z,t,this.state.context,this)),await((j=(L=this.options).onError)==null?void 0:j.call(L,z,t,this.state.context)),await((ce=(J=lt(this,Ws).config).onSettled)==null?void 0:ce.call(J,void 0,z,this.state.variables,this.state.context,this)),await((Z=(Y=this.options).onSettled)==null?void 0:Z.call(Y,void 0,z,t,this.state.context)),z}finally{As(this,Wo,Ql).call(this,{type:"error",error:z})}}finally{lt(this,Ws).runNext(this)}}},zo=new WeakMap,Ws=new WeakMap,lu=new WeakMap,Wo=new WeakSet,Ql=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Vs.batch(()=>{lt(this,zo).forEach(r=>{r.onMutationUpdate(t)}),lt(this,Ws).notify({mutation:this,type:"updated",action:t})})},a4);function QO(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var vl,xo,Rh,o4,JO=(o4=class extends Vp{constructor(t={}){super();pr(this,vl);pr(this,xo);pr(this,Rh);this.config=t,kn(this,vl,new Set),kn(this,xo,new Map),kn(this,Rh,0)}build(t,n,r){const i=new ZO({mutationCache:this,mutationId:++c1(this,Rh)._,options:t.defaultMutationOptions(n),state:r});return this.add(i),i}add(t){lt(this,vl).add(t);const n=P1(t);if(typeof n=="string"){const r=lt(this,xo).get(n);r?r.push(t):lt(this,xo).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(lt(this,vl).delete(t)){const n=P1(t);if(typeof n=="string"){const r=lt(this,xo).get(n);if(r)if(r.length>1){const i=r.indexOf(t);i!==-1&&r.splice(i,1)}else r[0]===t&&lt(this,xo).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=P1(t);if(typeof n=="string"){const r=lt(this,xo).get(n),i=r==null?void 0:r.find(a=>a.state.status==="pending");return!i||i===t}else return!0}runNext(t){var r;const n=P1(t);if(typeof n=="string"){const i=(r=lt(this,xo).get(n))==null?void 0:r.find(a=>a!==t&&a.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Vs.batch(()=>{lt(this,vl).forEach(t=>{this.notify({type:"removed",mutation:t})}),lt(this,vl).clear(),lt(this,xo).clear()})}getAll(){return Array.from(lt(this,vl))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>F5(n,r))}findAll(t={}){return this.getAll().filter(n=>F5(t,n))}notify(t){Vs.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Vs.batch(()=>Promise.all(t.map(n=>n.continue().catch(mo))))}},vl=new WeakMap,xo=new WeakMap,Rh=new WeakMap,o4);function P1(e){var t;return(t=e.options.scope)==null?void 0:t.id}function z5(e){return{onFetch:(t,n)=>{var y,S,E,A,R;const r=t.options,i=(E=(S=(y=t.fetchOptions)==null?void 0:y.meta)==null?void 0:S.fetchMore)==null?void 0:E.direction,a=((A=t.state.data)==null?void 0:A.pages)||[],u=((R=t.state.data)==null?void 0:R.pageParams)||[];let f={pages:[],pageParams:[]},m=0;const p=async()=>{let I=!1;const P=L=>{Object.defineProperty(L,"signal",{enumerable:!0,get:()=>(t.signal.aborted?I=!0:t.signal.addEventListener("abort",()=>{I=!0}),t.signal)})},k=q8(t.options,t.fetchOptions),O=async(L,j,J)=>{if(I)return Promise.reject();if(j==null&&L.pages.length)return Promise.resolve(L);const Y=(()=>{const H={client:t.client,queryKey:t.queryKey,pageParam:j,direction:J?"backward":"forward",meta:t.options.meta};return P(H),H})(),Z=await k(Y),{maxPages:z}=t.options,he=J?UO:BO;return{pages:he(L.pages,Z,z),pageParams:he(L.pageParams,j,z)}};if(i&&a.length){const L=i==="backward",j=L?eL:W5,J={pages:a,pageParams:u},ce=j(r,J);f=await O(J,ce,L)}else{const L=e??a.length;do{const j=m===0?u[0]??r.initialPageParam:W5(r,f);if(m>0&&j==null)break;f=await O(f,j),m++}while(m<L)}return f};t.options.persister?t.fetchFn=()=>{var I,P;return(P=(I=t.options).persister)==null?void 0:P.call(I,p,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=p}}}function W5(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function eL(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var pi,cc,uc,_d,Cd,dc,Ed,Nd,l4,tL=(l4=class{constructor(e={}){pr(this,pi);pr(this,cc);pr(this,uc);pr(this,_d);pr(this,Cd);pr(this,dc);pr(this,Ed);pr(this,Nd);kn(this,pi,e.queryCache||new YO),kn(this,cc,e.mutationCache||new JO),kn(this,uc,e.defaultOptions||{}),kn(this,_d,new Map),kn(this,Cd,new Map),kn(this,dc,0)}mount(){c1(this,dc)._++,lt(this,dc)===1&&(kn(this,Ed,G8.subscribe(async e=>{e&&(await this.resumePausedMutations(),lt(this,pi).onFocus())})),kn(this,Nd,$0.subscribe(async e=>{e&&(await this.resumePausedMutations(),lt(this,pi).onOnline())})))}unmount(){var e,t;c1(this,dc)._--,lt(this,dc)===0&&((e=lt(this,Ed))==null||e.call(this),kn(this,Ed,void 0),(t=lt(this,Nd))==null||t.call(this),kn(this,Nd,void 0))}isFetching(e){return lt(this,pi).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return lt(this,cc).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=lt(this,pi).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=lt(this,pi).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(X2(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return lt(this,pi).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=lt(this,pi).get(r.queryHash),a=i==null?void 0:i.state.data,u=OO(t,a);if(u!==void 0)return lt(this,pi).build(this,r).setData(u,{...n,manual:!0})}setQueriesData(e,t,n){return Vs.batch(()=>lt(this,pi).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=lt(this,pi).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=lt(this,pi);Vs.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=lt(this,pi);return Vs.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=Vs.batch(()=>lt(this,pi).findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(mo).catch(mo)}invalidateQueries(e,t={}){return Vs.batch(()=>(lt(this,pi).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=Vs.batch(()=>lt(this,pi).findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,n);return n.throwOnError||(a=a.catch(mo)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(mo)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=lt(this,pi).build(this,t);return n.isStaleByTime(X2(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(mo).catch(mo)}fetchInfiniteQuery(e){return e.behavior=z5(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(mo).catch(mo)}ensureInfiniteQueryData(e){return e.behavior=z5(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return $0.isOnline()?lt(this,cc).resumePausedMutations():Promise.resolve()}getQueryCache(){return lt(this,pi)}getMutationCache(){return lt(this,cc)}getDefaultOptions(){return lt(this,uc)}setDefaultOptions(e){kn(this,uc,e)}setQueryDefaults(e,t){lt(this,_d).set(gh(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...lt(this,_d).values()],n={};return t.forEach(r=>{xh(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){lt(this,Cd).set(gh(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...lt(this,Cd).values()],n={};return t.forEach(r=>{xh(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...lt(this,uc).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Xv(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Yv&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...lt(this,uc).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){lt(this,pi).clear(),lt(this,cc).clear()}},pi=new WeakMap,cc=new WeakMap,uc=new WeakMap,_d=new WeakMap,Cd=new WeakMap,dc=new WeakMap,Ed=new WeakMap,Nd=new WeakMap,l4),nL=F.createContext(void 0),rL=({client:e,children:t})=>(F.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),v.jsx(nL.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vh(){return vh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vh.apply(this,arguments)}var pc;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(pc||(pc={}));const H5="popstate";function iL(e){e===void 0&&(e={});function t(r,i){let{pathname:a,search:u,hash:f}=r.location;return Z2("",{pathname:a,search:u,hash:f},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:X0(i)}return aL(t,n,null,e)}function li(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Z8(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function sL(){return Math.random().toString(36).substr(2,8)}function V5(e,t){return{usr:e.state,key:e.key,idx:t}}function Z2(e,t,n,r){return n===void 0&&(n=null),vh({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Yd(t):t,{state:n,key:t&&t.key||r||sL()})}function X0(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Yd(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function aL(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,u=i.history,f=pc.Pop,m=null,p=y();p==null&&(p=0,u.replaceState(vh({},u.state,{idx:p}),""));function y(){return(u.state||{idx:null}).idx}function S(){f=pc.Pop;let P=y(),k=P==null?null:P-p;p=P,m&&m({action:f,location:I.location,delta:k})}function E(P,k){f=pc.Push;let O=Z2(I.location,P,k);p=y()+1;let L=V5(O,p),j=I.createHref(O);try{u.pushState(L,"",j)}catch(J){if(J instanceof DOMException&&J.name==="DataCloneError")throw J;i.location.assign(j)}a&&m&&m({action:f,location:I.location,delta:1})}function A(P,k){f=pc.Replace;let O=Z2(I.location,P,k);p=y();let L=V5(O,p),j=I.createHref(O);u.replaceState(L,"",j),a&&m&&m({action:f,location:I.location,delta:0})}function R(P){let k=i.location.origin!=="null"?i.location.origin:i.location.href,O=typeof P=="string"?P:X0(P);return O=O.replace(/ $/,"%20"),li(k,"No window.location.(origin|href) available to create URL for href: "+O),new URL(O,k)}let I={get action(){return f},get location(){return e(i,u)},listen(P){if(m)throw new Error("A history only accepts one active listener");return i.addEventListener(H5,S),m=P,()=>{i.removeEventListener(H5,S),m=null}},createHref(P){return t(i,P)},createURL:R,encodeLocation(P){let k=R(P);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:E,replace:A,go(P){return u.go(P)}};return I}var q5;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(q5||(q5={}));function oL(e,t,n){return n===void 0&&(n="/"),lL(e,t,n,!1)}function lL(e,t,n,r){let i=typeof t=="string"?Yd(t):t,a=Bd(i.pathname||"/",n);if(a==null)return null;let u=Q8(e);cL(u);let f=null;for(let m=0;f==null&&m<u.length;++m){let p=wL(a);f=vL(u[m],p,r)}return f}function Q8(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,u,f)=>{let m={relativePath:f===void 0?a.path||"":f,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};m.relativePath.startsWith("/")&&(li(m.relativePath.startsWith(r),'Absolute route path "'+m.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),m.relativePath=m.relativePath.slice(r.length));let p=Nc([r,m.relativePath]),y=n.concat(m);a.children&&a.children.length>0&&(li(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),Q8(a.children,t,y,p)),!(a.path==null&&!a.index)&&t.push({path:p,score:gL(p,a.index),routesMeta:y})};return e.forEach((a,u)=>{var f;if(a.path===""||!((f=a.path)!=null&&f.includes("?")))i(a,u);else for(let m of J8(a.path))i(a,u,m)}),t}function J8(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let u=J8(r.join("/")),f=[];return f.push(...u.map(m=>m===""?a:[a,m].join("/"))),i&&f.push(...u),f.map(m=>e.startsWith("/")&&m===""?"/":m)}function cL(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:xL(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const uL=/^:[\w-]+$/,dL=3,fL=2,hL=1,pL=10,mL=-2,G5=e=>e==="*";function gL(e,t){let n=e.split("/"),r=n.length;return n.some(G5)&&(r+=mL),t&&(r+=fL),n.filter(i=>!G5(i)).reduce((i,a)=>i+(uL.test(a)?dL:a===""?hL:pL),r)}function xL(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function vL(e,t,n){let{routesMeta:r}=e,i={},a="/",u=[];for(let f=0;f<r.length;++f){let m=r[f],p=f===r.length-1,y=a==="/"?t:t.slice(a.length)||"/",S=Y0({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},y),E=m.route;if(!S&&p&&n&&!r[r.length-1].route.index&&(S=Y0({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!S)return null;Object.assign(i,S.params),u.push({params:i,pathname:Nc([a,S.pathname]),pathnameBase:_L(Nc([a,S.pathnameBase])),route:E}),S.pathnameBase!=="/"&&(a=Nc([a,S.pathnameBase]))}return u}function Y0(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=yL(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],u=a.replace(/(.)\/+$/,"$1"),f=i.slice(1);return{params:r.reduce((p,y,S)=>{let{paramName:E,isOptional:A}=y;if(E==="*"){let I=f[S]||"";u=a.slice(0,a.length-I.length).replace(/(.)\/+$/,"$1")}const R=f[S];return A&&!R?p[E]=void 0:p[E]=(R||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:u,pattern:e}}function yL(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Z8(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,m)=>(r.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function wL(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Z8(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Bd(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function bL(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Yd(e):e;return{pathname:n?n.startsWith("/")?n:AL(n,t):t,search:CL(r),hash:EL(i)}}function AL(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function ig(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function SL(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Zv(e,t){let n=SL(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Qv(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Yd(e):(i=vh({},e),li(!i.pathname||!i.pathname.includes("?"),ig("?","pathname","search",i)),li(!i.pathname||!i.pathname.includes("#"),ig("#","pathname","hash",i)),li(!i.search||!i.search.includes("#"),ig("#","search","hash",i)));let a=e===""||i.pathname==="",u=a?"/":i.pathname,f;if(u==null)f=n;else{let S=t.length-1;if(!r&&u.startsWith("..")){let E=u.split("/");for(;E[0]==="..";)E.shift(),S-=1;i.pathname=E.join("/")}f=S>=0?t[S]:"/"}let m=bL(i,f),p=u&&u!=="/"&&u.endsWith("/"),y=(a||u===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||y)&&(m.pathname+="/"),m}const Nc=e=>e.join("/").replace(/\/\/+/g,"/"),_L=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),CL=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,EL=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function NL(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const e_=["post","put","patch","delete"];new Set(e_);const IL=["get",...e_];new Set(IL);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yh(){return yh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yh.apply(this,arguments)}const Gp=F.createContext(null),t_=F.createContext(null),jl=F.createContext(null),Kp=F.createContext(null),nl=F.createContext({outlet:null,matches:[],isDataRoute:!1}),n_=F.createContext(null);function TL(e,t){let{relative:n}=t===void 0?{}:t;Zd()||li(!1);let{basename:r,navigator:i}=F.useContext(jl),{hash:a,pathname:u,search:f}=$p(e,{relative:n}),m=u;return r!=="/"&&(m=u==="/"?r:Nc([r,u])),i.createHref({pathname:m,search:f,hash:a})}function Zd(){return F.useContext(Kp)!=null}function Tu(){return Zd()||li(!1),F.useContext(Kp).location}function r_(e){F.useContext(jl).static||F.useLayoutEffect(e)}function zc(){let{isDataRoute:e}=F.useContext(nl);return e?qL():kL()}function kL(){Zd()||li(!1);let e=F.useContext(Gp),{basename:t,future:n,navigator:r}=F.useContext(jl),{matches:i}=F.useContext(nl),{pathname:a}=Tu(),u=JSON.stringify(Zv(i,n.v7_relativeSplatPath)),f=F.useRef(!1);return r_(()=>{f.current=!0}),F.useCallback(function(p,y){if(y===void 0&&(y={}),!f.current)return;if(typeof p=="number"){r.go(p);return}let S=Qv(p,JSON.parse(u),a,y.relative==="path");e==null&&t!=="/"&&(S.pathname=S.pathname==="/"?t:Nc([t,S.pathname])),(y.replace?r.replace:r.push)(S,y.state,y)},[t,r,u,a,e])}const PL=F.createContext(null);function RL(e){let t=F.useContext(nl).outlet;return t&&F.createElement(PL.Provider,{value:e},t)}function OL(){let{matches:e}=F.useContext(nl),t=e[e.length-1];return t?t.params:{}}function $p(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=F.useContext(jl),{matches:i}=F.useContext(nl),{pathname:a}=Tu(),u=JSON.stringify(Zv(i,r.v7_relativeSplatPath));return F.useMemo(()=>Qv(e,JSON.parse(u),a,n==="path"),[e,u,a,n])}function LL(e,t){return DL(e,t)}function DL(e,t,n,r){Zd()||li(!1);let{navigator:i}=F.useContext(jl),{matches:a}=F.useContext(nl),u=a[a.length-1],f=u?u.params:{};u&&u.pathname;let m=u?u.pathnameBase:"/";u&&u.route;let p=Tu(),y;if(t){var S;let P=typeof t=="string"?Yd(t):t;m==="/"||(S=P.pathname)!=null&&S.startsWith(m)||li(!1),y=P}else y=p;let E=y.pathname||"/",A=E;if(m!=="/"){let P=m.replace(/^\//,"").split("/");A="/"+E.replace(/^\//,"").split("/").slice(P.length).join("/")}let R=oL(e,{pathname:A}),I=UL(R&&R.map(P=>Object.assign({},P,{params:Object.assign({},f,P.params),pathname:Nc([m,i.encodeLocation?i.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?m:Nc([m,i.encodeLocation?i.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),a,n,r);return t&&I?F.createElement(Kp.Provider,{value:{location:yh({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:pc.Pop}},I):I}function ML(){let e=VL(),t=NL(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},t),n?F.createElement("pre",{style:i},n):null,null)}const jL=F.createElement(ML,null);class FL extends F.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?F.createElement(nl.Provider,{value:this.props.routeContext},F.createElement(n_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function BL(e){let{routeContext:t,match:n,children:r}=e,i=F.useContext(Gp);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),F.createElement(nl.Provider,{value:t},r)}function UL(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let u=e,f=(i=n)==null?void 0:i.errors;if(f!=null){let y=u.findIndex(S=>S.route.id&&(f==null?void 0:f[S.route.id])!==void 0);y>=0||li(!1),u=u.slice(0,Math.min(u.length,y+1))}let m=!1,p=-1;if(n&&r&&r.v7_partialHydration)for(let y=0;y<u.length;y++){let S=u[y];if((S.route.HydrateFallback||S.route.hydrateFallbackElement)&&(p=y),S.route.id){let{loaderData:E,errors:A}=n,R=S.route.loader&&E[S.route.id]===void 0&&(!A||A[S.route.id]===void 0);if(S.route.lazy||R){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((y,S,E)=>{let A,R=!1,I=null,P=null;n&&(A=f&&S.route.id?f[S.route.id]:void 0,I=S.route.errorElement||jL,m&&(p<0&&E===0?(R=!0,P=null):p===E&&(R=!0,P=S.route.hydrateFallbackElement||null)));let k=t.concat(u.slice(0,E+1)),O=()=>{let L;return A?L=I:R?L=P:S.route.Component?L=F.createElement(S.route.Component,null):S.route.element?L=S.route.element:L=y,F.createElement(BL,{match:S,routeContext:{outlet:y,matches:k,isDataRoute:n!=null},children:L})};return n&&(S.route.ErrorBoundary||S.route.errorElement||E===0)?F.createElement(FL,{location:n.location,revalidation:n.revalidation,component:I,error:A,children:O(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):O()},null)}var i_=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(i_||{}),Z0=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Z0||{});function zL(e){let t=F.useContext(Gp);return t||li(!1),t}function WL(e){let t=F.useContext(t_);return t||li(!1),t}function HL(e){let t=F.useContext(nl);return t||li(!1),t}function s_(e){let t=HL(),n=t.matches[t.matches.length-1];return n.route.id||li(!1),n.route.id}function VL(){var e;let t=F.useContext(n_),n=WL(Z0.UseRouteError),r=s_(Z0.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function qL(){let{router:e}=zL(i_.UseNavigateStable),t=s_(Z0.UseNavigateStable),n=F.useRef(!1);return r_(()=>{n.current=!0}),F.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,yh({fromRouteId:t},a)))},[e,t])}function GL(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function K5(e){let{to:t,replace:n,state:r,relative:i}=e;Zd()||li(!1);let{future:a,static:u}=F.useContext(jl),{matches:f}=F.useContext(nl),{pathname:m}=Tu(),p=zc(),y=Qv(t,Zv(f,a.v7_relativeSplatPath),m,i==="path"),S=JSON.stringify(y);return F.useEffect(()=>p(JSON.parse(S),{replace:n,state:r,relative:i}),[p,S,i,n,r]),null}function KL(e){return RL(e.context)}function zi(e){li(!1)}function $L(e){let{basename:t="/",children:n=null,location:r,navigationType:i=pc.Pop,navigator:a,static:u=!1,future:f}=e;Zd()&&li(!1);let m=t.replace(/^\/*/,"/"),p=F.useMemo(()=>({basename:m,navigator:a,static:u,future:yh({v7_relativeSplatPath:!1},f)}),[m,f,a,u]);typeof r=="string"&&(r=Yd(r));let{pathname:y="/",search:S="",hash:E="",state:A=null,key:R="default"}=r,I=F.useMemo(()=>{let P=Bd(y,m);return P==null?null:{location:{pathname:P,search:S,hash:E,state:A,key:R},navigationType:i}},[m,y,S,E,A,R,i]);return I==null?null:F.createElement(jl.Provider,{value:p},F.createElement(Kp.Provider,{children:n,value:I}))}function a_(e){let{children:t,location:n}=e;return LL(Q2(t),n)}new Promise(()=>{});function Q2(e,t){t===void 0&&(t=[]);let n=[];return F.Children.forEach(e,(r,i)=>{if(!F.isValidElement(r))return;let a=[...t,i];if(r.type===F.Fragment){n.push.apply(n,Q2(r.props.children,a));return}r.type!==zi&&li(!1),!r.props.index||!r.props.children||li(!1);let u={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=Q2(r.props.children,a)),n.push(u)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Q0(){return Q0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Q0.apply(this,arguments)}function o_(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function XL(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function YL(e,t){return e.button===0&&(!t||t==="_self")&&!XL(e)}const ZL=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],QL=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],JL="6";try{window.__reactRouterVersion=JL}catch{}const eD=F.createContext({isTransitioning:!1}),tD="startTransition",$5=Ux[tD];function nD(e){let{basename:t,children:n,future:r,window:i}=e,a=F.useRef();a.current==null&&(a.current=iL({window:i,v5Compat:!0}));let u=a.current,[f,m]=F.useState({action:u.action,location:u.location}),{v7_startTransition:p}=r||{},y=F.useCallback(S=>{p&&$5?$5(()=>m(S)):m(S)},[m,p]);return F.useLayoutEffect(()=>u.listen(y),[u,y]),F.useEffect(()=>GL(r),[r]),F.createElement($L,{basename:t,children:n,location:f.location,navigationType:f.action,navigator:u,future:r})}const rD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",iD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ol=F.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:a,replace:u,state:f,target:m,to:p,preventScrollReset:y,viewTransition:S}=t,E=o_(t,ZL),{basename:A}=F.useContext(jl),R,I=!1;if(typeof p=="string"&&iD.test(p)&&(R=p,rD))try{let L=new URL(window.location.href),j=p.startsWith("//")?new URL(L.protocol+p):new URL(p),J=Bd(j.pathname,A);j.origin===L.origin&&J!=null?p=J+j.search+j.hash:I=!0}catch{}let P=TL(p,{relative:i}),k=oD(p,{replace:u,state:f,target:m,preventScrollReset:y,relative:i,viewTransition:S});function O(L){r&&r(L),L.defaultPrevented||k(L)}return F.createElement("a",Q0({},E,{href:R||P,onClick:I||a?r:O,ref:n,target:m}))}),sD=F.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:i=!1,className:a="",end:u=!1,style:f,to:m,viewTransition:p,children:y}=t,S=o_(t,QL),E=$p(m,{relative:S.relative}),A=Tu(),R=F.useContext(t_),{navigator:I,basename:P}=F.useContext(jl),k=R!=null&&lD(E)&&p===!0,O=I.encodeLocation?I.encodeLocation(E).pathname:E.pathname,L=A.pathname,j=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;i||(L=L.toLowerCase(),j=j?j.toLowerCase():null,O=O.toLowerCase()),j&&P&&(j=Bd(j,P)||j);const J=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let ce=L===O||!u&&L.startsWith(O)&&L.charAt(J)==="/",Y=j!=null&&(j===O||!u&&j.startsWith(O)&&j.charAt(O.length)==="/"),Z={isActive:ce,isPending:Y,isTransitioning:k},z=ce?r:void 0,he;typeof a=="function"?he=a(Z):he=[a,ce?"active":null,Y?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let H=typeof f=="function"?f(Z):f;return F.createElement(Ol,Q0({},S,{"aria-current":z,className:he,ref:n,style:H,to:m,viewTransition:p}),typeof y=="function"?y(Z):y)});var J2;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(J2||(J2={}));var X5;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(X5||(X5={}));function aD(e){let t=F.useContext(Gp);return t||li(!1),t}function oD(e,t){let{target:n,replace:r,state:i,preventScrollReset:a,relative:u,viewTransition:f}=t===void 0?{}:t,m=zc(),p=Tu(),y=$p(e,{relative:u});return F.useCallback(S=>{if(YL(S,n)){S.preventDefault();let E=r!==void 0?r:X0(p)===X0(y);m(e,{replace:E,state:i,preventScrollReset:a,relative:u,viewTransition:f})}},[p,m,y,r,i,n,e,a,u,f])}function lD(e,t){t===void 0&&(t={});let n=F.useContext(eD);n==null&&li(!1);let{basename:r}=aD(J2.useViewTransitionState),i=$p(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=Bd(n.currentLocation.pathname,r)||n.currentLocation.pathname,u=Bd(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Y0(i.pathname,u)!=null||Y0(i.pathname,a)!=null}var l_={exports:{}};(function(e,t){(function(n,r){e.exports=r()})($c,function(){var n=function(l,d){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,w){x.__proto__=w}||function(x,w){for(var _ in w)Object.prototype.hasOwnProperty.call(w,_)&&(x[_]=w[_])})(l,d)},r=function(){return(r=Object.assign||function(l){for(var d,x=1,w=arguments.length;x<w;x++)for(var _ in d=arguments[x])Object.prototype.hasOwnProperty.call(d,_)&&(l[_]=d[_]);return l}).apply(this,arguments)};function i(l,d,x){for(var w,_=0,N=d.length;_<N;_++)!w&&_ in d||((w=w||Array.prototype.slice.call(d,0,_))[_]=d[_]);return l.concat(w||Array.prototype.slice.call(d))}var a=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:$c,u=Object.keys,f=Array.isArray;function m(l,d){return typeof d!="object"||u(d).forEach(function(x){l[x]=d[x]}),l}typeof Promise>"u"||a.Promise||(a.Promise=Promise);var p=Object.getPrototypeOf,y={}.hasOwnProperty;function S(l,d){return y.call(l,d)}function E(l,d){typeof d=="function"&&(d=d(p(l))),(typeof Reflect>"u"?u:Reflect.ownKeys)(d).forEach(function(x){R(l,x,d[x])})}var A=Object.defineProperty;function R(l,d,x,w){A(l,d,m(x&&S(x,"get")&&typeof x.get=="function"?{get:x.get,set:x.set,configurable:!0}:{value:x,configurable:!0,writable:!0},w))}function I(l){return{from:function(d){return l.prototype=Object.create(d.prototype),R(l.prototype,"constructor",l),{extend:E.bind(null,l.prototype)}}}}var P=Object.getOwnPropertyDescriptor,k=[].slice;function O(l,d,x){return k.call(l,d,x)}function L(l,d){return d(l)}function j(l){if(!l)throw new Error("Assertion Failed")}function J(l){a.setImmediate?setImmediate(l):setTimeout(l,0)}function ce(l,d){if(typeof d=="string"&&S(l,d))return l[d];if(!d)return l;if(typeof d!="string"){for(var x=[],w=0,_=d.length;w<_;++w){var N=ce(l,d[w]);x.push(N)}return x}var D=d.indexOf(".");if(D!==-1){var U=l[d.substr(0,D)];return U==null?void 0:ce(U,d.substr(D+1))}}function Y(l,d,x){if(l&&d!==void 0&&!("isFrozen"in Object&&Object.isFrozen(l)))if(typeof d!="string"&&"length"in d){j(typeof x!="string"&&"length"in x);for(var w=0,_=d.length;w<_;++w)Y(l,d[w],x[w])}else{var N,D,U=d.indexOf(".");U!==-1?(N=d.substr(0,U),(D=d.substr(U+1))===""?x===void 0?f(l)&&!isNaN(parseInt(N))?l.splice(N,1):delete l[N]:l[N]=x:Y(U=!(U=l[N])||!S(l,N)?l[N]={}:U,D,x)):x===void 0?f(l)&&!isNaN(parseInt(d))?l.splice(d,1):delete l[d]:l[d]=x}}function Z(l){var d,x={};for(d in l)S(l,d)&&(x[d]=l[d]);return x}var z=[].concat;function he(l){return z.apply([],l)}var Nt="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(he([8,16,32,64].map(function(l){return["Int","Uint","Float"].map(function(d){return d+l+"Array"})}))).filter(function(l){return a[l]}),H=new Set(Nt.map(function(l){return a[l]})),K=null;function ue(l){return K=new WeakMap,l=function d(x){if(!x||typeof x!="object")return x;var w=K.get(x);if(w)return w;if(f(x)){w=[],K.set(x,w);for(var _=0,N=x.length;_<N;++_)w.push(d(x[_]))}else if(H.has(x.constructor))w=x;else{var D,U=p(x);for(D in w=U===Object.prototype?{}:Object.create(U),K.set(x,w),x)S(x,D)&&(w[D]=d(x[D]))}return w}(l),K=null,l}var oe={}.toString;function te(l){return oe.call(l).slice(8,-1)}var Ne=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Ce=typeof Ne=="symbol"?function(l){var d;return l!=null&&(d=l[Ne])&&d.apply(l)}:function(){return null};function ne(l,d){return d=l.indexOf(d),0<=d&&l.splice(d,1),0<=d}var _e={};function ve(l){var d,x,w,_;if(arguments.length===1){if(f(l))return l.slice();if(this===_e&&typeof l=="string")return[l];if(_=Ce(l)){for(x=[];!(w=_.next()).done;)x.push(w.value);return x}if(l==null)return[l];if(typeof(d=l.length)!="number")return[l];for(x=new Array(d);d--;)x[d]=l[d];return x}for(d=arguments.length,x=new Array(d);d--;)x[d]=arguments[d];return x}var Le=typeof Symbol<"u"?function(l){return l[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},an=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Mr=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(an),W={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function ae(l,d){this.name=l,this.message=d}function fe(l,d){return l+". Errors: "+Object.keys(d).map(function(x){return d[x].toString()}).filter(function(x,w,_){return _.indexOf(x)===w}).join(`
`)}function Ee(l,d,x,w){this.failures=d,this.failedKeys=w,this.successCount=x,this.message=fe(l,d)}function se(l,d){this.name="BulkError",this.failures=Object.keys(d).map(function(x){return d[x]}),this.failuresByPos=d,this.message=fe(l,this.failures)}I(ae).from(Error).extend({toString:function(){return this.name+": "+this.message}}),I(Ee).from(ae),I(se).from(ae);var we=Mr.reduce(function(l,d){return l[d]=d+"Error",l},{}),Re=ae,Ie=Mr.reduce(function(l,d){var x=d+"Error";function w(_,N){this.name=x,_?typeof _=="string"?(this.message="".concat(_).concat(N?`
 `+N:""),this.inner=N||null):typeof _=="object"&&(this.message="".concat(_.name," ").concat(_.message),this.inner=_):(this.message=W[d]||x,this.inner=null)}return I(w).from(Re),l[d]=w,l},{});Ie.Syntax=SyntaxError,Ie.Type=TypeError,Ie.Range=RangeError;var je=an.reduce(function(l,d){return l[d+"Error"]=Ie[d],l},{}),ze=Mr.reduce(function(l,d){return["Syntax","Type","Range"].indexOf(d)===-1&&(l[d+"Error"]=Ie[d]),l},{});function Ge(){}function Je(l){return l}function Ye(l,d){return l==null||l===Je?d:function(x){return d(l(x))}}function be(l,d){return function(){l.apply(this,arguments),d.apply(this,arguments)}}function ln(l,d){return l===Ge?d:function(){var x=l.apply(this,arguments);x!==void 0&&(arguments[0]=x);var w=this.onsuccess,_=this.onerror;this.onsuccess=null,this.onerror=null;var N=d.apply(this,arguments);return w&&(this.onsuccess=this.onsuccess?be(w,this.onsuccess):w),_&&(this.onerror=this.onerror?be(_,this.onerror):_),N!==void 0?N:x}}function Lt(l,d){return l===Ge?d:function(){l.apply(this,arguments);var x=this.onsuccess,w=this.onerror;this.onsuccess=this.onerror=null,d.apply(this,arguments),x&&(this.onsuccess=this.onsuccess?be(x,this.onsuccess):x),w&&(this.onerror=this.onerror?be(w,this.onerror):w)}}function gt(l,d){return l===Ge?d:function(x){var w=l.apply(this,arguments);m(x,w);var _=this.onsuccess,N=this.onerror;return this.onsuccess=null,this.onerror=null,x=d.apply(this,arguments),_&&(this.onsuccess=this.onsuccess?be(_,this.onsuccess):_),N&&(this.onerror=this.onerror?be(N,this.onerror):N),w===void 0?x===void 0?void 0:x:m(w,x)}}function Qe(l,d){return l===Ge?d:function(){return d.apply(this,arguments)!==!1&&l.apply(this,arguments)}}function Mt(l,d){return l===Ge?d:function(){var x=l.apply(this,arguments);if(x&&typeof x.then=="function"){for(var w=this,_=arguments.length,N=new Array(_);_--;)N[_]=arguments[_];return x.then(function(){return d.apply(w,N)})}return d.apply(this,arguments)}}ze.ModifyError=Ee,ze.DexieError=ae,ze.BulkError=se;var Ke=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function cn(l){Ke=l}var Ot={},bn=100,Nt=typeof Promise>"u"?[]:function(){var l=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[l,p(l),l];var d=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[d,p(d),l]}(),an=Nt[0],Mr=Nt[1],Nt=Nt[2],Mr=Mr&&Mr.then,An=an&&an.constructor,tn=!!Nt,Ct=function(l,d){At.push([l,d]),Ft&&(queueMicrotask(un),Ft=!1)},$t=!0,Ft=!0,Un=[],Vt=[],Ze=Je,It={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Ge,pgp:!1,env:{},finalize:Ge},it=It,At=[],pn=0,on=[];function ut(l){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var d=this._PSD=it;if(typeof l!="function"){if(l!==Ot)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&qt(this,this._value))}this._state=null,this._value=null,++d.ref,function x(w,_){try{_(function(N){if(w._state===null){if(N===w)throw new TypeError("A promise cannot be resolved with itself.");var D=w._lib&&Zn();N&&typeof N.then=="function"?x(w,function(U,G){N instanceof ut?N._then(U,G):N.then(U,G)}):(w._state=!0,w._value=N,Hn(w)),D&&kt()}},qt.bind(null,w))}catch(N){qt(w,N)}}(this,l)}var nn={get:function(){var l=it,d=St;function x(w,_){var N=this,D=!l.global&&(l!==it||d!==St),U=D&&!Rr(),G=new ut(function(X,re){Bt(N,new Pn(Ni(w,l,D,U),Ni(_,l,D,U),X,re,l))});return this._consoleTask&&(G._consoleTask=this._consoleTask),G}return x.prototype=Ot,x},set:function(l){R(this,"then",l&&l.prototype===Ot?nn:{get:function(){return l},set:nn.set})}};function Pn(l,d,x,w,_){this.onFulfilled=typeof l=="function"?l:null,this.onRejected=typeof d=="function"?d:null,this.resolve=x,this.reject=w,this.psd=_}function qt(l,d){var x,w;Vt.push(d),l._state===null&&(x=l._lib&&Zn(),d=Ze(d),l._state=!1,l._value=d,w=l,Un.some(function(_){return _._value===w._value})||Un.push(w),Hn(l),x&&kt())}function Hn(l){var d=l._listeners;l._listeners=[];for(var x=0,w=d.length;x<w;++x)Bt(l,d[x]);var _=l._PSD;--_.ref||_.finalize(),pn===0&&(++pn,Ct(function(){--pn==0&&ar()},[]))}function Bt(l,d){if(l._state!==null){var x=l._state?d.onFulfilled:d.onRejected;if(x===null)return(l._state?d.resolve:d.reject)(l._value);++d.psd.ref,++pn,Ct(mn,[x,l,d])}else l._listeners.push(d)}function mn(l,d,x){try{var w,_=d._value;!d._state&&Vt.length&&(Vt=[]),w=Ke&&d._consoleTask?d._consoleTask.run(function(){return l(_)}):l(_),d._state||Vt.indexOf(_)!==-1||function(N){for(var D=Un.length;D;)if(Un[--D]._value===N._value)return Un.splice(D,1)}(d),x.resolve(w)}catch(N){x.reject(N)}finally{--pn==0&&ar(),--x.psd.ref||x.psd.finalize()}}function un(){Qi(It,function(){Zn()&&kt()})}function Zn(){var l=$t;return Ft=$t=!1,l}function kt(){var l,d,x;do for(;0<At.length;)for(l=At,At=[],x=l.length,d=0;d<x;++d){var w=l[d];w[0].apply(null,w[1])}while(0<At.length);Ft=$t=!0}function ar(){var l=Un;Un=[],l.forEach(function(w){w._PSD.onunhandled.call(null,w._value,w)});for(var d=on.slice(0),x=d.length;x;)d[--x]()}function Jr(l){return new ut(Ot,!1,l)}function rn(l,d){var x=it;return function(){var w=Zn(),_=it;try{return Or(x,!0),l.apply(this,arguments)}catch(N){d&&d(N)}finally{Or(_,!1),w&&kt()}}}E(ut.prototype,{then:nn,_then:function(l,d){Bt(this,new Pn(null,null,l,d,it))},catch:function(l){if(arguments.length===1)return this.then(null,l);var d=l,x=arguments[1];return typeof d=="function"?this.then(null,function(w){return(w instanceof d?x:Jr)(w)}):this.then(null,function(w){return(w&&w.name===d?x:Jr)(w)})},finally:function(l){return this.then(function(d){return ut.resolve(l()).then(function(){return d})},function(d){return ut.resolve(l()).then(function(){return Jr(d)})})},timeout:function(l,d){var x=this;return l<1/0?new ut(function(w,_){var N=setTimeout(function(){return _(new Ie.Timeout(d))},l);x.then(w,_).finally(clearTimeout.bind(null,N))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&R(ut.prototype,Symbol.toStringTag,"Dexie.Promise"),It.env=Rs(),E(ut,{all:function(){var l=ve.apply(null,arguments).map(vi);return new ut(function(d,x){l.length===0&&d([]);var w=l.length;l.forEach(function(_,N){return ut.resolve(_).then(function(D){l[N]=D,--w||d(l)},x)})})},resolve:function(l){return l instanceof ut?l:l&&typeof l.then=="function"?new ut(function(d,x){l.then(d,x)}):new ut(Ot,!0,l)},reject:Jr,race:function(){var l=ve.apply(null,arguments).map(vi);return new ut(function(d,x){l.map(function(w){return ut.resolve(w).then(d,x)})})},PSD:{get:function(){return it},set:function(l){return it=l}},totalEchoes:{get:function(){return St}},newPSD:ei,usePSD:Qi,scheduler:{get:function(){return Ct},set:function(l){Ct=l}},rejectionMapper:{get:function(){return Ze},set:function(l){Ze=l}},follow:function(l,d){return new ut(function(x,w){return ei(function(_,N){var D=it;D.unhandleds=[],D.onunhandled=N,D.finalize=be(function(){var U,G=this;U=function(){G.unhandleds.length===0?_():N(G.unhandleds[0])},on.push(function X(){U(),on.splice(on.indexOf(X),1)}),++pn,Ct(function(){--pn==0&&ar()},[])},D.finalize),l()},d,x,w)})}}),An&&(An.allSettled&&R(ut,"allSettled",function(){var l=ve.apply(null,arguments).map(vi);return new ut(function(d){l.length===0&&d([]);var x=l.length,w=new Array(x);l.forEach(function(_,N){return ut.resolve(_).then(function(D){return w[N]={status:"fulfilled",value:D}},function(D){return w[N]={status:"rejected",reason:D}}).then(function(){return--x||d(w)})})})}),An.any&&typeof AggregateError<"u"&&R(ut,"any",function(){var l=ve.apply(null,arguments).map(vi);return new ut(function(d,x){l.length===0&&x(new AggregateError([]));var w=l.length,_=new Array(w);l.forEach(function(N,D){return ut.resolve(N).then(function(U){return d(U)},function(U){_[D]=U,--w||x(new AggregateError(_))})})})}),An.withResolvers&&(ut.withResolvers=An.withResolvers));var En={awaits:0,echoes:0,id:0},zn=0,gr=[],Jn=0,St=0,Zi=0;function ei(l,d,x,w){var _=it,N=Object.create(_);return N.parent=_,N.ref=0,N.global=!1,N.id=++Zi,It.env,N.env=tn?{Promise:ut,PromiseProp:{value:ut,configurable:!0,writable:!0},all:ut.all,race:ut.race,allSettled:ut.allSettled,any:ut.any,resolve:ut.resolve,reject:ut.reject}:{},d&&m(N,d),++_.ref,N.finalize=function(){--this.parent.ref||this.parent.finalize()},w=Qi(N,l,x,w),N.ref===0&&N.finalize(),w}function dr(){return En.id||(En.id=++zn),++En.awaits,En.echoes+=bn,En.id}function Rr(){return!!En.awaits&&(--En.awaits==0&&(En.id=0),En.echoes=En.awaits*bn,!0)}function vi(l){return En.echoes&&l&&l.constructor===An?(dr(),l.then(function(d){return Rr(),d},function(d){return Rr(),dn(d)})):l}function Oi(){var l=gr[gr.length-1];gr.pop(),Or(l,!1)}function Or(l,d){var x,w=it;(d?!En.echoes||Jn++&&l===it:!Jn||--Jn&&l===it)||queueMicrotask(d?(function(_){++St,En.echoes&&--En.echoes!=0||(En.echoes=En.awaits=En.id=0),gr.push(it),Or(_,!0)}).bind(null,l):Oi),l!==it&&(it=l,w===It&&(It.env=Rs()),tn&&(x=It.env.Promise,d=l.env,(w.global||l.global)&&(Object.defineProperty(a,"Promise",d.PromiseProp),x.all=d.all,x.race=d.race,x.resolve=d.resolve,x.reject=d.reject,d.allSettled&&(x.allSettled=d.allSettled),d.any&&(x.any=d.any))))}function Rs(){var l=a.Promise;return tn?{Promise:l,PromiseProp:Object.getOwnPropertyDescriptor(a,"Promise"),all:l.all,race:l.race,allSettled:l.allSettled,any:l.any,resolve:l.resolve,reject:l.reject}:{}}function Qi(l,d,x,w,_){var N=it;try{return Or(l,!0),d(x,w,_)}finally{Or(N,!1)}}function Ni(l,d,x,w){return typeof l!="function"?l:function(){var _=it;x&&dr(),Or(d,!0);try{return l.apply(this,arguments)}finally{Or(_,!1),w&&queueMicrotask(Rr)}}}function Br(l){Promise===An&&En.echoes===0?Jn===0?l():enqueueNativeMicroTask(l):setTimeout(l,0)}(""+Mr).indexOf("[native code]")===-1&&(dr=Rr=Ge);var dn=ut.reject,Zs="",ti="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Ja="String expected.",at=[],Li="__dbnames",fr="readonly",Os="readwrite";function Ls(l,d){return l?d?function(){return l.apply(this,arguments)&&d.apply(this,arguments)}:l:d}var Vn={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Ln(l){return typeof l!="string"||/\./.test(l)?function(d){return d}:function(d){return d[l]===void 0&&l in d&&delete(d=ue(d))[l],d}}function In(){throw Ie.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function Sn(l,d){try{var x=ko(l),w=ko(d);if(x!==w)return x==="Array"?1:w==="Array"?-1:x==="binary"?1:w==="binary"?-1:x==="string"?1:w==="string"?-1:x==="Date"?1:w!=="Date"?NaN:-1;switch(x){case"number":case"Date":case"string":return d<l?1:l<d?-1:0;case"binary":return function(_,N){for(var D=_.length,U=N.length,G=D<U?D:U,X=0;X<G;++X)if(_[X]!==N[X])return _[X]<N[X]?-1:1;return D===U?0:D<U?-1:1}(Lr(l),Lr(d));case"Array":return function(_,N){for(var D=_.length,U=N.length,G=D<U?D:U,X=0;X<G;++X){var re=Sn(_[X],N[X]);if(re!==0)return re}return D===U?0:D<U?-1:1}(l,d)}}catch{}return NaN}function ko(l){var d=typeof l;return d!="object"?d:ArrayBuffer.isView(l)?"binary":(l=te(l),l==="ArrayBuffer"?"binary":l)}function Lr(l){return l instanceof Uint8Array?l:ArrayBuffer.isView(l)?new Uint8Array(l.buffer,l.byteOffset,l.byteLength):new Uint8Array(l)}function wr(l,d,x){var w=l.schema.yProps;return w?(d&&0<x.numFailures&&(d=d.filter(function(_,N){return!x.failures[N]})),Promise.all(w.map(function(_){return _=_.updatesTable,d?l.db.table(_).where("k").anyOf(d).delete():l.db.table(_).clear()})).then(function(){return x})):x}var ps=(Kn.prototype._trans=function(l,d,x){var w=this._tx||it.trans,_=this.name,N=Ke&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(l==="readonly"?"read":"write"," ").concat(this.name));function D(X,re,Q){if(!Q.schema[_])throw new Ie.NotFound("Table "+_+" not part of transaction");return d(Q.idbtrans,Q)}var U=Zn();try{var G=w&&w.db._novip===this.db._novip?w===it.trans?w._promise(l,D,x):ei(function(){return w._promise(l,D,x)},{trans:w,transless:it.transless||it}):function X(re,Q,ge,de){if(re.idbdb&&(re._state.openComplete||it.letThrough||re._vip)){var me=re._createTransaction(Q,ge,re._dbSchema);try{me.create(),re._state.PR1398_maxLoop=3}catch(Te){return Te.name===we.InvalidState&&re.isOpen()&&0<--re._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),re.close({disableAutoOpen:!1}),re.open().then(function(){return X(re,Q,ge,de)})):dn(Te)}return me._promise(Q,function(Te,ke){return ei(function(){return it.trans=me,de(Te,ke,me)})}).then(function(Te){if(Q==="readwrite")try{me.idbtrans.commit()}catch{}return Q==="readonly"?Te:me._completion.then(function(){return Te})})}if(re._state.openComplete)return dn(new Ie.DatabaseClosed(re._state.dbOpenError));if(!re._state.isBeingOpened){if(!re._state.autoOpen)return dn(new Ie.DatabaseClosed);re.open().catch(Ge)}return re._state.dbReadyPromise.then(function(){return X(re,Q,ge,de)})}(this.db,l,[this.name],D);return N&&(G._consoleTask=N,G=G.catch(function(X){return console.trace(X),dn(X)})),G}finally{U&&kt()}},Kn.prototype.get=function(l,d){var x=this;return l&&l.constructor===Object?this.where(l).first(d):l==null?dn(new Ie.Type("Invalid argument to Table.get()")):this._trans("readonly",function(w){return x.core.get({trans:w,key:l}).then(function(_){return x.hook.reading.fire(_)})}).then(d)},Kn.prototype.where=function(l){if(typeof l=="string")return new this.db.WhereClause(this,l);if(f(l))return new this.db.WhereClause(this,"[".concat(l.join("+"),"]"));var d=u(l);if(d.length===1)return this.where(d[0]).equals(l[d[0]]);var x=this.schema.indexes.concat(this.schema.primKey).filter(function(U){if(U.compound&&d.every(function(X){return 0<=U.keyPath.indexOf(X)})){for(var G=0;G<d.length;++G)if(d.indexOf(U.keyPath[G])===-1)return!1;return!0}return!1}).sort(function(U,G){return U.keyPath.length-G.keyPath.length})[0];if(x&&this.db._maxKey!==Zs){var N=x.keyPath.slice(0,d.length);return this.where(N).equals(N.map(function(G){return l[G]}))}!x&&Ke&&console.warn("The query ".concat(JSON.stringify(l)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(d.join("+"),"]"));var w=this.schema.idxByName;function _(U,G){return Sn(U,G)===0}var D=d.reduce(function(Q,G){var X=Q[0],re=Q[1],Q=w[G],ge=l[G];return[X||Q,X||!Q?Ls(re,Q&&Q.multi?function(de){return de=ce(de,G),f(de)&&de.some(function(me){return _(ge,me)})}:function(de){return _(ge,ce(de,G))}):re]},[null,null]),N=D[0],D=D[1];return N?this.where(N.name).equals(l[N.keyPath]).filter(D):x?this.filter(D):this.where(d).equals("")},Kn.prototype.filter=function(l){return this.toCollection().and(l)},Kn.prototype.count=function(l){return this.toCollection().count(l)},Kn.prototype.offset=function(l){return this.toCollection().offset(l)},Kn.prototype.limit=function(l){return this.toCollection().limit(l)},Kn.prototype.each=function(l){return this.toCollection().each(l)},Kn.prototype.toArray=function(l){return this.toCollection().toArray(l)},Kn.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},Kn.prototype.orderBy=function(l){return new this.db.Collection(new this.db.WhereClause(this,f(l)?"[".concat(l.join("+"),"]"):l))},Kn.prototype.reverse=function(){return this.toCollection().reverse()},Kn.prototype.mapToClass=function(l){var d,x=this.db,w=this.name;function _(){return d!==null&&d.apply(this,arguments)||this}(this.schema.mappedClass=l).prototype instanceof In&&(function(G,X){if(typeof X!="function"&&X!==null)throw new TypeError("Class extends value "+String(X)+" is not a constructor or null");function re(){this.constructor=G}n(G,X),G.prototype=X===null?Object.create(X):(re.prototype=X.prototype,new re)}(_,d=l),Object.defineProperty(_.prototype,"db",{get:function(){return x},enumerable:!1,configurable:!0}),_.prototype.table=function(){return w},l=_);for(var N=new Set,D=l.prototype;D;D=p(D))Object.getOwnPropertyNames(D).forEach(function(G){return N.add(G)});function U(G){if(!G)return G;var X,re=Object.create(l.prototype);for(X in G)if(!N.has(X))try{re[X]=G[X]}catch{}return re}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=U,this.hook("reading",U),l},Kn.prototype.defineClass=function(){return this.mapToClass(function(l){m(this,l)})},Kn.prototype.add=function(l,d){var x=this,w=this.schema.primKey,_=w.auto,N=w.keyPath,D=l;return N&&_&&(D=Ln(N)(l)),this._trans("readwrite",function(U){return x.core.mutate({trans:U,type:"add",keys:d!=null?[d]:null,values:[D]})}).then(function(U){return U.numFailures?ut.reject(U.failures[0]):U.lastResult}).then(function(U){if(N)try{Y(l,N,U)}catch{}return U})},Kn.prototype.update=function(l,d){return typeof l!="object"||f(l)?this.where(":id").equals(l).modify(d):(l=ce(l,this.schema.primKey.keyPath),l===void 0?dn(new Ie.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(l).modify(d))},Kn.prototype.put=function(l,d){var x=this,w=this.schema.primKey,_=w.auto,N=w.keyPath,D=l;return N&&_&&(D=Ln(N)(l)),this._trans("readwrite",function(U){return x.core.mutate({trans:U,type:"put",values:[D],keys:d!=null?[d]:null})}).then(function(U){return U.numFailures?ut.reject(U.failures[0]):U.lastResult}).then(function(U){if(N)try{Y(l,N,U)}catch{}return U})},Kn.prototype.delete=function(l){var d=this;return this._trans("readwrite",function(x){return d.core.mutate({trans:x,type:"delete",keys:[l]}).then(function(w){return wr(d,[l],w)}).then(function(w){return w.numFailures?ut.reject(w.failures[0]):void 0})})},Kn.prototype.clear=function(){var l=this;return this._trans("readwrite",function(d){return l.core.mutate({trans:d,type:"deleteRange",range:Vn}).then(function(x){return wr(l,null,x)})}).then(function(d){return d.numFailures?ut.reject(d.failures[0]):void 0})},Kn.prototype.bulkGet=function(l){var d=this;return this._trans("readonly",function(x){return d.core.getMany({keys:l,trans:x}).then(function(w){return w.map(function(_){return d.hook.reading.fire(_)})})})},Kn.prototype.bulkAdd=function(l,d,x){var w=this,_=Array.isArray(d)?d:void 0,N=(x=x||(_?void 0:d))?x.allKeys:void 0;return this._trans("readwrite",function(D){var X=w.schema.primKey,U=X.auto,X=X.keyPath;if(X&&_)throw new Ie.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(_&&_.length!==l.length)throw new Ie.InvalidArgument("Arguments objects and keys must have the same length");var G=l.length,X=X&&U?l.map(Ln(X)):l;return w.core.mutate({trans:D,type:"add",keys:_,values:X,wantResults:N}).then(function(me){var Q=me.numFailures,ge=me.results,de=me.lastResult,me=me.failures;if(Q===0)return N?ge:de;throw new se("".concat(w.name,".bulkAdd(): ").concat(Q," of ").concat(G," operations failed"),me)})})},Kn.prototype.bulkPut=function(l,d,x){var w=this,_=Array.isArray(d)?d:void 0,N=(x=x||(_?void 0:d))?x.allKeys:void 0;return this._trans("readwrite",function(D){var X=w.schema.primKey,U=X.auto,X=X.keyPath;if(X&&_)throw new Ie.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(_&&_.length!==l.length)throw new Ie.InvalidArgument("Arguments objects and keys must have the same length");var G=l.length,X=X&&U?l.map(Ln(X)):l;return w.core.mutate({trans:D,type:"put",keys:_,values:X,wantResults:N}).then(function(me){var Q=me.numFailures,ge=me.results,de=me.lastResult,me=me.failures;if(Q===0)return N?ge:de;throw new se("".concat(w.name,".bulkPut(): ").concat(Q," of ").concat(G," operations failed"),me)})})},Kn.prototype.bulkUpdate=function(l){var d=this,x=this.core,w=l.map(function(D){return D.key}),_=l.map(function(D){return D.changes}),N=[];return this._trans("readwrite",function(D){return x.getMany({trans:D,keys:w,cache:"clone"}).then(function(U){var G=[],X=[];l.forEach(function(Q,ge){var de=Q.key,me=Q.changes,Te=U[ge];if(Te){for(var ke=0,De=Object.keys(me);ke<De.length;ke++){var He=De[ke],Xe=me[He];if(He===d.schema.primKey.keyPath){if(Sn(Xe,de)!==0)throw new Ie.Constraint("Cannot update primary key in bulkUpdate()")}else Y(Te,He,Xe)}N.push(ge),G.push(de),X.push(Te)}});var re=G.length;return x.mutate({trans:D,type:"put",keys:G,values:X,updates:{keys:w,changeSpecs:_}}).then(function(Q){var ge=Q.numFailures,de=Q.failures;if(ge===0)return re;for(var me=0,Te=Object.keys(de);me<Te.length;me++){var ke,De=Te[me],He=N[Number(De)];He!=null&&(ke=de[De],delete de[De],de[He]=ke)}throw new se("".concat(d.name,".bulkUpdate(): ").concat(ge," of ").concat(re," operations failed"),de)})})})},Kn.prototype.bulkDelete=function(l){var d=this,x=l.length;return this._trans("readwrite",function(w){return d.core.mutate({trans:w,type:"delete",keys:l}).then(function(_){return wr(d,l,_)})}).then(function(D){var _=D.numFailures,N=D.lastResult,D=D.failures;if(_===0)return N;throw new se("".concat(d.name,".bulkDelete(): ").concat(_," of ").concat(x," operations failed"),D)})},Kn);function Kn(){}function er(l){function d(D,U){if(U){for(var G=arguments.length,X=new Array(G-1);--G;)X[G-1]=arguments[G];return x[D].subscribe.apply(null,X),l}if(typeof D=="string")return x[D]}var x={};d.addEventType=N;for(var w=1,_=arguments.length;w<_;++w)N(arguments[w]);return d;function N(D,U,G){if(typeof D!="object"){var X;U=U||Qe;var re={subscribers:[],fire:G=G||Ge,subscribe:function(Q){re.subscribers.indexOf(Q)===-1&&(re.subscribers.push(Q),re.fire=U(re.fire,Q))},unsubscribe:function(Q){re.subscribers=re.subscribers.filter(function(ge){return ge!==Q}),re.fire=re.subscribers.reduce(U,G)}};return x[D]=d[D]=re}u(X=D).forEach(function(Q){var ge=X[Q];if(f(ge))N(Q,X[Q][0],X[Q][1]);else{if(ge!=="asap")throw new Ie.InvalidArgument("Invalid event config");var de=N(Q,Je,function(){for(var me=arguments.length,Te=new Array(me);me--;)Te[me]=arguments[me];de.subscribers.forEach(function(ke){J(function(){ke.apply(null,Te)})})})}})}}function Ur(l,d){return I(d).from({prototype:l}),d}function ms(l,d){return!(l.filter||l.algorithm||l.or)&&(d?l.justLimit:!l.replayFilter)}function hr(l,d){l.filter=Ls(l.filter,d)}function Qn(l,d,x){var w=l.replayFilter;l.replayFilter=w?function(){return Ls(w(),d())}:d,l.justLimit=x&&!w}function Vr(l,d){if(l.isPrimKey)return d.primaryKey;var x=d.getIndexByKeyPath(l.index);if(!x)throw new Ie.Schema("KeyPath "+l.index+" on object store "+d.name+" is not indexed");return x}function Ue(l,d,x){var w=Vr(l,d.schema);return d.openCursor({trans:x,values:!l.keysOnly,reverse:l.dir==="prev",unique:!!l.unique,query:{index:w,range:l.range}})}function xe(l,d,x,w){var _=l.replayFilter?Ls(l.filter,l.replayFilter()):l.filter;if(l.or){var N={},D=function(U,G,X){var re,Q;_&&!_(G,X,function(ge){return G.stop(ge)},function(ge){return G.fail(ge)})||((Q=""+(re=G.primaryKey))=="[object ArrayBuffer]"&&(Q=""+new Uint8Array(re)),S(N,Q)||(N[Q]=!0,d(U,G,X)))};return Promise.all([l.or._iterate(D,x),Dt(Ue(l,w,x),l.algorithm,D,!l.keysOnly&&l.valueMapper)])}return Dt(Ue(l,w,x),Ls(l.algorithm,_),d,!l.keysOnly&&l.valueMapper)}function Dt(l,d,x,w){var _=rn(w?function(N,D,U){return x(w(N),D,U)}:x);return l.then(function(N){if(N)return N.start(function(){var D=function(){return N.continue()};d&&!d(N,function(U){return D=U},function(U){N.stop(U),D=Ge},function(U){N.fail(U),D=Ge})||_(N.value,N,function(U){return D=U}),D()})})}var br=(Ii.prototype.execute=function(l){var d=this["@@propmod"];if(d.add!==void 0){var x=d.add;if(f(x))return i(i([],f(l)?l:[],!0),x).sort();if(typeof x=="number")return(Number(l)||0)+x;if(typeof x=="bigint")try{return BigInt(l)+x}catch{return BigInt(0)+x}throw new TypeError("Invalid term ".concat(x))}if(d.remove!==void 0){var w=d.remove;if(f(w))return f(l)?l.filter(function(_){return!w.includes(_)}).sort():[];if(typeof w=="number")return Number(l)-w;if(typeof w=="bigint")try{return BigInt(l)-w}catch{return BigInt(0)-w}throw new TypeError("Invalid subtrahend ".concat(w))}return x=(x=d.replacePrefix)===null||x===void 0?void 0:x[0],x&&typeof l=="string"&&l.startsWith(x)?d.replacePrefix[1]+l.substring(x.length):l},Ii);function Ii(l){this["@@propmod"]=l}var Fa=(Rn.prototype._read=function(l,d){var x=this._ctx;return x.error?x.table._trans(null,dn.bind(null,x.error)):x.table._trans("readonly",l).then(d)},Rn.prototype._write=function(l){var d=this._ctx;return d.error?d.table._trans(null,dn.bind(null,d.error)):d.table._trans("readwrite",l,"locked")},Rn.prototype._addAlgorithm=function(l){var d=this._ctx;d.algorithm=Ls(d.algorithm,l)},Rn.prototype._iterate=function(l,d){return xe(this._ctx,l,d,this._ctx.table.core)},Rn.prototype.clone=function(l){var d=Object.create(this.constructor.prototype),x=Object.create(this._ctx);return l&&m(x,l),d._ctx=x,d},Rn.prototype.raw=function(){return this._ctx.valueMapper=null,this},Rn.prototype.each=function(l){var d=this._ctx;return this._read(function(x){return xe(d,l,x,d.table.core)})},Rn.prototype.count=function(l){var d=this;return this._read(function(x){var w=d._ctx,_=w.table.core;if(ms(w,!0))return _.count({trans:x,query:{index:Vr(w,_.schema),range:w.range}}).then(function(D){return Math.min(D,w.limit)});var N=0;return xe(w,function(){return++N,!1},x,_).then(function(){return N})}).then(l)},Rn.prototype.sortBy=function(l,d){var x=l.split(".").reverse(),w=x[0],_=x.length-1;function N(G,X){return X?N(G[x[X]],X-1):G[w]}var D=this._ctx.dir==="next"?1:-1;function U(G,X){return Sn(N(G,_),N(X,_))*D}return this.toArray(function(G){return G.sort(U)}).then(d)},Rn.prototype.toArray=function(l){var d=this;return this._read(function(x){var w=d._ctx;if(w.dir==="next"&&ms(w,!0)&&0<w.limit){var _=w.valueMapper,N=Vr(w,w.table.core.schema);return w.table.core.query({trans:x,limit:w.limit,values:!0,query:{index:N,range:w.range}}).then(function(U){return U=U.result,_?U.map(_):U})}var D=[];return xe(w,function(U){return D.push(U)},x,w.table.core).then(function(){return D})},l)},Rn.prototype.offset=function(l){var d=this._ctx;return l<=0||(d.offset+=l,ms(d)?Qn(d,function(){var x=l;return function(w,_){return x===0||(x===1?--x:_(function(){w.advance(x),x=0}),!1)}}):Qn(d,function(){var x=l;return function(){return--x<0}})),this},Rn.prototype.limit=function(l){return this._ctx.limit=Math.min(this._ctx.limit,l),Qn(this._ctx,function(){var d=l;return function(x,w,_){return--d<=0&&w(_),0<=d}},!0),this},Rn.prototype.until=function(l,d){return hr(this._ctx,function(x,w,_){return!l(x.value)||(w(_),d)}),this},Rn.prototype.first=function(l){return this.limit(1).toArray(function(d){return d[0]}).then(l)},Rn.prototype.last=function(l){return this.reverse().first(l)},Rn.prototype.filter=function(l){var d;return hr(this._ctx,function(x){return l(x.value)}),(d=this._ctx).isMatch=Ls(d.isMatch,l),this},Rn.prototype.and=function(l){return this.filter(l)},Rn.prototype.or=function(l){return new this.db.WhereClause(this._ctx.table,l,this)},Rn.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Rn.prototype.desc=function(){return this.reverse()},Rn.prototype.eachKey=function(l){var d=this._ctx;return d.keysOnly=!d.isMatch,this.each(function(x,w){l(w.key,w)})},Rn.prototype.eachUniqueKey=function(l){return this._ctx.unique="unique",this.eachKey(l)},Rn.prototype.eachPrimaryKey=function(l){var d=this._ctx;return d.keysOnly=!d.isMatch,this.each(function(x,w){l(w.primaryKey,w)})},Rn.prototype.keys=function(l){var d=this._ctx;d.keysOnly=!d.isMatch;var x=[];return this.each(function(w,_){x.push(_.key)}).then(function(){return x}).then(l)},Rn.prototype.primaryKeys=function(l){var d=this._ctx;if(d.dir==="next"&&ms(d,!0)&&0<d.limit)return this._read(function(w){var _=Vr(d,d.table.core.schema);return d.table.core.query({trans:w,values:!1,limit:d.limit,query:{index:_,range:d.range}})}).then(function(w){return w.result}).then(l);d.keysOnly=!d.isMatch;var x=[];return this.each(function(w,_){x.push(_.primaryKey)}).then(function(){return x}).then(l)},Rn.prototype.uniqueKeys=function(l){return this._ctx.unique="unique",this.keys(l)},Rn.prototype.firstKey=function(l){return this.limit(1).keys(function(d){return d[0]}).then(l)},Rn.prototype.lastKey=function(l){return this.reverse().firstKey(l)},Rn.prototype.distinct=function(){var l=this._ctx,l=l.index&&l.table.schema.idxByName[l.index];if(!l||!l.multi)return this;var d={};return hr(this._ctx,function(_){var w=_.primaryKey.toString(),_=S(d,w);return d[w]=!0,!_}),this},Rn.prototype.modify=function(l){var d=this,x=this._ctx;return this._write(function(w){var _,N,D;D=typeof l=="function"?l:(_=u(l),N=_.length,function(De){for(var He=!1,Xe=0;Xe<N;++Xe){var We=_[Xe],ot=l[We],dt=ce(De,We);ot instanceof br?(Y(De,We,ot.execute(dt)),He=!0):dt!==ot&&(Y(De,We,ot),He=!0)}return He});var U=x.table.core,Q=U.schema.primaryKey,G=Q.outbound,X=Q.extractKey,re=200,Q=d.db._options.modifyChunkSize;Q&&(re=typeof Q=="object"?Q[U.name]||Q["*"]||200:Q);function ge(De,We){var Xe=We.failures,We=We.numFailures;me+=De-We;for(var ot=0,dt=u(Xe);ot<dt.length;ot++){var ft=dt[ot];de.push(Xe[ft])}}var de=[],me=0,Te=[],ke=l===Di;return d.clone().primaryKeys().then(function(De){function He(We){var ot=Math.min(re,De.length-We),dt=De.slice(We,We+ot);return(ke?Promise.resolve([]):U.getMany({trans:w,keys:dt,cache:"immutable"})).then(function(ft){var ht=[],_t=[],vt=G?[]:null,Tt=ke?dt:[];if(!ke)for(var Cn=0;Cn<ot;++Cn){var Xn=ft[Cn],yn={value:ue(Xn),primKey:De[We+Cn]};D.call(yn,yn.value,yn)!==!1&&(yn.value==null?Tt.push(De[We+Cn]):G||Sn(X(Xn),X(yn.value))===0?(_t.push(yn.value),G&&vt.push(De[We+Cn])):(Tt.push(De[We+Cn]),ht.push(yn.value)))}return Promise.resolve(0<ht.length&&U.mutate({trans:w,type:"add",values:ht}).then(function(Gr){for(var vn in Gr.failures)Tt.splice(parseInt(vn),1);ge(ht.length,Gr)})).then(function(){return(0<_t.length||Xe&&typeof l=="object")&&U.mutate({trans:w,type:"put",keys:vt,values:_t,criteria:Xe,changeSpec:typeof l!="function"&&l,isAdditionalChunk:0<We}).then(function(Gr){return ge(_t.length,Gr)})}).then(function(){return(0<Tt.length||Xe&&ke)&&U.mutate({trans:w,type:"delete",keys:Tt,criteria:Xe,isAdditionalChunk:0<We}).then(function(Gr){return wr(x.table,Tt,Gr)}).then(function(Gr){return ge(Tt.length,Gr)})}).then(function(){return De.length>We+ot&&He(We+re)})})}var Xe=ms(x)&&x.limit===1/0&&(typeof l!="function"||ke)&&{index:x.index,range:x.range};return He(0).then(function(){if(0<de.length)throw new Ee("Error modifying one or more objects",de,me,Te);return De.length})})})},Rn.prototype.delete=function(){var l=this._ctx,d=l.range;return!ms(l)||l.table.schema.yProps||!l.isPrimKey&&d.type!==3?this.modify(Di):this._write(function(x){var w=l.table.core.schema.primaryKey,_=d;return l.table.core.count({trans:x,query:{index:w,range:_}}).then(function(N){return l.table.core.mutate({trans:x,type:"deleteRange",range:_}).then(function(G){var U=G.failures,G=G.numFailures;if(G)throw new Ee("Could not delete some values",Object.keys(U).map(function(X){return U[X]}),N-G);return N-G})})})},Rn);function Rn(){}var Di=function(l,d){return d.value=null};function Xt(l,d){return l<d?-1:l===d?0:1}function Ar(l,d){return d<l?-1:l===d?0:1}function ui(l,d,x){return l=l instanceof Po?new l.Collection(l):l,l._ctx.error=new(x||TypeError)(d),l}function gs(l){return new l.Collection(l,function(){return Qs("")}).limit(0)}function Ji(l,d,x,w){var _,N,D,U,G,X,re,Q=x.length;if(!x.every(function(me){return typeof me=="string"}))return ui(l,Ja);function ge(me){_=me==="next"?function(ke){return ke.toUpperCase()}:function(ke){return ke.toLowerCase()},N=me==="next"?function(ke){return ke.toLowerCase()}:function(ke){return ke.toUpperCase()},D=me==="next"?Xt:Ar;var Te=x.map(function(ke){return{lower:N(ke),upper:_(ke)}}).sort(function(ke,De){return D(ke.lower,De.lower)});U=Te.map(function(ke){return ke.upper}),G=Te.map(function(ke){return ke.lower}),re=(X=me)==="next"?"":w}ge("next"),l=new l.Collection(l,function(){return es(U[0],G[Q-1]+w)}),l._ondirectionchange=function(me){ge(me)};var de=0;return l._addAlgorithm(function(me,Te,ke){var De=me.key;if(typeof De!="string")return!1;var He=N(De);if(d(He,G,de))return!0;for(var Xe=null,We=de;We<Q;++We){var ot=function(dt,ft,ht,_t,vt,Tt){for(var Cn=Math.min(dt.length,_t.length),Xn=-1,yn=0;yn<Cn;++yn){var Gr=ft[yn];if(Gr!==_t[yn])return vt(dt[yn],ht[yn])<0?dt.substr(0,yn)+ht[yn]+ht.substr(yn+1):vt(dt[yn],_t[yn])<0?dt.substr(0,yn)+_t[yn]+ht.substr(yn+1):0<=Xn?dt.substr(0,Xn)+ft[Xn]+ht.substr(Xn+1):null;vt(dt[yn],Gr)<0&&(Xn=yn)}return Cn<_t.length&&Tt==="next"?dt+ht.substr(dt.length):Cn<dt.length&&Tt==="prev"?dt.substr(0,ht.length):Xn<0?null:dt.substr(0,Xn)+_t[Xn]+ht.substr(Xn+1)}(De,He,U[We],G[We],D,X);ot===null&&Xe===null?de=We+1:(Xe===null||0<D(Xe,ot))&&(Xe=ot)}return Te(Xe!==null?function(){me.continue(Xe+re)}:ke),!1}),l}function es(l,d,x,w){return{type:2,lower:l,upper:d,lowerOpen:x,upperOpen:w}}function Qs(l){return{type:1,lower:l,upper:l}}var Po=(Object.defineProperty(wt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),wt.prototype.between=function(l,d,x,w){x=x!==!1,w=w===!0;try{return 0<this._cmp(l,d)||this._cmp(l,d)===0&&(x||w)&&(!x||!w)?gs(this):new this.Collection(this,function(){return es(l,d,!x,!w)})}catch{return ui(this,ti)}},wt.prototype.equals=function(l){return l==null?ui(this,ti):new this.Collection(this,function(){return Qs(l)})},wt.prototype.above=function(l){return l==null?ui(this,ti):new this.Collection(this,function(){return es(l,void 0,!0)})},wt.prototype.aboveOrEqual=function(l){return l==null?ui(this,ti):new this.Collection(this,function(){return es(l,void 0,!1)})},wt.prototype.below=function(l){return l==null?ui(this,ti):new this.Collection(this,function(){return es(void 0,l,!1,!0)})},wt.prototype.belowOrEqual=function(l){return l==null?ui(this,ti):new this.Collection(this,function(){return es(void 0,l)})},wt.prototype.startsWith=function(l){return typeof l!="string"?ui(this,Ja):this.between(l,l+Zs,!0,!0)},wt.prototype.startsWithIgnoreCase=function(l){return l===""?this.startsWith(l):Ji(this,function(d,x){return d.indexOf(x[0])===0},[l],Zs)},wt.prototype.equalsIgnoreCase=function(l){return Ji(this,function(d,x){return d===x[0]},[l],"")},wt.prototype.anyOfIgnoreCase=function(){var l=ve.apply(_e,arguments);return l.length===0?gs(this):Ji(this,function(d,x){return x.indexOf(d)!==-1},l,"")},wt.prototype.startsWithAnyOfIgnoreCase=function(){var l=ve.apply(_e,arguments);return l.length===0?gs(this):Ji(this,function(d,x){return x.some(function(w){return d.indexOf(w)===0})},l,Zs)},wt.prototype.anyOf=function(){var l=this,d=ve.apply(_e,arguments),x=this._cmp;try{d.sort(x)}catch{return ui(this,ti)}if(d.length===0)return gs(this);var w=new this.Collection(this,function(){return es(d[0],d[d.length-1])});w._ondirectionchange=function(N){x=N==="next"?l._ascending:l._descending,d.sort(x)};var _=0;return w._addAlgorithm(function(N,D,U){for(var G=N.key;0<x(G,d[_]);)if(++_===d.length)return D(U),!1;return x(G,d[_])===0||(D(function(){N.continue(d[_])}),!1)}),w},wt.prototype.notEqual=function(l){return this.inAnyRange([[-1/0,l],[l,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},wt.prototype.noneOf=function(){var l=ve.apply(_e,arguments);if(l.length===0)return new this.Collection(this);try{l.sort(this._ascending)}catch{return ui(this,ti)}var d=l.reduce(function(x,w){return x?x.concat([[x[x.length-1][1],w]]):[[-1/0,w]]},null);return d.push([l[l.length-1],this.db._maxKey]),this.inAnyRange(d,{includeLowers:!1,includeUppers:!1})},wt.prototype.inAnyRange=function(De,d){var x=this,w=this._cmp,_=this._ascending,N=this._descending,D=this._min,U=this._max;if(De.length===0)return gs(this);if(!De.every(function(He){return He[0]!==void 0&&He[1]!==void 0&&_(He[0],He[1])<=0}))return ui(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Ie.InvalidArgument);var G=!d||d.includeLowers!==!1,X=d&&d.includeUppers===!0,re,Q=_;function ge(He,Xe){return Q(He[0],Xe[0])}try{(re=De.reduce(function(He,Xe){for(var We=0,ot=He.length;We<ot;++We){var dt=He[We];if(w(Xe[0],dt[1])<0&&0<w(Xe[1],dt[0])){dt[0]=D(dt[0],Xe[0]),dt[1]=U(dt[1],Xe[1]);break}}return We===ot&&He.push(Xe),He},[])).sort(ge)}catch{return ui(this,ti)}var de=0,me=X?function(He){return 0<_(He,re[de][1])}:function(He){return 0<=_(He,re[de][1])},Te=G?function(He){return 0<N(He,re[de][0])}:function(He){return 0<=N(He,re[de][0])},ke=me,De=new this.Collection(this,function(){return es(re[0][0],re[re.length-1][1],!G,!X)});return De._ondirectionchange=function(He){Q=He==="next"?(ke=me,_):(ke=Te,N),re.sort(ge)},De._addAlgorithm(function(He,Xe,We){for(var ot,dt=He.key;ke(dt);)if(++de===re.length)return Xe(We),!1;return!me(ot=dt)&&!Te(ot)||(x._cmp(dt,re[de][1])===0||x._cmp(dt,re[de][0])===0||Xe(function(){Q===_?He.continue(re[de][0]):He.continue(re[de][1])}),!1)}),De},wt.prototype.startsWithAnyOf=function(){var l=ve.apply(_e,arguments);return l.every(function(d){return typeof d=="string"})?l.length===0?gs(this):this.inAnyRange(l.map(function(d){return[d,d+Zs]})):ui(this,"startsWithAnyOf() only works with strings")},wt);function wt(){}function Ti(l){return rn(function(d){return Vi(d),l(d.target.error),!1})}function Vi(l){l.stopPropagation&&l.stopPropagation(),l.preventDefault&&l.preventDefault()}var Yt="storagemutated",il="x-storagemutated-1",Zt=er(null,Yt),Sr=(xs.prototype._lock=function(){return j(!it.global),++this._reculock,this._reculock!==1||it.global||(it.lockOwnerFor=this),this},xs.prototype._unlock=function(){if(j(!it.global),--this._reculock==0)for(it.global||(it.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var l=this._blockedFuncs.shift();try{Qi(l[1],l[0])}catch{}}return this},xs.prototype._locked=function(){return this._reculock&&it.lockOwnerFor!==this},xs.prototype.create=function(l){var d=this;if(!this.mode)return this;var x=this.db.idbdb,w=this.db._state.dbOpenError;if(j(!this.idbtrans),!l&&!x)switch(w&&w.name){case"DatabaseClosedError":throw new Ie.DatabaseClosed(w);case"MissingAPIError":throw new Ie.MissingAPI(w.message,w);default:throw new Ie.OpenFailed(w)}if(!this.active)throw new Ie.TransactionInactive;return j(this._completion._state===null),(l=this.idbtrans=l||(this.db.core||x).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=rn(function(_){Vi(_),d._reject(l.error)}),l.onabort=rn(function(_){Vi(_),d.active&&d._reject(new Ie.Abort(l.error)),d.active=!1,d.on("abort").fire(_)}),l.oncomplete=rn(function(){d.active=!1,d._resolve(),"mutatedParts"in l&&Zt.storagemutated.fire(l.mutatedParts)}),this},xs.prototype._promise=function(l,d,x){var w=this;if(l==="readwrite"&&this.mode!=="readwrite")return dn(new Ie.ReadOnly("Transaction is readonly"));if(!this.active)return dn(new Ie.TransactionInactive);if(this._locked())return new ut(function(N,D){w._blockedFuncs.push([function(){w._promise(l,d,x).then(N,D)},it])});if(x)return ei(function(){var N=new ut(function(D,U){w._lock();var G=d(D,U,w);G&&G.then&&G.then(D,U)});return N.finally(function(){return w._unlock()}),N._lib=!0,N});var _=new ut(function(N,D){var U=d(N,D,w);U&&U.then&&U.then(N,D)});return _._lib=!0,_},xs.prototype._root=function(){return this.parent?this.parent._root():this},xs.prototype.waitFor=function(l){var d,x=this._root(),w=ut.resolve(l);x._waitingFor?x._waitingFor=x._waitingFor.then(function(){return w}):(x._waitingFor=w,x._waitingQueue=[],d=x.idbtrans.objectStore(x.storeNames[0]),function N(){for(++x._spinCount;x._waitingQueue.length;)x._waitingQueue.shift()();x._waitingFor&&(d.get(-1/0).onsuccess=N)}());var _=x._waitingFor;return new ut(function(N,D){w.then(function(U){return x._waitingQueue.push(rn(N.bind(null,U)))},function(U){return x._waitingQueue.push(rn(D.bind(null,U)))}).finally(function(){x._waitingFor===_&&(x._waitingFor=null)})})},xs.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Ie.Abort))},xs.prototype.table=function(l){var d=this._memoizedTables||(this._memoizedTables={});if(S(d,l))return d[l];var x=this.schema[l];if(!x)throw new Ie.NotFound("Table "+l+" not part of transaction");return x=new this.db.Table(l,x,this),x.core=this.db.core.table(l),d[l]=x},xs);function xs(){}function eo(l,d,x,w,_,N,D,U){return{name:l,keyPath:d,unique:x,multi:w,auto:_,compound:N,src:(x&&!D?"&":"")+(w?"*":"")+(_?"++":"")+Ba(d),type:U}}function Ba(l){return typeof l=="string"?l:l?"["+[].join.call(l,"+")+"]":""}function ts(l,d,x){return{name:l,primKey:d,indexes:x,mappedClass:null,idxByName:(w=function(_){return[_.name,_]},x.reduce(function(_,N,D){return D=w(N,D),D&&(_[D[0]]=D[1]),_},{}))};var w}var Ds=function(l){try{return l.only([[]]),Ds=function(){return[[]]},[[]]}catch{return Ds=function(){return Zs},Zs}};function vs(l){return l==null?function(){}:typeof l=="string"?(d=l).split(".").length===1?function(x){return x[d]}:function(x){return ce(x,d)}:function(x){return ce(x,l)};var d}function Ms(l){return[].slice.call(l)}var to=0;function Js(l){return l==null?":id":typeof l=="string"?l:"[".concat(l.join("+"),"]")}function ga(l,d,G){function w(ke){if(ke.type===3)return null;if(ke.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var de=ke.lower,me=ke.upper,Te=ke.lowerOpen,ke=ke.upperOpen;return de===void 0?me===void 0?null:d.upperBound(me,!!ke):me===void 0?d.lowerBound(de,!!Te):d.bound(de,me,!!Te,!!ke)}function _(ge){var de,me=ge.name;return{name:me,schema:ge,mutate:function(Te){var ke=Te.trans,De=Te.type,He=Te.keys,Xe=Te.values,We=Te.range;return new Promise(function(ot,dt){ot=rn(ot);var ft=ke.objectStore(me),ht=ft.keyPath==null,_t=De==="put"||De==="add";if(!_t&&De!=="delete"&&De!=="deleteRange")throw new Error("Invalid operation type: "+De);var vt,Tt=(He||Xe||{length:1}).length;if(He&&Xe&&He.length!==Xe.length)throw new Error("Given keys array must have same length as given values array.");if(Tt===0)return ot({numFailures:0,failures:{},results:[],lastResult:void 0});function Cn(Pi){++Gr,Vi(Pi)}var Xn=[],yn=[],Gr=0;if(De==="deleteRange"){if(We.type===4)return ot({numFailures:Gr,failures:yn,results:[],lastResult:void 0});We.type===3?Xn.push(vt=ft.clear()):Xn.push(vt=ft.delete(w(We)))}else{var ht=_t?ht?[Xe,He]:[Xe,null]:[He,null],vn=ht[0],Mi=ht[1];if(_t)for(var ji=0;ji<Tt;++ji)Xn.push(vt=Mi&&Mi[ji]!==void 0?ft[De](vn[ji],Mi[ji]):ft[De](vn[ji])),vt.onerror=Cn;else for(ji=0;ji<Tt;++ji)Xn.push(vt=ft[De](vn[ji])),vt.onerror=Cn}function Ul(Pi){Pi=Pi.target.result,Xn.forEach(function(yi,ws){return yi.error!=null&&(yn[ws]=yi.error)}),ot({numFailures:Gr,failures:yn,results:De==="delete"?He:Xn.map(function(yi){return yi.result}),lastResult:Pi})}vt.onerror=function(Pi){Cn(Pi),Ul(Pi)},vt.onsuccess=Ul})},getMany:function(Te){var ke=Te.trans,De=Te.keys;return new Promise(function(He,Xe){He=rn(He);for(var We,ot=ke.objectStore(me),dt=De.length,ft=new Array(dt),ht=0,_t=0,vt=function(Xn){Xn=Xn.target,ft[Xn._pos]=Xn.result,++_t===ht&&He(ft)},Tt=Ti(Xe),Cn=0;Cn<dt;++Cn)De[Cn]!=null&&((We=ot.get(De[Cn]))._pos=Cn,We.onsuccess=vt,We.onerror=Tt,++ht);ht===0&&He(ft)})},get:function(Te){var ke=Te.trans,De=Te.key;return new Promise(function(He,Xe){He=rn(He);var We=ke.objectStore(me).get(De);We.onsuccess=function(ot){return He(ot.target.result)},We.onerror=Ti(Xe)})},query:(de=X,function(Te){return new Promise(function(ke,De){ke=rn(ke);var He,Xe,We,ht=Te.trans,ot=Te.values,dt=Te.limit,vt=Te.query,ft=dt===1/0?void 0:dt,_t=vt.index,vt=vt.range,ht=ht.objectStore(me),_t=_t.isPrimaryKey?ht:ht.index(_t.name),vt=w(vt);if(dt===0)return ke({result:[]});de?((ft=ot?_t.getAll(vt,ft):_t.getAllKeys(vt,ft)).onsuccess=function(Tt){return ke({result:Tt.target.result})},ft.onerror=Ti(De)):(He=0,Xe=!ot&&"openKeyCursor"in _t?_t.openKeyCursor(vt):_t.openCursor(vt),We=[],Xe.onsuccess=function(Tt){var Cn=Xe.result;return Cn?(We.push(ot?Cn.value:Cn.primaryKey),++He===dt?ke({result:We}):void Cn.continue()):ke({result:We})},Xe.onerror=Ti(De))})}),openCursor:function(Te){var ke=Te.trans,De=Te.values,He=Te.query,Xe=Te.reverse,We=Te.unique;return new Promise(function(ot,dt){ot=rn(ot);var _t=He.index,ft=He.range,ht=ke.objectStore(me),ht=_t.isPrimaryKey?ht:ht.index(_t.name),_t=Xe?We?"prevunique":"prev":We?"nextunique":"next",vt=!De&&"openKeyCursor"in ht?ht.openKeyCursor(w(ft),_t):ht.openCursor(w(ft),_t);vt.onerror=Ti(dt),vt.onsuccess=rn(function(Tt){var Cn,Xn,yn,Gr,vn=vt.result;vn?(vn.___id=++to,vn.done=!1,Cn=vn.continue.bind(vn),Xn=(Xn=vn.continuePrimaryKey)&&Xn.bind(vn),yn=vn.advance.bind(vn),Gr=function(){throw new Error("Cursor not stopped")},vn.trans=ke,vn.stop=vn.continue=vn.continuePrimaryKey=vn.advance=function(){throw new Error("Cursor not started")},vn.fail=rn(dt),vn.next=function(){var Mi=this,ji=1;return this.start(function(){return ji--?Mi.continue():Mi.stop()}).then(function(){return Mi})},vn.start=function(Mi){function ji(){if(vt.result)try{Mi()}catch(Pi){vn.fail(Pi)}else vn.done=!0,vn.start=function(){throw new Error("Cursor behind last entry")},vn.stop()}var Ul=new Promise(function(Pi,yi){Pi=rn(Pi),vt.onerror=Ti(yi),vn.fail=yi,vn.stop=function(ws){vn.stop=vn.continue=vn.continuePrimaryKey=vn.advance=Gr,Pi(ws)}});return vt.onsuccess=rn(function(Pi){vt.onsuccess=ji,ji()}),vn.continue=Cn,vn.continuePrimaryKey=Xn,vn.advance=yn,ji(),Ul},ot(vn)):ot(null)},dt)})},count:function(Te){var ke=Te.query,De=Te.trans,He=ke.index,Xe=ke.range;return new Promise(function(We,ot){var dt=De.objectStore(me),ft=He.isPrimaryKey?dt:dt.index(He.name),dt=w(Xe),ft=dt?ft.count(dt):ft.count();ft.onsuccess=rn(function(ht){return We(ht.target.result)}),ft.onerror=Ti(ot)})}}}var N,D,U,re=(D=G,U=Ms((N=l).objectStoreNames),{schema:{name:N.name,tables:U.map(function(ge){return D.objectStore(ge)}).map(function(ge){var de=ge.keyPath,ke=ge.autoIncrement,me=f(de),Te={},ke={name:ge.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:de==null,compound:me,keyPath:de,autoIncrement:ke,unique:!0,extractKey:vs(de)},indexes:Ms(ge.indexNames).map(function(De){return ge.index(De)}).map(function(We){var He=We.name,Xe=We.unique,ot=We.multiEntry,We=We.keyPath,ot={name:He,compound:f(We),keyPath:We,unique:Xe,multiEntry:ot,extractKey:vs(We)};return Te[Js(We)]=ot}),getIndexByKeyPath:function(De){return Te[Js(De)]}};return Te[":id"]=ke.primaryKey,de!=null&&(Te[Js(de)]=ke.primaryKey),ke})},hasGetAll:0<U.length&&"getAll"in D.objectStore(U[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),G=re.schema,X=re.hasGetAll,re=G.tables.map(_),Q={};return re.forEach(function(ge){return Q[ge.name]=ge}),{stack:"dbcore",transaction:l.transaction.bind(l),table:function(ge){if(!Q[ge])throw new Error("Table '".concat(ge,"' not found"));return Q[ge]},MIN_KEY:-1/0,MAX_KEY:Ds(d),schema:G}}function js(l,d,x,w){var _=x.IDBKeyRange;return x.indexedDB,{dbcore:(w=ga(d,_,w),l.dbcore.reduce(function(N,D){return D=D.create,r(r({},N),D(N))},w))}}function Dr(l,w){var x=w.db,w=js(l._middlewares,x,l._deps,w);l.core=w.dbcore,l.tables.forEach(function(_){var N=_.name;l.core.schema.tables.some(function(D){return D.name===N})&&(_.core=l.core.table(N),l[N]instanceof l.Table&&(l[N].core=_.core))})}function xa(l,d,x,w){x.forEach(function(_){var N=w[_];d.forEach(function(D){var U=function G(X,re){return P(X,re)||(X=p(X))&&G(X,re)}(D,_);(!U||"value"in U&&U.value===void 0)&&(D===l.Transaction.prototype||D instanceof l.Transaction?R(D,_,{get:function(){return this.table(_)},set:function(G){A(this,_,{value:G,writable:!0,configurable:!0,enumerable:!0})}}):D[_]=new l.Table(_,N))})})}function va(l,d){d.forEach(function(x){for(var w in x)x[w]instanceof l.Table&&delete x[w]})}function Ro(l,d){return l._cfg.version-d._cfg.version}function no(l,d,x,w){var _=l._dbSchema;x.objectStoreNames.contains("$meta")&&!_.$meta&&(_.$meta=ts("$meta",$e("")[0],[]),l._storeNames.push("$meta"));var N=l._createTransaction("readwrite",l._storeNames,_);N.create(x),N._completion.catch(w);var D=N._reject.bind(N),U=it.transless||it;ei(function(){return it.trans=N,it.transless=U,d!==0?(Dr(l,x),X=d,((G=N).storeNames.includes("$meta")?G.table("$meta").get("version").then(function(re){return re??X}):ut.resolve(X)).then(function(re){return ge=re,de=N,me=x,Te=[],re=(Q=l)._versions,ke=Q._dbSchema=qi(0,Q.idbdb,me),(re=re.filter(function(De){return De._cfg.version>=ge})).length!==0?(re.forEach(function(De){Te.push(function(){var He=ke,Xe=De._cfg.dbschema;ta(Q,He,me),ta(Q,Xe,me),ke=Q._dbSchema=Xe;var We=Oo(He,Xe);We.add.forEach(function(_t){On(me,_t[0],_t[1].primKey,_t[1].indexes)}),We.change.forEach(function(_t){if(_t.recreate)throw new Ie.Upgrade("Not yet support for changing primary key");var vt=me.objectStore(_t.name);_t.add.forEach(function(Tt){return ea(vt,Tt)}),_t.change.forEach(function(Tt){vt.deleteIndex(Tt.name),ea(vt,Tt)}),_t.del.forEach(function(Tt){return vt.deleteIndex(Tt)})});var ot=De._cfg.contentUpgrade;if(ot&&De._cfg.version>ge){Dr(Q,me),de._memoizedTables={};var dt=Z(Xe);We.del.forEach(function(_t){dt[_t]=He[_t]}),va(Q,[Q.Transaction.prototype]),xa(Q,[Q.Transaction.prototype],u(dt),dt),de.schema=dt;var ft,ht=Le(ot);return ht&&dr(),We=ut.follow(function(){var _t;(ft=ot(de))&&ht&&(_t=Rr.bind(null,null),ft.then(_t,_t))}),ft&&typeof ft.then=="function"?ut.resolve(ft):We.then(function(){return ft})}}),Te.push(function(He){var Xe,We,ot=De._cfg.dbschema;Xe=ot,We=He,[].slice.call(We.db.objectStoreNames).forEach(function(dt){return Xe[dt]==null&&We.db.deleteObjectStore(dt)}),va(Q,[Q.Transaction.prototype]),xa(Q,[Q.Transaction.prototype],Q._storeNames,Q._dbSchema),de.schema=Q._dbSchema}),Te.push(function(He){Q.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(Q.idbdb.version/10)===De._cfg.version?(Q.idbdb.deleteObjectStore("$meta"),delete Q._dbSchema.$meta,Q._storeNames=Q._storeNames.filter(function(Xe){return Xe!=="$meta"})):He.objectStore("$meta").put(De._cfg.version,"version"))})}),function De(){return Te.length?ut.resolve(Te.shift()(de.idbtrans)).then(De):ut.resolve()}().then(function(){Fs(ke,me)})):ut.resolve();var Q,ge,de,me,Te,ke}).catch(D)):(u(_).forEach(function(re){On(x,re,_[re].primKey,_[re].indexes)}),Dr(l,x),void ut.follow(function(){return l.on.populate.fire(N)}).catch(D));var G,X})}function Bl(l,d){Fs(l._dbSchema,d),d.db.version%10!=0||d.objectStoreNames.contains("$meta")||d.db.createObjectStore("$meta").add(Math.ceil(d.db.version/10-1),"version");var x=qi(0,l.idbdb,d);ta(l,l._dbSchema,d);for(var w=0,_=Oo(x,l._dbSchema).change;w<_.length;w++){var N=function(D){if(D.change.length||D.recreate)return console.warn("Unable to patch indexes of table ".concat(D.name," because it has changes on the type of index or primary key.")),{value:void 0};var U=d.objectStore(D.name);D.add.forEach(function(G){Ke&&console.debug("Dexie upgrade patch: Creating missing index ".concat(D.name,".").concat(G.src)),ea(U,G)})}(_[w]);if(typeof N=="object")return N.value}}function Oo(l,d){var x,w={del:[],add:[],change:[]};for(x in l)d[x]||w.del.push(x);for(x in d){var _=l[x],N=d[x];if(_){var D={name:x,def:N,recreate:!1,del:[],add:[],change:[]};if(""+(_.primKey.keyPath||"")!=""+(N.primKey.keyPath||"")||_.primKey.auto!==N.primKey.auto)D.recreate=!0,w.change.push(D);else{var U=_.idxByName,G=N.idxByName,X=void 0;for(X in U)G[X]||D.del.push(X);for(X in G){var re=U[X],Q=G[X];re?re.src!==Q.src&&D.change.push(Q):D.add.push(Q)}(0<D.del.length||0<D.add.length||0<D.change.length)&&w.change.push(D)}}else w.add.push([x,N])}return w}function On(l,d,x,w){var _=l.db.createObjectStore(d,x.keyPath?{keyPath:x.keyPath,autoIncrement:x.auto}:{autoIncrement:x.auto});return w.forEach(function(N){return ea(_,N)}),_}function Fs(l,d){u(l).forEach(function(x){d.db.objectStoreNames.contains(x)||(Ke&&console.debug("Dexie: Creating missing table",x),On(d,x,l[x].primKey,l[x].indexes))})}function ea(l,d){l.createIndex(d.name,d.keyPath,{unique:d.unique,multiEntry:d.multi})}function qi(l,d,x){var w={};return O(d.objectStoreNames,0).forEach(function(_){for(var N=x.objectStore(_),D=eo(Ba(X=N.keyPath),X||"",!0,!1,!!N.autoIncrement,X&&typeof X!="string",!0),U=[],G=0;G<N.indexNames.length;++G){var re=N.index(N.indexNames[G]),X=re.keyPath,re=eo(re.name,X,!!re.unique,!!re.multiEntry,!1,X&&typeof X!="string",!1);U.push(re)}w[_]=ts(_,D,U)}),w}function ta(l,d,x){for(var w=x.db.objectStoreNames,_=0;_<w.length;++_){var N=w[_],D=x.objectStore(N);l._hasGetAll="getAll"in D;for(var U=0;U<D.indexNames.length;++U){var G=D.indexNames[U],X=D.index(G).keyPath,re=typeof X=="string"?X:"["+O(X).join("+")+"]";!d[N]||(X=d[N].idxByName[re])&&(X.name=G,delete d[N].idxByName[re],d[N].idxByName[G]=X)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&a.WorkerGlobalScope&&a instanceof a.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(l._hasGetAll=!1)}function $e(l){return l.split(",").map(function(d,x){var N=d.split(":"),w=(_=N[1])===null||_===void 0?void 0:_.trim(),_=(d=N[0].trim()).replace(/([&*]|\+\+)/g,""),N=/^\[/.test(_)?_.match(/^\[(.*)\]$/)[1].split("+"):_;return eo(_,N||null,/\&/.test(d),/\*/.test(d),/\+\+/.test(d),f(N),x===0,w)})}var T=(V.prototype._createTableSchema=ts,V.prototype._parseIndexSyntax=$e,V.prototype._parseStoresSpec=function(l,d){var x=this;u(l).forEach(function(w){if(l[w]!==null){var _=x._parseIndexSyntax(l[w]),N=_.shift();if(!N)throw new Ie.Schema("Invalid schema for table "+w+": "+l[w]);if(N.unique=!0,N.multi)throw new Ie.Schema("Primary key cannot be multiEntry*");_.forEach(function(D){if(D.auto)throw new Ie.Schema("Only primary key can be marked as autoIncrement (++)");if(!D.keyPath)throw new Ie.Schema("Index must have a name and cannot be an empty string")}),_=x._createTableSchema(w,N,_),d[w]=_}})},V.prototype.stores=function(x){var d=this.db;this._cfg.storesSource=this._cfg.storesSource?m(this._cfg.storesSource,x):x;var x=d._versions,w={},_={};return x.forEach(function(N){m(w,N._cfg.storesSource),_=N._cfg.dbschema={},N._parseStoresSpec(w,_)}),d._dbSchema=_,va(d,[d._allTables,d,d.Transaction.prototype]),xa(d,[d._allTables,d,d.Transaction.prototype,this._cfg.tables],u(_),_),d._storeNames=u(_),this},V.prototype.upgrade=function(l){return this._cfg.contentUpgrade=Mt(this._cfg.contentUpgrade||Ge,l),this},V);function V(){}function ye(l,d){var x=l._dbNamesDB;return x||(x=l._dbNamesDB=new kr(Li,{addons:[],indexedDB:l,IDBKeyRange:d})).version(1).stores({dbnames:"name"}),x.table("dbnames")}function Pe(l){return l&&typeof l.databases=="function"}function Fe(l){return ei(function(){return it.letThrough=!0,l()})}function et(l){return!("from"in l)}var nt=function(l,d){if(!this){var x=new nt;return l&&"d"in l&&m(x,l),x}m(this,arguments.length?{d:1,from:l,to:1<arguments.length?d:l}:{d:0})};function Pt(l,d,x){var w=Sn(d,x);if(!isNaN(w)){if(0<w)throw RangeError();if(et(l))return m(l,{from:d,to:x,d:1});var _=l.l,w=l.r;if(Sn(x,l.from)<0)return _?Pt(_,d,x):l.l={from:d,to:x,d:1,l:null,r:null},Wn(l);if(0<Sn(d,l.to))return w?Pt(w,d,x):l.r={from:d,to:x,d:1,l:null,r:null},Wn(l);Sn(d,l.from)<0&&(l.from=d,l.l=null,l.d=w?w.d+1:1),0<Sn(x,l.to)&&(l.to=x,l.r=null,l.d=l.l?l.l.d+1:1),x=!l.r,_&&!l.l&&xt(l,_),w&&x&&xt(l,w)}}function xt(l,d){et(d)||function x(w,G){var N=G.from,D=G.to,U=G.l,G=G.r;Pt(w,N,D),U&&x(w,U),G&&x(w,G)}(l,d)}function fn(l,d){var x=Rt(d),w=x.next();if(w.done)return!1;for(var _=w.value,N=Rt(l),D=N.next(_.from),U=D.value;!w.done&&!D.done;){if(Sn(U.from,_.to)<=0&&0<=Sn(U.to,_.from))return!0;Sn(_.from,U.from)<0?_=(w=x.next(U.from)).value:U=(D=N.next(_.from)).value}return!1}function Rt(l){var d=et(l)?null:{s:0,n:l};return{next:function(x){for(var w=0<arguments.length;d;)switch(d.s){case 0:if(d.s=1,w)for(;d.n.l&&Sn(x,d.n.from)<0;)d={up:d,n:d.n.l,s:1};else for(;d.n.l;)d={up:d,n:d.n.l,s:1};case 1:if(d.s=2,!w||Sn(x,d.n.to)<=0)return{value:d.n,done:!1};case 2:if(d.n.r){d.s=3,d={up:d,n:d.n.r,s:0};continue}case 3:d=d.up}return{done:!0}}}}function Wn(l){var d,x,w=(((d=l.r)===null||d===void 0?void 0:d.d)||0)-(((x=l.l)===null||x===void 0?void 0:x.d)||0),_=1<w?"r":w<-1?"l":"";_&&(d=_=="r"?"l":"r",x=r({},l),w=l[_],l.from=w.from,l.to=w.to,l[_]=w[_],x[_]=w[d],(l[d]=x).d=ir(x)),l.d=ir(l)}function ir(x){var d=x.r,x=x.l;return(d?x?Math.max(d.d,x.d):d.d:x?x.d:0)+1}function hn(l,d){return u(d).forEach(function(x){l[x]?xt(l[x],d[x]):l[x]=function w(_){var N,D,U={};for(N in _)S(_,N)&&(D=_[N],U[N]=!D||typeof D!="object"||H.has(D.constructor)?D:w(D));return U}(d[x])}),l}function bt(l,d){return l.all||d.all||Object.keys(l).some(function(x){return d[x]&&fn(d[x],l[x])})}E(nt.prototype,((Mr={add:function(l){return xt(this,l),this},addKey:function(l){return Pt(this,l,l),this},addKeys:function(l){var d=this;return l.forEach(function(x){return Pt(d,x,x)}),this},hasKey:function(l){var d=Rt(this).next(l).value;return d&&Sn(d.from,l)<=0&&0<=Sn(d.to,l)}})[Ne]=function(){return Rt(this)},Mr));var _r={},xn={},Cr=!1;function ni(l){hn(xn,l),Cr||(Cr=!0,setTimeout(function(){Cr=!1,ki(xn,!(xn={}))},0))}function ki(l,d){d===void 0&&(d=!1);var x=new Set;if(l.all)for(var w=0,_=Object.values(_r);w<_.length;w++)Gi(D=_[w],l,x,d);else for(var N in l){var D,U=/^idb\:\/\/(.*)\/(.*)\//.exec(N);U&&(N=U[1],U=U[2],(D=_r["idb://".concat(N,"/").concat(U)])&&Gi(D,l,x,d))}x.forEach(function(G){return G()})}function Gi(l,d,x,w){for(var _=[],N=0,D=Object.entries(l.queries.query);N<D.length;N++){for(var U=D[N],G=U[0],X=[],re=0,Q=U[1];re<Q.length;re++){var ge=Q[re];bt(d,ge.obsSet)?ge.subscribers.forEach(function(ke){return x.add(ke)}):w&&X.push(ge)}w&&_.push([G,X])}if(w)for(var de=0,me=_;de<me.length;de++){var Te=me[de],G=Te[0],X=Te[1];l.queries.query[G]=X}}function Ua(l){var d=l._state,x=l._deps.indexedDB;if(d.isBeingOpened||l.idbdb)return d.dbReadyPromise.then(function(){return d.dbOpenError?dn(d.dbOpenError):l});d.isBeingOpened=!0,d.dbOpenError=null,d.openComplete=!1;var w=d.openCanceller,_=Math.round(10*l.verno),N=!1;function D(){if(d.openCanceller!==w)throw new Ie.DatabaseClosed("db.open() was cancelled")}function U(){return new ut(function(ge,de){if(D(),!x)throw new Ie.MissingAPI;var me=l.name,Te=d.autoSchema||!_?x.open(me):x.open(me,_);if(!Te)throw new Ie.MissingAPI;Te.onerror=Ti(de),Te.onblocked=rn(l._fireOnBlocked),Te.onupgradeneeded=rn(function(ke){var De;re=Te.transaction,d.autoSchema&&!l._options.allowEmptyDB?(Te.onerror=Vi,re.abort(),Te.result.close(),(De=x.deleteDatabase(me)).onsuccess=De.onerror=rn(function(){de(new Ie.NoSuchDatabase("Database ".concat(me," doesnt exist")))})):(re.onerror=Ti(de),ke=ke.oldVersion>Math.pow(2,62)?0:ke.oldVersion,Q=ke<1,l.idbdb=Te.result,N&&Bl(l,re),no(l,ke/10,re,de))},de),Te.onsuccess=rn(function(){re=null;var ke,De,He,Xe,We,ot=l.idbdb=Te.result,dt=O(ot.objectStoreNames);if(0<dt.length)try{var ft=ot.transaction((Xe=dt).length===1?Xe[0]:Xe,"readonly");if(d.autoSchema)De=ot,He=ft,(ke=l).verno=De.version/10,He=ke._dbSchema=qi(0,De,He),ke._storeNames=O(De.objectStoreNames,0),xa(ke,[ke._allTables],u(He),He);else if(ta(l,l._dbSchema,ft),((We=Oo(qi(0,(We=l).idbdb,ft),We._dbSchema)).add.length||We.change.some(function(ht){return ht.add.length||ht.change.length}))&&!N)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),ot.close(),_=ot.version+1,N=!0,ge(U());Dr(l,ft)}catch{}at.push(l),ot.onversionchange=rn(function(ht){d.vcFired=!0,l.on("versionchange").fire(ht)}),ot.onclose=rn(function(ht){l.on("close").fire(ht)}),Q&&(We=l._deps,ft=me,ot=We.indexedDB,We=We.IDBKeyRange,Pe(ot)||ft===Li||ye(ot,We).put({name:ft}).catch(Ge)),ge()},de)}).catch(function(ge){switch(ge==null?void 0:ge.name){case"UnknownError":if(0<d.PR1398_maxLoop)return d.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),U();break;case"VersionError":if(0<_)return _=0,U()}return ut.reject(ge)})}var G,X=d.dbReadyResolve,re=null,Q=!1;return ut.race([w,(typeof navigator>"u"?ut.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(ge){function de(){return indexedDB.databases().finally(ge)}G=setInterval(de,100),de()}).finally(function(){return clearInterval(G)}):Promise.resolve()).then(U)]).then(function(){return D(),d.onReadyBeingFired=[],ut.resolve(Fe(function(){return l.on.ready.fire(l.vip)})).then(function ge(){if(0<d.onReadyBeingFired.length){var de=d.onReadyBeingFired.reduce(Mt,Ge);return d.onReadyBeingFired=[],ut.resolve(Fe(function(){return de(l.vip)})).then(ge)}})}).finally(function(){d.openCanceller===w&&(d.onReadyBeingFired=null,d.isBeingOpened=!1)}).catch(function(ge){d.dbOpenError=ge;try{re&&re.abort()}catch{}return w===d.openCanceller&&l._close(),dn(ge)}).finally(function(){d.openComplete=!0,X()}).then(function(){var ge;return Q&&(ge={},l.tables.forEach(function(de){de.schema.indexes.forEach(function(me){me.name&&(ge["idb://".concat(l.name,"/").concat(de.name,"/").concat(me.name)]=new nt(-1/0,[[[]]]))}),ge["idb://".concat(l.name,"/").concat(de.name,"/")]=ge["idb://".concat(l.name,"/").concat(de.name,"/:dels")]=new nt(-1/0,[[[]]])}),Zt(Yt).fire(ge),ki(ge,!0)),l})}function na(l){function d(N){return l.next(N)}var x=_(d),w=_(function(N){return l.throw(N)});function _(N){return function(G){var U=N(G),G=U.value;return U.done?G:G&&typeof G.then=="function"?G.then(x,w):f(G)?Promise.all(G).then(x,w):x(G)}}return _(d)()}function ns(l,d,x){for(var w=f(l)?l.slice():[l],_=0;_<x;++_)w.push(d);return w}var za={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(l){return r(r({},l),{table:function(d){var x=l.table(d),w=x.schema,_={},N=[];function D(Q,ge,de){var me=Js(Q),Te=_[me]=_[me]||[],ke=Q==null?0:typeof Q=="string"?1:Q.length,De=0<ge,De=r(r({},de),{name:De?"".concat(me,"(virtual-from:").concat(de.name,")"):de.name,lowLevelIndex:de,isVirtual:De,keyTail:ge,keyLength:ke,extractKey:vs(Q),unique:!De&&de.unique});return Te.push(De),De.isPrimaryKey||N.push(De),1<ke&&D(ke===2?Q[0]:Q.slice(0,ke-1),ge+1,de),Te.sort(function(He,Xe){return He.keyTail-Xe.keyTail}),De}d=D(w.primaryKey.keyPath,0,w.primaryKey),_[":id"]=[d];for(var U=0,G=w.indexes;U<G.length;U++){var X=G[U];D(X.keyPath,0,X)}function re(Q){var ge,de=Q.query.index;return de.isVirtual?r(r({},Q),{query:{index:de.lowLevelIndex,range:(ge=Q.query.range,de=de.keyTail,{type:ge.type===1?2:ge.type,lower:ns(ge.lower,ge.lowerOpen?l.MAX_KEY:l.MIN_KEY,de),lowerOpen:!0,upper:ns(ge.upper,ge.upperOpen?l.MIN_KEY:l.MAX_KEY,de),upperOpen:!0})}}):Q}return r(r({},x),{schema:r(r({},w),{primaryKey:d,indexes:N,getIndexByKeyPath:function(Q){return(Q=_[Js(Q)])&&Q[0]}}),count:function(Q){return x.count(re(Q))},query:function(Q){return x.query(re(Q))},openCursor:function(Q){var ge=Q.query.index,de=ge.keyTail,me=ge.isVirtual,Te=ge.keyLength;return me?x.openCursor(re(Q)).then(function(De){return De&&ke(De)}):x.openCursor(Q);function ke(De){return Object.create(De,{continue:{value:function(He){He!=null?De.continue(ns(He,Q.reverse?l.MAX_KEY:l.MIN_KEY,de)):Q.unique?De.continue(De.key.slice(0,Te).concat(Q.reverse?l.MIN_KEY:l.MAX_KEY,de)):De.continue()}},continuePrimaryKey:{value:function(He,Xe){De.continuePrimaryKey(ns(He,l.MAX_KEY,de),Xe)}},primaryKey:{get:function(){return De.primaryKey}},key:{get:function(){var He=De.key;return Te===1?He[0]:He.slice(0,Te)}},value:{get:function(){return De.value}}})}}})}})}};function ra(l,d,x,w){return x=x||{},w=w||"",u(l).forEach(function(_){var N,D,U;S(d,_)?(N=l[_],D=d[_],typeof N=="object"&&typeof D=="object"&&N&&D?(U=te(N))!==te(D)?x[w+_]=d[_]:U==="Object"?ra(N,D,x,w+_+"."):N!==D&&(x[w+_]=d[_]):N!==D&&(x[w+_]=d[_])):x[w+_]=void 0}),u(d).forEach(function(_){S(l,_)||(x[w+_]=d[_])}),x}function ya(l,d){return d.type==="delete"?d.keys:d.keys||d.values.map(l.extractKey)}var qr={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(l){return r(r({},l),{table:function(d){var x=l.table(d),w=x.schema.primaryKey;return r(r({},x),{mutate:function(_){var N=it.trans,D=N.table(d).hook,U=D.deleting,G=D.creating,X=D.updating;switch(_.type){case"add":if(G.fire===Ge)break;return N._promise("readwrite",function(){return re(_)},!0);case"put":if(G.fire===Ge&&X.fire===Ge)break;return N._promise("readwrite",function(){return re(_)},!0);case"delete":if(U.fire===Ge)break;return N._promise("readwrite",function(){return re(_)},!0);case"deleteRange":if(U.fire===Ge)break;return N._promise("readwrite",function(){return function Q(ge,de,me){return x.query({trans:ge,values:!1,query:{index:w,range:de},limit:me}).then(function(Te){var ke=Te.result;return re({type:"delete",keys:ke,trans:ge}).then(function(De){return 0<De.numFailures?Promise.reject(De.failures[0]):ke.length<me?{failures:[],numFailures:0,lastResult:void 0}:Q(ge,r(r({},de),{lower:ke[ke.length-1],lowerOpen:!0}),me)})})}(_.trans,_.range,1e4)},!0)}return x.mutate(_);function re(Q){var ge,de,me,Te=it.trans,ke=Q.keys||ya(w,Q);if(!ke)throw new Error("Keys missing");return(Q=Q.type==="add"||Q.type==="put"?r(r({},Q),{keys:ke}):r({},Q)).type!=="delete"&&(Q.values=i([],Q.values)),Q.keys&&(Q.keys=i([],Q.keys)),ge=x,me=ke,((de=Q).type==="add"?Promise.resolve([]):ge.getMany({trans:de.trans,keys:me,cache:"immutable"})).then(function(De){var He=ke.map(function(Xe,We){var ot,dt,ft,ht=De[We],_t={onerror:null,onsuccess:null};return Q.type==="delete"?U.fire.call(_t,Xe,ht,Te):Q.type==="add"||ht===void 0?(ot=G.fire.call(_t,Xe,Q.values[We],Te),Xe==null&&ot!=null&&(Q.keys[We]=Xe=ot,w.outbound||Y(Q.values[We],w.keyPath,Xe))):(ot=ra(ht,Q.values[We]),(dt=X.fire.call(_t,ot,Xe,ht,Te))&&(ft=Q.values[We],Object.keys(dt).forEach(function(vt){S(ft,vt)?ft[vt]=dt[vt]:Y(ft,vt,dt[vt])}))),_t});return x.mutate(Q).then(function(Xe){for(var We=Xe.failures,ot=Xe.results,dt=Xe.numFailures,Xe=Xe.lastResult,ft=0;ft<ke.length;++ft){var ht=(ot||ke)[ft],_t=He[ft];ht==null?_t.onerror&&_t.onerror(We[ft]):_t.onsuccess&&_t.onsuccess(Q.type==="put"&&De[ft]?Q.values[ft]:ht)}return{failures:We,results:ot,numFailures:dt,lastResult:Xe}}).catch(function(Xe){return He.forEach(function(We){return We.onerror&&We.onerror(Xe)}),Promise.reject(Xe)})})}}})}})}};function ia(l,d,x){try{if(!d||d.keys.length<l.length)return null;for(var w=[],_=0,N=0;_<d.keys.length&&N<l.length;++_)Sn(d.keys[_],l[N])===0&&(w.push(x?ue(d.values[_]):d.values[_]),++N);return w.length===l.length?w:null}catch{return null}}var ro={stack:"dbcore",level:-1,create:function(l){return{table:function(d){var x=l.table(d);return r(r({},x),{getMany:function(w){if(!w.cache)return x.getMany(w);var _=ia(w.keys,w.trans._cache,w.cache==="clone");return _?ut.resolve(_):x.getMany(w).then(function(N){return w.trans._cache={keys:w.keys,values:w.cache==="clone"?ue(N):N},N})},mutate:function(w){return w.type!=="add"&&(w.trans._cache=null),x.mutate(w)}})}}}};function sa(l,d){return l.trans.mode==="readonly"&&!!l.subscr&&!l.trans.explicit&&l.trans.db._options.cache!=="disabled"&&!d.schema.primaryKey.outbound}function Lo(l,d){switch(l){case"query":return d.values&&!d.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var or={stack:"dbcore",level:0,name:"Observability",create:function(l){var d=l.schema.name,x=new nt(l.MIN_KEY,l.MAX_KEY);return r(r({},l),{transaction:function(w,_,N){if(it.subscr&&_!=="readonly")throw new Ie.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(it.querier));return l.transaction(w,_,N)},table:function(w){var _=l.table(w),N=_.schema,D=N.primaryKey,Q=N.indexes,U=D.extractKey,G=D.outbound,X=D.autoIncrement&&Q.filter(function(de){return de.compound&&de.keyPath.includes(D.keyPath)}),re=r(r({},_),{mutate:function(de){function me(vt){return vt="idb://".concat(d,"/").concat(w,"/").concat(vt),Xe[vt]||(Xe[vt]=new nt)}var Te,ke,De,He=de.trans,Xe=de.mutatedParts||(de.mutatedParts={}),We=me(""),ot=me(":dels"),dt=de.type,_t=de.type==="deleteRange"?[de.range]:de.type==="delete"?[de.keys]:de.values.length<50?[ya(D,de).filter(function(vt){return vt}),de.values]:[],ft=_t[0],ht=_t[1],_t=de.trans._cache;return f(ft)?(We.addKeys(ft),(_t=dt==="delete"||ft.length===ht.length?ia(ft,_t):null)||ot.addKeys(ft),(_t||ht)&&(Te=me,ke=_t,De=ht,N.indexes.forEach(function(vt){var Tt=Te(vt.name||"");function Cn(yn){return yn!=null?vt.extractKey(yn):null}function Xn(yn){return vt.multiEntry&&f(yn)?yn.forEach(function(Gr){return Tt.addKey(Gr)}):Tt.addKey(yn)}(ke||De).forEach(function(yn,Mi){var vn=ke&&Cn(ke[Mi]),Mi=De&&Cn(De[Mi]);Sn(vn,Mi)!==0&&(vn!=null&&Xn(vn),Mi!=null&&Xn(Mi))})}))):ft?(ht={from:(ht=ft.lower)!==null&&ht!==void 0?ht:l.MIN_KEY,to:(ht=ft.upper)!==null&&ht!==void 0?ht:l.MAX_KEY},ot.add(ht),We.add(ht)):(We.add(x),ot.add(x),N.indexes.forEach(function(vt){return me(vt.name).add(x)})),_.mutate(de).then(function(vt){return!ft||de.type!=="add"&&de.type!=="put"||(We.addKeys(vt.results),X&&X.forEach(function(Tt){for(var Cn=de.values.map(function(vn){return Tt.extractKey(vn)}),Xn=Tt.keyPath.findIndex(function(vn){return vn===D.keyPath}),yn=0,Gr=vt.results.length;yn<Gr;++yn)Cn[yn][Xn]=vt.results[yn];me(Tt.name).addKeys(Cn)})),He.mutatedParts=hn(He.mutatedParts||{},Xe),vt})}}),Q=function(me){var Te=me.query,me=Te.index,Te=Te.range;return[me,new nt((me=Te.lower)!==null&&me!==void 0?me:l.MIN_KEY,(Te=Te.upper)!==null&&Te!==void 0?Te:l.MAX_KEY)]},ge={get:function(de){return[D,new nt(de.key)]},getMany:function(de){return[D,new nt().addKeys(de.keys)]},count:Q,query:Q,openCursor:Q};return u(ge).forEach(function(de){re[de]=function(me){var Te=it.subscr,ke=!!Te,De=sa(it,_)&&Lo(de,me)?me.obsSet={}:Te;if(ke){var He=function(ht){return ht="idb://".concat(d,"/").concat(w,"/").concat(ht),De[ht]||(De[ht]=new nt)},Xe=He(""),We=He(":dels"),Te=ge[de](me),ke=Te[0],Te=Te[1];if((de==="query"&&ke.isPrimaryKey&&!me.values?We:He(ke.name||"")).add(Te),!ke.isPrimaryKey){if(de!=="count"){var ot=de==="query"&&G&&me.values&&_.query(r(r({},me),{values:!1}));return _[de].apply(this,arguments).then(function(ht){if(de==="query"){if(G&&me.values)return ot.then(function(Cn){return Cn=Cn.result,Xe.addKeys(Cn),ht});var _t=me.values?ht.result.map(U):ht.result;(me.values?Xe:We).addKeys(_t)}else if(de==="openCursor"){var vt=ht,Tt=me.values;return vt&&Object.create(vt,{key:{get:function(){return We.addKey(vt.primaryKey),vt.key}},primaryKey:{get:function(){var Cn=vt.primaryKey;return We.addKey(Cn),Cn}},value:{get:function(){return Tt&&Xe.addKey(vt.primaryKey),vt.value}}})}return ht})}We.add(x)}}return _[de].apply(this,arguments)}}),re}})}};function rs(l,d,x){if(x.numFailures===0)return d;if(d.type==="deleteRange")return null;var w=d.keys?d.keys.length:"values"in d&&d.values?d.values.length:1;return x.numFailures===w?null:(d=r({},d),f(d.keys)&&(d.keys=d.keys.filter(function(_,N){return!(N in x.failures)})),"values"in d&&f(d.values)&&(d.values=d.values.filter(function(_,N){return!(N in x.failures)})),d)}function si(l,d){return x=l,((w=d).lower===void 0||(w.lowerOpen?0<Sn(x,w.lower):0<=Sn(x,w.lower)))&&(l=l,(d=d).upper===void 0||(d.upperOpen?Sn(l,d.upper)<0:Sn(l,d.upper)<=0));var x,w}function Do(l,d,ge,w,_,N){if(!ge||ge.length===0)return l;var D=d.query.index,U=D.multiEntry,G=d.query.range,X=w.schema.primaryKey.extractKey,re=D.extractKey,Q=(D.lowLevelIndex||D).extractKey,ge=ge.reduce(function(de,me){var Te=de,ke=[];if(me.type==="add"||me.type==="put")for(var De=new nt,He=me.values.length-1;0<=He;--He){var Xe,We=me.values[He],ot=X(We);De.hasKey(ot)||(Xe=re(We),(U&&f(Xe)?Xe.some(function(vt){return si(vt,G)}):si(Xe,G))&&(De.addKey(ot),ke.push(We)))}switch(me.type){case"add":var dt=new nt().addKeys(d.values?de.map(function(Tt){return X(Tt)}):de),Te=de.concat(d.values?ke.filter(function(Tt){return Tt=X(Tt),!dt.hasKey(Tt)&&(dt.addKey(Tt),!0)}):ke.map(function(Tt){return X(Tt)}).filter(function(Tt){return!dt.hasKey(Tt)&&(dt.addKey(Tt),!0)}));break;case"put":var ft=new nt().addKeys(me.values.map(function(Tt){return X(Tt)}));Te=de.filter(function(Tt){return!ft.hasKey(d.values?X(Tt):Tt)}).concat(d.values?ke:ke.map(function(Tt){return X(Tt)}));break;case"delete":var ht=new nt().addKeys(me.keys);Te=de.filter(function(Tt){return!ht.hasKey(d.values?X(Tt):Tt)});break;case"deleteRange":var _t=me.range;Te=de.filter(function(Tt){return!si(X(Tt),_t)})}return Te},l);return ge===l?l:(ge.sort(function(de,me){return Sn(Q(de),Q(me))||Sn(X(de),X(me))}),d.limit&&d.limit<1/0&&(ge.length>d.limit?ge.length=d.limit:l.length===d.limit&&ge.length<d.limit&&(_.dirty=!0)),N?Object.freeze(ge):ge)}function zr(l,d){return Sn(l.lower,d.lower)===0&&Sn(l.upper,d.upper)===0&&!!l.lowerOpen==!!d.lowerOpen&&!!l.upperOpen==!!d.upperOpen}function io(l,d){return function(x,w,_,N){if(x===void 0)return w!==void 0?-1:0;if(w===void 0)return 1;if((w=Sn(x,w))===0){if(_&&N)return 0;if(_)return 1;if(N)return-1}return w}(l.lower,d.lower,l.lowerOpen,d.lowerOpen)<=0&&0<=function(x,w,_,N){if(x===void 0)return w!==void 0?1:0;if(w===void 0)return-1;if((w=Sn(x,w))===0){if(_&&N)return 0;if(_)return-1;if(N)return 1}return w}(l.upper,d.upper,l.upperOpen,d.upperOpen)}function so(l,d,x,w){l.subscribers.add(x),w.addEventListener("abort",function(){var _,N;l.subscribers.delete(x),l.subscribers.size===0&&(_=l,N=d,setTimeout(function(){_.subscribers.size===0&&ne(N,_)},3e3))})}var sl={stack:"dbcore",level:0,name:"Cache",create:function(l){var d=l.schema.name;return r(r({},l),{transaction:function(x,w,_){var N,D,U=l.transaction(x,w,_);return w==="readwrite"&&(D=(N=new AbortController).signal,_=function(G){return function(){if(N.abort(),w==="readwrite"){for(var X=new Set,re=0,Q=x;re<Q.length;re++){var ge=Q[re],de=_r["idb://".concat(d,"/").concat(ge)];if(de){var me=l.table(ge),Te=de.optimisticOps.filter(function(Tt){return Tt.trans===U});if(U._explicit&&G&&U.mutatedParts)for(var ke=0,De=Object.values(de.queries.query);ke<De.length;ke++)for(var He=0,Xe=(dt=De[ke]).slice();He<Xe.length;He++)bt((ft=Xe[He]).obsSet,U.mutatedParts)&&(ne(dt,ft),ft.subscribers.forEach(function(Tt){return X.add(Tt)}));else if(0<Te.length){de.optimisticOps=de.optimisticOps.filter(function(Tt){return Tt.trans!==U});for(var We=0,ot=Object.values(de.queries.query);We<ot.length;We++)for(var dt,ft,ht,_t=0,vt=(dt=ot[We]).slice();_t<vt.length;_t++)(ft=vt[_t]).res!=null&&U.mutatedParts&&(G&&!ft.dirty?(ht=Object.isFrozen(ft.res),ht=Do(ft.res,ft.req,Te,me,ft,ht),ft.dirty?(ne(dt,ft),ft.subscribers.forEach(function(Tt){return X.add(Tt)})):ht!==ft.res&&(ft.res=ht,ft.promise=ut.resolve({result:ht}))):(ft.dirty&&ne(dt,ft),ft.subscribers.forEach(function(Tt){return X.add(Tt)})))}}}X.forEach(function(Tt){return Tt()})}}},U.addEventListener("abort",_(!1),{signal:D}),U.addEventListener("error",_(!1),{signal:D}),U.addEventListener("complete",_(!0),{signal:D})),U},table:function(x){var w=l.table(x),_=w.schema.primaryKey;return r(r({},w),{mutate:function(N){var D=it.trans;if(_.outbound||D.db._options.cache==="disabled"||D.explicit||D.idbtrans.mode!=="readwrite")return w.mutate(N);var U=_r["idb://".concat(d,"/").concat(x)];return U?(D=w.mutate(N),N.type!=="add"&&N.type!=="put"||!(50<=N.values.length||ya(_,N).some(function(G){return G==null}))?(U.optimisticOps.push(N),N.mutatedParts&&ni(N.mutatedParts),D.then(function(G){0<G.numFailures&&(ne(U.optimisticOps,N),(G=rs(0,N,G))&&U.optimisticOps.push(G),N.mutatedParts&&ni(N.mutatedParts))}),D.catch(function(){ne(U.optimisticOps,N),N.mutatedParts&&ni(N.mutatedParts)})):D.then(function(G){var X=rs(0,r(r({},N),{values:N.values.map(function(re,Q){var ge;return G.failures[Q]?re:(re=(ge=_.keyPath)!==null&&ge!==void 0&&ge.includes(".")?ue(re):r({},re),Y(re,_.keyPath,G.results[Q]),re)})}),G);U.optimisticOps.push(X),queueMicrotask(function(){return N.mutatedParts&&ni(N.mutatedParts)})}),D):w.mutate(N)},query:function(N){if(!sa(it,w)||!Lo("query",N))return w.query(N);var D=((X=it.trans)===null||X===void 0?void 0:X.db._options.cache)==="immutable",Q=it,U=Q.requery,G=Q.signal,X=function(me,Te,ke,De){var He=_r["idb://".concat(me,"/").concat(Te)];if(!He)return[];if(!(Te=He.queries[ke]))return[null,!1,He,null];var Xe=Te[(De.query?De.query.index.name:null)||""];if(!Xe)return[null,!1,He,null];switch(ke){case"query":var We=Xe.find(function(ot){return ot.req.limit===De.limit&&ot.req.values===De.values&&zr(ot.req.query.range,De.query.range)});return We?[We,!0,He,Xe]:[Xe.find(function(ot){return("limit"in ot.req?ot.req.limit:1/0)>=De.limit&&(!De.values||ot.req.values)&&io(ot.req.query.range,De.query.range)}),!1,He,Xe];case"count":return We=Xe.find(function(ot){return zr(ot.req.query.range,De.query.range)}),[We,!!We,He,Xe]}}(d,x,"query",N),re=X[0],Q=X[1],ge=X[2],de=X[3];return re&&Q?re.obsSet=N.obsSet:(Q=w.query(N).then(function(me){var Te=me.result;if(re&&(re.res=Te),D){for(var ke=0,De=Te.length;ke<De;++ke)Object.freeze(Te[ke]);Object.freeze(Te)}else me.result=ue(Te);return me}).catch(function(me){return de&&re&&ne(de,re),Promise.reject(me)}),re={obsSet:N.obsSet,promise:Q,subscribers:new Set,type:"query",req:N,dirty:!1},de?de.push(re):(de=[re],(ge=ge||(_r["idb://".concat(d,"/").concat(x)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[N.query.index.name||""]=de)),so(re,de,U,G),re.promise.then(function(me){return{result:Do(me.result,N,ge==null?void 0:ge.optimisticOps,w,re,D)}})}})}})}};function ys(l,d){return new Proxy(l,{get:function(x,w,_){return w==="db"?d:Reflect.get(x,w,_)}})}var kr=($n.prototype.version=function(l){if(isNaN(l)||l<.1)throw new Ie.Type("Given version is not a positive number");if(l=Math.round(10*l)/10,this.idbdb||this._state.isBeingOpened)throw new Ie.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,l);var d=this._versions,x=d.filter(function(w){return w._cfg.version===l})[0];return x||(x=new this.Version(l),d.push(x),d.sort(Ro),x.stores({}),this._state.autoSchema=!1,x)},$n.prototype._whenReady=function(l){var d=this;return this.idbdb&&(this._state.openComplete||it.letThrough||this._vip)?l():new ut(function(x,w){if(d._state.openComplete)return w(new Ie.DatabaseClosed(d._state.dbOpenError));if(!d._state.isBeingOpened){if(!d._state.autoOpen)return void w(new Ie.DatabaseClosed);d.open().catch(Ge)}d._state.dbReadyPromise.then(x,w)}).then(l)},$n.prototype.use=function(l){var d=l.stack,x=l.create,w=l.level,_=l.name;return _&&this.unuse({stack:d,name:_}),l=this._middlewares[d]||(this._middlewares[d]=[]),l.push({stack:d,create:x,level:w??10,name:_}),l.sort(function(N,D){return N.level-D.level}),this},$n.prototype.unuse=function(l){var d=l.stack,x=l.name,w=l.create;return d&&this._middlewares[d]&&(this._middlewares[d]=this._middlewares[d].filter(function(_){return w?_.create!==w:!!x&&_.name!==x})),this},$n.prototype.open=function(){var l=this;return Qi(It,function(){return Ua(l)})},$n.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var l=this._state,d=at.indexOf(this);if(0<=d&&at.splice(d,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}l.isBeingOpened||(l.dbReadyPromise=new ut(function(x){l.dbReadyResolve=x}),l.openCanceller=new ut(function(x,w){l.cancelOpen=w}))},$n.prototype.close=function(x){var d=(x===void 0?{disableAutoOpen:!0}:x).disableAutoOpen,x=this._state;d?(x.isBeingOpened&&x.cancelOpen(new Ie.DatabaseClosed),this._close(),x.autoOpen=!1,x.dbOpenError=new Ie.DatabaseClosed):(this._close(),x.autoOpen=this._options.autoOpen||x.isBeingOpened,x.openComplete=!1,x.dbOpenError=null)},$n.prototype.delete=function(l){var d=this;l===void 0&&(l={disableAutoOpen:!0});var x=0<arguments.length&&typeof arguments[0]!="object",w=this._state;return new ut(function(_,N){function D(){d.close(l);var U=d._deps.indexedDB.deleteDatabase(d.name);U.onsuccess=rn(function(){var G,X,re;G=d._deps,X=d.name,re=G.indexedDB,G=G.IDBKeyRange,Pe(re)||X===Li||ye(re,G).delete(X).catch(Ge),_()}),U.onerror=Ti(N),U.onblocked=d._fireOnBlocked}if(x)throw new Ie.InvalidArgument("Invalid closeOptions argument to db.delete()");w.isBeingOpened?w.dbReadyPromise.then(D):D()})},$n.prototype.backendDB=function(){return this.idbdb},$n.prototype.isOpen=function(){return this.idbdb!==null},$n.prototype.hasBeenClosed=function(){var l=this._state.dbOpenError;return l&&l.name==="DatabaseClosed"},$n.prototype.hasFailed=function(){return this._state.dbOpenError!==null},$n.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty($n.prototype,"tables",{get:function(){var l=this;return u(this._allTables).map(function(d){return l._allTables[d]})},enumerable:!1,configurable:!0}),$n.prototype.transaction=function(){var l=(function(d,x,w){var _=arguments.length;if(_<2)throw new Ie.InvalidArgument("Too few arguments");for(var N=new Array(_-1);--_;)N[_-1]=arguments[_];return w=N.pop(),[d,he(N),w]}).apply(this,arguments);return this._transaction.apply(this,l)},$n.prototype._transaction=function(l,d,x){var w=this,_=it.trans;_&&_.db===this&&l.indexOf("!")===-1||(_=null);var N,D,U=l.indexOf("?")!==-1;l=l.replace("!","").replace("?","");try{if(D=d.map(function(X){if(X=X instanceof w.Table?X.name:X,typeof X!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return X}),l=="r"||l===fr)N=fr;else{if(l!="rw"&&l!=Os)throw new Ie.InvalidArgument("Invalid transaction mode: "+l);N=Os}if(_){if(_.mode===fr&&N===Os){if(!U)throw new Ie.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");_=null}_&&D.forEach(function(X){if(_&&_.storeNames.indexOf(X)===-1){if(!U)throw new Ie.SubTransaction("Table "+X+" not included in parent transaction.");_=null}}),U&&_&&!_.active&&(_=null)}}catch(X){return _?_._promise(null,function(re,Q){Q(X)}):dn(X)}var G=(function X(re,Q,ge,de,me){return ut.resolve().then(function(){var Te=it.transless||it,ke=re._createTransaction(Q,ge,re._dbSchema,de);if(ke.explicit=!0,Te={trans:ke,transless:Te},de)ke.idbtrans=de.idbtrans;else try{ke.create(),ke.idbtrans._explicit=!0,re._state.PR1398_maxLoop=3}catch(Xe){return Xe.name===we.InvalidState&&re.isOpen()&&0<--re._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),re.close({disableAutoOpen:!1}),re.open().then(function(){return X(re,Q,ge,null,me)})):dn(Xe)}var De,He=Le(me);return He&&dr(),Te=ut.follow(function(){var Xe;(De=me.call(ke,ke))&&(He?(Xe=Rr.bind(null,null),De.then(Xe,Xe)):typeof De.next=="function"&&typeof De.throw=="function"&&(De=na(De)))},Te),(De&&typeof De.then=="function"?ut.resolve(De).then(function(Xe){return ke.active?Xe:dn(new Ie.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):Te.then(function(){return De})).then(function(Xe){return de&&ke._resolve(),ke._completion.then(function(){return Xe})}).catch(function(Xe){return ke._reject(Xe),dn(Xe)})})}).bind(null,this,N,D,_,x);return _?_._promise(N,G,"lock"):it.trans?Qi(it.transless,function(){return w._whenReady(G)}):this._whenReady(G)},$n.prototype.table=function(l){if(!S(this._allTables,l))throw new Ie.InvalidTable("Table ".concat(l," does not exist"));return this._allTables[l]},$n);function $n(l,d){var x=this;this._middlewares={},this.verno=0;var w=$n.dependencies;this._options=d=r({addons:$n.addons,autoOpen:!0,indexedDB:w.indexedDB,IDBKeyRange:w.IDBKeyRange,cache:"cloned"},d),this._deps={indexedDB:d.indexedDB,IDBKeyRange:d.IDBKeyRange},w=d.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var _,N,D,U,G,X={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Ge,dbReadyPromise:null,cancelOpen:Ge,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:d.autoOpen};X.dbReadyPromise=new ut(function(Q){X.dbReadyResolve=Q}),X.openCanceller=new ut(function(Q,ge){X.cancelOpen=ge}),this._state=X,this.name=l,this.on=er(this,"populate","blocked","versionchange","close",{ready:[Mt,Ge]}),this.once=function(Q,ge){var de=function(){for(var me=[],Te=0;Te<arguments.length;Te++)me[Te]=arguments[Te];x.on(Q).unsubscribe(de),ge.apply(x,me)};return x.on(Q,de)},this.on.ready.subscribe=L(this.on.ready.subscribe,function(Q){return function(ge,de){$n.vip(function(){var me,Te=x._state;Te.openComplete?(Te.dbOpenError||ut.resolve().then(ge),de&&Q(ge)):Te.onReadyBeingFired?(Te.onReadyBeingFired.push(ge),de&&Q(ge)):(Q(ge),me=x,de||Q(function ke(){me.on.ready.unsubscribe(ge),me.on.ready.unsubscribe(ke)}))})}}),this.Collection=(_=this,Ur(Fa.prototype,function(De,ke){this.db=_;var de=Vn,me=null;if(ke)try{de=ke()}catch(He){me=He}var Te=De._ctx,ke=Te.table,De=ke.hook.reading.fire;this._ctx={table:ke,index:Te.index,isPrimKey:!Te.index||ke.schema.primKey.keyPath&&Te.index===ke.schema.primKey.name,range:de,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:me,or:Te.or,valueMapper:De!==Je?De:null}})),this.Table=(N=this,Ur(ps.prototype,function(Q,ge,de){this.db=N,this._tx=de,this.name=Q,this.schema=ge,this.hook=N._allTables[Q]?N._allTables[Q].hook:er(null,{creating:[ln,Ge],reading:[Ye,Je],updating:[gt,Ge],deleting:[Lt,Ge]})})),this.Transaction=(D=this,Ur(Sr.prototype,function(Q,ge,de,me,Te){var ke=this;Q!=="readonly"&&ge.forEach(function(De){De=(De=de[De])===null||De===void 0?void 0:De.yProps,De&&(ge=ge.concat(De.map(function(He){return He.updatesTable})))}),this.db=D,this.mode=Q,this.storeNames=ge,this.schema=de,this.chromeTransactionDurability=me,this.idbtrans=null,this.on=er(this,"complete","error","abort"),this.parent=Te||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new ut(function(De,He){ke._resolve=De,ke._reject=He}),this._completion.then(function(){ke.active=!1,ke.on.complete.fire()},function(De){var He=ke.active;return ke.active=!1,ke.on.error.fire(De),ke.parent?ke.parent._reject(De):He&&ke.idbtrans&&ke.idbtrans.abort(),dn(De)})})),this.Version=(U=this,Ur(T.prototype,function(Q){this.db=U,this._cfg={version:Q,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(G=this,Ur(Po.prototype,function(Q,ge,de){if(this.db=G,this._ctx={table:Q,index:ge===":id"?null:ge,or:de},this._cmp=this._ascending=Sn,this._descending=function(me,Te){return Sn(Te,me)},this._max=function(me,Te){return 0<Sn(me,Te)?me:Te},this._min=function(me,Te){return Sn(me,Te)<0?me:Te},this._IDBKeyRange=G._deps.IDBKeyRange,!this._IDBKeyRange)throw new Ie.MissingAPI})),this.on("versionchange",function(Q){0<Q.newVersion?console.warn("Another connection wants to upgrade database '".concat(x.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(x.name,"'. Closing db now to resume the delete request.")),x.close({disableAutoOpen:!1})}),this.on("blocked",function(Q){!Q.newVersion||Q.newVersion<Q.oldVersion?console.warn("Dexie.delete('".concat(x.name,"') was blocked")):console.warn("Upgrade '".concat(x.name,"' blocked by other connection holding version ").concat(Q.oldVersion/10))}),this._maxKey=Ds(d.IDBKeyRange),this._createTransaction=function(Q,ge,de,me){return new x.Transaction(Q,ge,de,x._options.chromeTransactionDurability,me)},this._fireOnBlocked=function(Q){x.on("blocked").fire(Q),at.filter(function(ge){return ge.name===x.name&&ge!==x&&!ge._state.vcFired}).map(function(ge){return ge.on("versionchange").fire(Q)})},this.use(ro),this.use(sl),this.use(or),this.use(za),this.use(qr);var re=new Proxy(this,{get:function(Q,ge,de){if(ge==="_vip")return!0;if(ge==="table")return function(Te){return ys(x.table(Te),re)};var me=Reflect.get(Q,ge,de);return me instanceof ps?ys(me,re):ge==="tables"?me.map(function(Te){return ys(Te,re)}):ge==="_createTransaction"?function(){return ys(me.apply(this,arguments),re)}:me}});this.vip=re,w.forEach(function(Q){return Q(x)})}var di,Mr=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",_n=(is.prototype.subscribe=function(l,d,x){return this._subscribe(l&&typeof l!="function"?l:{next:l,error:d,complete:x})},is.prototype[Mr]=function(){return this},is);function is(l){this._subscribe=l}try{di={indexedDB:a.indexedDB||a.mozIndexedDB||a.webkitIndexedDB||a.msIndexedDB,IDBKeyRange:a.IDBKeyRange||a.webkitIDBKeyRange}}catch{di={indexedDB:null,IDBKeyRange:null}}function q(l){var d,x=!1,w=new _n(function(_){var N=Le(l),D,U=!1,G={},X={},re={get closed(){return U},unsubscribe:function(){U||(U=!0,D&&D.abort(),Q&&Zt.storagemutated.unsubscribe(de))}};_.start&&_.start(re);var Q=!1,ge=function(){return Br(me)},de=function(Te){hn(G,Te),bt(X,G)&&ge()},me=function(){var Te,ke,De;!U&&di.indexedDB&&(G={},Te={},D&&D.abort(),D=new AbortController,De=function(He){var Xe=Zn();try{N&&dr();var We=ei(l,He);return We=N?We.finally(Rr):We}finally{Xe&&kt()}}(ke={subscr:Te,signal:D.signal,requery:ge,querier:l,trans:null}),Promise.resolve(De).then(function(He){x=!0,d=He,U||ke.signal.aborted||(G={},function(Xe){for(var We in Xe)if(S(Xe,We))return;return 1}(X=Te)||Q||(Zt(Yt,de),Q=!0),Br(function(){return!U&&_.next&&_.next(He)}))},function(He){x=!1,["DatabaseClosedError","AbortError"].includes(He==null?void 0:He.name)||U||Br(function(){U||_.error&&_.error(He)})}))};return setTimeout(ge,0),re});return w.hasValue=function(){return x},w.getValue=function(){return d},w}var s=kr;function o(l){var d=h;try{h=!0,Zt.storagemutated.fire(l),ki(l,!0)}finally{h=d}}E(s,r(r({},ze),{delete:function(l){return new s(l,{addons:[]}).delete()},exists:function(l){return new s(l,{addons:[]}).open().then(function(d){return d.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(l){try{return d=s.dependencies,x=d.indexedDB,d=d.IDBKeyRange,(Pe(x)?Promise.resolve(x.databases()).then(function(w){return w.map(function(_){return _.name}).filter(function(_){return _!==Li})}):ye(x,d).toCollection().primaryKeys()).then(l)}catch{return dn(new Ie.MissingAPI)}var d,x},defineClass:function(){return function(l){m(this,l)}},ignoreTransaction:function(l){return it.trans?Qi(it.transless,l):l()},vip:Fe,async:function(l){return function(){try{var d=na(l.apply(this,arguments));return d&&typeof d.then=="function"?d:ut.resolve(d)}catch(x){return dn(x)}}},spawn:function(l,d,x){try{var w=na(l.apply(x,d||[]));return w&&typeof w.then=="function"?w:ut.resolve(w)}catch(_){return dn(_)}},currentTransaction:{get:function(){return it.trans||null}},waitFor:function(l,d){return d=ut.resolve(typeof l=="function"?s.ignoreTransaction(l):l).timeout(d||6e4),it.trans?it.trans.waitFor(d):d},Promise:ut,debug:{get:function(){return Ke},set:function(l){cn(l)}},derive:I,extend:m,props:E,override:L,Events:er,on:Zt,liveQuery:q,extendObservabilitySet:hn,getByKeyPath:ce,setByKeyPath:Y,delByKeyPath:function(l,d){typeof d=="string"?Y(l,d,void 0):"length"in d&&[].map.call(d,function(x){Y(l,x,void 0)})},shallowClone:Z,deepClone:ue,getObjectDiff:ra,cmp:Sn,asap:J,minKey:-1/0,addons:[],connections:at,errnames:we,dependencies:di,cache:_r,semVer:"4.2.0",version:"4.2.0".split(".").map(function(l){return parseInt(l)}).reduce(function(l,d,x){return l+d/Math.pow(10,2*x)})})),s.maxKey=Ds(s.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Zt(Yt,function(l){h||(l=new CustomEvent(il,{detail:l}),h=!0,dispatchEvent(l),h=!1)}),addEventListener(il,function(l){l=l.detail,h||o(l)}));var c,h=!1,g=function(){};return typeof BroadcastChannel<"u"&&((g=function(){(c=new BroadcastChannel(il)).onmessage=function(l){return l.data&&o(l.data)}})(),typeof c.unref=="function"&&c.unref(),Zt(Yt,function(l){h||c.postMessage(l)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(l){if(!kr.disableBfCache&&l.persisted){Ke&&console.debug("Dexie: handling persisted pagehide"),c!=null&&c.close();for(var d=0,x=at;d<x.length;d++)x[d].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(l){!kr.disableBfCache&&l.persisted&&(Ke&&console.debug("Dexie: handling persisted pageshow"),g(),o({all:new nt(-1/0,[[]])}))})),ut.rejectionMapper=function(l,d){return!l||l instanceof ae||l instanceof TypeError||l instanceof SyntaxError||!l.name||!je[l.name]?l:(d=new je[l.name](d||l.message,l),"stack"in l&&R(d,"stack",{get:function(){return this.inner.stack}}),d)},cn(Ke),r(kr,Object.freeze({__proto__:null,Dexie:kr,liveQuery:q,Entity:In,cmp:Sn,PropModification:br,replacePrefix:function(l,d){return new br({replacePrefix:[l,d]})},add:function(l){return new br({add:l})},remove:function(l){return new br({remove:l})},default:kr,RangeSet:nt,mergeRanges:xt,rangesOverlap:fn}),{default:kr}),kr})})(l_);var cD=l_.exports;const ex=gp(cD),Y5=Symbol.for("Dexie"),tx=globalThis[Y5]||(globalThis[Y5]=ex);if(ex.semVer!==tx.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${ex.semVer} and ${tx.semVer}`);class uD extends tx{constructor(){super("powerlift-fitness-db");nr(this,"members");nr(this,"attendance");nr(this,"renewals");nr(this,"users");nr(this,"settings");nr(this,"payments");this.version(8).stores({members:"id, fullName, email, phone, status, isActive, membershipStartDate, membershipExpiryDate, membershipDurationMonths",attendance:"id, memberId, memberName, date, checkInTime, checkOutTime, is_walk_in, session_type, payment_method, price",renewals:"id, memberId, renewalDate",users:"id, username, email, role, isActive, createdAt",settings:"id",payments:"id, date, category, amount, memberId"})}}const sn=new uD;async function dD(){await sn.transaction("rw",[sn.members,sn.attendance,sn.renewals,sn.users],async()=>{await sn.members.clear(),await sn.attendance.clear(),await sn.renewals.clear(),await sn.users.clear()}),localStorage.removeItem("powerlift-db-seeded-v1"),localStorage.removeItem("powerlift-admin-seeded-v1")}async function fD(){await sn.close(),await sn.delete(),await sn.open()}async function hD(){const e="powerlift-db-seeded-v1";if(localStorage.getItem(e)||await sn.members.count()>0)return;const n=u=>u.toISOString().split("T")[0],r=new Date,i=u=>{const f=new Date(r);return f.setDate(f.getDate()+u),f},a=[{id:"GMTEST001",fullName:"Alice Active",email:"alice.active@example.com",phone:"+10000000001",membershipStartDate:n(i(-10)),membershipExpiryDate:n(i(20)),membershipDurationMonths:1,status:"active",isActive:!0},{id:"GMTEST002",fullName:"Bob Nearly",email:"bob.nearly@example.com",phone:"+10000000002",membershipStartDate:n(i(-25)),membershipExpiryDate:n(i(5)),membershipDurationMonths:1,status:"active",isActive:!0},{id:"GMTEST003",fullName:"Cathy Expired",email:"cathy.expired@example.com",phone:"+10000000003",membershipStartDate:n(i(-40)),membershipExpiryDate:n(i(-3)),membershipDurationMonths:1,status:"expired",isActive:!0},{id:"GMTEST004",fullName:"Dan Overdue",email:"dan.overdue@example.com",phone:"+10000000004",membershipStartDate:n(i(-50)),membershipExpiryDate:n(i(-15)),membershipDurationMonths:1,status:"expired",isActive:!0},{id:"GMTEST005",fullName:"Eve Archived",email:"eve.archived@example.com",phone:"+10000000005",membershipStartDate:n(i(-80)),membershipExpiryDate:n(i(-35)),membershipDurationMonths:1,status:"archived",isActive:!1},{id:"GMTEST006",fullName:"Frank Longgone",email:"frank.longgone@example.com",phone:"+10000000006",membershipStartDate:n(i(-120)),membershipExpiryDate:n(i(-60)),membershipDurationMonths:1,status:"archived",isActive:!1}];await sn.members.bulkAdd(a),await sn.settings.add({id:"walkin_pricing",oneHour:80,twoHours:120,wholeDay:200}),await sn.settings.put({id:"app_pricing",membershipFee:200,monthlySubscriptionFee:500,perSessionMemberFee:80,perSessionWalkInFee:100}),localStorage.setItem(e,"true")}async function pD(){const e="powerlift-admin-seeded-v1";if(localStorage.getItem(e)||await sn.users.count()>0)return;const{hashPassword:n}=await Ao(async()=>{const{hashPassword:a}=await Promise.resolve().then(()=>SD);return{hashPassword:a}},void 0),i={id:"USER000001",username:"admin",email:"admin@gym.com",passwordHash:await n("Admin@123"),role:"admin",isActive:!0,createdAt:new Date().toISOString()};await sn.users.add(i),localStorage.setItem(e,"true")}async function Ks(){await sn.open(),await hD(),await pD()}const J0=async()=>{const e=await sn.settings.get("app_pricing");return e?{membershipFee:Number(e.membershipFee)||200,monthlySubscriptionFee:Number(e.monthlySubscriptionFee)||500,perSessionMemberFee:Number(e.perSessionMemberFee)||80,perSessionWalkInFee:Number(e.perSessionWalkInFee)||100}:{membershipFee:200,monthlySubscriptionFee:500,perSessionMemberFee:80,perSessionWalkInFee:100}},mD=async e=>{await sn.settings.put({id:"app_pricing",...e})},ep=async e=>{const t=`${Date.now()}`;return await sn.payments.add({...e,id:t}),t},c_=()=>sn.payments.toArray(),gD=()=>sn.users.toArray(),Jv=e=>sn.users.where("username").equals(e).first(),u_=e=>sn.users.where("email").equals(e).first(),d_=e=>{const t=`USER${Date.now().toString().slice(-6)}`;return sn.users.add({...e,id:t})},f_=(e,t)=>sn.users.update(e,t),xD=e=>sn.users.delete(e),Xp=Uh("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),en=F.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...i},a)=>{const u=r?vT:"button";return v.jsx(u,{className:Ht(Xp({variant:t,size:n,className:e})),ref:a,...i})});en.displayName="Button";const mr=F.forwardRef(({className:e,type:t,...n},r)=>v.jsx("input",{type:t,className:Ht("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));mr.displayName="Input";var vD="Label",h_=F.forwardRef((e,t)=>v.jsx(Bn.label,{...e,ref:t,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));h_.displayName=vD;var p_=h_;const yD=Uh("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Fn=F.forwardRef(({className:e,...t},n)=>v.jsx(p_,{ref:n,className:Ht(yD(),e),...t}));Fn.displayName=p_.displayName;const qn=F.forwardRef(({className:e,...t},n)=>v.jsx("div",{ref:n,className:Ht("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));qn.displayName="Card";const vr=F.forwardRef(({className:e,...t},n)=>v.jsx("div",{ref:n,className:Ht("flex flex-col space-y-1.5 p-6",e),...t}));vr.displayName="CardHeader";const yr=F.forwardRef(({className:e,...t},n)=>v.jsx("h3",{ref:n,className:Ht("text-2xl font-semibold leading-none tracking-tight",e),...t}));yr.displayName="CardTitle";const el=F.forwardRef(({className:e,...t},n)=>v.jsx("p",{ref:n,className:Ht("text-sm text-muted-foreground",e),...t}));el.displayName="CardDescription";const Gn=F.forwardRef(({className:e,...t},n)=>v.jsx("div",{ref:n,className:Ht("p-6 pt-0",e),...t}));Gn.displayName="CardContent";const wD=F.forwardRef(({className:e,...t},n)=>v.jsx("div",{ref:n,className:Ht("flex items-center p-6 pt-0",e),...t}));wD.displayName="CardFooter";const bD=Uh("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),m_=F.forwardRef(({className:e,variant:t,...n},r)=>v.jsx("div",{ref:r,role:"alert",className:Ht(bD({variant:t}),e),...n}));m_.displayName="Alert";const AD=F.forwardRef(({className:e,...t},n)=>v.jsx("h5",{ref:n,className:Ht("mb-1 font-medium leading-none tracking-tight",e),...t}));AD.displayName="AlertTitle";const g_=F.forwardRef(({className:e,...t},n)=>v.jsx("div",{ref:n,className:Ht("text-sm [&_p]:leading-relaxed",e),...t}));g_.displayName="AlertDescription";const wh=async e=>{const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n);return Array.from(new Uint8Array(r)).map(u=>u.toString(16).padStart(2,"0")).join("")},x_=async(e,t)=>await wh(e)===t,bh=e=>{const t=[];return e.length<8&&t.push("Password must be at least 8 characters long"),/[A-Z]/.test(e)||t.push("Password must contain at least one uppercase letter"),/[a-z]/.test(e)||t.push("Password must contain at least one lowercase letter"),/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(e)||t.push("Password must contain at least one special character"),{isValid:t.length===0,errors:t}},SD=Object.freeze(Object.defineProperty({__proto__:null,hashPassword:wh,validatePassword:bh,verifyPassword:x_},Symbol.toStringTag,{value:"Module"})),_D=({onLogin:e})=>{const[t,n]=F.useState(!1),[r,i]=F.useState(""),[a,u]=F.useState(""),[f,m]=F.useState(0),[p,y]=F.useState(!1),{toast:S}=Ys(),E=async A=>{if(A.preventDefault(),p){S({title:"Account Locked",description:"Your account has been locked due to multiple failed attempts. Please reset your password.",variant:"destructive"});return}try{const R=await Jv(r);if(!R){const P=f+1;m(P),P>=5?(y(!0),S({title:"Account Locked",description:"Too many failed attempts. Your account has been locked. Please reset your password.",variant:"destructive"})):S({title:"Login Failed",description:`Invalid credentials. ${5-P} attempts remaining.`,variant:"destructive"});return}if(!R.isActive){S({title:"Account Disabled",description:"Your account has been disabled. Please contact an administrator.",variant:"destructive"});return}if(await x_(a,R.passwordHash))await f_(R.id,{lastLoginAt:new Date().toISOString()}),localStorage.setItem("fk:currentUser",JSON.stringify({id:R.id,username:R.username,email:R.email,role:R.role})),S({title:"Login Successful",description:`Welcome back, ${R.username}!`}),e();else{const P=f+1;m(P),P>=5?(y(!0),S({title:"Account Locked",description:"Too many failed attempts. Your account has been locked. Please reset your password.",variant:"destructive"})):S({title:"Login Failed",description:`Invalid credentials. ${5-P} attempts remaining.`,variant:"destructive"})}}catch(R){console.error("Login error:",R),S({title:"Login Failed",description:"An error occurred during login. Please try again.",variant:"destructive"})}};return v.jsxs(qn,{className:"w-full shadow-lg border-0 bg-card/95 backdrop-blur",children:[v.jsxs(vr,{className:"space-y-4 text-center",children:[v.jsx("div",{className:"flex justify-center",children:v.jsx("img",{src:"/logo.png",alt:"Power Lift Fitness Gym Logo",className:"h-20 w-20 object-contain"})}),v.jsxs("div",{children:[v.jsx(yr,{className:"text-2xl font-bold",children:"Power Lift Fitness Gym"}),v.jsx(el,{className:"text-muted-foreground",children:"Sign in to access your dashboard"})]})]}),v.jsxs(Gn,{className:"space-y-6",children:[p&&v.jsx(m_,{variant:"destructive",children:v.jsx(g_,{children:"Account locked due to multiple failed attempts. Please reset your password to continue."})}),v.jsxs("form",{onSubmit:E,className:"space-y-4",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(Fn,{htmlFor:"username",children:"Username"}),v.jsx(mr,{id:"username",type:"text",placeholder:"Enter your username",value:r,onChange:A=>i(A.target.value),disabled:p,required:!0})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(Fn,{htmlFor:"password",children:"Password"}),v.jsxs("div",{className:"relative",children:[v.jsx(mr,{id:"password",type:t?"text":"password",placeholder:"Enter your password",value:a,onChange:A=>u(A.target.value),disabled:p,required:!0}),v.jsx(en,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>n(!t),children:t?v.jsx(yk,{className:"h-4 w-4 text-muted-foreground"}):v.jsx(wk,{className:"h-4 w-4 text-muted-foreground"})})]})]}),v.jsx(en,{type:"submit",className:"w-full bg-gradient-primary hover:opacity-90",disabled:p,children:"Sign In"})]}),v.jsxs("div",{className:"text-center space-y-2",children:[v.jsx(Ol,{to:"/auth/forgot-password",className:"text-sm text-primary hover:underline",children:"Forgot your password?"}),v.jsx("div",{children:v.jsxs("p",{className:"text-sm text-muted-foreground",children:["Don't have an account?"," ",v.jsx(Ol,{to:"/auth/signup",className:"text-primary hover:underline",children:"Create one here"})]})})]})]})]})};function Z5(e,[t,n]){return Math.min(n,Math.max(t,e))}var CD=F.createContext(void 0);function ey(e){const t=F.useContext(CD);return e||t||"ltr"}var sg=0;function v_(){F.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Q5()),document.body.insertAdjacentElement("beforeend",e[1]??Q5()),sg++,()=>{sg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),sg--}},[])}function Q5(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var ag="focusScope.autoFocusOnMount",og="focusScope.autoFocusOnUnmount",J5={bubbles:!1,cancelable:!0},ED="FocusScope",ty=F.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...u}=e,[f,m]=F.useState(null),p=Za(i),y=Za(a),S=F.useRef(null),E=Pr(t,I=>m(I)),A=F.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;F.useEffect(()=>{if(r){let I=function(L){if(A.paused||!f)return;const j=L.target;f.contains(j)?S.current=j:Jl(S.current,{select:!0})},P=function(L){if(A.paused||!f)return;const j=L.relatedTarget;j!==null&&(f.contains(j)||Jl(S.current,{select:!0}))},k=function(L){if(document.activeElement===document.body)for(const J of L)J.removedNodes.length>0&&Jl(f)};document.addEventListener("focusin",I),document.addEventListener("focusout",P);const O=new MutationObserver(k);return f&&O.observe(f,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",I),document.removeEventListener("focusout",P),O.disconnect()}}},[r,f,A.paused]),F.useEffect(()=>{if(f){tb.add(A);const I=document.activeElement;if(!f.contains(I)){const k=new CustomEvent(ag,J5);f.addEventListener(ag,p),f.dispatchEvent(k),k.defaultPrevented||(ND(RD(y_(f)),{select:!0}),document.activeElement===I&&Jl(f))}return()=>{f.removeEventListener(ag,p),setTimeout(()=>{const k=new CustomEvent(og,J5);f.addEventListener(og,y),f.dispatchEvent(k),k.defaultPrevented||Jl(I??document.body,{select:!0}),f.removeEventListener(og,y),tb.remove(A)},0)}}},[f,p,y,A]);const R=F.useCallback(I=>{if(!n&&!r||A.paused)return;const P=I.key==="Tab"&&!I.altKey&&!I.ctrlKey&&!I.metaKey,k=document.activeElement;if(P&&k){const O=I.currentTarget,[L,j]=ID(O);L&&j?!I.shiftKey&&k===j?(I.preventDefault(),n&&Jl(L,{select:!0})):I.shiftKey&&k===L&&(I.preventDefault(),n&&Jl(j,{select:!0})):k===O&&I.preventDefault()}},[n,r,A.paused]);return v.jsx(Bn.div,{tabIndex:-1,...u,ref:E,onKeyDown:R})});ty.displayName=ED;function ND(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Jl(r,{select:t}),document.activeElement!==n)return}function ID(e){const t=y_(e),n=eb(t,e),r=eb(t.reverse(),e);return[n,r]}function y_(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function eb(e,t){for(const n of e)if(!TD(n,{upTo:t}))return n}function TD(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function kD(e){return e instanceof HTMLInputElement&&"select"in e}function Jl(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&kD(e)&&t&&e.select()}}var tb=PD();function PD(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=nb(e,t),e.unshift(t)},remove(t){var n;e=nb(e,t),(n=e[0])==null||n.resume()}}}function nb(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function RD(e){return e.filter(t=>t.tagName!=="A")}function OD(e){const t=F.useRef({value:e,previous:e});return F.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var LD=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Lu=new WeakMap,R1=new WeakMap,O1={},lg=0,w_=function(e){return e&&(e.host||w_(e.parentNode))},DD=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=w_(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},MD=function(e,t,n,r){var i=DD(t,Array.isArray(e)?e:[e]);O1[n]||(O1[n]=new WeakMap);var a=O1[n],u=[],f=new Set,m=new Set(i),p=function(S){!S||f.has(S)||(f.add(S),p(S.parentNode))};i.forEach(p);var y=function(S){!S||m.has(S)||Array.prototype.forEach.call(S.children,function(E){if(f.has(E))y(E);else try{var A=E.getAttribute(r),R=A!==null&&A!=="false",I=(Lu.get(E)||0)+1,P=(a.get(E)||0)+1;Lu.set(E,I),a.set(E,P),u.push(E),I===1&&R&&R1.set(E,!0),P===1&&E.setAttribute(n,"true"),R||E.setAttribute(r,"true")}catch(k){console.error("aria-hidden: cannot operate on ",E,k)}})};return y(t),f.clear(),lg++,function(){u.forEach(function(S){var E=Lu.get(S)-1,A=a.get(S)-1;Lu.set(S,E),a.set(S,A),E||(R1.has(S)||S.removeAttribute(r),R1.delete(S)),A||S.removeAttribute(n)}),lg--,lg||(Lu=new WeakMap,Lu=new WeakMap,R1=new WeakMap,O1={})}},b_=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=LD(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),MD(r,i,n,"aria-hidden")):function(){return null}},Vo=function(){return Vo=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Vo.apply(this,arguments)};function A_(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function jD(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var o0="right-scroll-bar-position",l0="width-before-scroll-bar",FD="with-scroll-bars-hidden",BD="--removed-body-scroll-bar-size";function cg(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function UD(e,t){var n=F.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var zD=typeof window<"u"?F.useLayoutEffect:F.useEffect,rb=new WeakMap;function WD(e,t){var n=UD(null,function(r){return e.forEach(function(i){return cg(i,r)})});return zD(function(){var r=rb.get(n);if(r){var i=new Set(r),a=new Set(e),u=n.current;i.forEach(function(f){a.has(f)||cg(f,null)}),a.forEach(function(f){i.has(f)||cg(f,u)})}rb.set(n,e)},[e]),n}function HD(e){return e}function VD(e,t){t===void 0&&(t=HD);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var u=t(a,r);return n.push(u),function(){n=n.filter(function(f){return f!==u})}},assignSyncMedium:function(a){for(r=!0;n.length;){var u=n;n=[],u.forEach(a)}n={push:function(f){return a(f)},filter:function(){return n}}},assignMedium:function(a){r=!0;var u=[];if(n.length){var f=n;n=[],f.forEach(a),u=n}var m=function(){var y=u;u=[],y.forEach(a)},p=function(){return Promise.resolve().then(m)};p(),n={push:function(y){u.push(y),p()},filter:function(y){return u=u.filter(y),n}}}};return i}function qD(e){e===void 0&&(e={});var t=VD(null);return t.options=Vo({async:!0,ssr:!1},e),t}var S_=function(e){var t=e.sideCar,n=A_(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return F.createElement(r,Vo({},n))};S_.isSideCarExport=!0;function GD(e,t){return e.useMedium(t),S_}var __=qD(),ug=function(){},Yp=F.forwardRef(function(e,t){var n=F.useRef(null),r=F.useState({onScrollCapture:ug,onWheelCapture:ug,onTouchMoveCapture:ug}),i=r[0],a=r[1],u=e.forwardProps,f=e.children,m=e.className,p=e.removeScrollBar,y=e.enabled,S=e.shards,E=e.sideCar,A=e.noRelative,R=e.noIsolation,I=e.inert,P=e.allowPinchZoom,k=e.as,O=k===void 0?"div":k,L=e.gapMode,j=A_(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),J=E,ce=WD([n,t]),Y=Vo(Vo({},j),i);return F.createElement(F.Fragment,null,y&&F.createElement(J,{sideCar:__,removeScrollBar:p,shards:S,noRelative:A,noIsolation:R,inert:I,setCallbacks:a,allowPinchZoom:!!P,lockRef:n,gapMode:L}),u?F.cloneElement(F.Children.only(f),Vo(Vo({},Y),{ref:ce})):F.createElement(O,Vo({},Y,{className:m,ref:ce}),f))});Yp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Yp.classNames={fullWidth:l0,zeroRight:o0};var KD=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function $D(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=KD();return t&&e.setAttribute("nonce",t),e}function XD(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function YD(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var ZD=function(){var e=0,t=null;return{add:function(n){e==0&&(t=$D())&&(XD(t,n),YD(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},QD=function(){var e=ZD();return function(t,n){F.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},C_=function(){var e=QD(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},JD={left:0,top:0,right:0,gap:0},dg=function(e){return parseInt(e||"",10)||0},e9=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[dg(n),dg(r),dg(i)]},t9=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return JD;var t=e9(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},n9=C_(),fd="data-scroll-locked",r9=function(e,t,n,r){var i=e.left,a=e.top,u=e.right,f=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(FD,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(f,"px ").concat(r,`;
  }
  body[`).concat(fd,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(f,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(f,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(o0,` {
    right: `).concat(f,"px ").concat(r,`;
  }
  
  .`).concat(l0,` {
    margin-right: `).concat(f,"px ").concat(r,`;
  }
  
  .`).concat(o0," .").concat(o0,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(l0," .").concat(l0,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(fd,`] {
    `).concat(BD,": ").concat(f,`px;
  }
`)},ib=function(){var e=parseInt(document.body.getAttribute(fd)||"0",10);return isFinite(e)?e:0},i9=function(){F.useEffect(function(){return document.body.setAttribute(fd,(ib()+1).toString()),function(){var e=ib()-1;e<=0?document.body.removeAttribute(fd):document.body.setAttribute(fd,e.toString())}},[])},s9=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;i9();var a=F.useMemo(function(){return t9(i)},[i]);return F.createElement(n9,{styles:r9(a,!t,i,n?"":"!important")})},nx=!1;if(typeof window<"u")try{var L1=Object.defineProperty({},"passive",{get:function(){return nx=!0,!0}});window.addEventListener("test",L1,L1),window.removeEventListener("test",L1,L1)}catch{nx=!1}var Du=nx?{passive:!1}:!1,a9=function(e){return e.tagName==="TEXTAREA"},E_=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!a9(e)&&n[t]==="visible")},o9=function(e){return E_(e,"overflowY")},l9=function(e){return E_(e,"overflowX")},sb=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=N_(e,r);if(i){var a=I_(e,r),u=a[1],f=a[2];if(u>f)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},c9=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},u9=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},N_=function(e,t){return e==="v"?o9(t):l9(t)},I_=function(e,t){return e==="v"?c9(t):u9(t)},d9=function(e,t){return e==="h"&&t==="rtl"?-1:1},f9=function(e,t,n,r,i){var a=d9(e,window.getComputedStyle(t).direction),u=a*r,f=n.target,m=t.contains(f),p=!1,y=u>0,S=0,E=0;do{if(!f)break;var A=I_(e,f),R=A[0],I=A[1],P=A[2],k=I-P-a*R;(R||k)&&N_(e,f)&&(S+=k,E+=R);var O=f.parentNode;f=O&&O.nodeType===Node.DOCUMENT_FRAGMENT_NODE?O.host:O}while(!m&&f!==document.body||m&&(t.contains(f)||t===f));return(y&&(Math.abs(S)<1||!i)||!y&&(Math.abs(E)<1||!i))&&(p=!0),p},D1=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},ab=function(e){return[e.deltaX,e.deltaY]},ob=function(e){return e&&"current"in e?e.current:e},h9=function(e,t){return e[0]===t[0]&&e[1]===t[1]},p9=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},m9=0,Mu=[];function g9(e){var t=F.useRef([]),n=F.useRef([0,0]),r=F.useRef(),i=F.useState(m9++)[0],a=F.useState(C_)[0],u=F.useRef(e);F.useEffect(function(){u.current=e},[e]),F.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var I=jD([e.lockRef.current],(e.shards||[]).map(ob),!0).filter(Boolean);return I.forEach(function(P){return P.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),I.forEach(function(P){return P.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var f=F.useCallback(function(I,P){if("touches"in I&&I.touches.length===2||I.type==="wheel"&&I.ctrlKey)return!u.current.allowPinchZoom;var k=D1(I),O=n.current,L="deltaX"in I?I.deltaX:O[0]-k[0],j="deltaY"in I?I.deltaY:O[1]-k[1],J,ce=I.target,Y=Math.abs(L)>Math.abs(j)?"h":"v";if("touches"in I&&Y==="h"&&ce.type==="range")return!1;var Z=sb(Y,ce);if(!Z)return!0;if(Z?J=Y:(J=Y==="v"?"h":"v",Z=sb(Y,ce)),!Z)return!1;if(!r.current&&"changedTouches"in I&&(L||j)&&(r.current=J),!J)return!0;var z=r.current||J;return f9(z,P,I,z==="h"?L:j,!0)},[]),m=F.useCallback(function(I){var P=I;if(!(!Mu.length||Mu[Mu.length-1]!==a)){var k="deltaY"in P?ab(P):D1(P),O=t.current.filter(function(J){return J.name===P.type&&(J.target===P.target||P.target===J.shadowParent)&&h9(J.delta,k)})[0];if(O&&O.should){P.cancelable&&P.preventDefault();return}if(!O){var L=(u.current.shards||[]).map(ob).filter(Boolean).filter(function(J){return J.contains(P.target)}),j=L.length>0?f(P,L[0]):!u.current.noIsolation;j&&P.cancelable&&P.preventDefault()}}},[]),p=F.useCallback(function(I,P,k,O){var L={name:I,delta:P,target:k,should:O,shadowParent:x9(k)};t.current.push(L),setTimeout(function(){t.current=t.current.filter(function(j){return j!==L})},1)},[]),y=F.useCallback(function(I){n.current=D1(I),r.current=void 0},[]),S=F.useCallback(function(I){p(I.type,ab(I),I.target,f(I,e.lockRef.current))},[]),E=F.useCallback(function(I){p(I.type,D1(I),I.target,f(I,e.lockRef.current))},[]);F.useEffect(function(){return Mu.push(a),e.setCallbacks({onScrollCapture:S,onWheelCapture:S,onTouchMoveCapture:E}),document.addEventListener("wheel",m,Du),document.addEventListener("touchmove",m,Du),document.addEventListener("touchstart",y,Du),function(){Mu=Mu.filter(function(I){return I!==a}),document.removeEventListener("wheel",m,Du),document.removeEventListener("touchmove",m,Du),document.removeEventListener("touchstart",y,Du)}},[]);var A=e.removeScrollBar,R=e.inert;return F.createElement(F.Fragment,null,R?F.createElement(a,{styles:p9(i)}):null,A?F.createElement(s9,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function x9(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const v9=GD(__,g9);var ny=F.forwardRef(function(e,t){return F.createElement(Yp,Vo({},e,{ref:t,sideCar:v9}))});ny.classNames=Yp.classNames;var y9=[" ","Enter","ArrowUp","ArrowDown"],w9=[" ","Enter"],yu="Select",[Zp,Qp,b9]=Pv(yu),[Qd,HW]=Ml(yu,[b9,zp]),Jp=zp(),[A9,Wc]=Qd(yu),[S9,_9]=Qd(yu),T_=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:i,onOpenChange:a,value:u,defaultValue:f,onValueChange:m,dir:p,name:y,autoComplete:S,disabled:E,required:A,form:R}=e,I=Jp(t),[P,k]=F.useState(null),[O,L]=F.useState(null),[j,J]=F.useState(!1),ce=ey(p),[Y,Z]=Md({prop:r,defaultProp:i??!1,onChange:a,caller:yu}),[z,he]=Md({prop:u,defaultProp:f,onChange:m,caller:yu}),H=F.useRef(null),K=P?R||!!P.closest("form"):!0,[ue,oe]=F.useState(new Set),te=Array.from(ue).map(Ne=>Ne.props.value).join(";");return v.jsx(hO,{...I,children:v.jsxs(A9,{required:A,scope:t,trigger:P,onTriggerChange:k,valueNode:O,onValueNodeChange:L,valueNodeHasChildren:j,onValueNodeHasChildrenChange:J,contentId:Ec(),value:z,onValueChange:he,open:Y,onOpenChange:Z,dir:ce,triggerPointerDownPosRef:H,disabled:E,children:[v.jsx(Zp.Provider,{scope:t,children:v.jsx(S9,{scope:e.__scopeSelect,onNativeOptionAdd:F.useCallback(Ne=>{oe(Ce=>new Set(Ce).add(Ne))},[]),onNativeOptionRemove:F.useCallback(Ne=>{oe(Ce=>{const ne=new Set(Ce);return ne.delete(Ne),ne})},[]),children:n})}),K?v.jsxs(J_,{"aria-hidden":!0,required:A,tabIndex:-1,name:y,autoComplete:S,value:z,onChange:Ne=>he(Ne.target.value),disabled:E,form:R,children:[z===void 0?v.jsx("option",{value:""}):null,Array.from(ue)]},te):null]})})};T_.displayName=yu;var k_="SelectTrigger",P_=F.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...i}=e,a=Jp(n),u=Wc(k_,n),f=u.disabled||r,m=Pr(t,u.onTriggerChange),p=Qp(n),y=F.useRef("touch"),[S,E,A]=t6(I=>{const P=p().filter(L=>!L.disabled),k=P.find(L=>L.value===u.value),O=n6(P,I,k);O!==void 0&&u.onValueChange(O.value)}),R=I=>{f||(u.onOpenChange(!0),A()),I&&(u.triggerPointerDownPosRef.current={x:Math.round(I.pageX),y:Math.round(I.pageY)})};return v.jsx(O8,{asChild:!0,...a,children:v.jsx(Bn.button,{type:"button",role:"combobox","aria-controls":u.contentId,"aria-expanded":u.open,"aria-required":u.required,"aria-autocomplete":"none",dir:u.dir,"data-state":u.open?"open":"closed",disabled:f,"data-disabled":f?"":void 0,"data-placeholder":e6(u.value)?"":void 0,...i,ref:m,onClick:gn(i.onClick,I=>{I.currentTarget.focus(),y.current!=="mouse"&&R(I)}),onPointerDown:gn(i.onPointerDown,I=>{y.current=I.pointerType;const P=I.target;P.hasPointerCapture(I.pointerId)&&P.releasePointerCapture(I.pointerId),I.button===0&&I.ctrlKey===!1&&I.pointerType==="mouse"&&(R(I),I.preventDefault())}),onKeyDown:gn(i.onKeyDown,I=>{const P=S.current!=="";!(I.ctrlKey||I.altKey||I.metaKey)&&I.key.length===1&&E(I.key),!(P&&I.key===" ")&&y9.includes(I.key)&&(R(),I.preventDefault())})})})});P_.displayName=k_;var R_="SelectValue",O_=F.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,children:a,placeholder:u="",...f}=e,m=Wc(R_,n),{onValueNodeHasChildrenChange:p}=m,y=a!==void 0,S=Pr(t,m.onValueNodeChange);return hs(()=>{p(y)},[p,y]),v.jsx(Bn.span,{...f,ref:S,style:{pointerEvents:"none"},children:e6(m.value)?v.jsx(v.Fragment,{children:u}):a})});O_.displayName=R_;var C9="SelectIcon",L_=F.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...i}=e;return v.jsx(Bn.span,{"aria-hidden":!0,...i,ref:t,children:r||""})});L_.displayName=C9;var E9="SelectPortal",D_=e=>v.jsx(Op,{asChild:!0,...e});D_.displayName=E9;var wu="SelectContent",M_=F.forwardRef((e,t)=>{const n=Wc(wu,e.__scopeSelect),[r,i]=F.useState();if(hs(()=>{i(new DocumentFragment)},[]),!n.open){const a=r;return a?Nu.createPortal(v.jsx(j_,{scope:e.__scopeSelect,children:v.jsx(Zp.Slot,{scope:e.__scopeSelect,children:v.jsx("div",{children:e.children})})}),a):null}return v.jsx(F_,{...e,ref:t})});M_.displayName=wu;var ho=10,[j_,Hc]=Qd(wu),N9="SelectContentImpl",I9=Dd("SelectContent.RemoveScroll"),F_=F.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:u,side:f,sideOffset:m,align:p,alignOffset:y,arrowPadding:S,collisionBoundary:E,collisionPadding:A,sticky:R,hideWhenDetached:I,avoidCollisions:P,...k}=e,O=Wc(wu,n),[L,j]=F.useState(null),[J,ce]=F.useState(null),Y=Pr(t,we=>j(we)),[Z,z]=F.useState(null),[he,H]=F.useState(null),K=Qp(n),[ue,oe]=F.useState(!1),te=F.useRef(!1);F.useEffect(()=>{if(L)return b_(L)},[L]),v_();const Ne=F.useCallback(we=>{const[Re,...Ie]=K().map(Ge=>Ge.ref.current),[je]=Ie.slice(-1),ze=document.activeElement;for(const Ge of we)if(Ge===ze||(Ge==null||Ge.scrollIntoView({block:"nearest"}),Ge===Re&&J&&(J.scrollTop=0),Ge===je&&J&&(J.scrollTop=J.scrollHeight),Ge==null||Ge.focus(),document.activeElement!==ze))return},[K,J]),Ce=F.useCallback(()=>Ne([Z,L]),[Ne,Z,L]);F.useEffect(()=>{ue&&Ce()},[ue,Ce]);const{onOpenChange:ne,triggerPointerDownPosRef:_e}=O;F.useEffect(()=>{if(L){let we={x:0,y:0};const Re=je=>{var ze,Ge;we={x:Math.abs(Math.round(je.pageX)-(((ze=_e.current)==null?void 0:ze.x)??0)),y:Math.abs(Math.round(je.pageY)-(((Ge=_e.current)==null?void 0:Ge.y)??0))}},Ie=je=>{we.x<=10&&we.y<=10?je.preventDefault():L.contains(je.target)||ne(!1),document.removeEventListener("pointermove",Re),_e.current=null};return _e.current!==null&&(document.addEventListener("pointermove",Re),document.addEventListener("pointerup",Ie,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Re),document.removeEventListener("pointerup",Ie,{capture:!0})}}},[L,ne,_e]),F.useEffect(()=>{const we=()=>ne(!1);return window.addEventListener("blur",we),window.addEventListener("resize",we),()=>{window.removeEventListener("blur",we),window.removeEventListener("resize",we)}},[ne]);const[ve,Le]=t6(we=>{const Re=K().filter(ze=>!ze.disabled),Ie=Re.find(ze=>ze.ref.current===document.activeElement),je=n6(Re,we,Ie);je&&setTimeout(()=>je.ref.current.focus())}),W=F.useCallback((we,Re,Ie)=>{const je=!te.current&&!Ie;(O.value!==void 0&&O.value===Re||je)&&(z(we),je&&(te.current=!0))},[O.value]),ae=F.useCallback(()=>L==null?void 0:L.focus(),[L]),fe=F.useCallback((we,Re,Ie)=>{const je=!te.current&&!Ie;(O.value!==void 0&&O.value===Re||je)&&H(we)},[O.value]),Ee=r==="popper"?rx:B_,se=Ee===rx?{side:f,sideOffset:m,align:p,alignOffset:y,arrowPadding:S,collisionBoundary:E,collisionPadding:A,sticky:R,hideWhenDetached:I,avoidCollisions:P}:{};return v.jsx(j_,{scope:n,content:L,viewport:J,onViewportChange:ce,itemRefCallback:W,selectedItem:Z,onItemLeave:ae,itemTextRefCallback:fe,focusSelectedItem:Ce,selectedItemText:he,position:r,isPositioned:ue,searchRef:ve,children:v.jsx(ny,{as:I9,allowPinchZoom:!0,children:v.jsx(ty,{asChild:!0,trapped:O.open,onMountAutoFocus:we=>{we.preventDefault()},onUnmountAutoFocus:gn(i,we=>{var Re;(Re=O.trigger)==null||Re.focus({preventScroll:!0}),we.preventDefault()}),children:v.jsx(Fh,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:u,onFocusOutside:we=>we.preventDefault(),onDismiss:()=>O.onOpenChange(!1),children:v.jsx(Ee,{role:"listbox",id:O.contentId,"data-state":O.open?"open":"closed",dir:O.dir,onContextMenu:we=>we.preventDefault(),...k,...se,onPlaced:()=>oe(!0),ref:Y,style:{display:"flex",flexDirection:"column",outline:"none",...k.style},onKeyDown:gn(k.onKeyDown,we=>{const Re=we.ctrlKey||we.altKey||we.metaKey;if(we.key==="Tab"&&we.preventDefault(),!Re&&we.key.length===1&&Le(we.key),["ArrowUp","ArrowDown","Home","End"].includes(we.key)){let je=K().filter(ze=>!ze.disabled).map(ze=>ze.ref.current);if(["ArrowUp","End"].includes(we.key)&&(je=je.slice().reverse()),["ArrowUp","ArrowDown"].includes(we.key)){const ze=we.target,Ge=je.indexOf(ze);je=je.slice(Ge+1)}setTimeout(()=>Ne(je)),we.preventDefault()}})})})})})})});F_.displayName=N9;var T9="SelectItemAlignedPosition",B_=F.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...i}=e,a=Wc(wu,n),u=Hc(wu,n),[f,m]=F.useState(null),[p,y]=F.useState(null),S=Pr(t,Y=>y(Y)),E=Qp(n),A=F.useRef(!1),R=F.useRef(!0),{viewport:I,selectedItem:P,selectedItemText:k,focusSelectedItem:O}=u,L=F.useCallback(()=>{if(a.trigger&&a.valueNode&&f&&p&&I&&P&&k){const Y=a.trigger.getBoundingClientRect(),Z=p.getBoundingClientRect(),z=a.valueNode.getBoundingClientRect(),he=k.getBoundingClientRect();if(a.dir!=="rtl"){const ze=he.left-Z.left,Ge=z.left-ze,Je=Y.left-Ge,Ye=Y.width+Je,be=Math.max(Ye,Z.width),ln=window.innerWidth-ho,Lt=Z5(Ge,[ho,Math.max(ho,ln-be)]);f.style.minWidth=Ye+"px",f.style.left=Lt+"px"}else{const ze=Z.right-he.right,Ge=window.innerWidth-z.right-ze,Je=window.innerWidth-Y.right-Ge,Ye=Y.width+Je,be=Math.max(Ye,Z.width),ln=window.innerWidth-ho,Lt=Z5(Ge,[ho,Math.max(ho,ln-be)]);f.style.minWidth=Ye+"px",f.style.right=Lt+"px"}const H=E(),K=window.innerHeight-ho*2,ue=I.scrollHeight,oe=window.getComputedStyle(p),te=parseInt(oe.borderTopWidth,10),Ne=parseInt(oe.paddingTop,10),Ce=parseInt(oe.borderBottomWidth,10),ne=parseInt(oe.paddingBottom,10),_e=te+Ne+ue+ne+Ce,ve=Math.min(P.offsetHeight*5,_e),Le=window.getComputedStyle(I),W=parseInt(Le.paddingTop,10),ae=parseInt(Le.paddingBottom,10),fe=Y.top+Y.height/2-ho,Ee=K-fe,se=P.offsetHeight/2,we=P.offsetTop+se,Re=te+Ne+we,Ie=_e-Re;if(Re<=fe){const ze=H.length>0&&P===H[H.length-1].ref.current;f.style.bottom="0px";const Ge=p.clientHeight-I.offsetTop-I.offsetHeight,Je=Math.max(Ee,se+(ze?ae:0)+Ge+Ce),Ye=Re+Je;f.style.height=Ye+"px"}else{const ze=H.length>0&&P===H[0].ref.current;f.style.top="0px";const Je=Math.max(fe,te+I.offsetTop+(ze?W:0)+se)+Ie;f.style.height=Je+"px",I.scrollTop=Re-fe+I.offsetTop}f.style.margin=`${ho}px 0`,f.style.minHeight=ve+"px",f.style.maxHeight=K+"px",r==null||r(),requestAnimationFrame(()=>A.current=!0)}},[E,a.trigger,a.valueNode,f,p,I,P,k,a.dir,r]);hs(()=>L(),[L]);const[j,J]=F.useState();hs(()=>{p&&J(window.getComputedStyle(p).zIndex)},[p]);const ce=F.useCallback(Y=>{Y&&R.current===!0&&(L(),O==null||O(),R.current=!1)},[L,O]);return v.jsx(P9,{scope:n,contentWrapper:f,shouldExpandOnScrollRef:A,onScrollButtonChange:ce,children:v.jsx("div",{ref:m,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:v.jsx(Bn.div,{...i,ref:S,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});B_.displayName=T9;var k9="SelectPopperPosition",rx=F.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=ho,...a}=e,u=Jp(n);return v.jsx(L8,{...u,...a,ref:t,align:r,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});rx.displayName=k9;var[P9,ry]=Qd(wu,{}),ix="SelectViewport",U_=F.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...i}=e,a=Hc(ix,n),u=ry(ix,n),f=Pr(t,a.onViewportChange),m=F.useRef(0);return v.jsxs(v.Fragment,{children:[v.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),v.jsx(Zp.Slot,{scope:n,children:v.jsx(Bn.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:f,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:gn(i.onScroll,p=>{const y=p.currentTarget,{contentWrapper:S,shouldExpandOnScrollRef:E}=u;if(E!=null&&E.current&&S){const A=Math.abs(m.current-y.scrollTop);if(A>0){const R=window.innerHeight-ho*2,I=parseFloat(S.style.minHeight),P=parseFloat(S.style.height),k=Math.max(I,P);if(k<R){const O=k+A,L=Math.min(R,O),j=O-L;S.style.height=L+"px",S.style.bottom==="0px"&&(y.scrollTop=j>0?j:0,S.style.justifyContent="flex-end")}}}m.current=y.scrollTop})})})]})});U_.displayName=ix;var z_="SelectGroup",[R9,O9]=Qd(z_),L9=F.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=Ec();return v.jsx(R9,{scope:n,id:i,children:v.jsx(Bn.div,{role:"group","aria-labelledby":i,...r,ref:t})})});L9.displayName=z_;var W_="SelectLabel",H_=F.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=O9(W_,n);return v.jsx(Bn.div,{id:i.id,...r,ref:t})});H_.displayName=W_;var tp="SelectItem",[D9,V_]=Qd(tp),q_=F.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:a,...u}=e,f=Wc(tp,n),m=Hc(tp,n),p=f.value===r,[y,S]=F.useState(a??""),[E,A]=F.useState(!1),R=Pr(t,O=>{var L;return(L=m.itemRefCallback)==null?void 0:L.call(m,O,r,i)}),I=Ec(),P=F.useRef("touch"),k=()=>{i||(f.onValueChange(r),f.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return v.jsx(D9,{scope:n,value:r,disabled:i,textId:I,isSelected:p,onItemTextChange:F.useCallback(O=>{S(L=>L||((O==null?void 0:O.textContent)??"").trim())},[]),children:v.jsx(Zp.ItemSlot,{scope:n,value:r,disabled:i,textValue:y,children:v.jsx(Bn.div,{role:"option","aria-labelledby":I,"data-highlighted":E?"":void 0,"aria-selected":p&&E,"data-state":p?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...u,ref:R,onFocus:gn(u.onFocus,()=>A(!0)),onBlur:gn(u.onBlur,()=>A(!1)),onClick:gn(u.onClick,()=>{P.current!=="mouse"&&k()}),onPointerUp:gn(u.onPointerUp,()=>{P.current==="mouse"&&k()}),onPointerDown:gn(u.onPointerDown,O=>{P.current=O.pointerType}),onPointerMove:gn(u.onPointerMove,O=>{var L;P.current=O.pointerType,i?(L=m.onItemLeave)==null||L.call(m):P.current==="mouse"&&O.currentTarget.focus({preventScroll:!0})}),onPointerLeave:gn(u.onPointerLeave,O=>{var L;O.currentTarget===document.activeElement&&((L=m.onItemLeave)==null||L.call(m))}),onKeyDown:gn(u.onKeyDown,O=>{var j;((j=m.searchRef)==null?void 0:j.current)!==""&&O.key===" "||(w9.includes(O.key)&&k(),O.key===" "&&O.preventDefault())})})})})});q_.displayName=tp;var Ef="SelectItemText",G_=F.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,...a}=e,u=Wc(Ef,n),f=Hc(Ef,n),m=V_(Ef,n),p=_9(Ef,n),[y,S]=F.useState(null),E=Pr(t,k=>S(k),m.onItemTextChange,k=>{var O;return(O=f.itemTextRefCallback)==null?void 0:O.call(f,k,m.value,m.disabled)}),A=y==null?void 0:y.textContent,R=F.useMemo(()=>v.jsx("option",{value:m.value,disabled:m.disabled,children:A},m.value),[m.disabled,m.value,A]),{onNativeOptionAdd:I,onNativeOptionRemove:P}=p;return hs(()=>(I(R),()=>P(R)),[I,P,R]),v.jsxs(v.Fragment,{children:[v.jsx(Bn.span,{id:m.textId,...a,ref:E}),m.isSelected&&u.valueNode&&!u.valueNodeHasChildren?Nu.createPortal(a.children,u.valueNode):null]})});G_.displayName=Ef;var K_="SelectItemIndicator",$_=F.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return V_(K_,n).isSelected?v.jsx(Bn.span,{"aria-hidden":!0,...r,ref:t}):null});$_.displayName=K_;var sx="SelectScrollUpButton",X_=F.forwardRef((e,t)=>{const n=Hc(sx,e.__scopeSelect),r=ry(sx,e.__scopeSelect),[i,a]=F.useState(!1),u=Pr(t,r.onScrollButtonChange);return hs(()=>{if(n.viewport&&n.isPositioned){let f=function(){const p=m.scrollTop>0;a(p)};const m=n.viewport;return f(),m.addEventListener("scroll",f),()=>m.removeEventListener("scroll",f)}},[n.viewport,n.isPositioned]),i?v.jsx(Z_,{...e,ref:u,onAutoScroll:()=>{const{viewport:f,selectedItem:m}=n;f&&m&&(f.scrollTop=f.scrollTop-m.offsetHeight)}}):null});X_.displayName=sx;var ax="SelectScrollDownButton",Y_=F.forwardRef((e,t)=>{const n=Hc(ax,e.__scopeSelect),r=ry(ax,e.__scopeSelect),[i,a]=F.useState(!1),u=Pr(t,r.onScrollButtonChange);return hs(()=>{if(n.viewport&&n.isPositioned){let f=function(){const p=m.scrollHeight-m.clientHeight,y=Math.ceil(m.scrollTop)<p;a(y)};const m=n.viewport;return f(),m.addEventListener("scroll",f),()=>m.removeEventListener("scroll",f)}},[n.viewport,n.isPositioned]),i?v.jsx(Z_,{...e,ref:u,onAutoScroll:()=>{const{viewport:f,selectedItem:m}=n;f&&m&&(f.scrollTop=f.scrollTop+m.offsetHeight)}}):null});Y_.displayName=ax;var Z_=F.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=e,a=Hc("SelectScrollButton",n),u=F.useRef(null),f=Qp(n),m=F.useCallback(()=>{u.current!==null&&(window.clearInterval(u.current),u.current=null)},[]);return F.useEffect(()=>()=>m(),[m]),hs(()=>{var y;const p=f().find(S=>S.ref.current===document.activeElement);(y=p==null?void 0:p.ref.current)==null||y.scrollIntoView({block:"nearest"})},[f]),v.jsx(Bn.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:gn(i.onPointerDown,()=>{u.current===null&&(u.current=window.setInterval(r,50))}),onPointerMove:gn(i.onPointerMove,()=>{var p;(p=a.onItemLeave)==null||p.call(a),u.current===null&&(u.current=window.setInterval(r,50))}),onPointerLeave:gn(i.onPointerLeave,()=>{m()})})}),M9="SelectSeparator",Q_=F.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return v.jsx(Bn.div,{"aria-hidden":!0,...r,ref:t})});Q_.displayName=M9;var ox="SelectArrow",j9=F.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=Jp(n),a=Wc(ox,n),u=Hc(ox,n);return a.open&&u.position==="popper"?v.jsx(D8,{...i,...r,ref:t}):null});j9.displayName=ox;var F9="SelectBubbleInput",J_=F.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const i=F.useRef(null),a=Pr(r,i),u=OD(t);return F.useEffect(()=>{const f=i.current;if(!f)return;const m=window.HTMLSelectElement.prototype,y=Object.getOwnPropertyDescriptor(m,"value").set;if(u!==t&&y){const S=new Event("change",{bubbles:!0});y.call(f,t),f.dispatchEvent(S)}},[u,t]),v.jsx(Bn.select,{...n,style:{...PS,...n.style},ref:a,defaultValue:t})});J_.displayName=F9;function e6(e){return e===""||e===void 0}function t6(e){const t=Za(e),n=F.useRef(""),r=F.useRef(0),i=F.useCallback(u=>{const f=n.current+u;t(f),function m(p){n.current=p,window.clearTimeout(r.current),p!==""&&(r.current=window.setTimeout(()=>m(""),1e3))}(f)},[t]),a=F.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return F.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,a]}function n6(e,t,n){const i=t.length>1&&Array.from(t).every(p=>p===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let u=B9(e,Math.max(a,0));i.length===1&&(u=u.filter(p=>p!==n));const m=u.find(p=>p.textValue.toLowerCase().startsWith(i.toLowerCase()));return m!==n?m:void 0}function B9(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var U9=T_,r6=P_,z9=O_,W9=L_,H9=D_,i6=M_,V9=U_,s6=H_,a6=q_,q9=G_,G9=$_,o6=X_,l6=Y_,c6=Q_;const Ic=U9,Tc=z9,Cl=F.forwardRef(({className:e,children:t,...n},r)=>v.jsxs(r6,{ref:r,className:Ht("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,v.jsx(W9,{asChild:!0,children:v.jsx(e8,{className:"h-4 w-4 opacity-50"})})]}));Cl.displayName=r6.displayName;const u6=F.forwardRef(({className:e,...t},n)=>v.jsx(o6,{ref:n,className:Ht("flex cursor-default items-center justify-center py-1",e),...t,children:v.jsx(pk,{className:"h-4 w-4"})}));u6.displayName=o6.displayName;const d6=F.forwardRef(({className:e,...t},n)=>v.jsx(l6,{ref:n,className:Ht("flex cursor-default items-center justify-center py-1",e),...t,children:v.jsx(e8,{className:"h-4 w-4"})}));d6.displayName=l6.displayName;const El=F.forwardRef(({className:e,children:t,position:n="popper",...r},i)=>v.jsx(H9,{children:v.jsxs(i6,{ref:i,className:Ht("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[v.jsx(u6,{}),v.jsx(V9,{className:Ht("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),v.jsx(d6,{})]})}));El.displayName=i6.displayName;const K9=F.forwardRef(({className:e,...t},n)=>v.jsx(s6,{ref:n,className:Ht("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));K9.displayName=s6.displayName;const Ai=F.forwardRef(({className:e,children:t,...n},r)=>v.jsxs(a6,{ref:r,className:Ht("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...n,children:[v.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:v.jsx(G9,{children:v.jsx(dk,{className:"h-4 w-4"})})}),v.jsx(q9,{children:t})]}));Ai.displayName=a6.displayName;const $9=F.forwardRef(({className:e,...t},n)=>v.jsx(c6,{ref:n,className:Ht("-mx-1 my-1 h-px bg-muted",e),...t}));$9.displayName=c6.displayName;const X9=({onSignup:e})=>{const[t,n]=F.useState({username:"",email:"",password:"",confirmPassword:"",role:"staff"}),[r,i]=F.useState(!1),[a,u]=F.useState([]),{toast:f}=Ys(),m=["Minimum 8 characters","At least one special character (!@#$%^&*)","At least one uppercase letter","At least one lowercase letter"],p=(S,E)=>{if(n(A=>({...A,[S]:E})),S==="password"){const A=bh(E);u(A.errors)}},y=async S=>{S.preventDefault(),i(!0);try{if(t.password!==t.confirmPassword){f({title:"Password Mismatch",description:"Passwords do not match.",variant:"destructive"});return}if(!bh(t.password).isValid){f({title:"Invalid Password",description:"Please fix the password requirements.",variant:"destructive"});return}if(await Jv(t.username)){f({title:"Username Taken",description:"This username is already taken.",variant:"destructive"});return}if(await u_(t.email)){f({title:"Email Taken",description:"This email is already registered.",variant:"destructive"});return}const I=await wh(t.password);await d_({username:t.username,email:t.email,passwordHash:I,role:t.role,isActive:!0,createdAt:new Date().toISOString()}),f({title:"Account Created",description:"Your account has been created successfully! You can now sign in."}),e()}catch(E){console.error("Signup error:",E),f({title:"Signup Failed",description:"An error occurred while creating your account. Please try again.",variant:"destructive"})}finally{i(!1)}};return v.jsxs(qn,{className:"w-full shadow-lg border-0 bg-card/95 backdrop-blur",children:[v.jsxs(vr,{className:"space-y-4 text-center",children:[v.jsx("div",{className:"flex justify-center",children:v.jsx("div",{className:"p-3 bg-gradient-primary rounded-full",children:v.jsx("img",{src:"/logo.png",alt:"Power Lift Fitness Gym Logo",className:"h-8 w-8 object-contain"})})}),v.jsxs("div",{children:[v.jsx(yr,{className:"text-2xl font-bold",children:"Create Account"}),v.jsx(el,{children:"Create a new account to access Power Lift Fitness Gym"})]})]}),v.jsxs(Gn,{children:[v.jsxs("form",{onSubmit:y,className:"space-y-4",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(Fn,{htmlFor:"username",children:"Username"}),v.jsx(mr,{id:"username",type:"text",placeholder:"Enter your username",value:t.username,onChange:S=>p("username",S.target.value),required:!0})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(Fn,{htmlFor:"email",children:"Email"}),v.jsx(mr,{id:"email",type:"email",placeholder:"Enter your email",value:t.email,onChange:S=>p("email",S.target.value),required:!0})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(Fn,{htmlFor:"role",children:"Role"}),v.jsxs(Ic,{value:t.role,onValueChange:S=>p("role",S),children:[v.jsx(Cl,{children:v.jsx(Tc,{placeholder:"Select a role"})}),v.jsxs(El,{children:[v.jsx(Ai,{value:"staff",children:"Staff"}),v.jsx(Ai,{value:"admin",children:"Admin"})]})]})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(Fn,{htmlFor:"password",children:"Password"}),v.jsx(mr,{id:"password",type:"password",placeholder:"Enter your password",value:t.password,onChange:S=>p("password",S.target.value),required:!0}),a.length>0&&v.jsx("ul",{className:"text-sm text-destructive space-y-1",children:a.map((S,E)=>v.jsxs("li",{children:[" ",S]},E))})]}),v.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg",children:[v.jsx("p",{className:"text-sm font-medium text-foreground mb-2",children:"Password Requirements:"}),v.jsx("ul",{className:"text-xs text-muted-foreground space-y-1",children:m.map((S,E)=>v.jsxs("li",{children:[" ",S]},E))})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(Fn,{htmlFor:"confirmPassword",children:"Confirm Password"}),v.jsx(mr,{id:"confirmPassword",type:"password",placeholder:"Confirm your password",value:t.confirmPassword,onChange:S=>p("confirmPassword",S.target.value),required:!0})]}),v.jsx(en,{type:"submit",className:"w-full bg-gradient-primary hover:opacity-90",disabled:r,children:r?"Creating Account...":"Create Account"})]}),v.jsx("div",{className:"text-center mt-4",children:v.jsxs("p",{className:"text-sm text-muted-foreground",children:["Already have an account?"," ",v.jsx(Ol,{to:"/auth/login",className:"text-primary hover:underline",children:"Sign in"})]})})]})]})},Y9=()=>{const[e,t]=F.useState(""),[n,r]=F.useState(!1),{toast:i}=Ys(),a=u=>{u.preventDefault(),i({title:"Reset Link Sent",description:"If an account with that email exists, we've sent password reset instructions."}),r(!0)};return v.jsxs(qn,{className:"w-full shadow-lg border-0 bg-card/95 backdrop-blur",children:[v.jsxs(vr,{className:"space-y-4 text-center",children:[v.jsx("div",{className:"flex justify-center",children:v.jsx("div",{className:"p-3 bg-gradient-primary rounded-full",children:v.jsx(vk,{className:"h-8 w-8 text-white"})})}),v.jsxs("div",{children:[v.jsx(yr,{className:"text-2xl font-bold",children:"Reset Password"}),v.jsx(el,{className:"text-muted-foreground",children:"Enter your email to receive reset instructions"})]})]}),v.jsx(Gn,{className:"space-y-6",children:n?v.jsxs("div",{className:"text-center space-y-4",children:[v.jsx("div",{className:"bg-success/10 border border-success/20 rounded-lg p-4",children:v.jsx("p",{className:"text-sm text-success-foreground",children:"Password reset instructions have been sent to your email if an account exists."})}),v.jsxs(Ol,{to:"/auth/login",className:"inline-flex items-center gap-2 text-sm text-primary hover:underline",children:[v.jsx(xu,{className:"h-4 w-4"}),"Back to Login"]})]}):v.jsxs(v.Fragment,{children:[v.jsxs("form",{onSubmit:a,className:"space-y-4",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(Fn,{htmlFor:"email",children:"Email Address"}),v.jsx(mr,{id:"email",type:"email",placeholder:"Enter your email address",value:e,onChange:u=>t(u.target.value),required:!0})]}),v.jsx(en,{type:"submit",className:"w-full bg-gradient-primary hover:opacity-90",children:"Send Reset Link"})]}),v.jsx("div",{className:"text-center",children:v.jsxs(Ol,{to:"/auth/login",className:"inline-flex items-center gap-2 text-sm text-primary hover:underline",children:[v.jsx(xu,{className:"h-4 w-4"}),"Back to Login"]})})]})})]})},f6=({className:e})=>v.jsx("footer",{className:Ht("w-full py-4 px-6 border-t border-border bg-background/95 backdrop-blur-sm","text-center text-sm text-muted-foreground",e),children:v.jsxs("div",{className:"flex flex-col items-center space-y-1",children:[v.jsxs("p",{children:["by ",v.jsx("span",{className:"font-semibold text-primary",children:"AOGTech.ph"})]}),v.jsx("p",{className:"text-xs opacity-75",children:" 2025 All rights reserved"})]})}),Z9=({onLogin:e,onSignup:t})=>v.jsxs("div",{className:"min-h-screen bg-gradient-dashboard flex flex-col",children:[v.jsx("div",{className:"flex-1 flex items-center justify-center p-4",children:v.jsx("div",{className:"w-full max-w-md",children:v.jsxs(a_,{children:[v.jsx(zi,{path:"login",element:v.jsx(_D,{onLogin:e})}),v.jsx(zi,{path:"signup",element:v.jsx(X9,{onSignup:t})}),v.jsx(zi,{path:"forgot-password",element:v.jsx(Y9,{})})]})})}),v.jsx(f6,{})]}),Q9=({onLogout:e})=>{const t=Tu(),n=zc(),[r,i]=F.useState(!1),a=[{name:"Dashboard",href:"/",icon:bk},{name:"Members",href:"/members",icon:jv},{name:"Attendance",href:"/attendance",icon:gk},{name:"Reports",href:"/reports",icon:uk},{name:"Settings",href:"/settings",icon:y5},{name:"User Management",href:"/users",icon:y5}],u=f=>f==="/"?t.pathname==="/":t.pathname.startsWith(f);return v.jsxs("div",{className:"min-h-screen bg-background",children:[v.jsxs("div",{className:"lg:hidden bg-card border-b border-border px-4 py-3 flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx("img",{src:"/logo.png",alt:"Power Lift Fitness Gym Logo",className:"h-6 w-6 object-contain"}),v.jsx("h1",{className:"font-bold text-lg",children:"Power Lift Fitness"})]}),v.jsx(en,{variant:"ghost",size:"sm",onClick:()=>i(!r),children:r?v.jsx(jp,{className:"h-5 w-5"}):v.jsx(Sk,{className:"h-5 w-5"})})]}),r&&v.jsx("div",{className:"lg:hidden fixed inset-0 z-50 bg-background/80 backdrop-blur-sm",onClick:()=>i(!1)}),v.jsxs("div",{className:"flex min-h-screen items-stretch",children:[v.jsx("div",{className:Ht("lg:w-64 lg:flex-shrink-0 lg:block",r?"fixed inset-y-0 left-0 z-50 w-64 bg-card border-r border-border lg:static lg:inset-auto":"hidden lg:block bg-card border-r border-border lg:sticky lg:top-0","lg:self-stretch"),children:v.jsxs("div",{className:"h-full flex flex-col",children:[v.jsx("div",{className:"p-6 border-b border-border flex items-center justify-center",children:v.jsx("div",{className:"flex items-center space-x-3",children:v.jsx("h2",{className:"text-xl font-bold bg-gradient-primary bg-clip-text text-transparent",children:"Power Lift Fitness"})})}),v.jsx("nav",{className:"flex-1 p-4 space-y-2",children:a.map(f=>v.jsxs(sD,{to:f.href,onClick:()=>i(!1),className:Ht("flex items-center gap-3 px-3 py-2 rounded-lg transition-all","hover:bg-accent hover:text-accent-foreground",u(f.href)?"bg-primary text-primary-foreground shadow-md":"text-muted-foreground"),children:[v.jsx(f.icon,{className:"h-5 w-5"}),f.name]},f.name))}),v.jsx("div",{className:"p-4 border-t border-border",children:v.jsxs(en,{variant:"ghost",className:"w-full justify-start gap-3 text-muted-foreground hover:text-destructive",onClick:()=>{e&&e(),n("/auth/login",{replace:!0})},children:[v.jsx(Ak,{className:"h-5 w-5"}),"Logout"]})})]})}),v.jsxs("div",{className:"flex-1 lg:ml-0 min-h-screen flex flex-col",children:[v.jsx("div",{className:"flex-1 p-6",children:v.jsx(KL,{})}),v.jsx(f6,{})]})]})]})},J9=()=>{const[e,t]=F.useState(0),[n,r]=F.useState(0),[i,a]=F.useState([]),[u,f]=F.useState([]),[m,p]=F.useState(""),{toast:y}=Ys();F.useEffect(()=>{(async()=>{await Ks();const P=await sn.members.toArray(),k=P.filter(Z=>Z.isActive&&Z.status==="active");t(k.length);const O=new Date().toISOString().split("T")[0],L=await sn.attendance.where("date").equals(O).toArray();L.sort((Z,z)=>z.id>Z.id?1:-1),a(L),r(L.length);const j=new Date,J=new Date;J.setDate(j.getDate()+7);const Y=P.filter(Z=>Z.isActive).filter(Z=>{const z=new Date(Z.membershipExpiryDate);return z>=j&&z<=J});f(Y)})();const R=()=>{const k=new Date().toLocaleString("en-US",{timeZone:"Asia/Manila",dateStyle:"medium",timeStyle:"medium"});p(k)};R();const I=setInterval(R,1e3);return()=>clearInterval(I)},[]);const S=async()=>{confirm("Are you sure you want to clear all data? This action cannot be undone.")&&(await dD(),y({title:"Data Cleared",description:"All members, attendance, and renewal data has been cleared."}),window.location.reload())},E=async()=>{confirm("Are you sure you want to reset the database? This will fix schema issues but clear all data.")&&(await fD(),y({title:"Database Reset",description:"Database has been reset with new schema."}),window.location.reload())};return v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-3xl font-bold",children:"Dashboard"}),v.jsx("p",{className:"text-muted-foreground",children:"Welcome back! Here's what's happening at your gym today."}),v.jsxs("div",{className:"flex items-center justify-between mt-2",children:[m&&v.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[v.jsx(xk,{className:"h-4 w-4"}),v.jsxs("span",{children:["Manila Time: ",m]})]}),v.jsxs("div",{className:"flex gap-2",children:[v.jsxs(en,{variant:"outline",size:"sm",onClick:E,className:"text-orange-600 hover:text-orange-700",children:[v.jsx(W2,{className:"h-4 w-4 mr-2"}),"Reset DB"]}),v.jsxs(en,{variant:"outline",size:"sm",onClick:S,className:"text-destructive hover:text-destructive",children:[v.jsx(W2,{className:"h-4 w-4 mr-2"}),"Clear Data"]})]})]})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[v.jsxs(qn,{className:"border-0 shadow-md bg-gradient-to-br from-primary/5 to-primary/10",children:[v.jsxs(vr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[v.jsx(yr,{className:"text-sm font-medium",children:"Total Active Members"}),v.jsx(jv,{className:"h-4 w-4 text-primary"})]}),v.jsxs(Gn,{children:[v.jsx("div",{className:"text-2xl font-bold",children:e}),v.jsx("p",{className:"text-xs text-muted-foreground",children:"+2 from last month"})]})]}),v.jsxs(qn,{className:"border-0 shadow-md bg-gradient-to-br from-success/5 to-success/10",children:[v.jsxs(vr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[v.jsx(yr,{className:"text-sm font-medium",children:"Today's Attendance"}),v.jsx(Mv,{className:"h-4 w-4 text-success"})]}),v.jsxs(Gn,{children:[v.jsx("div",{className:"text-2xl font-bold",children:n}),v.jsx("p",{className:"text-xs text-muted-foreground",children:"+12% from yesterday"})]})]}),v.jsxs(qn,{className:"border-0 shadow-md bg-gradient-to-br from-warning/5 to-warning/10",children:[v.jsxs(vr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[v.jsx(yr,{className:"text-sm font-medium",children:"Expiring Memberships"}),v.jsx(v5,{className:"h-4 w-4 text-warning"})]}),v.jsxs(Gn,{children:[v.jsx("div",{className:"text-2xl font-bold",children:u.length}),v.jsx("p",{className:"text-xs text-muted-foreground",children:"Within 7 days"})]})]})]}),v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[v.jsxs(qn,{className:"border-0 shadow-md",children:[v.jsxs(vr,{children:[v.jsx(yr,{children:"Today's Check-ins"}),v.jsx(el,{children:"Members who have checked in today"})]}),v.jsx(Gn,{children:v.jsx("div",{className:"space-y-4",children:i.length>0?i.map(A=>v.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg",children:[v.jsxs("div",{children:[v.jsx("p",{className:"font-medium",children:A.memberName}),v.jsxs("p",{className:"text-sm text-muted-foreground",children:["ID: ",A.memberId]})]}),v.jsxs("div",{className:"text-right",children:[v.jsx("p",{className:"font-medium",children:A.checkInTime}),v.jsx("p",{className:"text-sm text-muted-foreground",children:"Today"})]})]},A.id)):v.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No check-ins today"})})})]}),v.jsxs(qn,{className:"border-0 shadow-md",children:[v.jsxs(vr,{children:[v.jsxs(yr,{className:"flex items-center gap-2",children:[v.jsx(v5,{className:"h-5 w-5 text-warning"}),"Expiring Memberships"]}),v.jsx(el,{children:"Members whose memberships expire within 7 days"})]}),v.jsx(Gn,{children:v.jsx("div",{className:"space-y-4",children:u.length>0?u.map(A=>v.jsxs("div",{className:"flex items-center justify-between p-3 bg-warning/5 border border-warning/20 rounded-lg",children:[v.jsxs("div",{children:[v.jsx("p",{className:"font-medium",children:A.fullName}),v.jsxs("p",{className:"text-sm text-muted-foreground",children:["ID: ",A.id]})]}),v.jsxs("div",{className:"text-right",children:[v.jsxs("p",{className:"font-medium text-warning",children:["Expires ",A.membershipExpiryDate]}),v.jsx("p",{className:"text-sm text-muted-foreground",children:"Renewal needed"})]})]},A.id)):v.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No memberships expiring soon"})})})]})]})]})},eM=Uh("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function us({className:e,variant:t,...n}){return v.jsx("div",{className:Ht(eM({variant:t}),e),...n})}var fg="rovingFocusGroup.onEntryFocus",tM={bubbles:!1,cancelable:!0},Wh="RovingFocusGroup",[lx,h6,nM]=Pv(Wh),[rM,p6]=Ml(Wh,[nM]),[iM,sM]=rM(Wh),m6=F.forwardRef((e,t)=>v.jsx(lx.Provider,{scope:e.__scopeRovingFocusGroup,children:v.jsx(lx.Slot,{scope:e.__scopeRovingFocusGroup,children:v.jsx(aM,{...e,ref:t})})}));m6.displayName=Wh;var aM=F.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:a,currentTabStopId:u,defaultCurrentTabStopId:f,onCurrentTabStopIdChange:m,onEntryFocus:p,preventScrollOnEntryFocus:y=!1,...S}=e,E=F.useRef(null),A=Pr(t,E),R=ey(a),[I,P]=Md({prop:u,defaultProp:f??null,onChange:m,caller:Wh}),[k,O]=F.useState(!1),L=Za(p),j=h6(n),J=F.useRef(!1),[ce,Y]=F.useState(0);return F.useEffect(()=>{const Z=E.current;if(Z)return Z.addEventListener(fg,L),()=>Z.removeEventListener(fg,L)},[L]),v.jsx(iM,{scope:n,orientation:r,dir:R,loop:i,currentTabStopId:I,onItemFocus:F.useCallback(Z=>P(Z),[P]),onItemShiftTab:F.useCallback(()=>O(!0),[]),onFocusableItemAdd:F.useCallback(()=>Y(Z=>Z+1),[]),onFocusableItemRemove:F.useCallback(()=>Y(Z=>Z-1),[]),children:v.jsx(Bn.div,{tabIndex:k||ce===0?-1:0,"data-orientation":r,...S,ref:A,style:{outline:"none",...e.style},onMouseDown:gn(e.onMouseDown,()=>{J.current=!0}),onFocus:gn(e.onFocus,Z=>{const z=!J.current;if(Z.target===Z.currentTarget&&z&&!k){const he=new CustomEvent(fg,tM);if(Z.currentTarget.dispatchEvent(he),!he.defaultPrevented){const H=j().filter(Ne=>Ne.focusable),K=H.find(Ne=>Ne.active),ue=H.find(Ne=>Ne.id===I),te=[K,ue,...H].filter(Boolean).map(Ne=>Ne.ref.current);v6(te,y)}}J.current=!1}),onBlur:gn(e.onBlur,()=>O(!1))})})}),g6="RovingFocusGroupItem",x6=F.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:a,children:u,...f}=e,m=Ec(),p=a||m,y=sM(g6,n),S=y.currentTabStopId===p,E=h6(n),{onFocusableItemAdd:A,onFocusableItemRemove:R,currentTabStopId:I}=y;return F.useEffect(()=>{if(r)return A(),()=>R()},[r,A,R]),v.jsx(lx.ItemSlot,{scope:n,id:p,focusable:r,active:i,children:v.jsx(Bn.span,{tabIndex:S?0:-1,"data-orientation":y.orientation,...f,ref:t,onMouseDown:gn(e.onMouseDown,P=>{r?y.onItemFocus(p):P.preventDefault()}),onFocus:gn(e.onFocus,()=>y.onItemFocus(p)),onKeyDown:gn(e.onKeyDown,P=>{if(P.key==="Tab"&&P.shiftKey){y.onItemShiftTab();return}if(P.target!==P.currentTarget)return;const k=cM(P,y.orientation,y.dir);if(k!==void 0){if(P.metaKey||P.ctrlKey||P.altKey||P.shiftKey)return;P.preventDefault();let L=E().filter(j=>j.focusable).map(j=>j.ref.current);if(k==="last")L.reverse();else if(k==="prev"||k==="next"){k==="prev"&&L.reverse();const j=L.indexOf(P.currentTarget);L=y.loop?uM(L,j+1):L.slice(j+1)}setTimeout(()=>v6(L))}}),children:typeof u=="function"?u({isCurrentTabStop:S,hasTabStop:I!=null}):u})})});x6.displayName=g6;var oM={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function lM(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function cM(e,t,n){const r=lM(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return oM[r]}function v6(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function uM(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var dM=m6,fM=x6,em="Tabs",[hM,VW]=Ml(em,[p6]),y6=p6(),[pM,iy]=hM(em),w6=F.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:a,orientation:u="horizontal",dir:f,activationMode:m="automatic",...p}=e,y=ey(f),[S,E]=Md({prop:r,onChange:i,defaultProp:a??"",caller:em});return v.jsx(pM,{scope:n,baseId:Ec(),value:S,onValueChange:E,orientation:u,dir:y,activationMode:m,children:v.jsx(Bn.div,{dir:y,"data-orientation":u,...p,ref:t})})});w6.displayName=em;var b6="TabsList",A6=F.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...i}=e,a=iy(b6,n),u=y6(n);return v.jsx(dM,{asChild:!0,...u,orientation:a.orientation,dir:a.dir,loop:r,children:v.jsx(Bn.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:t})})});A6.displayName=b6;var S6="TabsTrigger",_6=F.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...a}=e,u=iy(S6,n),f=y6(n),m=N6(u.baseId,r),p=I6(u.baseId,r),y=r===u.value;return v.jsx(fM,{asChild:!0,...f,focusable:!i,active:y,children:v.jsx(Bn.button,{type:"button",role:"tab","aria-selected":y,"aria-controls":p,"data-state":y?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:m,...a,ref:t,onMouseDown:gn(e.onMouseDown,S=>{!i&&S.button===0&&S.ctrlKey===!1?u.onValueChange(r):S.preventDefault()}),onKeyDown:gn(e.onKeyDown,S=>{[" ","Enter"].includes(S.key)&&u.onValueChange(r)}),onFocus:gn(e.onFocus,()=>{const S=u.activationMode!=="manual";!y&&!i&&S&&u.onValueChange(r)})})})});_6.displayName=S6;var C6="TabsContent",E6=F.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:i,children:a,...u}=e,f=iy(C6,n),m=N6(f.baseId,r),p=I6(f.baseId,r),y=r===f.value,S=F.useRef(y);return F.useEffect(()=>{const E=requestAnimationFrame(()=>S.current=!1);return()=>cancelAnimationFrame(E)},[]),v.jsx(Iu,{present:i||y,children:({present:E})=>v.jsx(Bn.div,{"data-state":y?"active":"inactive","data-orientation":f.orientation,role:"tabpanel","aria-labelledby":m,hidden:!E,id:p,tabIndex:0,...u,ref:t,style:{...e.style,animationDuration:S.current?"0s":void 0},children:E&&a})})});E6.displayName=C6;function N6(e,t){return`${e}-trigger-${t}`}function I6(e,t){return`${e}-content-${t}`}var mM=w6,T6=A6,k6=_6,P6=E6;const gM=mM,R6=F.forwardRef(({className:e,...t},n)=>v.jsx(T6,{ref:n,className:Ht("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));R6.displayName=T6.displayName;const c0=F.forwardRef(({className:e,...t},n)=>v.jsx(k6,{ref:n,className:Ht("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));c0.displayName=k6.displayName;const u0=F.forwardRef(({className:e,...t},n)=>v.jsx(P6,{ref:n,className:Ht("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));u0.displayName=P6.displayName;const xM=()=>`GM${Date.now().toString().slice(-6)}`,vM=()=>`USER${Date.now().toString().slice(-6)}`,yM=e=>{const t=new Date,n=new Date(e),r=1e3*60*60*24,i=Math.ceil((n.getTime()-t.getTime())/r);return i<=-30?"archived":i<0?"expired":i<=7?"soon-to-expire":"active"};var tm="Dialog",[O6,L6]=Ml(tm),[wM,No]=O6(tm),D6=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:u=!0}=e,f=F.useRef(null),m=F.useRef(null),[p,y]=Md({prop:r,defaultProp:i??!1,onChange:a,caller:tm});return v.jsx(wM,{scope:t,triggerRef:f,contentRef:m,contentId:Ec(),titleId:Ec(),descriptionId:Ec(),open:p,onOpenChange:y,onOpenToggle:F.useCallback(()=>y(S=>!S),[y]),modal:u,children:n})};D6.displayName=tm;var M6="DialogTrigger",j6=F.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=No(M6,n),a=Pr(t,i.triggerRef);return v.jsx(Bn.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":oy(i.open),...r,ref:a,onClick:gn(e.onClick,i.onOpenToggle)})});j6.displayName=M6;var sy="DialogPortal",[bM,F6]=O6(sy,{forceMount:void 0}),B6=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,a=No(sy,t);return v.jsx(bM,{scope:t,forceMount:n,children:F.Children.map(r,u=>v.jsx(Iu,{present:n||a.open,children:v.jsx(Op,{asChild:!0,container:i,children:u})}))})};B6.displayName=sy;var np="DialogOverlay",U6=F.forwardRef((e,t)=>{const n=F6(np,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,a=No(np,e.__scopeDialog);return a.modal?v.jsx(Iu,{present:r||a.open,children:v.jsx(SM,{...i,ref:t})}):null});U6.displayName=np;var AM=Dd("DialogOverlay.RemoveScroll"),SM=F.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=No(np,n);return v.jsx(ny,{as:AM,allowPinchZoom:!0,shards:[i.contentRef],children:v.jsx(Bn.div,{"data-state":oy(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),bu="DialogContent",z6=F.forwardRef((e,t)=>{const n=F6(bu,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,a=No(bu,e.__scopeDialog);return v.jsx(Iu,{present:r||a.open,children:a.modal?v.jsx(_M,{...i,ref:t}):v.jsx(CM,{...i,ref:t})})});z6.displayName=bu;var _M=F.forwardRef((e,t)=>{const n=No(bu,e.__scopeDialog),r=F.useRef(null),i=Pr(t,n.contentRef,r);return F.useEffect(()=>{const a=r.current;if(a)return b_(a)},[]),v.jsx(W6,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:gn(e.onCloseAutoFocus,a=>{var u;a.preventDefault(),(u=n.triggerRef.current)==null||u.focus()}),onPointerDownOutside:gn(e.onPointerDownOutside,a=>{const u=a.detail.originalEvent,f=u.button===0&&u.ctrlKey===!0;(u.button===2||f)&&a.preventDefault()}),onFocusOutside:gn(e.onFocusOutside,a=>a.preventDefault())})}),CM=F.forwardRef((e,t)=>{const n=No(bu,e.__scopeDialog),r=F.useRef(!1),i=F.useRef(!1);return v.jsx(W6,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var u,f;(u=e.onCloseAutoFocus)==null||u.call(e,a),a.defaultPrevented||(r.current||(f=n.triggerRef.current)==null||f.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{var m,p;(m=e.onInteractOutside)==null||m.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const u=a.target;((p=n.triggerRef.current)==null?void 0:p.contains(u))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),W6=F.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,...u}=e,f=No(bu,n),m=F.useRef(null),p=Pr(t,m);return v_(),v.jsxs(v.Fragment,{children:[v.jsx(ty,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:v.jsx(Fh,{role:"dialog",id:f.contentId,"aria-describedby":f.descriptionId,"aria-labelledby":f.titleId,"data-state":oy(f.open),...u,ref:p,onDismiss:()=>f.onOpenChange(!1)})}),v.jsxs(v.Fragment,{children:[v.jsx(NM,{titleId:f.titleId}),v.jsx(TM,{contentRef:m,descriptionId:f.descriptionId})]})]})}),ay="DialogTitle",H6=F.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=No(ay,n);return v.jsx(Bn.h2,{id:i.titleId,...r,ref:t})});H6.displayName=ay;var V6="DialogDescription",q6=F.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=No(V6,n);return v.jsx(Bn.p,{id:i.descriptionId,...r,ref:t})});q6.displayName=V6;var G6="DialogClose",K6=F.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=No(G6,n);return v.jsx(Bn.button,{type:"button",...r,ref:t,onClick:gn(e.onClick,()=>i.onOpenChange(!1))})});K6.displayName=G6;function oy(e){return e?"open":"closed"}var $6="DialogTitleWarning",[EM,X6]=gT($6,{contentName:bu,titleName:ay,docsSlug:"dialog"}),NM=({titleId:e})=>{const t=X6($6),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return F.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},IM="DialogDescriptionWarning",TM=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${X6(IM).contentName}}.`;return F.useEffect(()=>{var a;const i=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},Y6=D6,kM=j6,Z6=B6,ly=U6,cy=z6,uy=H6,dy=q6,fy=K6;const Jc=Y6,PM=Z6,Q6=F.forwardRef(({className:e,...t},n)=>v.jsx(ly,{ref:n,className:Ht("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Q6.displayName=ly.displayName;const mc=F.forwardRef(({className:e,children:t,...n},r)=>v.jsxs(PM,{children:[v.jsx(Q6,{}),v.jsxs(cy,{ref:r,className:Ht("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,v.jsxs(fy,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[v.jsx(jp,{className:"h-4 w-4"}),v.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));mc.displayName=cy.displayName;const yl=({className:e,...t})=>v.jsx("div",{className:Ht("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});yl.displayName="DialogHeader";const cx=({className:e,...t})=>v.jsx("div",{className:Ht("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});cx.displayName="DialogFooter";const wl=F.forwardRef(({className:e,...t},n)=>v.jsx(uy,{ref:n,className:Ht("text-lg font-semibold leading-none tracking-tight",e),...t}));wl.displayName=uy.displayName;const zu=F.forwardRef(({className:e,...t},n)=>v.jsx(dy,{ref:n,className:Ht("text-sm text-muted-foreground",e),...t}));zu.displayName=dy.displayName;const RM=()=>{const[e,t]=F.useState([]),[n,r]=F.useState(""),{toast:i}=Ys(),[a,u]=F.useState(null),[f,m]=F.useState(!1),[p,y]=F.useState(null),[S,E]=F.useState(null),[A,R]=F.useState("monthly"),[I,P]=F.useState(!1),[k,O]=F.useState(null),[L,j]=F.useState(1),[J,ce]=F.useState("select"),[Y,Z]=F.useState(!1),[z,he]=F.useState(null),[H,K]=F.useState(!1),[ue,oe]=F.useState(null);F.useState("Cash"),F.useEffect(()=>{(async()=>{await Ks();const Le=await sn.members.toArray(),W=[],ae=Le.map(fe=>{const Ee=yM(fe.membershipExpiryDate);let se={...fe};return Ee!==fe.status&&(se.status=Ee,Ee==="archived"&&(se.isActive=!1),W.push(sn.members.update(fe.id,{status:Ee,isActive:se.isActive})),Ee==="expired"&&i({title:"Membership Expired",description:`Member ${fe.fullName} has expired. Renew within 30 days to avoid archiving.`}),Ee==="archived"&&i({title:"Member Archived",description:`Member ${fe.fullName} has been archived due to no renewal within 30 days.`})),se});W.length>0&&await Promise.all(W),ae.sort((fe,Ee)=>fe.fullName.localeCompare(Ee.fullName)),t(ae)})()},[i]);const te=e.filter(ve=>ve.fullName.toLowerCase().includes(n.toLowerCase())||ve.id.toLowerCase().includes(n.toLowerCase())||ve.email.toLowerCase().includes(n.toLowerCase())),Ne=ve=>{switch(ve){case"active":return v.jsx(us,{className:"bg-green-100 text-green-700 border-green-200",children:" Active"});case"expired":return v.jsx(us,{className:"bg-orange-100 text-orange-700 border-orange-200",children:" Expired"});case"archived":return v.jsx(us,{className:"bg-gray-100 text-gray-700 border-gray-200",children:" Archived"});case"soon-to-expire":return v.jsx(us,{className:"bg-yellow-100 text-yellow-700 border-yellow-200",children:"Expiring Soon"});default:return v.jsx(us,{variant:"secondary",children:"Unknown"})}},Ce=ve=>{const Le=new Date,W=new Date(ve),ae=1e3*60*60*24;return Math.max(0,Math.ceil((W.getTime()-Le.getTime())/ae))},ne=ve=>{u(ve),m(!0)},_e=()=>{m(!1),u(null),y(null),E(null)};return F.useEffect(()=>{let ve=!1;return(async()=>{if(!a)return;const Le=a.qrCodeDataUrl||await a8(a.id),W=a.barcodeDataUrl||await cP(a.id);ve||(y(Le),E(W))})(),()=>{ve=!0}},[a]),v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-3xl font-bold",children:"Members"}),v.jsx("p",{className:"text-muted-foreground",children:"Manage your gym members and memberships"})]}),v.jsx(Ol,{to:"/members/add",children:v.jsxs(en,{className:"bg-gradient-primary hover:opacity-90",children:[v.jsx(_k,{className:"h-4 w-4 mr-2"}),"Add Member"]})})]}),v.jsx(qn,{className:"border-0 shadow-md",children:v.jsx(Gn,{className:"pt-6",children:v.jsxs("div",{className:"relative",children:[v.jsx(Ek,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),v.jsx(mr,{placeholder:"Search members by name, ID, or email...",value:n,onChange:ve=>r(ve.target.value),className:"pl-10"})]})})}),v.jsxs(gM,{value:A,onValueChange:ve=>R(ve),children:[v.jsxs(R6,{children:[v.jsx(c0,{value:"monthly",children:" Monthly Subscribers"}),v.jsx(c0,{value:"per_session",children:" Per Session Members"}),v.jsx(c0,{value:"archived",children:" Archived Members"})]}),v.jsx(u0,{value:"monthly",children:v.jsxs(qn,{className:"border-0 shadow-md",children:[v.jsx(vr,{children:v.jsx(yr,{children:"Monthly Subscribers"})}),v.jsx(Gn,{children:v.jsx("div",{className:"space-y-4",children:e.filter(ve=>ve.paymentType==="monthly"&&!!ve.subscriptionExpiryDate&&new Date(ve.subscriptionExpiryDate)>=new Date).length>0?e.filter(ve=>ve.paymentType==="monthly"&&!!ve.subscriptionExpiryDate&&new Date(ve.subscriptionExpiryDate)>=new Date).map(ve=>v.jsxs("div",{className:"flex items-center justify-between p-4 border border-border rounded-lg bg-card hover:bg-muted/30 transition-colors cursor-pointer",onClick:()=>ne(ve),children:[v.jsx("div",{className:"flex-1",children:v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"font-semibold",children:ve.fullName}),v.jsxs("p",{className:"text-sm text-muted-foreground",children:["ID: ",ve.id]})]}),v.jsxs("div",{className:"hidden md:block",children:[v.jsx("p",{className:"text-sm",children:ve.email}),v.jsx("p",{className:"text-sm text-muted-foreground",children:ve.phone})]}),v.jsxs("div",{className:"hidden lg:block",children:[v.jsxs("p",{className:"text-sm",children:["Start: ",ve.membershipStartDate]}),v.jsxs("p",{className:"text-sm text-muted-foreground",children:["Subscription Expires: ",ve.subscriptionExpiryDate]})]})]})}),v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx(us,{className:"bg-green-100 text-green-700 border-green-200",children:" Active"}),v.jsx("div",{className:"flex gap-2",children:v.jsx(en,{variant:"outline",size:"sm",onClick:Le=>{Le.stopPropagation(),sn.members.update(ve.id,{paymentType:"per_session",subscriptionExpiryDate:""}).then(()=>t(W=>W.map(ae=>ae.id===ve.id?{...ae,paymentType:"per_session",subscriptionExpiryDate:""}:ae)))},className:"text-orange-700 border-orange-200 hover:bg-orange-50",children:"Cancel Subscription"})})]})]},ve.id)):v.jsx("div",{className:"text-center py-8",children:v.jsx("p",{className:"text-muted-foreground",children:"No active members match your search."})})})})]})}),v.jsx(u0,{value:"per_session",children:v.jsxs(qn,{className:"border-0 shadow-md",children:[v.jsx(vr,{children:v.jsx(yr,{children:"Per Session Members"})}),v.jsx(Gn,{children:v.jsx("div",{className:"space-y-4",children:e.filter(ve=>!(ve.paymentType==="monthly"&&ve.subscriptionExpiryDate&&new Date(ve.subscriptionExpiryDate)>=new Date)&&ve.status!=="archived").length>0?e.filter(ve=>!(ve.paymentType==="monthly"&&ve.subscriptionExpiryDate&&new Date(ve.subscriptionExpiryDate)>=new Date)&&ve.status!=="archived").map(ve=>v.jsxs("div",{className:"flex items-center justify-between p-4 border border-border rounded-lg bg-card hover:bg-muted/30 transition-colors cursor-pointer",onClick:()=>ne(ve),children:[v.jsx("div",{className:"flex-1",children:v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"font-semibold",children:ve.fullName}),v.jsxs("p",{className:"text-sm text-muted-foreground",children:["ID: ",ve.id]})]}),v.jsxs("div",{className:"hidden md:block",children:[v.jsx("p",{className:"text-sm",children:ve.email}),v.jsx("p",{className:"text-sm text-muted-foreground",children:ve.phone})]}),v.jsxs("div",{className:"hidden lg:block",children:[v.jsxs("p",{className:"text-sm",children:["Start: ",ve.membershipStartDate]}),v.jsxs("p",{className:"text-sm text-muted-foreground",children:["Last Subscription Expiry: ",ve.subscriptionExpiryDate||"-"]})]})]})}),v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx(us,{className:"bg-orange-100 text-orange-700 border-orange-200",children:" Expired"}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx(en,{variant:"outline",size:"sm",onClick:Le=>{Le.stopPropagation(),O(ve),j(1),ce("confirm"),P(!0)},className:"text-green-700 border-green-200 hover:bg-green-50",children:"Subscribe to Monthly"}),v.jsx(en,{variant:"outline",size:"sm",onClick:Le=>{Le.stopPropagation(),he(ve),Z(!0)},className:"text-destructive hover:text-destructive",children:"Archive"})]})]})]},ve.id)):v.jsx("div",{className:"text-center py-8",children:v.jsx("p",{className:"text-muted-foreground",children:"No expired members match your search."})})})})]})}),v.jsx(u0,{value:"archived",children:v.jsxs(qn,{className:"border-0 shadow-md",children:[v.jsx(vr,{children:v.jsx(yr,{children:"Archived"})}),v.jsx(Gn,{children:v.jsx("div",{className:"space-y-4",children:te.filter(ve=>ve.status==="archived"||!ve.isActive).length>0?te.filter(ve=>ve.status==="archived"||!ve.isActive).map(ve=>v.jsxs("div",{className:"flex items-center justify-between p-4 border border-border rounded-lg bg-card hover:bg-muted/30 transition-colors cursor-pointer",onClick:()=>ne(ve),children:[v.jsx("div",{className:"flex-1",children:v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"font-semibold",children:ve.fullName}),v.jsxs("p",{className:"text-sm text-muted-foreground",children:["ID: ",ve.id]})]}),v.jsxs("div",{className:"hidden md:block",children:[v.jsx("p",{className:"text-sm",children:ve.email}),v.jsx("p",{className:"text-sm text-muted-foreground",children:ve.phone})]}),v.jsxs("div",{className:"hidden lg:block",children:[v.jsxs("p",{className:"text-sm",children:["Start: ",ve.membershipStartDate]}),v.jsxs("p",{className:"text-sm text-muted-foreground",children:["Expires: ",ve.membershipExpiryDate]})]})]})}),v.jsxs("div",{className:"flex items-center gap-4",children:[Ne(ve.status==="archived"?"archived":ve.status),v.jsxs("div",{className:"flex gap-2",children:[v.jsx(en,{variant:"outline",size:"sm",onClick:Le=>{Le.stopPropagation(),O(ve),j(1),ce("select"),P(!0)},className:"text-green-700 border-green-200 hover:bg-green-50",children:"Renew"}),v.jsx(en,{variant:"outline",size:"sm",onClick:Le=>{Le.stopPropagation(),oe(ve),K(!0)},className:"text-destructive hover:text-destructive",children:"Delete"})]})]})]},ve.id)):v.jsx("div",{className:"text-center py-8",children:v.jsx("p",{className:"text-muted-foreground",children:"No archived members match your search."})})})})]})})]}),v.jsx(Jc,{open:f,onOpenChange:ve=>ve?m(!0):_e(),children:v.jsx(mc,{children:a&&v.jsxs("div",{className:"space-y-4",children:[v.jsxs(yl,{children:[v.jsx(wl,{className:"text-2xl",children:a.fullName}),v.jsx(zu,{children:"Member information"})]}),v.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6",children:[v.jsxs("div",{className:"space-y-3",children:[v.jsx("div",{className:"w-32 h-32 rounded-lg overflow-hidden bg-muted flex items-center justify-center",children:a.photoDataUrl?v.jsx("img",{src:a.photoDataUrl,alt:"Profile",className:"w-full h-full object-cover"}):v.jsx("span",{className:"text-xs text-muted-foreground",children:"No photo"})}),v.jsx(Ol,{to:`/members/edit/${a.id}`,children:v.jsx(en,{className:"w-full",children:"Edit Member"})})]}),v.jsxs("div",{className:"sm:col-span-2",children:[v.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-sm text-muted-foreground",children:"Member ID"}),v.jsx("p",{className:"font-medium",children:a.id})]}),v.jsxs("div",{children:[v.jsx("p",{className:"text-sm text-muted-foreground",children:"Status"}),v.jsx("div",{className:"mt-1",children:Ne(a.status)})]}),v.jsxs("div",{children:[v.jsx("p",{className:"text-sm text-muted-foreground",children:"Email"}),v.jsx("p",{className:"font-medium break-all",children:a.email})]}),v.jsxs("div",{children:[v.jsx("p",{className:"text-sm text-muted-foreground",children:"Phone"}),v.jsx("p",{className:"font-medium",children:a.phone})]}),v.jsxs("div",{children:[v.jsx("p",{className:"text-sm text-muted-foreground",children:"Membership Start"}),v.jsx("p",{className:"font-medium",children:a.membershipStartDate})]}),v.jsxs("div",{children:[v.jsx("p",{className:"text-sm text-muted-foreground",children:"Expiry Date"}),v.jsx("p",{className:"font-medium",children:a.membershipExpiryDate})]})]}),v.jsxs("div",{className:"mt-6 grid grid-cols-1 sm:grid-cols-2 gap-6 items-center",children:[v.jsxs("div",{className:"flex flex-col items-center gap-2",children:[v.jsx("p",{className:"text-sm text-muted-foreground",children:"QR Code"}),p?v.jsx("img",{src:p,alt:"QR Code",className:"w-40 h-40"}):v.jsx("div",{className:"w-40 h-40 bg-muted rounded"})]}),v.jsxs("div",{className:"flex flex-col items-center gap-2",children:[v.jsx("p",{className:"text-sm text-muted-foreground",children:"Barcode"}),S?v.jsx("img",{src:S,alt:"Barcode",className:"w-60 h-16 object-contain"}):v.jsx("div",{className:"w-60 h-16 bg-muted rounded"})]})]})]})]})]})})}),v.jsx(Jc,{open:H,onOpenChange:ve=>{ve?K(!0):(K(!1),oe(null))},children:v.jsx(mc,{children:ue&&v.jsxs("div",{className:"space-y-4",children:[v.jsxs(yl,{children:[v.jsx(wl,{className:"text-2xl",children:"Delete Member"}),v.jsxs(zu,{children:["This will permanently delete ",ue.fullName," and their records from the local database. This action cannot be undone."]})]}),v.jsxs("div",{className:"flex gap-2 justify-end pt-2",children:[v.jsx(en,{variant:"outline",onClick:()=>K(!1),children:"Cancel"}),v.jsx(en,{className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",onClick:async()=>{const ve=ue;await sn.members.delete(ve.id),t(Le=>Le.filter(W=>W.id!==ve.id)),K(!1),oe(null),i({title:"Member Deleted",description:`${ve.fullName} has been deleted permanently.`})},children:"Delete Permanently"})]})]})})}),v.jsx(Jc,{open:Y,onOpenChange:ve=>{ve?Z(!0):(Z(!1),he(null))},children:v.jsx(mc,{children:z&&v.jsxs("div",{className:"space-y-4",children:[v.jsxs(yl,{children:[v.jsx(wl,{className:"text-2xl",children:"Archive Member"}),v.jsxs(zu,{children:["Are you sure you want to archive ",z.fullName,"? They still have an active membership with ",Ce(z.membershipExpiryDate)," remaining days."]})]}),v.jsxs("div",{className:"flex gap-2 justify-end pt-2",children:[v.jsx(en,{variant:"outline",onClick:()=>Z(!1),children:"Cancel"}),v.jsx(en,{className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",onClick:async()=>{const ve=z,Le=Ce(ve.membershipExpiryDate);await sn.members.update(ve.id,{isActive:!1,status:"archived"}),t(W=>W.map(ae=>ae.id===ve.id?{...ae,isActive:!1,status:"archived"}:ae)),R("archived"),Z(!1),he(null),i({title:"Member Archived",description:`Member ${ve.fullName} has been archived despite having ${Le} days remaining.`})},children:"Confirm"})]})]})})}),v.jsx(Jc,{open:I,onOpenChange:ve=>{ve?P(!0):(P(!1),O(null),j(1),ce("select"))},children:v.jsx(mc,{children:k&&v.jsxs("div",{className:"space-y-4",children:[J==="select"&&v.jsxs(v.Fragment,{children:[v.jsxs(yl,{children:[v.jsx(wl,{className:"text-2xl",children:"Renew Membership"}),v.jsx(zu,{children:"How many months do you want to renew this membership?"})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx("label",{className:"text-sm text-muted-foreground",children:"Months (112)"}),v.jsx(mr,{type:"number",min:1,max:12,value:L,onChange:ve=>j(Math.max(1,Math.min(12,Number(ve.target.value)||1)))})]}),v.jsxs("div",{className:"flex gap-2 justify-end pt-2",children:[v.jsx(en,{variant:"outline",onClick:()=>{P(!1)},children:"Cancel"}),v.jsx(en,{className:"bg-gradient-success hover:opacity-90",onClick:()=>ce("confirm"),children:"Continue"})]})]}),J==="confirm"&&v.jsxs(v.Fragment,{children:[v.jsxs(yl,{children:[v.jsx(wl,{className:"text-2xl",children:"Confirm Renewal"}),v.jsxs(zu,{children:["Are you sure you want to renew ",k.fullName," for ",L," ",L===1?"month":"months","?"]})]}),v.jsxs("div",{className:"flex gap-2 justify-end pt-2",children:[v.jsx(en,{variant:"outline",onClick:()=>ce("select"),children:"Back"}),v.jsx(en,{className:"bg-gradient-success hover:opacity-90",onClick:async()=>{const ve=k;if(!ve)return;const Le=L,W=new Date().toISOString().split("T")[0],ae=new Date(ve.membershipExpiryDate),fe=ve.status==="expired"||ve.status==="archived"?new Date:ae,Ee=new Date(fe);Ee.setMonth(Ee.getMonth()+Le);const se=Ee.toISOString().split("T")[0];await sn.members.update(ve.id,{membershipStartDate:W,membershipExpiryDate:se,status:"active",isActive:!0}),t(we=>we.map(Re=>Re.id===ve.id?{...Re,membershipStartDate:W,membershipExpiryDate:se,status:"active",isActive:!0}:Re)),R("active"),P(!1),O(null),j(1),ce("select"),i({title:"Membership Renewed",description:`Membership for ${ve.fullName} has been renewed for ${Le} ${Le===1?"month":"months"}.`})},children:"Confirm"})]})]})]})})})]})};function Ir(e){"@babel/helpers - typeof";return Ir=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ir(e)}var Eo=Uint8Array,Pa=Uint16Array,hy=Int32Array,py=new Eo([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),my=new Eo([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),lb=new Eo([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),J6=function(e,t){for(var n=new Pa(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];for(var i=new hy(n[30]),r=1;r<30;++r)for(var a=n[r];a<n[r+1];++a)i[a]=a-n[r]<<5|r;return{b:n,r:i}},eC=J6(py,2),OM=eC.b,ux=eC.r;OM[28]=258,ux[258]=28;var LM=J6(my,0),cb=LM.r,dx=new Pa(32768);for(var Zr=0;Zr<32768;++Zr){var Yl=(Zr&43690)>>1|(Zr&21845)<<1;Yl=(Yl&52428)>>2|(Yl&13107)<<2,Yl=(Yl&61680)>>4|(Yl&3855)<<4,dx[Zr]=((Yl&65280)>>8|(Yl&255)<<8)>>1}var Bf=function(e,t,n){for(var r=e.length,i=0,a=new Pa(t);i<r;++i)e[i]&&++a[e[i]-1];var u=new Pa(t);for(i=1;i<t;++i)u[i]=u[i-1]+a[i-1]<<1;var f;if(n){f=new Pa(1<<t);var m=15-t;for(i=0;i<r;++i)if(e[i])for(var p=i<<4|e[i],y=t-e[i],S=u[e[i]-1]++<<y,E=S|(1<<y)-1;S<=E;++S)f[dx[S]>>m]=p}else for(f=new Pa(r),i=0;i<r;++i)e[i]&&(f[i]=dx[u[e[i]-1]++]>>15-e[i]);return f},Au=new Eo(288);for(var Zr=0;Zr<144;++Zr)Au[Zr]=8;for(var Zr=144;Zr<256;++Zr)Au[Zr]=9;for(var Zr=256;Zr<280;++Zr)Au[Zr]=7;for(var Zr=280;Zr<288;++Zr)Au[Zr]=8;var rp=new Eo(32);for(var Zr=0;Zr<32;++Zr)rp[Zr]=5;var DM=Bf(Au,9,0),MM=Bf(rp,5,0),tC=function(e){return(e+7)/8|0},jM=function(e,t,n){return(n==null||n>e.length)&&(n=e.length),new Eo(e.subarray(t,n))},ul=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},vf=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},hg=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,a=n.slice();if(!i)return{t:rC,l:0};if(i==1){var u=new Eo(n[0].s+1);return u[n[0].s]=1,{t:u,l:1}}n.sort(function(J,ce){return J.f-ce.f}),n.push({s:-1,f:25001});var f=n[0],m=n[1],p=0,y=1,S=2;for(n[0]={s:-1,f:f.f+m.f,l:f,r:m};y!=i-1;)f=n[n[p].f<n[S].f?p++:S++],m=n[p!=y&&n[p].f<n[S].f?p++:S++],n[y++]={s:-1,f:f.f+m.f,l:f,r:m};for(var E=a[0].s,r=1;r<i;++r)a[r].s>E&&(E=a[r].s);var A=new Pa(E+1),R=fx(n[y-1],A,0);if(R>t){var r=0,I=0,P=R-t,k=1<<P;for(a.sort(function(ce,Y){return A[Y.s]-A[ce.s]||ce.f-Y.f});r<i;++r){var O=a[r].s;if(A[O]>t)I+=k-(1<<R-A[O]),A[O]=t;else break}for(I>>=P;I>0;){var L=a[r].s;A[L]<t?I-=1<<t-A[L]++-1:++r}for(;r>=0&&I;--r){var j=a[r].s;A[j]==t&&(--A[j],++I)}R=t}return{t:new Eo(A),l:R}},fx=function(e,t,n){return e.s==-1?Math.max(fx(e.l,t,n+1),fx(e.r,t,n+1)):t[e.s]=n},ub=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new Pa(++t),r=0,i=e[0],a=1,u=function(m){n[r++]=m},f=1;f<=t;++f)if(e[f]==i&&f!=t)++a;else{if(!i&&a>2){for(;a>138;a-=138)u(32754);a>2&&(u(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(u(i),--a;a>6;a-=6)u(8304);a>2&&(u(a-3<<5|8208),a=0)}for(;a--;)u(i);a=1,i=e[f]}return{c:n.subarray(0,r),n:t}},yf=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},nC=function(e,t,n){var r=n.length,i=tC(t+2);e[i]=r&255,e[i+1]=r>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var a=0;a<r;++a)e[i+a+4]=n[a];return(i+4+r)*8},db=function(e,t,n,r,i,a,u,f,m,p,y){ul(t,y++,n),++i[256];for(var S=hg(i,15),E=S.t,A=S.l,R=hg(a,15),I=R.t,P=R.l,k=ub(E),O=k.c,L=k.n,j=ub(I),J=j.c,ce=j.n,Y=new Pa(19),Z=0;Z<O.length;++Z)++Y[O[Z]&31];for(var Z=0;Z<J.length;++Z)++Y[J[Z]&31];for(var z=hg(Y,7),he=z.t,H=z.l,K=19;K>4&&!he[lb[K-1]];--K);var ue=p+5<<3,oe=yf(i,Au)+yf(a,rp)+u,te=yf(i,E)+yf(a,I)+u+14+3*K+yf(Y,he)+2*Y[16]+3*Y[17]+7*Y[18];if(m>=0&&ue<=oe&&ue<=te)return nC(t,y,e.subarray(m,m+p));var Ne,Ce,ne,_e;if(ul(t,y,1+(te<oe)),y+=2,te<oe){Ne=Bf(E,A,0),Ce=E,ne=Bf(I,P,0),_e=I;var ve=Bf(he,H,0);ul(t,y,L-257),ul(t,y+5,ce-1),ul(t,y+10,K-4),y+=14;for(var Z=0;Z<K;++Z)ul(t,y+3*Z,he[lb[Z]]);y+=3*K;for(var Le=[O,J],W=0;W<2;++W)for(var ae=Le[W],Z=0;Z<ae.length;++Z){var fe=ae[Z]&31;ul(t,y,ve[fe]),y+=he[fe],fe>15&&(ul(t,y,ae[Z]>>5&127),y+=ae[Z]>>12)}}else Ne=DM,Ce=Au,ne=MM,_e=rp;for(var Z=0;Z<f;++Z){var Ee=r[Z];if(Ee>255){var fe=Ee>>18&31;vf(t,y,Ne[fe+257]),y+=Ce[fe+257],fe>7&&(ul(t,y,Ee>>23&31),y+=py[fe]);var se=Ee&31;vf(t,y,ne[se]),y+=_e[se],se>3&&(vf(t,y,Ee>>5&8191),y+=my[se])}else vf(t,y,Ne[Ee]),y+=Ce[Ee]}return vf(t,y,Ne[256]),y+Ce[256]},FM=new hy([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),rC=new Eo(0),BM=function(e,t,n,r,i,a){var u=a.z||e.length,f=new Eo(r+u+5*(1+Math.ceil(u/7e3))+i),m=f.subarray(r,f.length-i),p=a.l,y=(a.r||0)&7;if(t){y&&(m[0]=a.r>>3);for(var S=FM[t-1],E=S>>13,A=S&8191,R=(1<<n)-1,I=a.p||new Pa(32768),P=a.h||new Pa(R+1),k=Math.ceil(n/3),O=2*k,L=function(Ye){return(e[Ye]^e[Ye+1]<<k^e[Ye+2]<<O)&R},j=new hy(25e3),J=new Pa(288),ce=new Pa(32),Y=0,Z=0,z=a.i||0,he=0,H=a.w||0,K=0;z+2<u;++z){var ue=L(z),oe=z&32767,te=P[ue];if(I[oe]=te,P[ue]=oe,H<=z){var Ne=u-z;if((Y>7e3||he>24576)&&(Ne>423||!p)){y=db(e,m,0,j,J,ce,Z,he,K,z-K,y),he=Y=Z=0,K=z;for(var Ce=0;Ce<286;++Ce)J[Ce]=0;for(var Ce=0;Ce<30;++Ce)ce[Ce]=0}var ne=2,_e=0,ve=A,Le=oe-te&32767;if(Ne>2&&ue==L(z-Le))for(var W=Math.min(E,Ne)-1,ae=Math.min(32767,z),fe=Math.min(258,Ne);Le<=ae&&--ve&&oe!=te;){if(e[z+ne]==e[z+ne-Le]){for(var Ee=0;Ee<fe&&e[z+Ee]==e[z+Ee-Le];++Ee);if(Ee>ne){if(ne=Ee,_e=Le,Ee>W)break;for(var se=Math.min(Le,Ee-2),we=0,Ce=0;Ce<se;++Ce){var Re=z-Le+Ce&32767,Ie=I[Re],je=Re-Ie&32767;je>we&&(we=je,te=Re)}}}oe=te,te=I[oe],Le+=oe-te&32767}if(_e){j[he++]=268435456|ux[ne]<<18|cb[_e];var ze=ux[ne]&31,Ge=cb[_e]&31;Z+=py[ze]+my[Ge],++J[257+ze],++ce[Ge],H=z+ne,++Y}else j[he++]=e[z],++J[e[z]]}}for(z=Math.max(z,H);z<u;++z)j[he++]=e[z],++J[e[z]];y=db(e,m,p,j,J,ce,Z,he,K,z-K,y),p||(a.r=y&7|m[y/8|0]<<3,y-=7,a.h=P,a.p=I,a.i=z,a.w=H)}else{for(var z=a.w||0;z<u+p;z+=65535){var Je=z+65535;Je>=u&&(m[y/8|0]=p,Je=u),y=nC(m,y+1,e.subarray(z,Je))}a.i=u}return jM(f,0,r+tC(y)+i)},iC=function(){var e=1,t=0;return{p:function(n){for(var r=e,i=t,a=n.length|0,u=0;u!=a;){for(var f=Math.min(u+2655,a);u<f;++u)i+=r+=n[u];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}e=r,t=i},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},UM=function(e,t,n,r,i){if(!i&&(i={l:1},t.dictionary)){var a=t.dictionary.subarray(-32768),u=new Eo(a.length+e.length);u.set(a),u.set(e,a.length),e=u,i.w=a.length}return BM(e,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,n,r,i)},sC=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},zM=function(e,t){var n=t.level,r=n==0?0:n<6?1:n==9?3:2;if(e[0]=120,e[1]=r<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=iC();i.p(t.dictionary),sC(e,2,i.d())}};function hx(e,t){t||(t={});var n=iC();n.p(e);var r=UM(e,t,t.dictionary?6:2,4);return zM(r,t),sC(r,r.length-4,n.d()),r}var WM=typeof TextDecoder<"u"&&new TextDecoder,HM=0;try{WM.decode(rC,{stream:!0}),HM=1}catch{}function VM(e){if(Array.isArray(e))return e}function qM(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,u,f=[],m=!0,p=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(m=(r=a.call(n)).done)&&(f.push(r.value),f.length!==t);m=!0);}catch(y){p=!0,i=y}finally{try{if(!m&&n.return!=null&&(u=n.return(),Object(u)!==u))return}finally{if(p)throw i}}return f}}function fb(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function GM(e,t){if(e){if(typeof e=="string")return fb(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fb(e,t):void 0}}function KM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hb(e,t){return VM(e)||qM(e,t)||GM(e,t)||KM()}function pb(e,t="utf8"){return new TextDecoder(t).decode(e)}const $M=new TextEncoder;function XM(e){return $M.encode(e)}const YM=1024*8,ZM=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),pg={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class gy{constructor(t=YM,n={}){nr(this,"buffer");nr(this,"byteLength");nr(this,"byteOffset");nr(this,"length");nr(this,"offset");nr(this,"lastWrittenByte");nr(this,"littleEndian");nr(this,"_data");nr(this,"_mark");nr(this,"_marks");let r=!1;typeof t=="number"?t=new ArrayBuffer(t):(r=!0,this.lastWrittenByte=t.byteLength);const i=n.offset?n.offset>>>0:0,a=t.byteLength-i;let u=i;(ArrayBuffer.isView(t)||t instanceof gy)&&(t.byteLength!==t.buffer.byteLength&&(u=t.byteOffset+i),t=t.buffer),r?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=t,this.length=a,this.byteLength=a,this.byteOffset=u,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,u,a),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const r=(this.offset+t)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,n){const r=pg[n].BYTES_PER_ELEMENT*t,i=this.byteOffset+this.offset,a=this.buffer.slice(i,i+r);if(this.littleEndian===ZM&&n!=="uint8"&&n!=="int8"){const f=new Uint8Array(this.buffer.slice(i,i+r));f.reverse();const m=new pg[n](f.buffer);return this.offset+=r,m.reverse(),m}const u=new pg[n](a);return this.offset+=r,u}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let n="";for(let r=0;r<t;r++)n+=this.readChar();return n}readUtf8(t=1){return pb(this.readBytes(t))}decodeText(t=1,n="utf8"){return pb(this.readBytes(t),n)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let n=0;n<t.length;n++)this._data.setUint8(this.offset++,t[n]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let n=0;n<t.length;n++)this.writeUint8(t.charCodeAt(n));return this}writeUtf8(t){return this.writeBytes(XM(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const QM=4,mb=0,gb=1,JM=2;function Jd(e){let t=e.length;for(;--t>=0;)e[t]=0}const ej=0,aC=1,tj=2,nj=3,rj=258,xy=29,Hh=256,Ah=Hh+1+xy,hd=30,vy=19,oC=2*Ah+1,eu=15,mg=16,ij=7,yy=256,lC=16,cC=17,uC=18,px=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),d0=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),sj=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),dC=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),aj=512,gl=new Array((Ah+2)*2);Jd(gl);const Uf=new Array(hd*2);Jd(Uf);const Sh=new Array(aj);Jd(Sh);const _h=new Array(rj-nj+1);Jd(_h);const wy=new Array(xy);Jd(wy);const ip=new Array(hd);Jd(ip);function gg(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}let fC,hC,pC;function xg(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}const mC=e=>e<256?Sh[e]:Sh[256+(e>>>7)],Ch=(e,t)=>{e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255},da=(e,t,n)=>{e.bi_valid>mg-n?(e.bi_buf|=t<<e.bi_valid&65535,Ch(e,e.bi_buf),e.bi_buf=t>>mg-e.bi_valid,e.bi_valid+=n-mg):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},qo=(e,t,n)=>{da(e,n[t*2],n[t*2+1])},gC=(e,t)=>{let n=0;do n|=e&1,e>>>=1,n<<=1;while(--t>0);return n>>>1},oj=e=>{e.bi_valid===16?(Ch(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},lj=(e,t)=>{const n=t.dyn_tree,r=t.max_code,i=t.stat_desc.static_tree,a=t.stat_desc.has_stree,u=t.stat_desc.extra_bits,f=t.stat_desc.extra_base,m=t.stat_desc.max_length;let p,y,S,E,A,R,I=0;for(E=0;E<=eu;E++)e.bl_count[E]=0;for(n[e.heap[e.heap_max]*2+1]=0,p=e.heap_max+1;p<oC;p++)y=e.heap[p],E=n[n[y*2+1]*2+1]+1,E>m&&(E=m,I++),n[y*2+1]=E,!(y>r)&&(e.bl_count[E]++,A=0,y>=f&&(A=u[y-f]),R=n[y*2],e.opt_len+=R*(E+A),a&&(e.static_len+=R*(i[y*2+1]+A)));if(I!==0){do{for(E=m-1;e.bl_count[E]===0;)E--;e.bl_count[E]--,e.bl_count[E+1]+=2,e.bl_count[m]--,I-=2}while(I>0);for(E=m;E!==0;E--)for(y=e.bl_count[E];y!==0;)S=e.heap[--p],!(S>r)&&(n[S*2+1]!==E&&(e.opt_len+=(E-n[S*2+1])*n[S*2],n[S*2+1]=E),y--)}},xC=(e,t,n)=>{const r=new Array(eu+1);let i=0,a,u;for(a=1;a<=eu;a++)i=i+n[a-1]<<1,r[a]=i;for(u=0;u<=t;u++){let f=e[u*2+1];f!==0&&(e[u*2]=gC(r[f]++,f))}},cj=()=>{let e,t,n,r,i;const a=new Array(eu+1);for(n=0,r=0;r<xy-1;r++)for(wy[r]=n,e=0;e<1<<px[r];e++)_h[n++]=r;for(_h[n-1]=r,i=0,r=0;r<16;r++)for(ip[r]=i,e=0;e<1<<d0[r];e++)Sh[i++]=r;for(i>>=7;r<hd;r++)for(ip[r]=i<<7,e=0;e<1<<d0[r]-7;e++)Sh[256+i++]=r;for(t=0;t<=eu;t++)a[t]=0;for(e=0;e<=143;)gl[e*2+1]=8,e++,a[8]++;for(;e<=255;)gl[e*2+1]=9,e++,a[9]++;for(;e<=279;)gl[e*2+1]=7,e++,a[7]++;for(;e<=287;)gl[e*2+1]=8,e++,a[8]++;for(xC(gl,Ah+1,a),e=0;e<hd;e++)Uf[e*2+1]=5,Uf[e*2]=gC(e,5);fC=new gg(gl,px,Hh+1,Ah,eu),hC=new gg(Uf,d0,0,hd,eu),pC=new gg(new Array(0),sj,0,vy,ij)},vC=e=>{let t;for(t=0;t<Ah;t++)e.dyn_ltree[t*2]=0;for(t=0;t<hd;t++)e.dyn_dtree[t*2]=0;for(t=0;t<vy;t++)e.bl_tree[t*2]=0;e.dyn_ltree[yy*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},yC=e=>{e.bi_valid>8?Ch(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},xb=(e,t,n,r)=>{const i=t*2,a=n*2;return e[i]<e[a]||e[i]===e[a]&&r[t]<=r[n]},vg=(e,t,n)=>{const r=e.heap[n];let i=n<<1;for(;i<=e.heap_len&&(i<e.heap_len&&xb(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!xb(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r},vb=(e,t,n)=>{let r,i,a=0,u,f;if(e.sym_next!==0)do r=e.pending_buf[e.sym_buf+a++]&255,r+=(e.pending_buf[e.sym_buf+a++]&255)<<8,i=e.pending_buf[e.sym_buf+a++],r===0?qo(e,i,t):(u=_h[i],qo(e,u+Hh+1,t),f=px[u],f!==0&&(i-=wy[u],da(e,i,f)),r--,u=mC(r),qo(e,u,n),f=d0[u],f!==0&&(r-=ip[u],da(e,r,f)));while(a<e.sym_next);qo(e,yy,t)},mx=(e,t)=>{const n=t.dyn_tree,r=t.stat_desc.static_tree,i=t.stat_desc.has_stree,a=t.stat_desc.elems;let u,f,m=-1,p;for(e.heap_len=0,e.heap_max=oC,u=0;u<a;u++)n[u*2]!==0?(e.heap[++e.heap_len]=m=u,e.depth[u]=0):n[u*2+1]=0;for(;e.heap_len<2;)p=e.heap[++e.heap_len]=m<2?++m:0,n[p*2]=1,e.depth[p]=0,e.opt_len--,i&&(e.static_len-=r[p*2+1]);for(t.max_code=m,u=e.heap_len>>1;u>=1;u--)vg(e,n,u);p=a;do u=e.heap[1],e.heap[1]=e.heap[e.heap_len--],vg(e,n,1),f=e.heap[1],e.heap[--e.heap_max]=u,e.heap[--e.heap_max]=f,n[p*2]=n[u*2]+n[f*2],e.depth[p]=(e.depth[u]>=e.depth[f]?e.depth[u]:e.depth[f])+1,n[u*2+1]=n[f*2+1]=p,e.heap[1]=p++,vg(e,n,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],lj(e,t),xC(n,m,e.bl_count)},yb=(e,t,n)=>{let r,i=-1,a,u=t[0*2+1],f=0,m=7,p=4;for(u===0&&(m=138,p=3),t[(n+1)*2+1]=65535,r=0;r<=n;r++)a=u,u=t[(r+1)*2+1],!(++f<m&&a===u)&&(f<p?e.bl_tree[a*2]+=f:a!==0?(a!==i&&e.bl_tree[a*2]++,e.bl_tree[lC*2]++):f<=10?e.bl_tree[cC*2]++:e.bl_tree[uC*2]++,f=0,i=a,u===0?(m=138,p=3):a===u?(m=6,p=3):(m=7,p=4))},wb=(e,t,n)=>{let r,i=-1,a,u=t[0*2+1],f=0,m=7,p=4;for(u===0&&(m=138,p=3),r=0;r<=n;r++)if(a=u,u=t[(r+1)*2+1],!(++f<m&&a===u)){if(f<p)do qo(e,a,e.bl_tree);while(--f!==0);else a!==0?(a!==i&&(qo(e,a,e.bl_tree),f--),qo(e,lC,e.bl_tree),da(e,f-3,2)):f<=10?(qo(e,cC,e.bl_tree),da(e,f-3,3)):(qo(e,uC,e.bl_tree),da(e,f-11,7));f=0,i=a,u===0?(m=138,p=3):a===u?(m=6,p=3):(m=7,p=4)}},uj=e=>{let t;for(yb(e,e.dyn_ltree,e.l_desc.max_code),yb(e,e.dyn_dtree,e.d_desc.max_code),mx(e,e.bl_desc),t=vy-1;t>=3&&e.bl_tree[dC[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t},dj=(e,t,n,r)=>{let i;for(da(e,t-257,5),da(e,n-1,5),da(e,r-4,4),i=0;i<r;i++)da(e,e.bl_tree[dC[i]*2+1],3);wb(e,e.dyn_ltree,t-1),wb(e,e.dyn_dtree,n-1)},fj=e=>{let t=4093624447,n;for(n=0;n<=31;n++,t>>>=1)if(t&1&&e.dyn_ltree[n*2]!==0)return mb;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return gb;for(n=32;n<Hh;n++)if(e.dyn_ltree[n*2]!==0)return gb;return mb};let bb=!1;const hj=e=>{bb||(cj(),bb=!0),e.l_desc=new xg(e.dyn_ltree,fC),e.d_desc=new xg(e.dyn_dtree,hC),e.bl_desc=new xg(e.bl_tree,pC),e.bi_buf=0,e.bi_valid=0,vC(e)},wC=(e,t,n,r)=>{da(e,(ej<<1)+(r?1:0),3),yC(e),Ch(e,n),Ch(e,~n),n&&e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n},pj=e=>{da(e,aC<<1,3),qo(e,yy,gl),oj(e)},mj=(e,t,n,r)=>{let i,a,u=0;e.level>0?(e.strm.data_type===JM&&(e.strm.data_type=fj(e)),mx(e,e.l_desc),mx(e,e.d_desc),u=uj(e),i=e.opt_len+3+7>>>3,a=e.static_len+3+7>>>3,a<=i&&(i=a)):i=a=n+5,n+4<=i&&t!==-1?wC(e,t,n,r):e.strategy===QM||a===i?(da(e,(aC<<1)+(r?1:0),3),vb(e,gl,Uf)):(da(e,(tj<<1)+(r?1:0),3),dj(e,e.l_desc.max_code+1,e.d_desc.max_code+1,u+1),vb(e,e.dyn_ltree,e.dyn_dtree)),vC(e),r&&yC(e)},gj=(e,t,n)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=n,t===0?e.dyn_ltree[n*2]++:(e.matches++,t--,e.dyn_ltree[(_h[n]+Hh+1)*2]++,e.dyn_dtree[mC(t)*2]++),e.sym_next===e.sym_end);var xj=hj,vj=wC,yj=mj,wj=gj,bj=pj,Aj={_tr_init:xj,_tr_stored_block:vj,_tr_flush_block:yj,_tr_tally:wj,_tr_align:bj};const Sj=(e,t,n,r)=>{let i=e&65535|0,a=e>>>16&65535|0,u=0;for(;n!==0;){u=n>2e3?2e3:n,n-=u;do i=i+t[r++]|0,a=a+i|0;while(--u);i%=65521,a%=65521}return i|a<<16|0};var Eh=Sj;const _j=()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=e&1?3988292384^e>>>1:e>>>1;t[n]=e}return t},Cj=new Uint32Array(_j()),Ej=(e,t,n,r)=>{const i=Cj,a=r+n;e^=-1;for(let u=r;u<a;u++)e=e>>>8^i[(e^t[u])&255];return e^-1};var Ki=Ej,Ud={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Vh={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:Nj,_tr_stored_block:gx,_tr_flush_block:Ij,_tr_tally:kc,_tr_align:Tj}=Aj,{Z_NO_FLUSH:Pc,Z_PARTIAL_FLUSH:kj,Z_FULL_FLUSH:Pj,Z_FINISH:Ga,Z_BLOCK:Ab,Z_OK:cs,Z_STREAM_END:Sb,Z_STREAM_ERROR:Zo,Z_DATA_ERROR:Rj,Z_BUF_ERROR:yg,Z_DEFAULT_COMPRESSION:Oj,Z_FILTERED:Lj,Z_HUFFMAN_ONLY:M1,Z_RLE:Dj,Z_FIXED:Mj,Z_DEFAULT_STRATEGY:jj,Z_UNKNOWN:Fj,Z_DEFLATED:nm}=Vh,Bj=9,Uj=15,zj=8,Wj=29,Hj=256,xx=Hj+1+Wj,Vj=30,qj=19,Gj=2*xx+1,Kj=15,rr=3,gc=258,Qo=gc+rr+1,$j=32,zd=42,by=57,vx=69,yx=73,wx=91,bx=103,tu=113,Nf=666,qs=1,ef=2,Su=3,tf=4,Xj=3,nu=(e,t)=>(e.msg=Ud[t],t),_b=e=>e*2-(e>4?9:0),ac=e=>{let t=e.length;for(;--t>=0;)e[t]=0},Yj=e=>{let t,n,r,i=e.w_size;t=e.hash_size,r=t;do n=e.head[--r],e.head[r]=n>=i?n-i:0;while(--t);t=i,r=t;do n=e.prev[--r],e.prev[r]=n>=i?n-i:0;while(--t)};let Zj=(e,t,n)=>(t<<e.hash_shift^n)&e.hash_mask,Rc=Zj;const Na=e=>{const t=e.state;let n=t.pending;n>e.avail_out&&(n=e.avail_out),n!==0&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,t.pending===0&&(t.pending_out=0))},Ra=(e,t)=>{Ij(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,Na(e.strm)},xr=(e,t)=>{e.pending_buf[e.pending++]=t},wf=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255},Ax=(e,t,n,r)=>{let i=e.avail_in;return i>r&&(i=r),i===0?0:(e.avail_in-=i,t.set(e.input.subarray(e.next_in,e.next_in+i),n),e.state.wrap===1?e.adler=Eh(e.adler,t,i,n):e.state.wrap===2&&(e.adler=Ki(e.adler,t,i,n)),e.next_in+=i,e.total_in+=i,i)},bC=(e,t)=>{let n=e.max_chain_length,r=e.strstart,i,a,u=e.prev_length,f=e.nice_match;const m=e.strstart>e.w_size-Qo?e.strstart-(e.w_size-Qo):0,p=e.window,y=e.w_mask,S=e.prev,E=e.strstart+gc;let A=p[r+u-1],R=p[r+u];e.prev_length>=e.good_match&&(n>>=2),f>e.lookahead&&(f=e.lookahead);do if(i=t,!(p[i+u]!==R||p[i+u-1]!==A||p[i]!==p[r]||p[++i]!==p[r+1])){r+=2,i++;do;while(p[++r]===p[++i]&&p[++r]===p[++i]&&p[++r]===p[++i]&&p[++r]===p[++i]&&p[++r]===p[++i]&&p[++r]===p[++i]&&p[++r]===p[++i]&&p[++r]===p[++i]&&r<E);if(a=gc-(E-r),r=E-gc,a>u){if(e.match_start=t,u=a,a>=f)break;A=p[r+u-1],R=p[r+u]}}while((t=S[t&y])>m&&--n!==0);return u<=e.lookahead?u:e.lookahead},Wd=e=>{const t=e.w_size;let n,r,i;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-Qo)&&(e.window.set(e.window.subarray(t,t+t-r),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),Yj(e),r+=t),e.strm.avail_in===0)break;if(n=Ax(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=n,e.lookahead+e.insert>=rr)for(i=e.strstart-e.insert,e.ins_h=e.window[i],e.ins_h=Rc(e,e.ins_h,e.window[i+1]);e.insert&&(e.ins_h=Rc(e,e.ins_h,e.window[i+rr-1]),e.prev[i&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=i,i++,e.insert--,!(e.lookahead+e.insert<rr)););}while(e.lookahead<Qo&&e.strm.avail_in!==0)},AC=(e,t)=>{let n=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,r,i,a,u=0,f=e.strm.avail_in;do{if(r=65535,a=e.bi_valid+42>>3,e.strm.avail_out<a||(a=e.strm.avail_out-a,i=e.strstart-e.block_start,r>i+e.strm.avail_in&&(r=i+e.strm.avail_in),r>a&&(r=a),r<n&&(r===0&&t!==Ga||t===Pc||r!==i+e.strm.avail_in)))break;u=t===Ga&&r===i+e.strm.avail_in?1:0,gx(e,0,0,u),e.pending_buf[e.pending-4]=r,e.pending_buf[e.pending-3]=r>>8,e.pending_buf[e.pending-2]=~r,e.pending_buf[e.pending-1]=~r>>8,Na(e.strm),i&&(i>r&&(i=r),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+i),e.strm.next_out),e.strm.next_out+=i,e.strm.avail_out-=i,e.strm.total_out+=i,e.block_start+=i,r-=i),r&&(Ax(e.strm,e.strm.output,e.strm.next_out,r),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r)}while(u===0);return f-=e.strm.avail_in,f&&(f>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=f&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-f,e.strm.next_in),e.strstart),e.strstart+=f,e.insert+=f>e.w_size-e.insert?e.w_size-e.insert:f),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),u?tf:t!==Pc&&t!==Ga&&e.strm.avail_in===0&&e.strstart===e.block_start?ef:(a=e.window_size-e.strstart,e.strm.avail_in>a&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,a+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),a>e.strm.avail_in&&(a=e.strm.avail_in),a&&(Ax(e.strm,e.window,e.strstart,a),e.strstart+=a,e.insert+=a>e.w_size-e.insert?e.w_size-e.insert:a),e.high_water<e.strstart&&(e.high_water=e.strstart),a=e.bi_valid+42>>3,a=e.pending_buf_size-a>65535?65535:e.pending_buf_size-a,n=a>e.w_size?e.w_size:a,i=e.strstart-e.block_start,(i>=n||(i||t===Ga)&&t!==Pc&&e.strm.avail_in===0&&i<=a)&&(r=i>a?a:i,u=t===Ga&&e.strm.avail_in===0&&r===i?1:0,gx(e,e.block_start,r,u),e.block_start+=r,Na(e.strm)),u?Su:qs)},wg=(e,t)=>{let n,r;for(;;){if(e.lookahead<Qo){if(Wd(e),e.lookahead<Qo&&t===Pc)return qs;if(e.lookahead===0)break}if(n=0,e.lookahead>=rr&&(e.ins_h=Rc(e,e.ins_h,e.window[e.strstart+rr-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),n!==0&&e.strstart-n<=e.w_size-Qo&&(e.match_length=bC(e,n)),e.match_length>=rr)if(r=kc(e,e.strstart-e.match_start,e.match_length-rr),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=rr){e.match_length--;do e.strstart++,e.ins_h=Rc(e,e.ins_h,e.window[e.strstart+rr-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=Rc(e,e.ins_h,e.window[e.strstart+1]);else r=kc(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(Ra(e,!1),e.strm.avail_out===0))return qs}return e.insert=e.strstart<rr-1?e.strstart:rr-1,t===Ga?(Ra(e,!0),e.strm.avail_out===0?Su:tf):e.sym_next&&(Ra(e,!1),e.strm.avail_out===0)?qs:ef},ju=(e,t)=>{let n,r,i;for(;;){if(e.lookahead<Qo){if(Wd(e),e.lookahead<Qo&&t===Pc)return qs;if(e.lookahead===0)break}if(n=0,e.lookahead>=rr&&(e.ins_h=Rc(e,e.ins_h,e.window[e.strstart+rr-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=rr-1,n!==0&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-Qo&&(e.match_length=bC(e,n),e.match_length<=5&&(e.strategy===Lj||e.match_length===rr&&e.strstart-e.match_start>4096)&&(e.match_length=rr-1)),e.prev_length>=rr&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-rr,r=kc(e,e.strstart-1-e.prev_match,e.prev_length-rr),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=i&&(e.ins_h=Rc(e,e.ins_h,e.window[e.strstart+rr-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=rr-1,e.strstart++,r&&(Ra(e,!1),e.strm.avail_out===0))return qs}else if(e.match_available){if(r=kc(e,0,e.window[e.strstart-1]),r&&Ra(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return qs}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=kc(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<rr-1?e.strstart:rr-1,t===Ga?(Ra(e,!0),e.strm.avail_out===0?Su:tf):e.sym_next&&(Ra(e,!1),e.strm.avail_out===0)?qs:ef},Qj=(e,t)=>{let n,r,i,a;const u=e.window;for(;;){if(e.lookahead<=gc){if(Wd(e),e.lookahead<=gc&&t===Pc)return qs;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=rr&&e.strstart>0&&(i=e.strstart-1,r=u[i],r===u[++i]&&r===u[++i]&&r===u[++i])){a=e.strstart+gc;do;while(r===u[++i]&&r===u[++i]&&r===u[++i]&&r===u[++i]&&r===u[++i]&&r===u[++i]&&r===u[++i]&&r===u[++i]&&i<a);e.match_length=gc-(a-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=rr?(n=kc(e,1,e.match_length-rr),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=kc(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(Ra(e,!1),e.strm.avail_out===0))return qs}return e.insert=0,t===Ga?(Ra(e,!0),e.strm.avail_out===0?Su:tf):e.sym_next&&(Ra(e,!1),e.strm.avail_out===0)?qs:ef},Jj=(e,t)=>{let n;for(;;){if(e.lookahead===0&&(Wd(e),e.lookahead===0)){if(t===Pc)return qs;break}if(e.match_length=0,n=kc(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(Ra(e,!1),e.strm.avail_out===0))return qs}return e.insert=0,t===Ga?(Ra(e,!0),e.strm.avail_out===0?Su:tf):e.sym_next&&(Ra(e,!1),e.strm.avail_out===0)?qs:ef};function jo(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}const If=[new jo(0,0,0,0,AC),new jo(4,4,8,4,wg),new jo(4,5,16,8,wg),new jo(4,6,32,32,wg),new jo(4,4,16,16,ju),new jo(8,16,32,32,ju),new jo(8,16,128,128,ju),new jo(8,32,128,256,ju),new jo(32,128,258,1024,ju),new jo(32,258,258,4096,ju)],eF=e=>{e.window_size=2*e.w_size,ac(e.head),e.max_lazy_match=If[e.level].max_lazy,e.good_match=If[e.level].good_length,e.nice_match=If[e.level].nice_length,e.max_chain_length=If[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=rr-1,e.match_available=0,e.ins_h=0};function tF(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=nm,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(Gj*2),this.dyn_dtree=new Uint16Array((2*Vj+1)*2),this.bl_tree=new Uint16Array((2*qj+1)*2),ac(this.dyn_ltree),ac(this.dyn_dtree),ac(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(Kj+1),this.heap=new Uint16Array(2*xx+1),ac(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*xx+1),ac(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const qh=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==zd&&t.status!==by&&t.status!==vx&&t.status!==yx&&t.status!==wx&&t.status!==bx&&t.status!==tu&&t.status!==Nf?1:0},SC=e=>{if(qh(e))return nu(e,Zo);e.total_in=e.total_out=0,e.data_type=Fj;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?by:t.wrap?zd:tu,e.adler=t.wrap===2?0:1,t.last_flush=-2,Nj(t),cs},_C=e=>{const t=SC(e);return t===cs&&eF(e.state),t},nF=(e,t)=>qh(e)||e.state.wrap!==2?Zo:(e.state.gzhead=t,cs),CC=(e,t,n,r,i,a)=>{if(!e)return Zo;let u=1;if(t===Oj&&(t=6),r<0?(u=0,r=-r):r>15&&(u=2,r-=16),i<1||i>Bj||n!==nm||r<8||r>15||t<0||t>9||a<0||a>Mj||r===8&&u!==1)return nu(e,Zo);r===8&&(r=9);const f=new tF;return e.state=f,f.strm=e,f.status=zd,f.wrap=u,f.gzhead=null,f.w_bits=r,f.w_size=1<<f.w_bits,f.w_mask=f.w_size-1,f.hash_bits=i+7,f.hash_size=1<<f.hash_bits,f.hash_mask=f.hash_size-1,f.hash_shift=~~((f.hash_bits+rr-1)/rr),f.window=new Uint8Array(f.w_size*2),f.head=new Uint16Array(f.hash_size),f.prev=new Uint16Array(f.w_size),f.lit_bufsize=1<<i+6,f.pending_buf_size=f.lit_bufsize*4,f.pending_buf=new Uint8Array(f.pending_buf_size),f.sym_buf=f.lit_bufsize,f.sym_end=(f.lit_bufsize-1)*3,f.level=t,f.strategy=a,f.method=n,_C(e)},rF=(e,t)=>CC(e,t,nm,Uj,zj,jj),iF=(e,t)=>{if(qh(e)||t>Ab||t<0)return e?nu(e,Zo):Zo;const n=e.state;if(!e.output||e.avail_in!==0&&!e.input||n.status===Nf&&t!==Ga)return nu(e,e.avail_out===0?yg:Zo);const r=n.last_flush;if(n.last_flush=t,n.pending!==0){if(Na(e),e.avail_out===0)return n.last_flush=-1,cs}else if(e.avail_in===0&&_b(t)<=_b(r)&&t!==Ga)return nu(e,yg);if(n.status===Nf&&e.avail_in!==0)return nu(e,yg);if(n.status===zd&&n.wrap===0&&(n.status=tu),n.status===zd){let i=nm+(n.w_bits-8<<4)<<8,a=-1;if(n.strategy>=M1||n.level<2?a=0:n.level<6?a=1:n.level===6?a=2:a=3,i|=a<<6,n.strstart!==0&&(i|=$j),i+=31-i%31,wf(n,i),n.strstart!==0&&(wf(n,e.adler>>>16),wf(n,e.adler&65535)),e.adler=1,n.status=tu,Na(e),n.pending!==0)return n.last_flush=-1,cs}if(n.status===by){if(e.adler=0,xr(n,31),xr(n,139),xr(n,8),n.gzhead)xr(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),xr(n,n.gzhead.time&255),xr(n,n.gzhead.time>>8&255),xr(n,n.gzhead.time>>16&255),xr(n,n.gzhead.time>>24&255),xr(n,n.level===9?2:n.strategy>=M1||n.level<2?4:0),xr(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(xr(n,n.gzhead.extra.length&255),xr(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=Ki(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=vx;else if(xr(n,0),xr(n,0),xr(n,0),xr(n,0),xr(n,0),xr(n,n.level===9?2:n.strategy>=M1||n.level<2?4:0),xr(n,Xj),n.status=tu,Na(e),n.pending!==0)return n.last_flush=-1,cs}if(n.status===vx){if(n.gzhead.extra){let i=n.pending,a=(n.gzhead.extra.length&65535)-n.gzindex;for(;n.pending+a>n.pending_buf_size;){let f=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+f),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>i&&(e.adler=Ki(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex+=f,Na(e),n.pending!==0)return n.last_flush=-1,cs;i=0,a-=f}let u=new Uint8Array(n.gzhead.extra);n.pending_buf.set(u.subarray(n.gzindex,n.gzindex+a),n.pending),n.pending+=a,n.gzhead.hcrc&&n.pending>i&&(e.adler=Ki(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=yx}if(n.status===yx){if(n.gzhead.name){let i=n.pending,a;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(e.adler=Ki(e.adler,n.pending_buf,n.pending-i,i)),Na(e),n.pending!==0)return n.last_flush=-1,cs;i=0}n.gzindex<n.gzhead.name.length?a=n.gzhead.name.charCodeAt(n.gzindex++)&255:a=0,xr(n,a)}while(a!==0);n.gzhead.hcrc&&n.pending>i&&(e.adler=Ki(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=wx}if(n.status===wx){if(n.gzhead.comment){let i=n.pending,a;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(e.adler=Ki(e.adler,n.pending_buf,n.pending-i,i)),Na(e),n.pending!==0)return n.last_flush=-1,cs;i=0}n.gzindex<n.gzhead.comment.length?a=n.gzhead.comment.charCodeAt(n.gzindex++)&255:a=0,xr(n,a)}while(a!==0);n.gzhead.hcrc&&n.pending>i&&(e.adler=Ki(e.adler,n.pending_buf,n.pending-i,i))}n.status=bx}if(n.status===bx){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(Na(e),n.pending!==0))return n.last_flush=-1,cs;xr(n,e.adler&255),xr(n,e.adler>>8&255),e.adler=0}if(n.status=tu,Na(e),n.pending!==0)return n.last_flush=-1,cs}if(e.avail_in!==0||n.lookahead!==0||t!==Pc&&n.status!==Nf){let i=n.level===0?AC(n,t):n.strategy===M1?Jj(n,t):n.strategy===Dj?Qj(n,t):If[n.level].func(n,t);if((i===Su||i===tf)&&(n.status=Nf),i===qs||i===Su)return e.avail_out===0&&(n.last_flush=-1),cs;if(i===ef&&(t===kj?Tj(n):t!==Ab&&(gx(n,0,0,!1),t===Pj&&(ac(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),Na(e),e.avail_out===0))return n.last_flush=-1,cs}return t!==Ga?cs:n.wrap<=0?Sb:(n.wrap===2?(xr(n,e.adler&255),xr(n,e.adler>>8&255),xr(n,e.adler>>16&255),xr(n,e.adler>>24&255),xr(n,e.total_in&255),xr(n,e.total_in>>8&255),xr(n,e.total_in>>16&255),xr(n,e.total_in>>24&255)):(wf(n,e.adler>>>16),wf(n,e.adler&65535)),Na(e),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?cs:Sb)},sF=e=>{if(qh(e))return Zo;const t=e.state.status;return e.state=null,t===tu?nu(e,Rj):cs},aF=(e,t)=>{let n=t.length;if(qh(e))return Zo;const r=e.state,i=r.wrap;if(i===2||i===1&&r.status!==zd||r.lookahead)return Zo;if(i===1&&(e.adler=Eh(e.adler,t,n,0)),r.wrap=0,n>=r.w_size){i===0&&(ac(r.head),r.strstart=0,r.block_start=0,r.insert=0);let m=new Uint8Array(r.w_size);m.set(t.subarray(n-r.w_size,n),0),t=m,n=r.w_size}const a=e.avail_in,u=e.next_in,f=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,Wd(r);r.lookahead>=rr;){let m=r.strstart,p=r.lookahead-(rr-1);do r.ins_h=Rc(r,r.ins_h,r.window[m+rr-1]),r.prev[m&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=m,m++;while(--p);r.strstart=m,r.lookahead=rr-1,Wd(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=rr-1,r.match_available=0,e.next_in=u,e.input=f,e.avail_in=a,r.wrap=i,cs};var oF=rF,lF=CC,cF=_C,uF=SC,dF=nF,fF=iF,hF=sF,pF=aF,mF="pako deflate (from Nodeca project)",zf={deflateInit:oF,deflateInit2:lF,deflateReset:cF,deflateResetKeep:uF,deflateSetHeader:dF,deflate:fF,deflateEnd:hF,deflateSetDictionary:pF,deflateInfo:mF};const gF=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var xF=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)gF(n,r)&&(e[r]=n[r])}}return e},vF=e=>{let t=0;for(let r=0,i=e.length;r<i;r++)t+=e[r].length;const n=new Uint8Array(t);for(let r=0,i=0,a=e.length;r<a;r++){let u=e[r];n.set(u,i),i+=u.length}return n},rm={assign:xF,flattenChunks:vF};let EC=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{EC=!1}const Nh=new Uint8Array(256);for(let e=0;e<256;e++)Nh[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;Nh[254]=Nh[254]=1;var yF=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,n,r,i,a,u=e.length,f=0;for(i=0;i<u;i++)n=e.charCodeAt(i),(n&64512)===55296&&i+1<u&&(r=e.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),f+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(f),a=0,i=0;a<f;i++)n=e.charCodeAt(i),(n&64512)===55296&&i+1<u&&(r=e.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?t[a++]=n:n<2048?(t[a++]=192|n>>>6,t[a++]=128|n&63):n<65536?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|n&63):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|n&63);return t};const wF=(e,t)=>{if(t<65534&&e.subarray&&EC)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n};var bF=(e,t)=>{const n=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let r,i;const a=new Array(n*2);for(i=0,r=0;r<n;){let u=e[r++];if(u<128){a[i++]=u;continue}let f=Nh[u];if(f>4){a[i++]=65533,r+=f-1;continue}for(u&=f===2?31:f===3?15:7;f>1&&r<n;)u=u<<6|e[r++]&63,f--;if(f>1){a[i++]=65533;continue}u<65536?a[i++]=u:(u-=65536,a[i++]=55296|u>>10&1023,a[i++]=56320|u&1023)}return wF(a,i)},AF=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let n=t-1;for(;n>=0&&(e[n]&192)===128;)n--;return n<0||n===0?t:n+Nh[e[n]]>t?n:t},Ih={string2buf:yF,buf2string:bF,utf8border:AF};function SF(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var NC=SF;const IC=Object.prototype.toString,{Z_NO_FLUSH:_F,Z_SYNC_FLUSH:CF,Z_FULL_FLUSH:EF,Z_FINISH:NF,Z_OK:sp,Z_STREAM_END:IF,Z_DEFAULT_COMPRESSION:TF,Z_DEFAULT_STRATEGY:kF,Z_DEFLATED:PF}=Vh;function Ay(e){this.options=rm.assign({level:TF,method:PF,chunkSize:16384,windowBits:15,memLevel:8,strategy:kF},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new NC,this.strm.avail_out=0;let n=zf.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==sp)throw new Error(Ud[n]);if(t.header&&zf.deflateSetHeader(this.strm,t.header),t.dictionary){let r;if(typeof t.dictionary=="string"?r=Ih.string2buf(t.dictionary):IC.call(t.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(t.dictionary):r=t.dictionary,n=zf.deflateSetDictionary(this.strm,r),n!==sp)throw new Error(Ud[n]);this._dict_set=!0}}Ay.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize;let i,a;if(this.ended)return!1;for(t===~~t?a=t:a=t===!0?NF:_F,typeof e=="string"?n.input=Ih.string2buf(e):IC.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){if(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(a===CF||a===EF)&&n.avail_out<=6){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(i=zf.deflate(n,a),i===IF)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),i=zf.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===sp;if(n.avail_out===0){this.onData(n.output);continue}if(a>0&&n.next_out>0){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(n.avail_in===0)break}return!0};Ay.prototype.onData=function(e){this.chunks.push(e)};Ay.prototype.onEnd=function(e){e===sp&&(this.result=rm.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};const j1=16209,RF=16191;var OF=function(t,n){let r,i,a,u,f,m,p,y,S,E,A,R,I,P,k,O,L,j,J,ce,Y,Z,z,he;const H=t.state;r=t.next_in,z=t.input,i=r+(t.avail_in-5),a=t.next_out,he=t.output,u=a-(n-t.avail_out),f=a+(t.avail_out-257),m=H.dmax,p=H.wsize,y=H.whave,S=H.wnext,E=H.window,A=H.hold,R=H.bits,I=H.lencode,P=H.distcode,k=(1<<H.lenbits)-1,O=(1<<H.distbits)-1;e:do{R<15&&(A+=z[r++]<<R,R+=8,A+=z[r++]<<R,R+=8),L=I[A&k];t:for(;;){if(j=L>>>24,A>>>=j,R-=j,j=L>>>16&255,j===0)he[a++]=L&65535;else if(j&16){J=L&65535,j&=15,j&&(R<j&&(A+=z[r++]<<R,R+=8),J+=A&(1<<j)-1,A>>>=j,R-=j),R<15&&(A+=z[r++]<<R,R+=8,A+=z[r++]<<R,R+=8),L=P[A&O];n:for(;;){if(j=L>>>24,A>>>=j,R-=j,j=L>>>16&255,j&16){if(ce=L&65535,j&=15,R<j&&(A+=z[r++]<<R,R+=8,R<j&&(A+=z[r++]<<R,R+=8)),ce+=A&(1<<j)-1,ce>m){t.msg="invalid distance too far back",H.mode=j1;break e}if(A>>>=j,R-=j,j=a-u,ce>j){if(j=ce-j,j>y&&H.sane){t.msg="invalid distance too far back",H.mode=j1;break e}if(Y=0,Z=E,S===0){if(Y+=p-j,j<J){J-=j;do he[a++]=E[Y++];while(--j);Y=a-ce,Z=he}}else if(S<j){if(Y+=p+S-j,j-=S,j<J){J-=j;do he[a++]=E[Y++];while(--j);if(Y=0,S<J){j=S,J-=j;do he[a++]=E[Y++];while(--j);Y=a-ce,Z=he}}}else if(Y+=S-j,j<J){J-=j;do he[a++]=E[Y++];while(--j);Y=a-ce,Z=he}for(;J>2;)he[a++]=Z[Y++],he[a++]=Z[Y++],he[a++]=Z[Y++],J-=3;J&&(he[a++]=Z[Y++],J>1&&(he[a++]=Z[Y++]))}else{Y=a-ce;do he[a++]=he[Y++],he[a++]=he[Y++],he[a++]=he[Y++],J-=3;while(J>2);J&&(he[a++]=he[Y++],J>1&&(he[a++]=he[Y++]))}}else if(j&64){t.msg="invalid distance code",H.mode=j1;break e}else{L=P[(L&65535)+(A&(1<<j)-1)];continue n}break}}else if(j&64)if(j&32){H.mode=RF;break e}else{t.msg="invalid literal/length code",H.mode=j1;break e}else{L=I[(L&65535)+(A&(1<<j)-1)];continue t}break}}while(r<i&&a<f);J=R>>3,r-=J,R-=J<<3,A&=(1<<R)-1,t.next_in=r,t.next_out=a,t.avail_in=r<i?5+(i-r):5-(r-i),t.avail_out=a<f?257+(f-a):257-(a-f),H.hold=A,H.bits=R};const Fu=15,Cb=852,Eb=592,Nb=0,bg=1,Ib=2,LF=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),DF=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),MF=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),jF=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),FF=(e,t,n,r,i,a,u,f)=>{const m=f.bits;let p=0,y=0,S=0,E=0,A=0,R=0,I=0,P=0,k=0,O=0,L,j,J,ce,Y,Z=null,z;const he=new Uint16Array(Fu+1),H=new Uint16Array(Fu+1);let K=null,ue,oe,te;for(p=0;p<=Fu;p++)he[p]=0;for(y=0;y<r;y++)he[t[n+y]]++;for(A=m,E=Fu;E>=1&&he[E]===0;E--);if(A>E&&(A=E),E===0)return i[a++]=1<<24|64<<16|0,i[a++]=1<<24|64<<16|0,f.bits=1,0;for(S=1;S<E&&he[S]===0;S++);for(A<S&&(A=S),P=1,p=1;p<=Fu;p++)if(P<<=1,P-=he[p],P<0)return-1;if(P>0&&(e===Nb||E!==1))return-1;for(H[1]=0,p=1;p<Fu;p++)H[p+1]=H[p]+he[p];for(y=0;y<r;y++)t[n+y]!==0&&(u[H[t[n+y]]++]=y);if(e===Nb?(Z=K=u,z=20):e===bg?(Z=LF,K=DF,z=257):(Z=MF,K=jF,z=0),O=0,y=0,p=S,Y=a,R=A,I=0,J=-1,k=1<<A,ce=k-1,e===bg&&k>Cb||e===Ib&&k>Eb)return 1;for(;;){ue=p-I,u[y]+1<z?(oe=0,te=u[y]):u[y]>=z?(oe=K[u[y]-z],te=Z[u[y]-z]):(oe=96,te=0),L=1<<p-I,j=1<<R,S=j;do j-=L,i[Y+(O>>I)+j]=ue<<24|oe<<16|te|0;while(j!==0);for(L=1<<p-1;O&L;)L>>=1;if(L!==0?(O&=L-1,O+=L):O=0,y++,--he[p]===0){if(p===E)break;p=t[n+u[y]]}if(p>A&&(O&ce)!==J){for(I===0&&(I=A),Y+=S,R=p-I,P=1<<R;R+I<E&&(P-=he[R+I],!(P<=0));)R++,P<<=1;if(k+=1<<R,e===bg&&k>Cb||e===Ib&&k>Eb)return 1;J=O&ce,i[J]=A<<24|R<<16|Y-a|0}}return O!==0&&(i[Y+O]=p-I<<24|64<<16|0),f.bits=A,0};var Wf=FF;const BF=0,TC=1,kC=2,{Z_FINISH:Tb,Z_BLOCK:UF,Z_TREES:F1,Z_OK:_u,Z_STREAM_END:zF,Z_NEED_DICT:WF,Z_STREAM_ERROR:Qa,Z_DATA_ERROR:PC,Z_MEM_ERROR:RC,Z_BUF_ERROR:HF,Z_DEFLATED:kb}=Vh,im=16180,Pb=16181,Rb=16182,Ob=16183,Lb=16184,Db=16185,Mb=16186,jb=16187,Fb=16188,Bb=16189,ap=16190,dl=16191,Ag=16192,Ub=16193,Sg=16194,zb=16195,Wb=16196,Hb=16197,Vb=16198,B1=16199,U1=16200,qb=16201,Gb=16202,Kb=16203,$b=16204,Xb=16205,_g=16206,Yb=16207,Zb=16208,ri=16209,OC=16210,LC=16211,VF=852,qF=592,GF=15,KF=GF,Qb=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function $F(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const ku=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<im||t.mode>LC?1:0},DC=e=>{if(ku(e))return Qa;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=im,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(VF),t.distcode=t.distdyn=new Int32Array(qF),t.sane=1,t.back=-1,_u},MC=e=>{if(ku(e))return Qa;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,DC(e)},jC=(e,t)=>{let n;if(ku(e))return Qa;const r=e.state;return t<0?(n=0,t=-t):(n=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Qa:(r.window!==null&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,MC(e))},FC=(e,t)=>{if(!e)return Qa;const n=new $F;e.state=n,n.strm=e,n.window=null,n.mode=im;const r=jC(e,t);return r!==_u&&(e.state=null),r},XF=e=>FC(e,KF);let Jb=!0,Cg,Eg;const YF=e=>{if(Jb){Cg=new Int32Array(512),Eg=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Wf(TC,e.lens,0,288,Cg,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Wf(kC,e.lens,0,32,Eg,0,e.work,{bits:5}),Jb=!1}e.lencode=Cg,e.lenbits=9,e.distcode=Eg,e.distbits=5},BC=(e,t,n,r)=>{let i;const a=e.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),r>=a.wsize?(a.window.set(t.subarray(n-a.wsize,n),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>r&&(i=r),a.window.set(t.subarray(n-r,n-r+i),a.wnext),r-=i,r?(a.window.set(t.subarray(n-r,n),0),a.wnext=r,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},ZF=(e,t)=>{let n,r,i,a,u,f,m,p,y,S,E,A,R,I,P=0,k,O,L,j,J,ce,Y,Z;const z=new Uint8Array(4);let he,H;const K=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(ku(e)||!e.output||!e.input&&e.avail_in!==0)return Qa;n=e.state,n.mode===dl&&(n.mode=Ag),u=e.next_out,i=e.output,m=e.avail_out,a=e.next_in,r=e.input,f=e.avail_in,p=n.hold,y=n.bits,S=f,E=m,Z=_u;e:for(;;)switch(n.mode){case im:if(n.wrap===0){n.mode=Ag;break}for(;y<16;){if(f===0)break e;f--,p+=r[a++]<<y,y+=8}if(n.wrap&2&&p===35615){n.wbits===0&&(n.wbits=15),n.check=0,z[0]=p&255,z[1]=p>>>8&255,n.check=Ki(n.check,z,2,0),p=0,y=0,n.mode=Pb;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((p&255)<<8)+(p>>8))%31){e.msg="incorrect header check",n.mode=ri;break}if((p&15)!==kb){e.msg="unknown compression method",n.mode=ri;break}if(p>>>=4,y-=4,Y=(p&15)+8,n.wbits===0&&(n.wbits=Y),Y>15||Y>n.wbits){e.msg="invalid window size",n.mode=ri;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=p&512?Bb:dl,p=0,y=0;break;case Pb:for(;y<16;){if(f===0)break e;f--,p+=r[a++]<<y,y+=8}if(n.flags=p,(n.flags&255)!==kb){e.msg="unknown compression method",n.mode=ri;break}if(n.flags&57344){e.msg="unknown header flags set",n.mode=ri;break}n.head&&(n.head.text=p>>8&1),n.flags&512&&n.wrap&4&&(z[0]=p&255,z[1]=p>>>8&255,n.check=Ki(n.check,z,2,0)),p=0,y=0,n.mode=Rb;case Rb:for(;y<32;){if(f===0)break e;f--,p+=r[a++]<<y,y+=8}n.head&&(n.head.time=p),n.flags&512&&n.wrap&4&&(z[0]=p&255,z[1]=p>>>8&255,z[2]=p>>>16&255,z[3]=p>>>24&255,n.check=Ki(n.check,z,4,0)),p=0,y=0,n.mode=Ob;case Ob:for(;y<16;){if(f===0)break e;f--,p+=r[a++]<<y,y+=8}n.head&&(n.head.xflags=p&255,n.head.os=p>>8),n.flags&512&&n.wrap&4&&(z[0]=p&255,z[1]=p>>>8&255,n.check=Ki(n.check,z,2,0)),p=0,y=0,n.mode=Lb;case Lb:if(n.flags&1024){for(;y<16;){if(f===0)break e;f--,p+=r[a++]<<y,y+=8}n.length=p,n.head&&(n.head.extra_len=p),n.flags&512&&n.wrap&4&&(z[0]=p&255,z[1]=p>>>8&255,n.check=Ki(n.check,z,2,0)),p=0,y=0}else n.head&&(n.head.extra=null);n.mode=Db;case Db:if(n.flags&1024&&(A=n.length,A>f&&(A=f),A&&(n.head&&(Y=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(a,a+A),Y)),n.flags&512&&n.wrap&4&&(n.check=Ki(n.check,r,A,a)),f-=A,a+=A,n.length-=A),n.length))break e;n.length=0,n.mode=Mb;case Mb:if(n.flags&2048){if(f===0)break e;A=0;do Y=r[a+A++],n.head&&Y&&n.length<65536&&(n.head.name+=String.fromCharCode(Y));while(Y&&A<f);if(n.flags&512&&n.wrap&4&&(n.check=Ki(n.check,r,A,a)),f-=A,a+=A,Y)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=jb;case jb:if(n.flags&4096){if(f===0)break e;A=0;do Y=r[a+A++],n.head&&Y&&n.length<65536&&(n.head.comment+=String.fromCharCode(Y));while(Y&&A<f);if(n.flags&512&&n.wrap&4&&(n.check=Ki(n.check,r,A,a)),f-=A,a+=A,Y)break e}else n.head&&(n.head.comment=null);n.mode=Fb;case Fb:if(n.flags&512){for(;y<16;){if(f===0)break e;f--,p+=r[a++]<<y,y+=8}if(n.wrap&4&&p!==(n.check&65535)){e.msg="header crc mismatch",n.mode=ri;break}p=0,y=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=dl;break;case Bb:for(;y<32;){if(f===0)break e;f--,p+=r[a++]<<y,y+=8}e.adler=n.check=Qb(p),p=0,y=0,n.mode=ap;case ap:if(n.havedict===0)return e.next_out=u,e.avail_out=m,e.next_in=a,e.avail_in=f,n.hold=p,n.bits=y,WF;e.adler=n.check=1,n.mode=dl;case dl:if(t===UF||t===F1)break e;case Ag:if(n.last){p>>>=y&7,y-=y&7,n.mode=_g;break}for(;y<3;){if(f===0)break e;f--,p+=r[a++]<<y,y+=8}switch(n.last=p&1,p>>>=1,y-=1,p&3){case 0:n.mode=Ub;break;case 1:if(YF(n),n.mode=B1,t===F1){p>>>=2,y-=2;break e}break;case 2:n.mode=Wb;break;case 3:e.msg="invalid block type",n.mode=ri}p>>>=2,y-=2;break;case Ub:for(p>>>=y&7,y-=y&7;y<32;){if(f===0)break e;f--,p+=r[a++]<<y,y+=8}if((p&65535)!==(p>>>16^65535)){e.msg="invalid stored block lengths",n.mode=ri;break}if(n.length=p&65535,p=0,y=0,n.mode=Sg,t===F1)break e;case Sg:n.mode=zb;case zb:if(A=n.length,A){if(A>f&&(A=f),A>m&&(A=m),A===0)break e;i.set(r.subarray(a,a+A),u),f-=A,a+=A,m-=A,u+=A,n.length-=A;break}n.mode=dl;break;case Wb:for(;y<14;){if(f===0)break e;f--,p+=r[a++]<<y,y+=8}if(n.nlen=(p&31)+257,p>>>=5,y-=5,n.ndist=(p&31)+1,p>>>=5,y-=5,n.ncode=(p&15)+4,p>>>=4,y-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=ri;break}n.have=0,n.mode=Hb;case Hb:for(;n.have<n.ncode;){for(;y<3;){if(f===0)break e;f--,p+=r[a++]<<y,y+=8}n.lens[K[n.have++]]=p&7,p>>>=3,y-=3}for(;n.have<19;)n.lens[K[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,he={bits:n.lenbits},Z=Wf(BF,n.lens,0,19,n.lencode,0,n.work,he),n.lenbits=he.bits,Z){e.msg="invalid code lengths set",n.mode=ri;break}n.have=0,n.mode=Vb;case Vb:for(;n.have<n.nlen+n.ndist;){for(;P=n.lencode[p&(1<<n.lenbits)-1],k=P>>>24,O=P>>>16&255,L=P&65535,!(k<=y);){if(f===0)break e;f--,p+=r[a++]<<y,y+=8}if(L<16)p>>>=k,y-=k,n.lens[n.have++]=L;else{if(L===16){for(H=k+2;y<H;){if(f===0)break e;f--,p+=r[a++]<<y,y+=8}if(p>>>=k,y-=k,n.have===0){e.msg="invalid bit length repeat",n.mode=ri;break}Y=n.lens[n.have-1],A=3+(p&3),p>>>=2,y-=2}else if(L===17){for(H=k+3;y<H;){if(f===0)break e;f--,p+=r[a++]<<y,y+=8}p>>>=k,y-=k,Y=0,A=3+(p&7),p>>>=3,y-=3}else{for(H=k+7;y<H;){if(f===0)break e;f--,p+=r[a++]<<y,y+=8}p>>>=k,y-=k,Y=0,A=11+(p&127),p>>>=7,y-=7}if(n.have+A>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=ri;break}for(;A--;)n.lens[n.have++]=Y}}if(n.mode===ri)break;if(n.lens[256]===0){e.msg="invalid code -- missing end-of-block",n.mode=ri;break}if(n.lenbits=9,he={bits:n.lenbits},Z=Wf(TC,n.lens,0,n.nlen,n.lencode,0,n.work,he),n.lenbits=he.bits,Z){e.msg="invalid literal/lengths set",n.mode=ri;break}if(n.distbits=6,n.distcode=n.distdyn,he={bits:n.distbits},Z=Wf(kC,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,he),n.distbits=he.bits,Z){e.msg="invalid distances set",n.mode=ri;break}if(n.mode=B1,t===F1)break e;case B1:n.mode=U1;case U1:if(f>=6&&m>=258){e.next_out=u,e.avail_out=m,e.next_in=a,e.avail_in=f,n.hold=p,n.bits=y,OF(e,E),u=e.next_out,i=e.output,m=e.avail_out,a=e.next_in,r=e.input,f=e.avail_in,p=n.hold,y=n.bits,n.mode===dl&&(n.back=-1);break}for(n.back=0;P=n.lencode[p&(1<<n.lenbits)-1],k=P>>>24,O=P>>>16&255,L=P&65535,!(k<=y);){if(f===0)break e;f--,p+=r[a++]<<y,y+=8}if(O&&!(O&240)){for(j=k,J=O,ce=L;P=n.lencode[ce+((p&(1<<j+J)-1)>>j)],k=P>>>24,O=P>>>16&255,L=P&65535,!(j+k<=y);){if(f===0)break e;f--,p+=r[a++]<<y,y+=8}p>>>=j,y-=j,n.back+=j}if(p>>>=k,y-=k,n.back+=k,n.length=L,O===0){n.mode=Xb;break}if(O&32){n.back=-1,n.mode=dl;break}if(O&64){e.msg="invalid literal/length code",n.mode=ri;break}n.extra=O&15,n.mode=qb;case qb:if(n.extra){for(H=n.extra;y<H;){if(f===0)break e;f--,p+=r[a++]<<y,y+=8}n.length+=p&(1<<n.extra)-1,p>>>=n.extra,y-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=Gb;case Gb:for(;P=n.distcode[p&(1<<n.distbits)-1],k=P>>>24,O=P>>>16&255,L=P&65535,!(k<=y);){if(f===0)break e;f--,p+=r[a++]<<y,y+=8}if(!(O&240)){for(j=k,J=O,ce=L;P=n.distcode[ce+((p&(1<<j+J)-1)>>j)],k=P>>>24,O=P>>>16&255,L=P&65535,!(j+k<=y);){if(f===0)break e;f--,p+=r[a++]<<y,y+=8}p>>>=j,y-=j,n.back+=j}if(p>>>=k,y-=k,n.back+=k,O&64){e.msg="invalid distance code",n.mode=ri;break}n.offset=L,n.extra=O&15,n.mode=Kb;case Kb:if(n.extra){for(H=n.extra;y<H;){if(f===0)break e;f--,p+=r[a++]<<y,y+=8}n.offset+=p&(1<<n.extra)-1,p>>>=n.extra,y-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=ri;break}n.mode=$b;case $b:if(m===0)break e;if(A=E-m,n.offset>A){if(A=n.offset-A,A>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=ri;break}A>n.wnext?(A-=n.wnext,R=n.wsize-A):R=n.wnext-A,A>n.length&&(A=n.length),I=n.window}else I=i,R=u-n.offset,A=n.length;A>m&&(A=m),m-=A,n.length-=A;do i[u++]=I[R++];while(--A);n.length===0&&(n.mode=U1);break;case Xb:if(m===0)break e;i[u++]=n.length,m--,n.mode=U1;break;case _g:if(n.wrap){for(;y<32;){if(f===0)break e;f--,p|=r[a++]<<y,y+=8}if(E-=m,e.total_out+=E,n.total+=E,n.wrap&4&&E&&(e.adler=n.check=n.flags?Ki(n.check,i,E,u-E):Eh(n.check,i,E,u-E)),E=m,n.wrap&4&&(n.flags?p:Qb(p))!==n.check){e.msg="incorrect data check",n.mode=ri;break}p=0,y=0}n.mode=Yb;case Yb:if(n.wrap&&n.flags){for(;y<32;){if(f===0)break e;f--,p+=r[a++]<<y,y+=8}if(n.wrap&4&&p!==(n.total&4294967295)){e.msg="incorrect length check",n.mode=ri;break}p=0,y=0}n.mode=Zb;case Zb:Z=zF;break e;case ri:Z=PC;break e;case OC:return RC;case LC:default:return Qa}return e.next_out=u,e.avail_out=m,e.next_in=a,e.avail_in=f,n.hold=p,n.bits=y,(n.wsize||E!==e.avail_out&&n.mode<ri&&(n.mode<_g||t!==Tb))&&BC(e,e.output,e.next_out,E-e.avail_out),S-=e.avail_in,E-=e.avail_out,e.total_in+=S,e.total_out+=E,n.total+=E,n.wrap&4&&E&&(e.adler=n.check=n.flags?Ki(n.check,i,E,e.next_out-E):Eh(n.check,i,E,e.next_out-E)),e.data_type=n.bits+(n.last?64:0)+(n.mode===dl?128:0)+(n.mode===B1||n.mode===Sg?256:0),(S===0&&E===0||t===Tb)&&Z===_u&&(Z=HF),Z},QF=e=>{if(ku(e))return Qa;let t=e.state;return t.window&&(t.window=null),e.state=null,_u},JF=(e,t)=>{if(ku(e))return Qa;const n=e.state;return n.wrap&2?(n.head=t,t.done=!1,_u):Qa},eB=(e,t)=>{const n=t.length;let r,i,a;return ku(e)||(r=e.state,r.wrap!==0&&r.mode!==ap)?Qa:r.mode===ap&&(i=1,i=Eh(i,t,n,0),i!==r.check)?PC:(a=BC(e,t,n,n),a?(r.mode=OC,RC):(r.havedict=1,_u))};var tB=MC,nB=jC,rB=DC,iB=XF,sB=FC,aB=ZF,oB=QF,lB=JF,cB=eB,uB="pako inflate (from Nodeca project)",xl={inflateReset:tB,inflateReset2:nB,inflateResetKeep:rB,inflateInit:iB,inflateInit2:sB,inflate:aB,inflateEnd:oB,inflateGetHeader:lB,inflateSetDictionary:cB,inflateInfo:uB};function dB(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var fB=dB;const UC=Object.prototype.toString,{Z_NO_FLUSH:hB,Z_FINISH:pB,Z_OK:Th,Z_STREAM_END:Ng,Z_NEED_DICT:Ig,Z_STREAM_ERROR:mB,Z_DATA_ERROR:e3,Z_MEM_ERROR:gB}=Vh;function Gh(e){this.options=rm.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new NC,this.strm.avail_out=0;let n=xl.inflateInit2(this.strm,t.windowBits);if(n!==Th)throw new Error(Ud[n]);if(this.header=new fB,xl.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=Ih.string2buf(t.dictionary):UC.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=xl.inflateSetDictionary(this.strm,t.dictionary),n!==Th)))throw new Error(Ud[n])}Gh.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let a,u,f;if(this.ended)return!1;for(t===~~t?u=t:u=t===!0?pB:hB,UC.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),a=xl.inflate(n,u),a===Ig&&i&&(a=xl.inflateSetDictionary(n,i),a===Th?a=xl.inflate(n,u):a===e3&&(a=Ig));n.avail_in>0&&a===Ng&&n.state.wrap>0&&e[n.next_in]!==0;)xl.inflateReset(n),a=xl.inflate(n,u);switch(a){case mB:case e3:case Ig:case gB:return this.onEnd(a),this.ended=!0,!1}if(f=n.avail_out,n.next_out&&(n.avail_out===0||a===Ng))if(this.options.to==="string"){let m=Ih.utf8border(n.output,n.next_out),p=n.next_out-m,y=Ih.buf2string(n.output,m);n.next_out=p,n.avail_out=r-p,p&&n.output.set(n.output.subarray(m,m+p),0),this.onData(y)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(a===Th&&f===0)){if(a===Ng)return a=xl.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};Gh.prototype.onData=function(e){this.chunks.push(e)};Gh.prototype.onEnd=function(e){e===Th&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=rm.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Sy(e,t){const n=new Gh(t);if(n.push(e),n.err)throw n.msg||Ud[n.err];return n.result}function xB(e,t){return t=t||{},t.raw=!0,Sy(e,t)}var vB=Gh,yB=Sy,wB=xB,bB=Sy,AB=Vh,SB={Inflate:vB,inflate:yB,inflateRaw:wB,ungzip:bB,constants:AB};const{Inflate:_B,inflate:CB,inflateRaw:qW,ungzip:GW}=SB;var t3=_B,EB=CB;const zC=[];for(let e=0;e<256;e++){let t=e;for(let n=0;n<8;n++)t&1?t=3988292384^t>>>1:t=t>>>1;zC[e]=t}const n3=4294967295;function NB(e,t,n){let r=e;for(let i=0;i<n;i++)r=zC[(r^t[i])&255]^r>>>8;return r}function IB(e,t){return(NB(n3,e,t)^n3)>>>0}function r3(e,t,n){const r=e.readUint32(),i=IB(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(i!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${i}`)}function WC(e,t,n){for(let r=0;r<n;r++)t[r]=e[r]}function HC(e,t,n,r){let i=0;for(;i<r;i++)t[i]=e[i];for(;i<n;i++)t[i]=e[i]+t[i-r]&255}function VC(e,t,n,r){let i=0;if(n.length===0)for(;i<r;i++)t[i]=e[i];else for(;i<r;i++)t[i]=e[i]+n[i]&255}function qC(e,t,n,r,i){let a=0;if(n.length===0){for(;a<i;a++)t[a]=e[a];for(;a<r;a++)t[a]=e[a]+(t[a-i]>>1)&255}else{for(;a<i;a++)t[a]=e[a]+(n[a]>>1)&255;for(;a<r;a++)t[a]=e[a]+(t[a-i]+n[a]>>1)&255}}function GC(e,t,n,r,i){let a=0;if(n.length===0){for(;a<i;a++)t[a]=e[a];for(;a<r;a++)t[a]=e[a]+t[a-i]&255}else{for(;a<i;a++)t[a]=e[a]+n[a]&255;for(;a<r;a++)t[a]=e[a]+TB(t[a-i],n[a],n[a-i])&255}}function TB(e,t,n){const r=e+t-n,i=Math.abs(r-e),a=Math.abs(r-t),u=Math.abs(r-n);return i<=a&&i<=u?e:a<=u?t:n}function kB(e,t,n,r,i,a){switch(e){case 0:WC(t,n,i);break;case 1:HC(t,n,i,a);break;case 2:VC(t,n,r,i);break;case 3:qC(t,n,r,i,a);break;case 4:GC(t,n,r,i,a);break;default:throw new Error(`Unsupported filter: ${e}`)}}const PB=new Uint16Array([255]),RB=new Uint8Array(PB.buffer),OB=RB[0]===255;function LB(e){const{data:t,width:n,height:r,channels:i,depth:a}=e,u=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],f=Math.ceil(a/8)*i,m=new Uint8Array(r*n*f);let p=0;for(let y=0;y<7;y++){const S=u[y],E=Math.ceil((n-S.x)/S.xStep),A=Math.ceil((r-S.y)/S.yStep);if(E<=0||A<=0)continue;const R=E*f,I=new Uint8Array(R);for(let P=0;P<A;P++){const k=t[p++],O=t.subarray(p,p+R);p+=R;const L=new Uint8Array(R);kB(k,O,L,I,R,f),I.set(L);for(let j=0;j<E;j++){const J=S.x+j*S.xStep,ce=S.y+P*S.yStep;if(!(J>=n||ce>=r))for(let Y=0;Y<f;Y++)m[(ce*n+J)*f+Y]=L[j*f+Y]}}}if(a===16){const y=new Uint16Array(m.buffer);if(OB)for(let S=0;S<y.length;S++)y[S]=DB(y[S]);return y}else return m}function DB(e){return(e&255)<<8|e>>8&255}const MB=new Uint16Array([255]),jB=new Uint8Array(MB.buffer),FB=jB[0]===255,BB=new Uint8Array(0);function i3(e){const{data:t,width:n,height:r,channels:i,depth:a}=e,u=Math.ceil(a/8)*i,f=Math.ceil(a/8*i*n),m=new Uint8Array(r*f);let p=BB,y=0,S,E;for(let A=0;A<r;A++){switch(S=t.subarray(y+1,y+1+f),E=m.subarray(A*f,(A+1)*f),t[y]){case 0:WC(S,E,f);break;case 1:HC(S,E,f,u);break;case 2:VC(S,E,p,f);break;case 3:qC(S,E,p,f,u);break;case 4:GC(S,E,p,f,u);break;default:throw new Error(`Unsupported filter: ${t[y]}`)}p=E,y+=f+1}if(a===16){const A=new Uint16Array(m.buffer);if(FB)for(let R=0;R<A.length;R++)A[R]=UB(A[R]);return A}else return m}function UB(e){return(e&255)<<8|e>>8&255}const f0=Uint8Array.of(137,80,78,71,13,10,26,10);function s3(e){if(!zB(e.readBytes(f0.length)))throw new Error("wrong PNG signature")}function zB(e){if(e.length<f0.length)return!1;for(let t=0;t<f0.length;t++)if(e[t]!==f0[t])return!1;return!0}const WB="tEXt",HB=0,KC=new TextDecoder("latin1");function VB(e){if(GB(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const qB=/^[\u0000-\u00FF]*$/;function GB(e){if(!qB.test(e))throw new Error("invalid latin1 text")}function KB(e,t,n){const r=$C(t);e[r]=$B(t,n-r.length-1)}function $C(e){for(e.mark();e.readByte()!==HB;);const t=e.offset;e.reset();const n=KC.decode(e.readBytes(t-e.offset-1));return e.skip(1),VB(n),n}function $B(e,t){return KC.decode(e.readBytes(t))}const Ca={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Tg={UNKNOWN:-1,DEFLATE:0},a3={UNKNOWN:-1,ADAPTIVE:0},kg={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},z1={NONE:0,BACKGROUND:1,PREVIOUS:2},Pg={SOURCE:0,OVER:1};class XB extends gy{constructor(n,r={}){super(n);nr(this,"_checkCrc");nr(this,"_inflator");nr(this,"_png");nr(this,"_apng");nr(this,"_end");nr(this,"_hasPalette");nr(this,"_palette");nr(this,"_hasTransparency");nr(this,"_transparency");nr(this,"_compressionMethod");nr(this,"_filterMethod");nr(this,"_interlaceMethod");nr(this,"_colorType");nr(this,"_isAnimated");nr(this,"_numberOfFrames");nr(this,"_numberOfPlays");nr(this,"_frames");nr(this,"_writingDataChunks");const{checkCrc:i=!1}=r;this._checkCrc=i,this._inflator=new t3,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Tg.UNKNOWN,this._filterMethod=a3.UNKNOWN,this._interlaceMethod=kg.UNKNOWN,this._colorType=Ca.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(s3(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeChunk(n,r)}return this.decodeImage(),this._png}decodeApng(){for(s3(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(n,r)}return this.decodeApngImage(),this._apng}decodeChunk(n,r){const i=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(n);break;case"IDAT":this.decodeIDAT(n);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(n);break;case"iCCP":this.decodeiCCP(n);break;case WB:KB(this._png.text,this,n);break;case"pHYs":this.decodepHYs();break;default:this.skip(n);break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?r3(this,n+4,r):this.skip(4)}decodeApngChunk(n,r){const i=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(n);break;default:this.decodeChunk(n,r),this.offset=i+n;break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?r3(this,n+4,r):this.skip(4)}decodeIHDR(){const n=this._png;n.width=this.readUint32(),n.height=this.readUint32(),n.depth=YB(this.readUint8());const r=this.readUint8();this._colorType=r;let i;switch(r){case Ca.GREYSCALE:i=1;break;case Ca.TRUECOLOUR:i=3;break;case Ca.INDEXED_COLOUR:i=1;break;case Ca.GREYSCALE_ALPHA:i=2;break;case Ca.TRUECOLOUR_ALPHA:i=4;break;case Ca.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==Tg.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const n={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(n)}decodePLTE(n){if(n%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${n}`);const r=n/3;this._hasPalette=!0;const i=[];this._palette=i;for(let a=0;a<r;a++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(n){this._writingDataChunks=!0;const r=n,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodeFDAT(n){this._writingDataChunks=!0;let r=n,i=this.offset+this.byteOffset;if(i+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodetRNS(n){switch(this._colorType){case Ca.GREYSCALE:case Ca.TRUECOLOUR:{if(n%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${n}`);if(n/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${n/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(n/2);for(let r=0;r<n/2;r++)this._transparency[r]=this.readUint16();break}case Ca.INDEXED_COLOUR:{if(n>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${n} vs ${this._palette.length})`);let r=0;for(;r<n;r++){const i=this.readByte();this._palette[r].push(i)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case Ca.UNKNOWN:case Ca.GREYSCALE_ALPHA:case Ca.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(n){const r=$C(this),i=this.readUint8();if(i!==Tg.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const a=this.readBytes(n-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:EB(a)}}decodepHYs(){const n=this.readUint32(),r=this.readUint32(),i=this.readByte();this._png.resolution={x:n,y:r,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let n=0;n<this._numberOfFrames;n++){const r={sequenceNumber:this._frames[n].sequenceNumber,delayNumber:this._frames[n].delayNumber,delayDenominator:this._frames[n].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(n);if(i){if(i.data=i3({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),n===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)r.data=i.data;else{const a=this._apng.frames.at(n-1);this.disposeFrame(i,a,r),this.addFrameDataToCanvas(r,i)}this._apng.frames.push(r)}}return this._apng}disposeFrame(n,r,i){switch(n.disposeOp){case z1.NONE:break;case z1.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let u=0;u<this._png.width;u++){const f=(a*n.width+u)*this._png.channels;for(let m=0;m<this._png.channels;m++)i.data[f+m]=0}break;case z1.PREVIOUS:i.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(n,r){const i=1<<this._png.depth,a=(u,f)=>{const m=((u+r.yOffset)*this._png.width+r.xOffset+f)*this._png.channels,p=(u*r.width+f)*this._png.channels;return{index:m,frameIndex:p}};switch(r.blendOp){case Pg.SOURCE:for(let u=0;u<r.height;u++)for(let f=0;f<r.width;f++){const{index:m,frameIndex:p}=a(u,f);for(let y=0;y<this._png.channels;y++)n.data[m+y]=r.data[p+y]}break;case Pg.OVER:for(let u=0;u<r.height;u++)for(let f=0;f<r.width;f++){const{index:m,frameIndex:p}=a(u,f);for(let y=0;y<this._png.channels;y++){const S=r.data[p+this._png.channels-1]/i,E=y%(this._png.channels-1)===0?1:r.data[p+y],A=Math.floor(S*E+(1-S)*n.data[m+y]);n.data[m+y]+=A}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var r;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const n=this._isAnimated?((r=this._frames)==null?void 0:r.at(0)).data:this._inflator.result;if(this._filterMethod!==a3.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===kg.NO_INTERLACE)this._png.data=i3({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===kg.ADAM7)this._png.data=LB({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const n=this._inflator.result,r=this._frames.at(-1);r?r.data=n:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:z1.NONE,blendOp:Pg.SOURCE,data:n}),this._inflator=new t3,this._writingDataChunks=!1}}function YB(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var o3;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(o3||(o3={}));function ZB(e,t){return new XB(e,t).decode()}var wn=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Rg(){wn.console&&typeof wn.console.log=="function"&&wn.console.log.apply(wn.console,arguments)}var Fr={log:Rg,warn:function(e){wn.console&&(typeof wn.console.warn=="function"?wn.console.warn.apply(wn.console,arguments):Rg.call(null,arguments))},error:function(e){wn.console&&(typeof wn.console.error=="function"?wn.console.error.apply(wn.console,arguments):Rg(e))}};function Og(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){Kc(r.response,t,n)},r.onerror=function(){Fr.error("could not download file")},r.send()}function l3(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function W1(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Kc=wn.saveAs||((typeof window>"u"?"undefined":Ir(window))!=="object"||window!==wn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=wn.URL||wn.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?l3(i.href)?Og(e,t,n):W1(i,i.target="_blank"):W1(i)):(i.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){W1(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download",typeof e=="string")if(l3(e))Og(e,t,n);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){W1(r)})}else navigator.msSaveOrOpenBlob(function(i,a){return a===void 0?a={autoBom:!1}:Ir(a)!=="object"&&(Fr.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(e,n),t)}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof e=="string")return Og(e,t,n);var i=e.type==="application/octet-stream",a=/constructor/i.test(wn.HTMLElement)||wn.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||i&&a)&&(typeof FileReader>"u"?"undefined":Ir(FileReader))==="object"){var f=new FileReader;f.onloadend=function(){var y=f.result;y=u?y:y.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=y:location=y,r=null},f.readAsDataURL(e)}else{var m=wn.URL||wn.webkitURL,p=m.createObjectURL(e);r?r.location=p:location.href=p,r=null,setTimeout(function(){m.revokeObjectURL(p)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function XC(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(f){return[parseInt(f[1]),parseInt(f[2]),parseInt(f[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(f){return[parseInt(f[1],16),parseInt(f[2],16),parseInt(f[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(f){return[parseInt(f[1]+f[1],16),parseInt(f[2]+f[2],16),parseInt(f[3]+f[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,a=n[r].process,u=i.exec(e);u&&(t=a(u),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var f=this.r.toString(16),m=this.g.toString(16),p=this.b.toString(16);return f.length==1&&(f="0"+f),m.length==1&&(m="0"+m),p.length==1&&(p="0"+p),"#"+f+m+p}}var h0=wn.atob.bind(wn),c3=wn.btoa.bind(wn);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Lg(e,t){var n=e[0],r=e[1],i=e[2],a=e[3];n=Cs(n,r,i,a,t[0],7,-680876936),a=Cs(a,n,r,i,t[1],12,-389564586),i=Cs(i,a,n,r,t[2],17,606105819),r=Cs(r,i,a,n,t[3],22,-1044525330),n=Cs(n,r,i,a,t[4],7,-176418897),a=Cs(a,n,r,i,t[5],12,1200080426),i=Cs(i,a,n,r,t[6],17,-1473231341),r=Cs(r,i,a,n,t[7],22,-45705983),n=Cs(n,r,i,a,t[8],7,1770035416),a=Cs(a,n,r,i,t[9],12,-1958414417),i=Cs(i,a,n,r,t[10],17,-42063),r=Cs(r,i,a,n,t[11],22,-1990404162),n=Cs(n,r,i,a,t[12],7,1804603682),a=Cs(a,n,r,i,t[13],12,-40341101),i=Cs(i,a,n,r,t[14],17,-1502002290),n=Es(n,r=Cs(r,i,a,n,t[15],22,1236535329),i,a,t[1],5,-165796510),a=Es(a,n,r,i,t[6],9,-1069501632),i=Es(i,a,n,r,t[11],14,643717713),r=Es(r,i,a,n,t[0],20,-373897302),n=Es(n,r,i,a,t[5],5,-701558691),a=Es(a,n,r,i,t[10],9,38016083),i=Es(i,a,n,r,t[15],14,-660478335),r=Es(r,i,a,n,t[4],20,-405537848),n=Es(n,r,i,a,t[9],5,568446438),a=Es(a,n,r,i,t[14],9,-1019803690),i=Es(i,a,n,r,t[3],14,-187363961),r=Es(r,i,a,n,t[8],20,1163531501),n=Es(n,r,i,a,t[13],5,-1444681467),a=Es(a,n,r,i,t[2],9,-51403784),i=Es(i,a,n,r,t[7],14,1735328473),n=Ns(n,r=Es(r,i,a,n,t[12],20,-1926607734),i,a,t[5],4,-378558),a=Ns(a,n,r,i,t[8],11,-2022574463),i=Ns(i,a,n,r,t[11],16,1839030562),r=Ns(r,i,a,n,t[14],23,-35309556),n=Ns(n,r,i,a,t[1],4,-1530992060),a=Ns(a,n,r,i,t[4],11,1272893353),i=Ns(i,a,n,r,t[7],16,-155497632),r=Ns(r,i,a,n,t[10],23,-1094730640),n=Ns(n,r,i,a,t[13],4,681279174),a=Ns(a,n,r,i,t[0],11,-358537222),i=Ns(i,a,n,r,t[3],16,-722521979),r=Ns(r,i,a,n,t[6],23,76029189),n=Ns(n,r,i,a,t[9],4,-640364487),a=Ns(a,n,r,i,t[12],11,-421815835),i=Ns(i,a,n,r,t[15],16,530742520),n=Is(n,r=Ns(r,i,a,n,t[2],23,-995338651),i,a,t[0],6,-198630844),a=Is(a,n,r,i,t[7],10,1126891415),i=Is(i,a,n,r,t[14],15,-1416354905),r=Is(r,i,a,n,t[5],21,-57434055),n=Is(n,r,i,a,t[12],6,1700485571),a=Is(a,n,r,i,t[3],10,-1894986606),i=Is(i,a,n,r,t[10],15,-1051523),r=Is(r,i,a,n,t[1],21,-2054922799),n=Is(n,r,i,a,t[8],6,1873313359),a=Is(a,n,r,i,t[15],10,-30611744),i=Is(i,a,n,r,t[6],15,-1560198380),r=Is(r,i,a,n,t[13],21,1309151649),n=Is(n,r,i,a,t[4],6,-145523070),a=Is(a,n,r,i,t[11],10,-1120210379),i=Is(i,a,n,r,t[2],15,718787259),r=Is(r,i,a,n,t[9],21,-343485551),e[0]=xc(n,e[0]),e[1]=xc(r,e[1]),e[2]=xc(i,e[2]),e[3]=xc(a,e[3])}function sm(e,t,n,r,i,a){return t=xc(xc(t,e),xc(r,a)),xc(t<<i|t>>>32-i,n)}function Cs(e,t,n,r,i,a,u){return sm(t&n|~t&r,e,t,i,a,u)}function Es(e,t,n,r,i,a,u){return sm(t&r|n&~r,e,t,i,a,u)}function Ns(e,t,n,r,i,a,u){return sm(t^n^r,e,t,i,a,u)}function Is(e,t,n,r,i,a,u){return sm(n^(t|~r),e,t,i,a,u)}function YC(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)Lg(r,QB(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(Lg(r,i),t=0;t<16;t++)i[t]=0;return i[14]=8*n,Lg(r,i),r}function QB(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}var u3="0123456789abcdef".split("");function JB(e){for(var t="",n=0;n<4;n++)t+=u3[e>>8*n+4&15]+u3[e>>8*n&15];return t}function eU(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function Sx(e){return YC(e).map(eU).join("")}var tU=function(e){for(var t=0;t<e.length;t++)e[t]=JB(e[t]);return e.join("")}(YC("hello"))!="5d41402abc4b2a76b9719d911017c592";function xc(e,t){if(tU){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function _x(e,t){var n,r,i,a;if(e!==n){for(var u=(i=e,a=1+(256/e.length|0),new Array(a+1).join(i)),f=[],m=0;m<256;m++)f[m]=m;var p=0;for(m=0;m<256;m++){var y=f[m];p=(p+y+u.charCodeAt(m))%256,f[m]=f[p],f[p]=y}n=e,r=f}else f=r;var S=t.length,E=0,A=0,R="";for(m=0;m<S;m++)A=(A+(y=f[E=(E+1)%256]))%256,f[E]=f[A],f[A]=y,u=f[(f[E]+f[A])%256],R+=String.fromCharCode(t.charCodeAt(m)^u);return R}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var d3={print:4,modify:8,copy:16,"annot-forms":32};function Wu(e,t,n,r){this.v=1,this.r=2;var i=192;e.forEach(function(f){if(d3.perm!==void 0)throw new Error("Invalid permission: "+f);i+=d3[f]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(t+this.padding).substr(0,32),u=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,u),this.P=-(1+(255^i)),this.encryptionKey=Sx(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=_x(this.encryptionKey,this.padding)}function Hu(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,r=0;r<n;r++){var i=e.charCodeAt(r);t+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):e[r]}return t}function f3(e){if(Ir(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(n)||(t[n]={});var a=Math.random().toString(35);return t[n][a]=[r,!!i],a},this.unsubscribe=function(n){for(var r in t)if(t[r][n])return delete t[r][n],Object.keys(t[r]).length===0&&delete t[r],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var a in t[n]){var u=t[n][a];try{u[0].apply(e,r)}catch(f){wn.console&&Fr.error("jsPDF PubSub Error",f.message,f)}u[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function op(e){if(!(this instanceof op))return new op(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function ZC(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Xc(e,t,n,r,i){if(!(this instanceof Xc))return new Xc(e,t,n,r,i);this.type=e==="axial"?2:3,this.coords=t,this.colors=n,ZC.call(this,r,i)}function nd(e,t,n,r,i){if(!(this instanceof nd))return new nd(e,t,n,r,i);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,ZC.call(this,r,i)}function Jt(e){var t,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],a=arguments[3],u=[],f=1,m=16,p="S",y=null;Ir(e=e||{})==="object"&&(n=e.orientation,r=e.unit||r,i=e.format||i,a=e.compress||e.compressPdf||a,(y=e.encryption||null)!==null&&(y.userPassword=y.userPassword||"",y.ownerPassword=y.ownerPassword||"",y.userPermissions=y.userPermissions||[]),f=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(m=e.floatPrecision),p=e.defaultPathOperation||"S"),u=e.filters||(a===!0?["FlateEncode"]:u),r=r||"mm",n=(""+(n||"P")).toLowerCase();var S=e.putOnlyUsedFonts||!1,E={},A={internal:{},__private__:{}};A.__private__.PubSub=f3;var R="1.3",I=A.__private__.getPdfVersion=function(){return R};A.__private__.setPdfVersion=function(T){R=T};var P={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};A.__private__.getPageFormats=function(){return P};var k=A.__private__.getPageFormat=function(T){return P[T]};i=i||"a4";var O="compat",L="advanced",j=O;function J(){this.saveGraphicsState(),be(new kt($t,0,0,-$t,0,ta()*$t).toString()+" cm"),this.setFontSize(this.getFontSize()/$t),p="n",j=L}function ce(){this.restoreGraphicsState(),p="S",j=O}var Y=A.__private__.combineFontStyleAndFontWeight=function(T,V){if(T=="bold"&&V=="normal"||T=="bold"&&V==400||T=="normal"&&V=="italic"||T=="bold"&&V=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return V&&(T=V==400||V==="normal"?T==="italic"?"italic":"normal":V!=700&&V!=="bold"||T!=="normal"?(V==700?"bold":V)+""+T:"bold"),T};A.advancedAPI=function(T){var V=j===O;return V&&J.call(this),typeof T!="function"||(T(this),V&&ce.call(this)),this},A.compatAPI=function(T){var V=j===L;return V&&ce.call(this),typeof T!="function"||(T(this),V&&J.call(this)),this},A.isAdvancedAPI=function(){return j===L};var Z,z=function(T){if(j!==L)throw new Error(T+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},he=A.roundToPrecision=A.__private__.roundToPrecision=function(T,V){var ye=t||V;if(isNaN(T)||isNaN(ye))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return T.toFixed(ye).replace(/0+$/,"")};Z=A.hpf=A.__private__.hpf=typeof m=="number"?function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.hpf");return he(T,m)}:m==="smart"?function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.hpf");return he(T,T>-1&&T<1?16:5)}:function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.hpf");return he(T,16)};var H=A.f2=A.__private__.f2=function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.f2");return he(T,2)},K=A.__private__.f3=function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.f3");return he(T,3)},ue=A.scale=A.__private__.scale=function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.scale");return j===O?T*$t:j===L?T:void 0},oe=function(T){return ue(function(V){return j===O?ta()-V:j===L?V:void 0}(T))};A.__private__.setPrecision=A.setPrecision=function(T){typeof parseInt(T,10)=="number"&&(t=parseInt(T,10))};var te,Ne="00000000000000000000000000000000",Ce=A.__private__.getFileId=function(){return Ne},ne=A.__private__.setFileId=function(T){return Ne=T!==void 0&&/^[a-fA-F0-9]{32}$/.test(T)?T.toUpperCase():Ne.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),y!==null&&(hr=new Wu(y.userPermissions,y.userPassword,y.ownerPassword,Ne)),Ne};A.setFileId=function(T){return ne(T),this},A.getFileId=function(){return Ce()};var _e=A.__private__.convertDateToPDFDate=function(T){var V=T.getTimezoneOffset(),ye=V<0?"+":"-",Pe=Math.floor(Math.abs(V/60)),Fe=Math.abs(V%60),et=[ye,fe(Pe),"'",fe(Fe),"'"].join("");return["D:",T.getFullYear(),fe(T.getMonth()+1),fe(T.getDate()),fe(T.getHours()),fe(T.getMinutes()),fe(T.getSeconds()),et].join("")},ve=A.__private__.convertPDFDateToDate=function(T){var V=parseInt(T.substr(2,4),10),ye=parseInt(T.substr(6,2),10)-1,Pe=parseInt(T.substr(8,2),10),Fe=parseInt(T.substr(10,2),10),et=parseInt(T.substr(12,2),10),nt=parseInt(T.substr(14,2),10);return new Date(V,ye,Pe,Fe,et,nt,0)},Le=A.__private__.setCreationDate=function(T){var V;if(T===void 0&&(T=new Date),T instanceof Date)V=_e(T);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(T))throw new Error("Invalid argument passed to jsPDF.setCreationDate");V=T}return te=V},W=A.__private__.getCreationDate=function(T){var V=te;return T==="jsDate"&&(V=ve(te)),V};A.setCreationDate=function(T){return Le(T),this},A.getCreationDate=function(T){return W(T)};var ae,fe=A.__private__.padd2=function(T){return("0"+parseInt(T)).slice(-2)},Ee=A.__private__.padd2Hex=function(T){return("00"+(T=T.toString())).substr(T.length)},se=0,we=[],Re=[],Ie=0,je=[],ze=[],Ge=!1,Je=Re;A.__private__.setCustomOutputDestination=function(T){Ge=!0,Je=T};var Ye=function(T){Ge||(Je=T)};A.__private__.resetCustomOutputDestination=function(){Ge=!1,Je=Re};var be=A.__private__.out=function(T){return T=T.toString(),Ie+=T.length+1,Je.push(T),Je},ln=A.__private__.write=function(T){return be(arguments.length===1?T.toString():Array.prototype.join.call(arguments," "))},Lt=A.__private__.getArrayBuffer=function(T){for(var V=T.length,ye=new ArrayBuffer(V),Pe=new Uint8Array(ye);V--;)Pe[V]=T.charCodeAt(V);return ye},gt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];A.__private__.getStandardFonts=function(){return gt};var Qe=e.fontSize||16;A.__private__.setFontSize=A.setFontSize=function(T){return Qe=j===L?T/$t:T,this};var Mt,Ke=A.__private__.getFontSize=A.getFontSize=function(){return j===O?Qe:Qe*$t},cn=e.R2L||!1;A.__private__.setR2L=A.setR2L=function(T){return cn=T,this},A.__private__.getR2L=A.getR2L=function(){return cn};var Ot,bn=A.__private__.setZoomMode=function(T){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(T))Mt=T;else if(isNaN(T)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(T)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+T+'" is not recognized.');Mt=T}else Mt=parseInt(T,10)};A.__private__.getZoomMode=function(){return Mt};var an,Nt=A.__private__.setPageMode=function(T){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(T)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+T+'" is not recognized.');Ot=T};A.__private__.getPageMode=function(){return Ot};var An=A.__private__.setLayoutMode=function(T){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(T)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+T+'" is not recognized.');an=T};A.__private__.getLayoutMode=function(){return an},A.__private__.setDisplayMode=A.setDisplayMode=function(T,V,ye){return bn(T),An(V),Nt(ye),this};var tn={title:"",subject:"",author:"",keywords:"",creator:""};A.__private__.getDocumentProperty=function(T){if(Object.keys(tn).indexOf(T)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return tn[T]},A.__private__.getDocumentProperties=function(){return tn},A.__private__.setDocumentProperties=A.setProperties=A.setDocumentProperties=function(T){for(var V in tn)tn.hasOwnProperty(V)&&T[V]&&(tn[V]=T[V]);return this},A.__private__.setDocumentProperty=function(T,V){if(Object.keys(tn).indexOf(T)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return tn[T]=V};var Ct,$t,Ft,Un,Vt,Ze={},It={},it=[],At={},pn={},on={},ut={},nn=null,Pn=0,qt=[],Hn=new f3(A),Bt=e.hotfixes||[],mn={},un={},Zn=[],kt=function T(V,ye,Pe,Fe,et,nt){if(!(this instanceof T))return new T(V,ye,Pe,Fe,et,nt);isNaN(V)&&(V=1),isNaN(ye)&&(ye=0),isNaN(Pe)&&(Pe=0),isNaN(Fe)&&(Fe=1),isNaN(et)&&(et=0),isNaN(nt)&&(nt=0),this._matrix=[V,ye,Pe,Fe,et,nt]};Object.defineProperty(kt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(T){this._matrix[0]=T}}),Object.defineProperty(kt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(T){this._matrix[1]=T}}),Object.defineProperty(kt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(T){this._matrix[2]=T}}),Object.defineProperty(kt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(T){this._matrix[3]=T}}),Object.defineProperty(kt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(T){this._matrix[4]=T}}),Object.defineProperty(kt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(T){this._matrix[5]=T}}),Object.defineProperty(kt.prototype,"a",{get:function(){return this._matrix[0]},set:function(T){this._matrix[0]=T}}),Object.defineProperty(kt.prototype,"b",{get:function(){return this._matrix[1]},set:function(T){this._matrix[1]=T}}),Object.defineProperty(kt.prototype,"c",{get:function(){return this._matrix[2]},set:function(T){this._matrix[2]=T}}),Object.defineProperty(kt.prototype,"d",{get:function(){return this._matrix[3]},set:function(T){this._matrix[3]=T}}),Object.defineProperty(kt.prototype,"e",{get:function(){return this._matrix[4]},set:function(T){this._matrix[4]=T}}),Object.defineProperty(kt.prototype,"f",{get:function(){return this._matrix[5]},set:function(T){this._matrix[5]=T}}),Object.defineProperty(kt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(kt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(kt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(kt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),kt.prototype.join=function(T){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(Z).join(T)},kt.prototype.multiply=function(T){var V=T.sx*this.sx+T.shy*this.shx,ye=T.sx*this.shy+T.shy*this.sy,Pe=T.shx*this.sx+T.sy*this.shx,Fe=T.shx*this.shy+T.sy*this.sy,et=T.tx*this.sx+T.ty*this.shx+this.tx,nt=T.tx*this.shy+T.ty*this.sy+this.ty;return new kt(V,ye,Pe,Fe,et,nt)},kt.prototype.decompose=function(){var T=this.sx,V=this.shy,ye=this.shx,Pe=this.sy,Fe=this.tx,et=this.ty,nt=Math.sqrt(T*T+V*V),Pt=(T/=nt)*ye+(V/=nt)*Pe;ye-=T*Pt,Pe-=V*Pt;var xt=Math.sqrt(ye*ye+Pe*Pe);return Pt/=xt,T*(Pe/=xt)<V*(ye/=xt)&&(T=-T,V=-V,Pt=-Pt,nt=-nt),{scale:new kt(nt,0,0,xt,0,0),translate:new kt(1,0,0,1,Fe,et),rotate:new kt(T,V,-V,T,0,0),skew:new kt(1,0,Pt,1,0,0)}},kt.prototype.toString=function(T){return this.join(" ")},kt.prototype.inversed=function(){var T=this.sx,V=this.shy,ye=this.shx,Pe=this.sy,Fe=this.tx,et=this.ty,nt=1/(T*Pe-V*ye),Pt=Pe*nt,xt=-V*nt,fn=-ye*nt,Rt=T*nt;return new kt(Pt,xt,fn,Rt,-Pt*Fe-fn*et,-xt*Fe-Rt*et)},kt.prototype.applyToPoint=function(T){var V=T.x*this.sx+T.y*this.shx+this.tx,ye=T.x*this.shy+T.y*this.sy+this.ty;return new Dr(V,ye)},kt.prototype.applyToRectangle=function(T){var V=this.applyToPoint(T),ye=this.applyToPoint(new Dr(T.x+T.w,T.y+T.h));return new xa(V.x,V.y,ye.x-V.x,ye.y-V.y)},kt.prototype.clone=function(){var T=this.sx,V=this.shy,ye=this.shx,Pe=this.sy,Fe=this.tx,et=this.ty;return new kt(T,V,ye,Pe,Fe,et)},A.Matrix=kt;var ar=A.matrixMult=function(T,V){return V.multiply(T)},Jr=new kt(1,0,0,1,0,0);A.unitMatrix=A.identityMatrix=Jr;var rn=function(T,V){if(!pn[T]){var ye=(V instanceof Xc?"Sh":"P")+(Object.keys(At).length+1).toString(10);V.id=ye,pn[T]=ye,At[ye]=V,Hn.publish("addPattern",V)}};A.ShadingPattern=Xc,A.TilingPattern=nd,A.addShadingPattern=function(T,V){return z("addShadingPattern()"),rn(T,V),this},A.beginTilingPattern=function(T){z("beginTilingPattern()"),Ro(T.boundingBox[0],T.boundingBox[1],T.boundingBox[2]-T.boundingBox[0],T.boundingBox[3]-T.boundingBox[1],T.matrix)},A.endTilingPattern=function(T,V){z("endTilingPattern()"),V.stream=ze[ae].join(`
`),rn(T,V),Hn.publish("endTilingPattern",V),Zn.pop().restore()};var En,zn=A.__private__.newObject=function(){var T=gr();return Jn(T,!0),T},gr=A.__private__.newObjectDeferred=function(){return se++,we[se]=function(){return Ie},se},Jn=function(T,V){return V=typeof V=="boolean"&&V,we[T]=Ie,V&&be(T+" 0 obj"),T},St=A.__private__.newAdditionalObject=function(){var T={objId:gr(),content:""};return je.push(T),T},Zi=gr(),ei=gr(),dr=A.__private__.decodeColorString=function(T){var V=T.split(" ");if(V.length!==2||V[1]!=="g"&&V[1]!=="G")V.length!==5||V[4]!=="k"&&V[4]!=="K"||(V=[(1-V[0])*(1-V[3]),(1-V[1])*(1-V[3]),(1-V[2])*(1-V[3]),"r"]);else{var ye=parseFloat(V[0]);V=[ye,ye,ye,"r"]}for(var Pe="#",Fe=0;Fe<3;Fe++)Pe+=("0"+Math.floor(255*parseFloat(V[Fe])).toString(16)).slice(-2);return Pe},Rr=A.__private__.encodeColorString=function(T){var V;typeof T=="string"&&(T={ch1:T});var ye=T.ch1,Pe=T.ch2,Fe=T.ch3,et=T.ch4,nt=T.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ye=="string"&&ye.charAt(0)!=="#"){var Pt=new XC(ye);if(Pt.ok)ye=Pt.toHex();else if(!/^\d*\.?\d*$/.test(ye))throw new Error('Invalid color "'+ye+'" passed to jsPDF.encodeColorString.')}if(typeof ye=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ye)&&(ye="#"+ye[1]+ye[1]+ye[2]+ye[2]+ye[3]+ye[3]),typeof ye=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ye)){var xt=parseInt(ye.substr(1),16);ye=xt>>16&255,Pe=xt>>8&255,Fe=255&xt}if(Pe===void 0||et===void 0&&ye===Pe&&Pe===Fe)V=typeof ye=="string"?ye+" "+nt[0]:T.precision===2?H(ye/255)+" "+nt[0]:K(ye/255)+" "+nt[0];else if(et===void 0||Ir(et)==="object"){if(et&&!isNaN(et.a)&&et.a===0)return["1.","1.","1.",nt[1]].join(" ");V=typeof ye=="string"?[ye,Pe,Fe,nt[1]].join(" "):T.precision===2?[H(ye/255),H(Pe/255),H(Fe/255),nt[1]].join(" "):[K(ye/255),K(Pe/255),K(Fe/255),nt[1]].join(" ")}else V=typeof ye=="string"?[ye,Pe,Fe,et,nt[2]].join(" "):T.precision===2?[H(ye),H(Pe),H(Fe),H(et),nt[2]].join(" "):[K(ye),K(Pe),K(Fe),K(et),nt[2]].join(" ");return V},vi=A.__private__.getFilters=function(){return u},Oi=A.__private__.putStream=function(T){var V=(T=T||{}).data||"",ye=T.filters||vi(),Pe=T.alreadyAppliedFilters||[],Fe=T.addLength1||!1,et=V.length,nt=T.objectId,Pt=function(_r){return _r};if(y!==null&&nt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");y!==null&&(Pt=hr.encryptor(nt,0));var xt={};ye===!0&&(ye=["FlateEncode"]);var fn=T.additionalKeyValues||[],Rt=(xt=Jt.API.processDataByFilters!==void 0?Jt.API.processDataByFilters(V,ye):{data:V,reverseChain:[]}).reverseChain+(Array.isArray(Pe)?Pe.join(" "):Pe.toString());if(xt.data.length!==0&&(fn.push({key:"Length",value:xt.data.length}),Fe===!0&&fn.push({key:"Length1",value:et})),Rt.length!=0)if(Rt.split("/").length-1==1)fn.push({key:"Filter",value:Rt});else{fn.push({key:"Filter",value:"["+Rt+"]"});for(var Wn=0;Wn<fn.length;Wn+=1)if(fn[Wn].key==="DecodeParms"){for(var ir=[],hn=0;hn<xt.reverseChain.split("/").length-1;hn+=1)ir.push("null");ir.push(fn[Wn].value),fn[Wn].value="["+ir.join(" ")+"]"}}be("<<");for(var bt=0;bt<fn.length;bt++)be("/"+fn[bt].key+" "+fn[bt].value);be(">>"),xt.data.length!==0&&(be("stream"),be(Pt(xt.data)),be("endstream"))},Or=A.__private__.putPage=function(T){var V=T.number,ye=T.data,Pe=T.objId,Fe=T.contentsObjId;Jn(Pe,!0),be("<</Type /Page"),be("/Parent "+T.rootDictionaryObjId+" 0 R"),be("/Resources "+T.resourceDictionaryObjId+" 0 R"),be("/MediaBox ["+parseFloat(Z(T.mediaBox.bottomLeftX))+" "+parseFloat(Z(T.mediaBox.bottomLeftY))+" "+Z(T.mediaBox.topRightX)+" "+Z(T.mediaBox.topRightY)+"]"),T.cropBox!==null&&be("/CropBox ["+Z(T.cropBox.bottomLeftX)+" "+Z(T.cropBox.bottomLeftY)+" "+Z(T.cropBox.topRightX)+" "+Z(T.cropBox.topRightY)+"]"),T.bleedBox!==null&&be("/BleedBox ["+Z(T.bleedBox.bottomLeftX)+" "+Z(T.bleedBox.bottomLeftY)+" "+Z(T.bleedBox.topRightX)+" "+Z(T.bleedBox.topRightY)+"]"),T.trimBox!==null&&be("/TrimBox ["+Z(T.trimBox.bottomLeftX)+" "+Z(T.trimBox.bottomLeftY)+" "+Z(T.trimBox.topRightX)+" "+Z(T.trimBox.topRightY)+"]"),T.artBox!==null&&be("/ArtBox ["+Z(T.artBox.bottomLeftX)+" "+Z(T.artBox.bottomLeftY)+" "+Z(T.artBox.topRightX)+" "+Z(T.artBox.topRightY)+"]"),typeof T.userUnit=="number"&&T.userUnit!==1&&be("/UserUnit "+T.userUnit),Hn.publish("putPage",{objId:Pe,pageContext:qt[V],pageNumber:V,page:ye}),be("/Contents "+Fe+" 0 R"),be(">>"),be("endobj");var et=ye.join(`
`);return j===L&&(et+=`
Q`),Jn(Fe,!0),Oi({data:et,filters:vi(),objectId:Fe}),be("endobj"),Pe},Rs=A.__private__.putPages=function(){var T,V,ye=[];for(T=1;T<=Pn;T++)qt[T].objId=gr(),qt[T].contentsObjId=gr();for(T=1;T<=Pn;T++)ye.push(Or({number:T,data:ze[T],objId:qt[T].objId,contentsObjId:qt[T].contentsObjId,mediaBox:qt[T].mediaBox,cropBox:qt[T].cropBox,bleedBox:qt[T].bleedBox,trimBox:qt[T].trimBox,artBox:qt[T].artBox,userUnit:qt[T].userUnit,rootDictionaryObjId:Zi,resourceDictionaryObjId:ei}));Jn(Zi,!0),be("<</Type /Pages");var Pe="/Kids [";for(V=0;V<Pn;V++)Pe+=ye[V]+" 0 R ";be(Pe+"]"),be("/Count "+Pn),be(">>"),be("endobj"),Hn.publish("postPutPages")},Qi=function(T){Hn.publish("putFont",{font:T,out:be,newObject:zn,putStream:Oi}),T.isAlreadyPutted!==!0&&(T.objectNumber=zn(),be("<<"),be("/Type /Font"),be("/BaseFont /"+Hu(T.postScriptName)),be("/Subtype /Type1"),typeof T.encoding=="string"&&be("/Encoding /"+T.encoding),be("/FirstChar 32"),be("/LastChar 255"),be(">>"),be("endobj"))},Ni=function(T){T.objectNumber=zn();var V=[];V.push({key:"Type",value:"/XObject"}),V.push({key:"Subtype",value:"/Form"}),V.push({key:"BBox",value:"["+[Z(T.x),Z(T.y),Z(T.x+T.width),Z(T.y+T.height)].join(" ")+"]"}),V.push({key:"Matrix",value:"["+T.matrix.toString()+"]"});var ye=T.pages[1].join(`
`);Oi({data:ye,additionalKeyValues:V,objectId:T.objectNumber}),be("endobj")},Br=function(T,V){V||(V=21);var ye=zn(),Pe=function(nt,Pt){var xt,fn=[],Rt=1/(Pt-1);for(xt=0;xt<1;xt+=Rt)fn.push(xt);if(fn.push(1),nt[0].offset!=0){var Wn={offset:0,color:nt[0].color};nt.unshift(Wn)}if(nt[nt.length-1].offset!=1){var ir={offset:1,color:nt[nt.length-1].color};nt.push(ir)}for(var hn="",bt=0,_r=0;_r<fn.length;_r++){for(xt=fn[_r];xt>nt[bt+1].offset;)bt++;var xn=nt[bt].offset,Cr=(xt-xn)/(nt[bt+1].offset-xn),ni=nt[bt].color,ki=nt[bt+1].color;hn+=Ee(Math.round((1-Cr)*ni[0]+Cr*ki[0]).toString(16))+Ee(Math.round((1-Cr)*ni[1]+Cr*ki[1]).toString(16))+Ee(Math.round((1-Cr)*ni[2]+Cr*ki[2]).toString(16))}return hn.trim()}(T.colors,V),Fe=[];Fe.push({key:"FunctionType",value:"0"}),Fe.push({key:"Domain",value:"[0.0 1.0]"}),Fe.push({key:"Size",value:"["+V+"]"}),Fe.push({key:"BitsPerSample",value:"8"}),Fe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Fe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Oi({data:Pe,additionalKeyValues:Fe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ye}),be("endobj"),T.objectNumber=zn(),be("<< /ShadingType "+T.type),be("/ColorSpace /DeviceRGB");var et="/Coords ["+Z(parseFloat(T.coords[0]))+" "+Z(parseFloat(T.coords[1]))+" ";T.type===2?et+=Z(parseFloat(T.coords[2]))+" "+Z(parseFloat(T.coords[3])):et+=Z(parseFloat(T.coords[2]))+" "+Z(parseFloat(T.coords[3]))+" "+Z(parseFloat(T.coords[4]))+" "+Z(parseFloat(T.coords[5])),be(et+="]"),T.matrix&&be("/Matrix ["+T.matrix.toString()+"]"),be("/Function "+ye+" 0 R"),be("/Extend [true true]"),be(">>"),be("endobj")},dn=function(T,V){var ye=gr(),Pe=zn();V.push({resourcesOid:ye,objectOid:Pe}),T.objectNumber=Pe;var Fe=[];Fe.push({key:"Type",value:"/Pattern"}),Fe.push({key:"PatternType",value:"1"}),Fe.push({key:"PaintType",value:"1"}),Fe.push({key:"TilingType",value:"1"}),Fe.push({key:"BBox",value:"["+T.boundingBox.map(Z).join(" ")+"]"}),Fe.push({key:"XStep",value:Z(T.xStep)}),Fe.push({key:"YStep",value:Z(T.yStep)}),Fe.push({key:"Resources",value:ye+" 0 R"}),T.matrix&&Fe.push({key:"Matrix",value:"["+T.matrix.toString()+"]"}),Oi({data:T.stream,additionalKeyValues:Fe,objectId:T.objectNumber}),be("endobj")},Zs=function(T){for(var V in T.objectNumber=zn(),be("<<"),T)switch(V){case"opacity":be("/ca "+H(T[V]));break;case"stroke-opacity":be("/CA "+H(T[V]))}be(">>"),be("endobj")},ti=function(T){Jn(T.resourcesOid,!0),be("<<"),be("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var V in be("/Font <<"),Ze)Ze.hasOwnProperty(V)&&(S===!1||S===!0&&E.hasOwnProperty(V))&&be("/"+V+" "+Ze[V].objectNumber+" 0 R");be(">>")}(),function(){if(Object.keys(At).length>0){for(var V in be("/Shading <<"),At)At.hasOwnProperty(V)&&At[V]instanceof Xc&&At[V].objectNumber>=0&&be("/"+V+" "+At[V].objectNumber+" 0 R");Hn.publish("putShadingPatternDict"),be(">>")}}(),function(V){if(Object.keys(At).length>0){for(var ye in be("/Pattern <<"),At)At.hasOwnProperty(ye)&&At[ye]instanceof A.TilingPattern&&At[ye].objectNumber>=0&&At[ye].objectNumber<V&&be("/"+ye+" "+At[ye].objectNumber+" 0 R");Hn.publish("putTilingPatternDict"),be(">>")}}(T.objectOid),function(){if(Object.keys(on).length>0){var V;for(V in be("/ExtGState <<"),on)on.hasOwnProperty(V)&&on[V].objectNumber>=0&&be("/"+V+" "+on[V].objectNumber+" 0 R");Hn.publish("putGStateDict"),be(">>")}}(),function(){for(var V in be("/XObject <<"),mn)mn.hasOwnProperty(V)&&mn[V].objectNumber>=0&&be("/"+V+" "+mn[V].objectNumber+" 0 R");Hn.publish("putXobjectDict"),be(">>")}(),be(">>"),be("endobj")},Ja=function(T){It[T.fontName]=It[T.fontName]||{},It[T.fontName][T.fontStyle]=T.id},at=function(T,V,ye,Pe,Fe){var et={id:"F"+(Object.keys(Ze).length+1).toString(10),postScriptName:T,fontName:V,fontStyle:ye,encoding:Pe,isStandardFont:Fe||!1,metadata:{}};return Hn.publish("addFont",{font:et,instance:this}),Ze[et.id]=et,Ja(et),et.id},Li=A.__private__.pdfEscape=A.pdfEscape=function(T,V){return function(ye,Pe){var Fe,et,nt,Pt,xt,fn,Rt,Wn,ir;if(nt=(Pe=Pe||{}).sourceEncoding||"Unicode",xt=Pe.outputEncoding,(Pe.autoencode||xt)&&Ze[Ct].metadata&&Ze[Ct].metadata[nt]&&Ze[Ct].metadata[nt].encoding&&(Pt=Ze[Ct].metadata[nt].encoding,!xt&&Ze[Ct].encoding&&(xt=Ze[Ct].encoding),!xt&&Pt.codePages&&(xt=Pt.codePages[0]),typeof xt=="string"&&(xt=Pt[xt]),xt)){for(Rt=!1,fn=[],Fe=0,et=ye.length;Fe<et;Fe++)(Wn=xt[ye.charCodeAt(Fe)])?fn.push(String.fromCharCode(Wn)):fn.push(ye[Fe]),fn[Fe].charCodeAt(0)>>8&&(Rt=!0);ye=fn.join("")}for(Fe=ye.length;Rt===void 0&&Fe!==0;)ye.charCodeAt(Fe-1)>>8&&(Rt=!0),Fe--;if(!Rt)return ye;for(fn=Pe.noBOM?[]:[254,255],Fe=0,et=ye.length;Fe<et;Fe++){if((ir=(Wn=ye.charCodeAt(Fe))>>8)>>8)throw new Error("Character at position "+Fe+" of string '"+ye+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");fn.push(ir),fn.push(Wn-(ir<<8))}return String.fromCharCode.apply(void 0,fn)}(T,V).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},fr=A.__private__.beginPage=function(T){ze[++Pn]=[],qt[Pn]={objId:0,contentsObjId:0,userUnit:Number(f),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(T[0]),topRightY:Number(T[1])}},Vn(Pn),Ye(ze[ae])},Os=function(T,V){var ye,Pe,Fe;switch(n=V||n,typeof T=="string"&&(ye=k(T.toLowerCase()),Array.isArray(ye)&&(Pe=ye[0],Fe=ye[1])),Array.isArray(T)&&(Pe=T[0]*$t,Fe=T[1]*$t),isNaN(Pe)&&(Pe=i[0],Fe=i[1]),(Pe>14400||Fe>14400)&&(Fr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Pe=Math.min(14400,Pe),Fe=Math.min(14400,Fe)),i=[Pe,Fe],n.substr(0,1)){case"l":Fe>Pe&&(i=[Fe,Pe]);break;case"p":Pe>Fe&&(i=[Fe,Pe])}fr(i),Ti(Po),be(Ba),Js!==0&&be(Js+" J"),ga!==0&&be(ga+" j"),Hn.publish("addPage",{pageNumber:Pn})},Ls=function(T){T>0&&T<=Pn&&(ze.splice(T,1),qt.splice(T,1),Pn--,ae>Pn&&(ae=Pn),this.setPage(ae))},Vn=function(T){T>0&&T<=Pn&&(ae=T)},Ln=A.__private__.getNumberOfPages=A.getNumberOfPages=function(){return ze.length-1},In=function(T,V,ye){var Pe,Fe=void 0;return ye=ye||{},T=T!==void 0?T:Ze[Ct].fontName,V=V!==void 0?V:Ze[Ct].fontStyle,Pe=T.toLowerCase(),It[Pe]!==void 0&&It[Pe][V]!==void 0?Fe=It[Pe][V]:It[T]!==void 0&&It[T][V]!==void 0?Fe=It[T][V]:ye.disableWarning===!1&&Fr.warn("Unable to look up font label for font '"+T+"', '"+V+"'. Refer to getFontList() for available fonts."),Fe||ye.noFallback||(Fe=It.times[V])==null&&(Fe=It.times.normal),Fe},Sn=A.__private__.putInfo=function(){var T=zn(),V=function(Pe){return Pe};for(var ye in y!==null&&(V=hr.encryptor(T,0)),be("<<"),be("/Producer ("+Li(V("jsPDF "+Jt.version))+")"),tn)tn.hasOwnProperty(ye)&&tn[ye]&&be("/"+ye.substr(0,1).toUpperCase()+ye.substr(1)+" ("+Li(V(tn[ye]))+")");be("/CreationDate ("+Li(V(te))+")"),be(">>"),be("endobj")},ko=A.__private__.putCatalog=function(T){var V=(T=T||{}).rootDictionaryObjId||Zi;switch(zn(),be("<<"),be("/Type /Catalog"),be("/Pages "+V+" 0 R"),Mt||(Mt="fullwidth"),Mt){case"fullwidth":be("/OpenAction [3 0 R /FitH null]");break;case"fullheight":be("/OpenAction [3 0 R /FitV null]");break;case"fullpage":be("/OpenAction [3 0 R /Fit]");break;case"original":be("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ye=""+Mt;ye.substr(ye.length-1)==="%"&&(Mt=parseInt(Mt)/100),typeof Mt=="number"&&be("/OpenAction [3 0 R /XYZ null null "+H(Mt)+"]")}switch(an||(an="continuous"),an){case"continuous":be("/PageLayout /OneColumn");break;case"single":be("/PageLayout /SinglePage");break;case"two":case"twoleft":be("/PageLayout /TwoColumnLeft");break;case"tworight":be("/PageLayout /TwoColumnRight")}Ot&&be("/PageMode /"+Ot),Hn.publish("putCatalog"),be(">>"),be("endobj")},Lr=A.__private__.putTrailer=function(){be("trailer"),be("<<"),be("/Size "+(se+1)),be("/Root "+se+" 0 R"),be("/Info "+(se-1)+" 0 R"),y!==null&&be("/Encrypt "+hr.oid+" 0 R"),be("/ID [ <"+Ne+"> <"+Ne+"> ]"),be(">>")},wr=A.__private__.putHeader=function(){be("%PDF-"+R),be("%")},ps=A.__private__.putXRef=function(){var T="0000000000";be("xref"),be("0 "+(se+1)),be("0000000000 65535 f ");for(var V=1;V<=se;V++)typeof we[V]=="function"?be((T+we[V]()).slice(-10)+" 00000 n "):we[V]!==void 0?be((T+we[V]).slice(-10)+" 00000 n "):be("0000000000 00000 n ")},Kn=A.__private__.buildDocument=function(){var T;se=0,Ie=0,Re=[],we=[],je=[],Zi=gr(),ei=gr(),Ye(Re),Hn.publish("buildDocument"),wr(),Rs(),function(){Hn.publish("putAdditionalObjects");for(var ye=0;ye<je.length;ye++){var Pe=je[ye];Jn(Pe.objId,!0),be(Pe.content),be("endobj")}Hn.publish("postPutAdditionalObjects")}(),T=[],function(){for(var ye in Ze)Ze.hasOwnProperty(ye)&&(S===!1||S===!0&&E.hasOwnProperty(ye))&&Qi(Ze[ye])}(),function(){var ye;for(ye in on)on.hasOwnProperty(ye)&&Zs(on[ye])}(),function(){for(var ye in mn)mn.hasOwnProperty(ye)&&Ni(mn[ye])}(),function(ye){var Pe;for(Pe in At)At.hasOwnProperty(Pe)&&(At[Pe]instanceof Xc?Br(At[Pe]):At[Pe]instanceof nd&&dn(At[Pe],ye))}(T),Hn.publish("putResources"),T.forEach(ti),ti({resourcesOid:ei,objectOid:Number.MAX_SAFE_INTEGER}),Hn.publish("postPutResources"),y!==null&&(hr.oid=zn(),be("<<"),be("/Filter /Standard"),be("/V "+hr.v),be("/R "+hr.r),be("/U <"+hr.toHexString(hr.U)+">"),be("/O <"+hr.toHexString(hr.O)+">"),be("/P "+hr.P),be(">>"),be("endobj")),Sn(),ko();var V=Ie;return ps(),Lr(),be("startxref"),be(""+V),be("%%EOF"),Ye(ze[ae]),Re.join(`
`)},er=A.__private__.getBlob=function(T){return new Blob([Lt(T)],{type:"application/pdf"})},Ur=A.output=A.__private__.output=(En=function(T,V){switch(typeof(V=V||{})=="string"?V={filename:V}:V.filename=V.filename||"generated.pdf",T){case void 0:return Kn();case"save":A.save(V.filename);break;case"arraybuffer":return Lt(Kn());case"blob":return er(Kn());case"bloburi":case"bloburl":if(wn.URL!==void 0&&typeof wn.URL.createObjectURL=="function")return wn.URL&&wn.URL.createObjectURL(er(Kn()))||void 0;Fr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ye="",Pe=Kn();try{ye=c3(Pe)}catch{ye=c3(unescape(encodeURIComponent(Pe)))}return"data:application/pdf;filename="+V.filename+";base64,"+ye;case"pdfobjectnewwindow":if(Object.prototype.toString.call(wn)==="[object Window]"){var Fe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",et=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';V.pdfObjectUrl&&(Fe=V.pdfObjectUrl,et="");var nt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Fe+'"'+et+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(V)+");<\/script></body></html>",Pt=wn.open();return Pt!==null&&Pt.document.write(nt),Pt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(wn)==="[object Window]"){var xt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(V.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+V.filename+'" width="500px" height="400px" /></body></html>',fn=wn.open();if(fn!==null){fn.document.write(xt);var Rt=this;fn.document.documentElement.querySelector("#pdfViewer").onload=function(){fn.document.title=V.filename,fn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Rt.output("bloburl"))}}return fn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(wn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Wn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",V)+'"></iframe></body></html>',ir=wn.open();if(ir!==null&&(ir.document.write(Wn),ir.document.title=V.filename),ir||typeof safari>"u")return ir;break;case"datauri":case"dataurl":return wn.document.location.href=this.output("datauristring",V);default:return null}},En.foo=function(){try{return En.apply(this,arguments)}catch(ye){var T=ye.stack||"";~T.indexOf(" at ")&&(T=T.split(" at ")[1]);var V="Error in function "+T.split(`
`)[0].split("<")[0]+": "+ye.message;if(!wn.console)throw new Error(V);wn.console.error(V,ye),wn.alert&&alert(V)}},En.foo.bar=En,En.foo),ms=function(T){return Array.isArray(Bt)===!0&&Bt.indexOf(T)>-1};switch(r){case"pt":$t=1;break;case"mm":$t=72/25.4;break;case"cm":$t=72/2.54;break;case"in":$t=72;break;case"px":$t=ms("px_scaling")==1?.75:96/72;break;case"pc":case"em":$t=12;break;case"ex":$t=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);$t=r}var hr=null;Le(),ne();var Qn=A.__private__.getPageInfo=A.getPageInfo=function(T){if(isNaN(T)||T%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:qt[T].objId,pageNumber:T,pageContext:qt[T]}},Vr=A.__private__.getPageInfoByObjId=function(T){if(isNaN(T)||T%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var V in qt)if(qt[V].objId===T)break;return Qn(V)},Ue=A.__private__.getCurrentPageInfo=A.getCurrentPageInfo=function(){return{objId:qt[ae].objId,pageNumber:ae,pageContext:qt[ae]}};A.addPage=function(){return Os.apply(this,arguments),this},A.setPage=function(){return Vn.apply(this,arguments),Ye.call(this,ze[ae]),this},A.insertPage=function(T){return this.addPage(),this.movePage(ae,T),this},A.movePage=function(T,V){var ye,Pe;if(T>V){ye=ze[T],Pe=qt[T];for(var Fe=T;Fe>V;Fe--)ze[Fe]=ze[Fe-1],qt[Fe]=qt[Fe-1];ze[V]=ye,qt[V]=Pe,this.setPage(V)}else if(T<V){ye=ze[T],Pe=qt[T];for(var et=T;et<V;et++)ze[et]=ze[et+1],qt[et]=qt[et+1];ze[V]=ye,qt[V]=Pe,this.setPage(V)}return this},A.deletePage=function(){return Ls.apply(this,arguments),this},A.__private__.text=A.text=function(T,V,ye,Pe,Fe){var et,nt,Pt,xt,fn,Rt,Wn,ir,hn,bt=(Pe=Pe||{}).scope||this;if(typeof T=="number"&&typeof V=="number"&&(typeof ye=="string"||Array.isArray(ye))){var _r=ye;ye=V,V=T,T=_r}if(arguments[3]instanceof kt==0?(Pt=arguments[4],xt=arguments[5],Ir(Wn=arguments[3])==="object"&&Wn!==null||(typeof Pt=="string"&&(xt=Pt,Pt=null),typeof Wn=="string"&&(xt=Wn,Wn=null),typeof Wn=="number"&&(Pt=Wn,Wn=null),Pe={flags:Wn,angle:Pt,align:xt})):(z("The transform parameter of text() with a Matrix value"),hn=Fe),isNaN(V)||isNaN(ye)||T==null)throw new Error("Invalid arguments passed to jsPDF.text");if(T.length===0)return bt;var xn,Cr="",ni=typeof Pe.lineHeightFactor=="number"?Pe.lineHeightFactor:Qs,ki=bt.internal.scaleFactor;function Gi(ge){return ge=ge.split("	").join(Array(Pe.TabLen||9).join(" ")),Li(ge,Wn)}function Ua(ge){for(var de,me=ge.concat(),Te=[],ke=me.length;ke--;)typeof(de=me.shift())=="string"?Te.push(de):Array.isArray(ge)&&(de.length===1||de[1]===void 0&&de[2]===void 0)?Te.push(de[0]):Te.push([de[0],de[1],de[2]]);return Te}function na(ge,de){var me;if(typeof ge=="string")me=de(ge)[0];else if(Array.isArray(ge)){for(var Te,ke,De=ge.concat(),He=[],Xe=De.length;Xe--;)typeof(Te=De.shift())=="string"?He.push(de(Te)[0]):Array.isArray(Te)&&typeof Te[0]=="string"&&(ke=de(Te[0],Te[1],Te[2]),He.push([ke[0],ke[1],ke[2]]));me=He}return me}var ns=!1,za=!0;if(typeof T=="string")ns=!0;else if(Array.isArray(T)){var ra=T.concat();nt=[];for(var ya,qr=ra.length;qr--;)(typeof(ya=ra.shift())!="string"||Array.isArray(ya)&&typeof ya[0]!="string")&&(za=!1);ns=za}if(ns===!1)throw new Error('Type of text must be string or Array. "'+T+'" is not recognized.');typeof T=="string"&&(T=T.match(/[\r?\n]/)?T.split(/\r\n|\r|\n/g):[T]);var ia=Qe/bt.internal.scaleFactor,ro=ia*(ni-1);switch(Pe.baseline){case"bottom":ye-=ro;break;case"top":ye+=ia-ro;break;case"hanging":ye+=ia-2*ro;break;case"middle":ye+=ia/2-ro}if((Rt=Pe.maxWidth||0)>0&&(typeof T=="string"?T=bt.splitTextToSize(T,Rt):Object.prototype.toString.call(T)==="[object Array]"&&(T=T.reduce(function(ge,de){return ge.concat(bt.splitTextToSize(de,Rt))},[]))),et={text:T,x:V,y:ye,options:Pe,mutex:{pdfEscape:Li,activeFontKey:Ct,fonts:Ze,activeFontSize:Qe}},Hn.publish("preProcessText",et),T=et.text,Pt=(Pe=et.options).angle,hn instanceof kt==0&&Pt&&typeof Pt=="number"){Pt*=Math.PI/180,Pe.rotationDirection===0&&(Pt=-Pt),j===L&&(Pt=-Pt);var sa=Math.cos(Pt),Lo=Math.sin(Pt);hn=new kt(sa,Lo,-Lo,sa,0,0)}else Pt&&Pt instanceof kt&&(hn=Pt);j!==L||hn||(hn=Jr),(fn=Pe.charSpace||Ms)!==void 0&&(Cr+=Z(ue(fn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ir=Pe.horizontalScale)!==void 0&&(Cr+=Z(100*ir)+` Tz
`),Pe.lang;var or=-1,rs=Pe.renderingMode!==void 0?Pe.renderingMode:Pe.stroke,si=bt.internal.getCurrentPageInfo().pageContext;switch(rs){case 0:case!1:case"fill":or=0;break;case 1:case!0:case"stroke":or=1;break;case 2:case"fillThenStroke":or=2;break;case 3:case"invisible":or=3;break;case 4:case"fillAndAddForClipping":or=4;break;case 5:case"strokeAndAddPathForClipping":or=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":or=6;break;case 7:case"addToPathForClipping":or=7}var Do=si.usedRenderingMode!==void 0?si.usedRenderingMode:-1;or!==-1?Cr+=or+` Tr
`:Do!==-1&&(Cr+=`0 Tr
`),or!==-1&&(si.usedRenderingMode=or),xt=Pe.align||"left";var zr,io=Qe*ni,so=bt.internal.pageSize.getWidth(),sl=Ze[Ct];fn=Pe.charSpace||Ms,Rt=Pe.maxWidth||0,Wn=Object.assign({autoencode:!0,noBOM:!0},Pe.flags);var ys=[],kr=function(ge){return bt.getStringUnitWidth(ge,{font:sl,charSpace:fn,fontSize:Qe,doKerning:!1})*Qe/ki};if(Object.prototype.toString.call(T)==="[object Array]"){var $n;nt=Ua(T),xt!=="left"&&(zr=nt.map(kr));var di,Mr=0;if(xt==="right"){V-=zr[0],T=[],qr=nt.length;for(var _n=0;_n<qr;_n++)_n===0?(di=Zt(V),$n=Sr(ye)):(di=ue(Mr-zr[_n]),$n=-io),T.push([nt[_n],di,$n]),Mr=zr[_n]}else if(xt==="center"){V-=zr[0]/2,T=[],qr=nt.length;for(var is=0;is<qr;is++)is===0?(di=Zt(V),$n=Sr(ye)):(di=ue((Mr-zr[is])/2),$n=-io),T.push([nt[is],di,$n]),Mr=zr[is]}else if(xt==="left"){T=[],qr=nt.length;for(var q=0;q<qr;q++)T.push(nt[q])}else if(xt==="justify"&&sl.encoding==="Identity-H"){T=[],qr=nt.length,Rt=Rt!==0?Rt:so;for(var s=0,o=0;o<qr;o++)if($n=o===0?Sr(ye):-io,di=o===0?Zt(V):s,o<qr-1){var c=ue((Rt-zr[o])/(nt[o].split(" ").length-1)),h=nt[o].split(" ");T.push([h[0]+" ",di,$n]),s=0;for(var g=1;g<h.length;g++){var l=(kr(h[g-1]+" "+h[g])-kr(h[g]))*ki+c;g==h.length-1?T.push([h[g],l,0]):T.push([h[g]+" ",l,0]),s-=l}}else T.push([nt[o],di,$n]);T.push(["",s,0])}else{if(xt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(T=[],qr=nt.length,Rt=Rt!==0?Rt:so,o=0;o<qr;o++){$n=o===0?Sr(ye):-io,di=o===0?Zt(V):0;var d=nt[o].split(" ").length-1,x=d>0?(Rt-zr[o])/d:0;o<qr-1?ys.push(Z(ue(x))):ys.push(0),T.push([nt[o],di,$n])}}}(typeof Pe.R2L=="boolean"?Pe.R2L:cn)===!0&&(T=na(T,function(ge,de,me){return[ge.split("").reverse().join(""),de,me]})),et={text:T,x:V,y:ye,options:Pe,mutex:{pdfEscape:Li,activeFontKey:Ct,fonts:Ze,activeFontSize:Qe}},Hn.publish("postProcessText",et),T=et.text,xn=et.mutex.isHex||!1;var w=Ze[Ct].encoding;w!=="WinAnsiEncoding"&&w!=="StandardEncoding"||(T=na(T,function(ge,de,me){return[Gi(ge),de,me]})),nt=Ua(T),T=[];for(var _,N,D,U=Array.isArray(nt[0])?1:0,G="",X=function(ge,de,me){var Te="";return me instanceof kt?(me=typeof Pe.angle=="number"?ar(me,new kt(1,0,0,1,ge,de)):ar(new kt(1,0,0,1,ge,de),me),j===L&&(me=ar(new kt(1,0,0,-1,0,0),me)),Te=me.join(" ")+` Tm
`):Te=Z(ge)+" "+Z(de)+` Td
`,Te},re=0;re<nt.length;re++){switch(G="",U){case 1:D=(xn?"<":"(")+nt[re][0]+(xn?">":")"),_=parseFloat(nt[re][1]),N=parseFloat(nt[re][2]);break;case 0:D=(xn?"<":"(")+nt[re]+(xn?">":")"),_=Zt(V),N=Sr(ye)}ys!==void 0&&ys[re]!==void 0&&(G=ys[re]+` Tw
`),re===0?T.push(G+X(_,N,hn)+D):U===0?T.push(G+D):U===1&&T.push(G+X(_,N,hn)+D)}T=U===0?T.join(` Tj
T* `):T.join(` Tj
`),T+=` Tj
`;var Q=`BT
/`;return Q+=Ct+" "+Qe+` Tf
`,Q+=Z(Qe*ni)+` TL
`,Q+=Ds+`
`,Q+=Cr,Q+=T,be(Q+="ET"),E[Ct]=!0,bt};var xe=A.__private__.clip=A.clip=function(T){return be(T==="evenodd"?"W*":"W"),this};A.clipEvenOdd=function(){return xe("evenodd")},A.__private__.discardPath=A.discardPath=function(){return be("n"),this};var Dt=A.__private__.isValidStyle=function(T){var V=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(T)!==-1&&(V=!0),V};A.__private__.setDefaultPathOperation=A.setDefaultPathOperation=function(T){return Dt(T)&&(p=T),this};var br=A.__private__.getStyle=A.getStyle=function(T){var V=p;switch(T){case"D":case"S":V="S";break;case"F":V="f";break;case"FD":case"DF":V="B";break;case"f":case"f*":case"B":case"B*":V=T}return V},Ii=A.close=function(){return be("h"),this};A.stroke=function(){return be("S"),this},A.fill=function(T){return Fa("f",T),this},A.fillEvenOdd=function(T){return Fa("f*",T),this},A.fillStroke=function(T){return Fa("B",T),this},A.fillStrokeEvenOdd=function(T){return Fa("B*",T),this};var Fa=function(T,V){Ir(V)==="object"?Xt(V,T):be(T)},Rn=function(T){T===null||j===L&&T===void 0||(T=br(T),be(T))};function Di(T,V,ye,Pe,Fe){var et=new nd(V||this.boundingBox,ye||this.xStep,Pe||this.yStep,this.gState,Fe||this.matrix);et.stream=this.stream;var nt=T+"$$"+this.cloneIndex+++"$$";return rn(nt,et),et}var Xt=function(T,V){var ye=pn[T.key],Pe=At[ye];if(Pe instanceof Xc)be("q"),be(Ar(V)),Pe.gState&&A.setGState(Pe.gState),be(T.matrix.toString()+" cm"),be("/"+ye+" sh"),be("Q");else if(Pe instanceof nd){var Fe=new kt(1,0,0,-1,0,ta());T.matrix&&(Fe=Fe.multiply(T.matrix||Jr),ye=Di.call(Pe,T.key,T.boundingBox,T.xStep,T.yStep,Fe).id),be("q"),be("/Pattern cs"),be("/"+ye+" scn"),Pe.gState&&A.setGState(Pe.gState),be(V),be("Q")}},Ar=function(T){switch(T){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},ui=A.moveTo=function(T,V){return be(Z(ue(T))+" "+Z(oe(V))+" m"),this},gs=A.lineTo=function(T,V){return be(Z(ue(T))+" "+Z(oe(V))+" l"),this},Ji=A.curveTo=function(T,V,ye,Pe,Fe,et){return be([Z(ue(T)),Z(oe(V)),Z(ue(ye)),Z(oe(Pe)),Z(ue(Fe)),Z(oe(et)),"c"].join(" ")),this};A.__private__.line=A.line=function(T,V,ye,Pe,Fe){if(isNaN(T)||isNaN(V)||isNaN(ye)||isNaN(Pe)||!Dt(Fe))throw new Error("Invalid arguments passed to jsPDF.line");return j===O?this.lines([[ye-T,Pe-V]],T,V,[1,1],Fe||"S"):this.lines([[ye-T,Pe-V]],T,V,[1,1]).stroke()},A.__private__.lines=A.lines=function(T,V,ye,Pe,Fe,et){var nt,Pt,xt,fn,Rt,Wn,ir,hn,bt,_r,xn,Cr;if(typeof T=="number"&&(Cr=ye,ye=V,V=T,T=Cr),Pe=Pe||[1,1],et=et||!1,isNaN(V)||isNaN(ye)||!Array.isArray(T)||!Array.isArray(Pe)||!Dt(Fe)||typeof et!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ui(V,ye),nt=Pe[0],Pt=Pe[1],fn=T.length,_r=V,xn=ye,xt=0;xt<fn;xt++)(Rt=T[xt]).length===2?(_r=Rt[0]*nt+_r,xn=Rt[1]*Pt+xn,gs(_r,xn)):(Wn=Rt[0]*nt+_r,ir=Rt[1]*Pt+xn,hn=Rt[2]*nt+_r,bt=Rt[3]*Pt+xn,_r=Rt[4]*nt+_r,xn=Rt[5]*Pt+xn,Ji(Wn,ir,hn,bt,_r,xn));return et&&Ii(),Rn(Fe),this},A.path=function(T){for(var V=0;V<T.length;V++){var ye=T[V],Pe=ye.c;switch(ye.op){case"m":ui(Pe[0],Pe[1]);break;case"l":gs(Pe[0],Pe[1]);break;case"c":Ji.apply(this,Pe);break;case"h":Ii()}}return this},A.__private__.rect=A.rect=function(T,V,ye,Pe,Fe){if(isNaN(T)||isNaN(V)||isNaN(ye)||isNaN(Pe)||!Dt(Fe))throw new Error("Invalid arguments passed to jsPDF.rect");return j===O&&(Pe=-Pe),be([Z(ue(T)),Z(oe(V)),Z(ue(ye)),Z(ue(Pe)),"re"].join(" ")),Rn(Fe),this},A.__private__.triangle=A.triangle=function(T,V,ye,Pe,Fe,et,nt){if(isNaN(T)||isNaN(V)||isNaN(ye)||isNaN(Pe)||isNaN(Fe)||isNaN(et)||!Dt(nt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ye-T,Pe-V],[Fe-ye,et-Pe],[T-Fe,V-et]],T,V,[1,1],nt,!0),this},A.__private__.roundedRect=A.roundedRect=function(T,V,ye,Pe,Fe,et,nt){if(isNaN(T)||isNaN(V)||isNaN(ye)||isNaN(Pe)||isNaN(Fe)||isNaN(et)||!Dt(nt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Pt=4/3*(Math.SQRT2-1);return Fe=Math.min(Fe,.5*ye),et=Math.min(et,.5*Pe),this.lines([[ye-2*Fe,0],[Fe*Pt,0,Fe,et-et*Pt,Fe,et],[0,Pe-2*et],[0,et*Pt,-Fe*Pt,et,-Fe,et],[2*Fe-ye,0],[-Fe*Pt,0,-Fe,-et*Pt,-Fe,-et],[0,2*et-Pe],[0,-et*Pt,Fe*Pt,-et,Fe,-et]],T+Fe,V,[1,1],nt,!0),this},A.__private__.ellipse=A.ellipse=function(T,V,ye,Pe,Fe){if(isNaN(T)||isNaN(V)||isNaN(ye)||isNaN(Pe)||!Dt(Fe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var et=4/3*(Math.SQRT2-1)*ye,nt=4/3*(Math.SQRT2-1)*Pe;return ui(T+ye,V),Ji(T+ye,V-nt,T+et,V-Pe,T,V-Pe),Ji(T-et,V-Pe,T-ye,V-nt,T-ye,V),Ji(T-ye,V+nt,T-et,V+Pe,T,V+Pe),Ji(T+et,V+Pe,T+ye,V+nt,T+ye,V),Rn(Fe),this},A.__private__.circle=A.circle=function(T,V,ye,Pe){if(isNaN(T)||isNaN(V)||isNaN(ye)||!Dt(Pe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(T,V,ye,ye,Pe)},A.setFont=function(T,V,ye){return ye&&(V=Y(V,ye)),Ct=In(T,V,{disableWarning:!1}),this};var es=A.__private__.getFont=A.getFont=function(){return Ze[In.apply(A,arguments)]};A.__private__.getFontList=A.getFontList=function(){var T,V,ye={};for(T in It)if(It.hasOwnProperty(T))for(V in ye[T]=[],It[T])It[T].hasOwnProperty(V)&&ye[T].push(V);return ye},A.addFont=function(T,V,ye,Pe,Fe){var et=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&et.indexOf(arguments[3])!==-1?Fe=arguments[3]:arguments[3]&&et.indexOf(arguments[3])==-1&&(ye=Y(ye,Pe)),at.call(this,T,V,ye,Fe=Fe||"Identity-H")};var Qs,Po=e.lineWidth||.200025,wt=A.__private__.getLineWidth=A.getLineWidth=function(){return Po},Ti=A.__private__.setLineWidth=A.setLineWidth=function(T){return Po=T,be(Z(ue(T))+" w"),this};A.__private__.setLineDash=Jt.API.setLineDash=Jt.API.setLineDashPattern=function(T,V){if(T=T||[],V=V||0,isNaN(V)||!Array.isArray(T))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return T=T.map(function(ye){return Z(ue(ye))}).join(" "),V=Z(ue(V)),be("["+T+"] "+V+" d"),this};var Vi=A.__private__.getLineHeight=A.getLineHeight=function(){return Qe*Qs};A.__private__.getLineHeight=A.getLineHeight=function(){return Qe*Qs};var Yt=A.__private__.setLineHeightFactor=A.setLineHeightFactor=function(T){return typeof(T=T||1.15)=="number"&&(Qs=T),this},il=A.__private__.getLineHeightFactor=A.getLineHeightFactor=function(){return Qs};Yt(e.lineHeight);var Zt=A.__private__.getHorizontalCoordinate=function(T){return ue(T)},Sr=A.__private__.getVerticalCoordinate=function(T){return j===L?T:qt[ae].mediaBox.topRightY-qt[ae].mediaBox.bottomLeftY-ue(T)},xs=A.__private__.getHorizontalCoordinateString=A.getHorizontalCoordinateString=function(T){return Z(Zt(T))},eo=A.__private__.getVerticalCoordinateString=A.getVerticalCoordinateString=function(T){return Z(Sr(T))},Ba=e.strokeColor||"0 G";A.__private__.getStrokeColor=A.getDrawColor=function(){return dr(Ba)},A.__private__.setStrokeColor=A.setDrawColor=function(T,V,ye,Pe){return Ba=Rr({ch1:T,ch2:V,ch3:ye,ch4:Pe,pdfColorType:"draw",precision:2}),be(Ba),this};var ts=e.fillColor||"0 g";A.__private__.getFillColor=A.getFillColor=function(){return dr(ts)},A.__private__.setFillColor=A.setFillColor=function(T,V,ye,Pe){return ts=Rr({ch1:T,ch2:V,ch3:ye,ch4:Pe,pdfColorType:"fill",precision:2}),be(ts),this};var Ds=e.textColor||"0 g",vs=A.__private__.getTextColor=A.getTextColor=function(){return dr(Ds)};A.__private__.setTextColor=A.setTextColor=function(T,V,ye,Pe){return Ds=Rr({ch1:T,ch2:V,ch3:ye,ch4:Pe,pdfColorType:"text",precision:3}),this};var Ms=e.charSpace,to=A.__private__.getCharSpace=A.getCharSpace=function(){return parseFloat(Ms||0)};A.__private__.setCharSpace=A.setCharSpace=function(T){if(isNaN(T))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ms=T,this};var Js=0;A.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},A.__private__.setLineCap=A.setLineCap=function(T){var V=A.CapJoinStyles[T];if(V===void 0)throw new Error("Line cap style of '"+T+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Js=V,be(V+" J"),this};var ga=0;A.__private__.setLineJoin=A.setLineJoin=function(T){var V=A.CapJoinStyles[T];if(V===void 0)throw new Error("Line join style of '"+T+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ga=V,be(V+" j"),this},A.__private__.setLineMiterLimit=A.__private__.setMiterLimit=A.setLineMiterLimit=A.setMiterLimit=function(T){if(T=T||0,isNaN(T))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return be(Z(ue(T))+" M"),this},A.GState=op,A.setGState=function(T){(T=typeof T=="string"?on[ut[T]]:js(null,T)).equals(nn)||(be("/"+T.id+" gs"),nn=T)};var js=function(T,V){if(!T||!ut[T]){var ye=!1;for(var Pe in on)if(on.hasOwnProperty(Pe)&&on[Pe].equals(V)){ye=!0;break}if(ye)V=on[Pe];else{var Fe="GS"+(Object.keys(on).length+1).toString(10);on[Fe]=V,V.id=Fe}return T&&(ut[T]=V.id),Hn.publish("addGState",V),V}};A.addGState=function(T,V){return js(T,V),this},A.saveGraphicsState=function(){return be("q"),it.push({key:Ct,size:Qe,color:Ds}),this},A.restoreGraphicsState=function(){be("Q");var T=it.pop();return Ct=T.key,Qe=T.size,Ds=T.color,nn=null,this},A.setCurrentTransformationMatrix=function(T){return be(T.toString()+" cm"),this},A.comment=function(T){return be("#"+T),this};var Dr=function(T,V){var ye=T||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ye},set:function(et){isNaN(et)||(ye=parseFloat(et))}});var Pe=V||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Pe},set:function(et){isNaN(et)||(Pe=parseFloat(et))}});var Fe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Fe},set:function(et){Fe=et.toString()}}),this},xa=function(T,V,ye,Pe){Dr.call(this,T,V),this.type="rect";var Fe=ye||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Fe},set:function(nt){isNaN(nt)||(Fe=parseFloat(nt))}});var et=Pe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return et},set:function(nt){isNaN(nt)||(et=parseFloat(nt))}}),this},va=function(){this.page=Pn,this.currentPage=ae,this.pages=ze.slice(0),this.pagesContext=qt.slice(0),this.x=Ft,this.y=Un,this.matrix=Vt,this.width=Bl(ae),this.height=On(ae),this.outputDestination=Je,this.id="",this.objectNumber=-1};va.prototype.restore=function(){Pn=this.page,ae=this.currentPage,qt=this.pagesContext,ze=this.pages,Ft=this.x,Un=this.y,Vt=this.matrix,Oo(ae,this.width),Fs(ae,this.height),Je=this.outputDestination};var Ro=function(T,V,ye,Pe,Fe){Zn.push(new va),Pn=ae=0,ze=[],Ft=T,Un=V,Vt=Fe,fr([ye,Pe])};for(var no in A.beginFormObject=function(T,V,ye,Pe,Fe){return Ro(T,V,ye,Pe,Fe),this},A.endFormObject=function(T){return function(V){if(un[V])Zn.pop().restore();else{var ye=new va,Pe="Xo"+(Object.keys(mn).length+1).toString(10);ye.id=Pe,un[V]=Pe,mn[Pe]=ye,Hn.publish("addFormObject",ye),Zn.pop().restore()}}(T),this},A.doFormObject=function(T,V){var ye=mn[un[T]];return be("q"),be(V.toString()+" cm"),be("/"+ye.id+" Do"),be("Q"),this},A.getFormObject=function(T){var V=mn[un[T]];return{x:V.x,y:V.y,width:V.width,height:V.height,matrix:V.matrix}},A.save=function(T,V){return T=T||"generated.pdf",(V=V||{}).returnPromise=V.returnPromise||!1,V.returnPromise===!1?(Kc(er(Kn()),T),typeof Kc.unload=="function"&&wn.setTimeout&&setTimeout(Kc.unload,911),this):new Promise(function(ye,Pe){try{var Fe=Kc(er(Kn()),T);typeof Kc.unload=="function"&&wn.setTimeout&&setTimeout(Kc.unload,911),ye(Fe)}catch(et){Pe(et.message)}})},Jt.API)Jt.API.hasOwnProperty(no)&&(no==="events"&&Jt.API.events.length?function(T,V){var ye,Pe,Fe;for(Fe=V.length-1;Fe!==-1;Fe--)ye=V[Fe][0],Pe=V[Fe][1],T.subscribe.apply(T,[ye].concat(typeof Pe=="function"?[Pe]:Pe))}(Hn,Jt.API.events):A[no]=Jt.API[no]);function Bl(T){return qt[T].mediaBox.topRightX-qt[T].mediaBox.bottomLeftX}function Oo(T,V){qt[T].mediaBox.topRightX=V+qt[T].mediaBox.bottomLeftX}function On(T){return qt[T].mediaBox.topRightY-qt[T].mediaBox.bottomLeftY}function Fs(T,V){qt[T].mediaBox.topRightY=V+qt[T].mediaBox.bottomLeftY}var ea=A.getPageWidth=function(T){return Bl(T=T||ae)/$t},qi=A.setPageWidth=function(T,V){Oo(T,V*$t)},ta=A.getPageHeight=function(T){return On(T=T||ae)/$t},$e=A.setPageHeight=function(T,V){Fs(T,V*$t)};return A.internal={pdfEscape:Li,getStyle:br,getFont:es,getFontSize:Ke,getCharSpace:to,getTextColor:vs,getLineHeight:Vi,getLineHeightFactor:il,getLineWidth:wt,write:ln,getHorizontalCoordinate:Zt,getVerticalCoordinate:Sr,getCoordinateString:xs,getVerticalCoordinateString:eo,collections:{},newObject:zn,newAdditionalObject:St,newObjectDeferred:gr,newObjectDeferredBegin:Jn,getFilters:vi,putStream:Oi,events:Hn,scaleFactor:$t,pageSize:{getWidth:function(){return ea(ae)},setWidth:function(T){qi(ae,T)},getHeight:function(){return ta(ae)},setHeight:function(T){$e(ae,T)}},encryptionOptions:y,encryption:hr,getEncryptor:function(T){return y!==null?hr.encryptor(T,0):function(V){return V}},output:Ur,getNumberOfPages:Ln,pages:ze,out:be,f2:H,f3:K,getPageInfo:Qn,getPageInfoByObjId:Vr,getCurrentPageInfo:Ue,getPDFVersion:I,Point:Dr,Rectangle:xa,Matrix:kt,hasHotfix:ms},Object.defineProperty(A.internal.pageSize,"width",{get:function(){return ea(ae)},set:function(T){qi(ae,T)},enumerable:!0,configurable:!0}),Object.defineProperty(A.internal.pageSize,"height",{get:function(){return ta(ae)},set:function(T){$e(ae,T)},enumerable:!0,configurable:!0}),(function(T){for(var V=0,ye=gt.length;V<ye;V++){var Pe=at.call(this,T[V][0],T[V][1],T[V][2],gt[V][3],!0);S===!1&&(E[Pe]=!0);var Fe=T[V][0].split("-");Ja({id:Pe,fontName:Fe[0],fontStyle:Fe[1]||""})}Hn.publish("addFonts",{fonts:Ze,dictionary:It})}).call(A,gt),Ct="F1",Os(i,n),Hn.publish("initialized"),A}Wu.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},Wu.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Wu.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},Wu.prototype.processOwnerPassword=function(e,t){return _x(Sx(t).substr(0,5),e)},Wu.prototype.encryptor=function(e,t){var n=Sx(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(r){return _x(n,r)}},op.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||Ir(e)!==Ir(this))return!1;var r=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;r++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&r--;return r===0},Jt.API={events:[]},Jt.version="3.0.3";var mi=Jt.API,_y=1,Pu=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Bu=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Nn=function(e){return e.toFixed(2)},Zl=function(e){return e.toFixed(5)};mi.__acroform__={};var ma=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},h3=function(e){return e*_y},Fo=function(e){var t=new JC,n=Wt.internal.getHeight(e)||0,r=Wt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Nn(r)),Number(Nn(n))],t},nU=mi.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},rU=mi.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},iU=mi.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},_i=mi.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return iU(e,t-1)},Ci=mi.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return nU(e,t-1)},Ei=mi.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return rU(e,t-1)},sU=mi.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,i=e[0],a=e[1],u=e[2],f=e[3],m={};return m.lowerLeft_X=n(i)||0,m.lowerLeft_Y=r(a+f)||0,m.upperRight_X=n(i+u)||0,m.upperRight_Y=r(a)||0,[Number(Nn(m.lowerLeft_X)),Number(Nn(m.lowerLeft_Y)),Number(Nn(m.upperRight_X)),Number(Nn(m.upperRight_Y))]},aU=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,r=Cx(e,n),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+Nn(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var a=Fo(e);return a.scope=e.scope,a.stream=t.join(`
`),a}},Cx=function(e,t){var n=e.fontSize===0?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map(function(H){return H.split(`
`)}):i.map(function(H){return[H]});var a=n,u=Wt.internal.getHeight(e)||0;u=u<0?-u:u;var f=Wt.internal.getWidth(e)||0;f=f<0?-f:f;var m=function(H,K,ue){if(H+1<i.length){var oe=K+" "+i[H+1][0];return H1(oe,e,ue).width<=f-4}return!1};a++;e:for(;a>0;){t="",a--;var p,y,S=H1("3",e,a).height,E=e.multiline?u-a:(u-S)/2,A=E+=2,R=0,I=0,P=0;if(a<=0){t=`(...) Tj
`,t+="% Width of Text: "+H1(t,e,a=12).width+", FieldWidth:"+f+`
`;break}for(var k="",O=0,L=0;L<i.length;L++)if(i.hasOwnProperty(L)){var j=!1;if(i[L].length!==1&&P!==i[L].length-1){if((S+2)*(O+2)+2>u)continue e;k+=i[L][P],j=!0,I=L,L--}else{k=(k+=i[L][P]+" ").substr(k.length-1)==" "?k.substr(0,k.length-1):k;var J=parseInt(L),ce=m(J,k,a),Y=L>=i.length-1;if(ce&&!Y){k+=" ",P=0;continue}if(ce||Y){if(Y)I=J;else if(e.multiline&&(S+2)*(O+2)+2>u)continue e}else{if(!e.multiline||(S+2)*(O+2)+2>u)continue e;I=J}}for(var Z="",z=R;z<=I;z++){var he=i[z];if(e.multiline){if(z===I){Z+=he[P]+" ",P=(P+1)%he.length;continue}if(z===R){Z+=he[he.length-1]+" ";continue}}Z+=he[0]+" "}switch(Z=Z.substr(Z.length-1)==" "?Z.substr(0,Z.length-1):Z,y=H1(Z,e,a).width,e.textAlign){case"right":p=f-y-2;break;case"center":p=(f-y)/2;break;default:p=2}t+=Nn(p)+" "+Nn(A)+` Td
`,t+="("+Pu(Z)+`) Tj
`,t+=-Nn(p)+` 0 Td
`,A=-(a+2),y=0,R=j?I:I+1,O++,k=""}break}return r.text=t,r.fontSize=a,r},H1=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},oU={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},lU=function(e,t){var n={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},cU=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Io.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(oU)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");_y=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new eE,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var a=r[i];a.objId=void 0,a.hasAnnotation&&lU(a,n)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(n){(function(r,i){var a=!r;for(var u in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(u)){var f=r[u],m=[],p=f.Rect;if(f.Rect&&(f.Rect=sU(f.Rect,i)),i.internal.newObjectDeferredBegin(f.objId,!0),f.DA=Wt.createDefaultAppearanceStream(f),Ir(f)==="object"&&typeof f.getKeyValueListForStream=="function"&&(m=f.getKeyValueListForStream()),f.Rect=p,f.hasAppearanceStream&&!f.appearanceStreamContent){var y=aU(f);m.push({key:"AP",value:"<</N "+y+">>"}),i.internal.acroformPlugin.xForms.push(y)}if(f.appearanceStreamContent){var S="";for(var E in f.appearanceStreamContent)if(f.appearanceStreamContent.hasOwnProperty(E)){var A=f.appearanceStreamContent[E];if(S+="/"+E+" ",S+="<<",Object.keys(A).length>=1||Array.isArray(A)){for(var u in A)if(A.hasOwnProperty(u)){var R=A[u];typeof R=="function"&&(R=R.call(i,f)),S+="/"+u+" "+R+" ",i.internal.acroformPlugin.xForms.indexOf(R)>=0||i.internal.acroformPlugin.xForms.push(R)}}else typeof(R=A)=="function"&&(R=R.call(i,f)),S+="/"+u+" "+R,i.internal.acroformPlugin.xForms.indexOf(R)>=0||i.internal.acroformPlugin.xForms.push(R);S+=">>"}m.push({key:"AP",value:`<<
`+S+">>"})}i.internal.putStream({additionalKeyValues:m,objectId:f.objId}),i.internal.out("endobj")}a&&function(I,P){for(var k in I)if(I.hasOwnProperty(k)){var O=k,L=I[k];P.internal.newObjectDeferredBegin(L.objId,!0),Ir(L)==="object"&&typeof L.putStream=="function"&&L.putStream(),delete I[O]}}(i.internal.acroformPlugin.xForms,i)})(n,e)}),e.internal.acroformPlugin.isInitialized=!0}},QC=mi.__acroform__.arrayToPdfArray=function(e,t,n){var r=function(u){return u};if(Array.isArray(e)){for(var i="[",a=0;a<e.length;a++)switch(a!==0&&(i+=" "),Ir(e[a])){case"boolean":case"number":case"object":i+=e[a].toString();break;case"string":e[a].substr(0,1)!=="/"?(t!==void 0&&n&&(r=n.internal.getEncryptor(t)),i+="("+Pu(r(e[a].toString()))+")"):i+=e[a].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Dg=function(e,t,n){var r=function(i){return i};return t!==void 0&&n&&(r=n.internal.getEncryptor(t)),(e=e||"").toString(),"("+Pu(r(e))+")"},Ko=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ko.prototype.toString=function(){return this.objId+" 0 R"},Ko.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Ko.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var n in t)if(Object.getOwnPropertyDescriptor(this,t[n]).configurable===!1){var r=t[n],i=this[r];i&&(Array.isArray(i)?e.push({key:r,value:QC(i,this.objId,this.scope)}):i instanceof Ko?(i.scope=this.scope,e.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:r,value:i}))}return e};var JC=function(){Ko.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){e=n.trim()},get:function(){return e||null}})};ma(JC,Ko);var eE=function(){Ko.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Pu(n(e))+")"}},set:function(n){e=n}})};ma(eE,Ko);var Io=function e(){Ko.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(k){if(isNaN(k))throw new Error('Invalid value "'+k+'" for attribute F supplied.');t=k}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!_i(t,3)},set:function(k){k?this.F=Ci(t,3):this.F=Ei(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(k){if(isNaN(k))throw new Error('Invalid value "'+k+'" for attribute Ff supplied.');n=k}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(k){r=k!==void 0?k:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(k){r[0]=k}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(k){r[1]=k}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(k){r[2]=k}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(k){r[3]=k}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(k){switch(k){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=k;break;default:throw new Error('Invalid value "'+k+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof lp)return;a="FieldObject"+e.FieldNum++}var k=function(O){return O};return this.scope&&(k=this.scope.internal.getEncryptor(this.objId)),"("+Pu(k(a))+")"},set:function(k){a=k.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(k){a=k}});var u="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return u},set:function(k){u=k}});var f="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return f},set:function(k){f=k}});var m=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return m},set:function(k){m=k}});var p=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return p===void 0?50/_y:p},set:function(k){p=k}});var y="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return y},set:function(k){y=k}});var S="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!S||this instanceof lp||this instanceof du))return Dg(S,this.objId,this.scope)},set:function(k){k=k.toString(),S=k}});var E=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(E)return this instanceof Xi==0?Dg(E,this.objId,this.scope):E},set:function(k){k=k.toString(),E=this instanceof Xi==0?k.substr(0,1)==="("?Bu(k.substr(1,k.length-2)):Bu(k):k}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Xi==1?Bu(E.substr(1,E.length-1)):E},set:function(k){k=k.toString(),E=this instanceof Xi==1?"/"+k:k}});var A=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(A)return A},set:function(k){this.V=k}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(A)return this instanceof Xi==0?Dg(A,this.objId,this.scope):A},set:function(k){k=k.toString(),A=this instanceof Xi==0?k.substr(0,1)==="("?Bu(k.substr(1,k.length-2)):Bu(k):k}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Xi==1?Bu(A.substr(1,A.length-1)):A},set:function(k){k=k.toString(),A=this instanceof Xi==1?"/"+k:k}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var R,I=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return I},set:function(k){k=!!k,I=k}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(R)return R},set:function(k){R=k}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!_i(this.Ff,1)},set:function(k){k?this.Ff=Ci(this.Ff,1):this.Ff=Ei(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!_i(this.Ff,2)},set:function(k){k?this.Ff=Ci(this.Ff,2):this.Ff=Ei(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!_i(this.Ff,3)},set:function(k){k?this.Ff=Ci(this.Ff,3):this.Ff=Ei(this.Ff,3)}});var P=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(P!==null)return P},set:function(k){if([0,1,2].indexOf(k)===-1)throw new Error('Invalid value "'+k+'" for attribute Q supplied.');P=k}}),Object.defineProperty(this,"textAlign",{get:function(){var k;switch(P){case 0:default:k="left";break;case 1:k="center";break;case 2:k="right"}return k},configurable:!0,enumerable:!0,set:function(k){switch(k){case"right":case 2:P=2;break;case"center":case 1:P=1;break;default:P=0}}})};ma(Io,Ko);var pd=function(){Io.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){e=n}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return QC(t,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(a,u,f){f||(f=1);for(var m,p=[];m=u.exec(a);)p.push(m[f]);return p}(r,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(n){t=n,this.sort&&t.sort()},this.addOption=function(n){n=(n=n||"").toString(),t.push(n),this.sort&&t.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();t.indexOf(n)!==-1&&(t.splice(t.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!_i(this.Ff,18)},set:function(n){n?this.Ff=Ci(this.Ff,18):this.Ff=Ei(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!_i(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Ci(this.Ff,19):this.Ff=Ei(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!_i(this.Ff,20)},set:function(n){n?(this.Ff=Ci(this.Ff,20),t.sort()):this.Ff=Ei(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!_i(this.Ff,22)},set:function(n){n?this.Ff=Ci(this.Ff,22):this.Ff=Ei(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!_i(this.Ff,23)},set:function(n){n?this.Ff=Ci(this.Ff,23):this.Ff=Ei(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!_i(this.Ff,27)},set:function(n){n?this.Ff=Ci(this.Ff,27):this.Ff=Ei(this.Ff,27)}}),this.hasAppearanceStream=!1};ma(pd,Io);var md=function(){pd.call(this),this.fontName="helvetica",this.combo=!1};ma(md,pd);var gd=function(){md.call(this),this.combo=!0};ma(gd,md);var p0=function(){gd.call(this),this.edit=!0};ma(p0,gd);var Xi=function(){Io.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!_i(this.Ff,15)},set:function(n){n?this.Ff=Ci(this.Ff,15):this.Ff=Ei(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!_i(this.Ff,16)},set:function(n){n?this.Ff=Ci(this.Ff,16):this.Ff=Ei(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!_i(this.Ff,17)},set:function(n){n?this.Ff=Ci(this.Ff,17):this.Ff=Ei(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!_i(this.Ff,26)},set:function(n){n?this.Ff=Ci(this.Ff,26):this.Ff=Ei(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(a){return a};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var r,i=[];for(r in i.push("<<"),t)i.push("/"+r+" ("+Pu(n(t[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){Ir(n)==="object"&&(t=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(n){typeof n=="string"&&(t.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(n){e="/"+n}})};ma(Xi,Io);var m0=function(){Xi.call(this),this.pushButton=!0};ma(m0,Xi);var xd=function(){Xi.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};ma(xd,Xi);var lp=function(){var e,t;Io.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(f){return f};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,u=[];for(a in u.push("<<"),r)u.push("/"+a+" ("+Pu(i(r[a]))+")");return u.push(">>"),u.join(`
`)},set:function(i){Ir(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Wt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ma(lp,Io),xd.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},xd.prototype.createOption=function(e){var t=new lp;return t.Parent=this,t.optionName=e,this.Kids.push(t),uU.call(this.scope,t),t};var g0=function(){Xi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Wt.CheckBox.createAppearanceStream()};ma(g0,Xi);var du=function(){Io.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!_i(this.Ff,13)},set:function(t){t?this.Ff=Ci(this.Ff,13):this.Ff=Ei(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!_i(this.Ff,21)},set:function(t){t?this.Ff=Ci(this.Ff,21):this.Ff=Ei(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!_i(this.Ff,23)},set:function(t){t?this.Ff=Ci(this.Ff,23):this.Ff=Ei(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!_i(this.Ff,24)},set:function(t){t?this.Ff=Ci(this.Ff,24):this.Ff=Ei(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!_i(this.Ff,25)},set:function(t){t?this.Ff=Ci(this.Ff,25):this.Ff=Ei(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!_i(this.Ff,26)},set:function(t){t?this.Ff=Ci(this.Ff,26):this.Ff=Ei(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ma(du,Io);var x0=function(){du.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!_i(this.Ff,14)},set:function(e){e?this.Ff=Ci(this.Ff,14):this.Ff=Ei(this.Ff,14)}}),this.password=!0};ma(x0,du);var Wt={CheckBox:{createAppearanceStream:function(){return{N:{On:Wt.CheckBox.YesNormal},D:{On:Wt.CheckBox.YesPushDown,Off:Wt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Fo(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),a=Cx(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+Nn(Wt.internal.getWidth(e))+" "+Nn(Wt.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+Nn(a.fontSize)+" Tf "+i),n.push("BT"),n.push(a.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join(`
`),t},YesNormal:function(e){var t=Fo(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),i=[],a=Wt.internal.getHeight(e),u=Wt.internal.getWidth(e),f=Cx(e,e.caption);return i.push("1 g"),i.push("0 0 "+Nn(u)+" "+Nn(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Nn(u-1)+" "+Nn(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+Nn(f.fontSize)+" Tf "+r),i.push(f.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=Fo(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Nn(Wt.internal.getWidth(e))+" "+Nn(Wt.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Wt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Wt.RadioButton.Circle.YesNormal,t.D[e]=Wt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Fo(e);t.scope=e.scope;var n=[],r=Wt.internal.getWidth(e)<=Wt.internal.getHeight(e)?Wt.internal.getWidth(e)/4:Wt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Wt.internal.Bezier_C,a=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Zl(Wt.internal.getWidth(e)/2)+" "+Zl(Wt.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=Fo(e);t.scope=e.scope;var n=[],r=Wt.internal.getWidth(e)<=Wt.internal.getHeight(e)?Wt.internal.getWidth(e)/4:Wt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*Wt.internal.Bezier_C).toFixed(5)),u=Number((r*Wt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Zl(Wt.internal.getWidth(e)/2)+" "+Zl(Wt.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Zl(Wt.internal.getWidth(e)/2)+" "+Zl(Wt.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+u+" "+u+" "+r+" 0 "+r+" c"),n.push("-"+u+" "+r+" -"+r+" "+u+" -"+r+" 0 c"),n.push("-"+r+" -"+u+" -"+u+" -"+r+" 0 -"+r+" c"),n.push(u+" -"+r+" "+r+" -"+u+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Fo(e);t.scope=e.scope;var n=[],r=Wt.internal.getWidth(e)<=Wt.internal.getHeight(e)?Wt.internal.getWidth(e)/4:Wt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*Wt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Zl(Wt.internal.getWidth(e)/2)+" "+Zl(Wt.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Wt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Wt.RadioButton.Cross.YesNormal,t.D[e]=Wt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Fo(e);t.scope=e.scope;var n=[],r=Wt.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+Nn(Wt.internal.getWidth(e)-2)+" "+Nn(Wt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Nn(r.x1.x)+" "+Nn(r.x1.y)+" m"),n.push(Nn(r.x2.x)+" "+Nn(r.x2.y)+" l"),n.push(Nn(r.x4.x)+" "+Nn(r.x4.y)+" m"),n.push(Nn(r.x3.x)+" "+Nn(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=Fo(e);t.scope=e.scope;var n=Wt.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+Nn(Wt.internal.getWidth(e))+" "+Nn(Wt.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Nn(Wt.internal.getWidth(e)-2)+" "+Nn(Wt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Nn(n.x1.x)+" "+Nn(n.x1.y)+" m"),r.push(Nn(n.x2.x)+" "+Nn(n.x2.y)+" l"),r.push(Nn(n.x4.x)+" "+Nn(n.x4.y)+" m"),r.push(Nn(n.x3.x)+" "+Nn(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Fo(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Nn(Wt.internal.getWidth(e))+" "+Nn(Wt.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};Wt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Wt.internal.getWidth(e),n=Wt.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},Wt.internal.getWidth=function(e){var t=0;return Ir(e)==="object"&&(t=h3(e.Rect[2])),t},Wt.internal.getHeight=function(e){var t=0;return Ir(e)==="object"&&(t=h3(e.Rect[3])),t};var uU=mi.addField=function(e){if(cU(this,e),!(e instanceof Io))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};mi.AcroFormChoiceField=pd,mi.AcroFormListBox=md,mi.AcroFormComboBox=gd,mi.AcroFormEditBox=p0,mi.AcroFormButton=Xi,mi.AcroFormPushButton=m0,mi.AcroFormRadioButton=xd,mi.AcroFormCheckBox=g0,mi.AcroFormTextField=du,mi.AcroFormPasswordField=x0,mi.AcroFormAppearance=Wt,mi.AcroForm={ChoiceField:pd,ListBox:md,ComboBox:gd,EditBox:p0,Button:Xi,PushButton:m0,RadioButton:xd,CheckBox:g0,TextField:du,PasswordField:x0,Appearance:Wt},Jt.AcroForm={ChoiceField:pd,ListBox:md,ComboBox:gd,EditBox:p0,Button:Xi,PushButton:m0,RadioButton:xd,CheckBox:g0,TextField:du,PasswordField:x0,Appearance:Wt};function tE(e){return e.reduce(function(t,n,r){return t[n]=r,t},{})}(function(e){var t="addImage_";e.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=e.__addimage__.getImageFileTypeByImageData=function(H,K){var ue,oe,te,Ne,Ce,ne=n;if((K=K||n)==="RGBA"||H.data!==void 0&&H.data instanceof Uint8ClampedArray&&"height"in H&&"width"in H)return"RGBA";if(ce(H))for(Ce in r)for(te=r[Ce],ue=0;ue<te.length;ue+=1){for(Ne=!0,oe=0;oe<te[ue].length;oe+=1)if(te[ue][oe]!==void 0&&te[ue][oe]!==H[oe]){Ne=!1;break}if(Ne===!0){ne=Ce;break}}else for(Ce in r)for(te=r[Ce],ue=0;ue<te.length;ue+=1){for(Ne=!0,oe=0;oe<te[ue].length;oe+=1)if(te[ue][oe]!==void 0&&te[ue][oe]!==H.charCodeAt(oe)){Ne=!1;break}if(Ne===!0){ne=Ce;break}}return ne===n&&K!==n&&(ne=K),ne},a=function H(K){for(var ue=this.internal.write,oe=this.internal.putStream,te=(0,this.internal.getFilters)();te.indexOf("FlateEncode")!==-1;)te.splice(te.indexOf("FlateEncode"),1);K.objectId=this.internal.newObject();var Ne=[];if(Ne.push({key:"Type",value:"/XObject"}),Ne.push({key:"Subtype",value:"/Image"}),Ne.push({key:"Width",value:K.width}),Ne.push({key:"Height",value:K.height}),K.colorSpace===k.INDEXED?Ne.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(K.palette.length/3-1)+" "+("sMask"in K&&K.sMask!==void 0?K.objectId+2:K.objectId+1)+" 0 R]"}):(Ne.push({key:"ColorSpace",value:"/"+K.colorSpace}),K.colorSpace===k.DEVICE_CMYK&&Ne.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Ne.push({key:"BitsPerComponent",value:K.bitsPerComponent}),"decodeParameters"in K&&K.decodeParameters!==void 0&&Ne.push({key:"DecodeParms",value:"<<"+K.decodeParameters+">>"}),"transparency"in K&&Array.isArray(K.transparency)&&K.transparency.length>0){for(var Ce="",ne=0,_e=K.transparency.length;ne<_e;ne++)Ce+=K.transparency[ne]+" "+K.transparency[ne]+" ";Ne.push({key:"Mask",value:"["+Ce+"]"})}K.sMask!==void 0&&Ne.push({key:"SMask",value:K.objectId+1+" 0 R"});var ve=K.filter!==void 0?["/"+K.filter]:void 0;if(oe({data:K.data,additionalKeyValues:Ne,alreadyAppliedFilters:ve,objectId:K.objectId}),ue("endobj"),"sMask"in K&&K.sMask!==void 0){var Le,W=(Le=K.sMaskBitsPerComponent)!==null&&Le!==void 0?Le:K.bitsPerComponent,ae={width:K.width,height:K.height,colorSpace:"DeviceGray",bitsPerComponent:W,data:K.sMask};"filter"in K&&(ae.decodeParameters="/Predictor ".concat(K.predictor," /Colors 1 /BitsPerComponent ").concat(W," /Columns ").concat(K.width),ae.filter=K.filter),H.call(this,ae)}if(K.colorSpace===k.INDEXED){var fe=this.internal.newObject();oe({data:Z(new Uint8Array(K.palette)),objectId:fe}),ue("endobj")}},u=function(){var H=this.internal.collections[t+"images"];for(var K in H)a.call(this,H[K])},f=function(){var H,K=this.internal.collections[t+"images"],ue=this.internal.write;for(var oe in K)ue("/I"+(H=K[oe]).index,H.objectId,"0","R")},m=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",u),this.internal.events.subscribe("putXobjectDict",f))},p=function(){var H=this.internal.collections[t+"images"];return m.call(this),H},y=function(){return Object.keys(this.internal.collections[t+"images"]).length},S=function(H){return typeof e["process"+H.toUpperCase()]=="function"},E=function(H){return Ir(H)==="object"&&H.nodeType===1},A=function(H,K){if(H.nodeName==="IMG"&&H.hasAttribute("src")){var ue=""+H.getAttribute("src");if(ue.indexOf("data:image/")===0)return h0(unescape(ue).split("base64,").pop());var oe=e.loadFile(ue,!0);if(oe!==void 0)return oe}if(H.nodeName==="CANVAS"){if(H.width===0||H.height===0)throw new Error("Given canvas must have data. Canvas width: "+H.width+", height: "+H.height);var te;switch(K){case"PNG":te="image/png";break;case"WEBP":te="image/webp";break;default:te="image/jpeg"}return h0(H.toDataURL(te,1).split("base64,").pop())}},R=function(H){var K=this.internal.collections[t+"images"];if(K){for(var ue in K)if(H===K[ue].alias)return K[ue]}},I=function(H,K,ue){return H||K||(H=-96,K=-96),H<0&&(H=-1*ue.width*72/H/this.internal.scaleFactor),K<0&&(K=-1*ue.height*72/K/this.internal.scaleFactor),H===0&&(H=K*ue.width/ue.height),K===0&&(K=H*ue.height/ue.width),[H,K]},P=function(H,K,ue,oe,te,Ne){var Ce=I.call(this,ue,oe,te),ne=this.internal.getCoordinateString,_e=this.internal.getVerticalCoordinateString,ve=p.call(this);if(ue=Ce[0],oe=Ce[1],ve[te.index]=te,Ne){Ne*=Math.PI/180;var Le=Math.cos(Ne),W=Math.sin(Ne),ae=function(Ee){return Ee.toFixed(4)},fe=[ae(Le),ae(W),ae(-1*W),ae(Le),0,0,"cm"]}this.internal.write("q"),Ne?(this.internal.write([1,"0","0",1,ne(H),_e(K+oe),"cm"].join(" ")),this.internal.write(fe.join(" ")),this.internal.write([ne(ue),"0","0",ne(oe),"0","0","cm"].join(" "))):this.internal.write([ne(ue),"0","0",ne(oe),ne(H),_e(K+oe),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+te.index+" Do"),this.internal.write("Q")},k=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var O=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},L=e.__addimage__.sHashCode=function(H){var K,ue,oe=0;if(typeof H=="string")for(ue=H.length,K=0;K<ue;K++)oe=(oe<<5)-oe+H.charCodeAt(K),oe|=0;else if(ce(H))for(ue=H.byteLength/2,K=0;K<ue;K++)oe=(oe<<5)-oe+H[K],oe|=0;return oe},j=e.__addimage__.validateStringAsBase64=function(H){(H=H||"").toString().trim();var K=!0;return H.length===0&&(K=!1),H.length%4!=0&&(K=!1),/^[A-Za-z0-9+/]+$/.test(H.substr(0,H.length-2))===!1&&(K=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(H.substr(-2))===!1&&(K=!1),K},J=e.__addimage__.extractImageFromDataUrl=function(H){if(H==null||!(H=H.trim()).startsWith("data:"))return null;var K=H.indexOf(",");return K<0?null:H.substring(0,K).trim().endsWith("base64")?H.substring(K+1):null};e.__addimage__.isArrayBuffer=function(H){return H instanceof ArrayBuffer};var ce=e.__addimage__.isArrayBufferView=function(H){return H instanceof Int8Array||H instanceof Uint8Array||H instanceof Uint8ClampedArray||H instanceof Int16Array||H instanceof Uint16Array||H instanceof Int32Array||H instanceof Uint32Array||H instanceof Float32Array||H instanceof Float64Array},Y=e.__addimage__.binaryStringToUint8Array=function(H){for(var K=H.length,ue=new Uint8Array(K),oe=0;oe<K;oe++)ue[oe]=H.charCodeAt(oe);return ue},Z=e.__addimage__.arrayBufferToBinaryString=function(H){for(var K="",ue=ce(H)?H:new Uint8Array(H),oe=0;oe<ue.length;oe+=8192)K+=String.fromCharCode.apply(null,ue.subarray(oe,oe+8192));return K};e.addImage=function(){var H,K,ue,oe,te,Ne,Ce,ne,_e;if(typeof arguments[1]=="number"?(K=n,ue=arguments[1],oe=arguments[2],te=arguments[3],Ne=arguments[4],Ce=arguments[5],ne=arguments[6],_e=arguments[7]):(K=arguments[1],ue=arguments[2],oe=arguments[3],te=arguments[4],Ne=arguments[5],Ce=arguments[6],ne=arguments[7],_e=arguments[8]),Ir(H=arguments[0])==="object"&&!E(H)&&"imageData"in H){var ve=H;H=ve.imageData,K=ve.format||K||n,ue=ve.x||ue||0,oe=ve.y||oe||0,te=ve.w||ve.width||te,Ne=ve.h||ve.height||Ne,Ce=ve.alias||Ce,ne=ve.compression||ne,_e=ve.rotation||ve.angle||_e}var Le=this.internal.getFilters();if(ne===void 0&&Le.indexOf("FlateEncode")!==-1&&(ne="SLOW"),isNaN(ue)||isNaN(oe))throw new Error("Invalid coordinates passed to jsPDF.addImage");m.call(this);var W=z.call(this,H,K,Ce,ne);return P.call(this,ue,oe,te,Ne,W,_e),this};var z=function(H,K,ue,oe){var te,Ne,Ce;if(typeof H=="string"&&i(H)===n){H=unescape(H);var ne=he(H,!1);(ne!==""||(ne=e.loadFile(H,!0))!==void 0)&&(H=ne)}if(E(H)&&(H=A(H,K)),K=i(H,K),!S(K))throw new Error("addImage does not support files of type '"+K+"', please ensure that a plugin for '"+K+"' support is added.");if(((Ce=ue)==null||Ce.length===0)&&(ue=function(_e){return typeof _e=="string"||ce(_e)?L(_e):ce(_e.data)?L(_e.data):null}(H)),(te=R.call(this,ue))||(H instanceof Uint8Array||K==="RGBA"||(Ne=H,H=Y(H)),te=this["process"+K.toUpperCase()](H,y.call(this),ue,function(_e){return _e&&typeof _e=="string"&&(_e=_e.toUpperCase()),_e in e.image_compression?_e:O.NONE}(oe),Ne)),!te)throw new Error("An unknown error occurred whilst processing the image.");return te},he=e.__addimage__.convertBase64ToBinaryString=function(H,K){K=typeof K!="boolean"||K;var ue,oe="";if(typeof H=="string"){var te;ue=(te=J(H))!==null&&te!==void 0?te:H;try{oe=h0(ue)}catch(Ne){if(K)throw j(ue)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Ne.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return oe};e.getImageProperties=function(H){var K,ue,oe="";if(E(H)&&(H=A(H)),typeof H=="string"&&i(H)===n&&((oe=he(H,!1))===""&&(oe=e.loadFile(H)||""),H=oe),ue=i(H),!S(ue))throw new Error("addImage does not support files of type '"+ue+"', please ensure that a plugin for '"+ue+"' support is added.");if(H instanceof Uint8Array||(H=Y(H)),!(K=this["process"+ue.toUpperCase()](H)))throw new Error("An unknown error occurred whilst processing the image");return K.fileType=ue,K}})(Jt.API),function(e){var t=function(n){if(n!==void 0&&n!="")return!0};Jt.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(n){for(var r,i,a,u=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString,m=this.internal.getPageInfoByObjId(n.objId),p=n.pageContext.annotations,y=!1,S=0;S<p.length&&!y;S++)switch((r=p[S]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(y=!0);break;case"reference":case"text":case"freetext":y=!0}if(y!=0){this.internal.write("/Annots [");for(var E=0;E<p.length;E++){r=p[E];var A=this.internal.pdfEscape,R=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var I=this.internal.newAdditionalObject(),P=this.internal.newAdditionalObject(),k=this.internal.getEncryptor(I.objId),O=r.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+u(r.bounds.x)+" "+f(r.bounds.y+r.bounds.h)+" "+u(r.bounds.x+r.bounds.w)+" "+f(r.bounds.y)+"] ")+"/Contents ("+A(k(r.contents))+")",a+=" /Popup "+P.objId+" 0 R",a+=" /P "+m.objId+" 0 R",a+=" /T ("+A(k(O))+") >>",I.content=a;var L=I.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+u(r.bounds.x+30)+" "+f(r.bounds.y+r.bounds.h)+" "+u(r.bounds.x+r.bounds.w+30)+" "+f(r.bounds.y)+"] ")+" /Parent "+L,r.open&&(a+=" /Open true"),a+=" >>",P.content=a,this.internal.write(I.objId,"0 R",P.objId,"0 R");break;case"freetext":i="/Rect ["+u(r.bounds.x)+" "+f(r.bounds.y)+" "+u(r.bounds.x+r.bounds.w)+" "+f(r.bounds.y+r.bounds.h)+"] ";var j=r.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+A(R(r.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+j+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(r.options.name){var J=this.annotations._nameMap[r.options.name];r.options.pageNumber=J.page,r.options.top=J.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",a="",r.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+A(R(r.options.url))+") >>";else if(r.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,a+=" /FitV "+r.options.left+"]";break;default:var ce=f(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),a+=" /XYZ "+r.options.left+" "+ce+" "+r.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),e.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},e.link=function(n,r,i,a,u){var f=this.internal.getCurrentPageInfo(),m=this.internal.getCoordinateString,p=this.internal.getVerticalCoordinateString;f.pageContext.annotations.push({finalBounds:{x:m(n),y:p(r),w:m(n+i),h:p(r+a)},options:u,type:"link"})},e.textWithLink=function(n,r,i,a){var u,f,m=this.getTextWidth(n),p=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){f=a.maxWidth;var y=this.splitTextToSize(n,f).length;u=Math.ceil(p*y)}else f=m,u=p;return this.text(n,r,i,a),i+=.2*p,a.align==="center"&&(r-=m/2),a.align==="right"&&(r-=m),this.link(r,i-p,f,u,a),m},e.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(Jt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var a=e.__arabicParser__.isInArabicSubstitutionA=function(I){return t[I.charCodeAt(0)]!==void 0},u=e.__arabicParser__.isArabicLetter=function(I){return typeof I=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(I)},f=e.__arabicParser__.isArabicEndLetter=function(I){return u(I)&&a(I)&&t[I.charCodeAt(0)].length<=2},m=e.__arabicParser__.isArabicAlfLetter=function(I){return u(I)&&i.indexOf(I.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(I){return u(I)&&a(I)&&t[I.charCodeAt(0)].length>=1};var p=e.__arabicParser__.arabicLetterHasFinalForm=function(I){return u(I)&&a(I)&&t[I.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(I){return u(I)&&a(I)&&t[I.charCodeAt(0)].length>=3};var y=e.__arabicParser__.arabicLetterHasMedialForm=function(I){return u(I)&&a(I)&&t[I.charCodeAt(0)].length==4},S=e.__arabicParser__.resolveLigatures=function(I){var P=0,k=n,O="",L=0;for(P=0;P<I.length;P+=1)k[I.charCodeAt(P)]!==void 0?(L++,typeof(k=k[I.charCodeAt(P)])=="number"&&(O+=String.fromCharCode(k),k=n,L=0),P===I.length-1&&(k=n,O+=I.charAt(P-(L-1)),P-=L-1,L=0)):(k=n,O+=I.charAt(P-L),P-=L,L=0);return O};e.__arabicParser__.isArabicDiacritic=function(I){return I!==void 0&&r[I.charCodeAt(0)]!==void 0};var E=e.__arabicParser__.getCorrectForm=function(I,P,k){return u(I)?a(I)===!1?-1:!p(I)||!u(P)&&!u(k)||!u(k)&&f(P)||f(I)&&!u(P)||f(I)&&m(P)||f(I)&&f(P)?0:y(I)&&u(P)&&!f(P)&&u(k)&&p(k)?3:f(I)||!u(k)?1:2:-1},A=function(I){var P=0,k=0,O=0,L="",j="",J="",ce=(I=I||"").split("\\s+"),Y=[];for(P=0;P<ce.length;P+=1){for(Y.push(""),k=0;k<ce[P].length;k+=1)L=ce[P][k],j=ce[P][k-1],J=ce[P][k+1],u(L)?(O=E(L,j,J),Y[P]+=O!==-1?String.fromCharCode(t[L.charCodeAt(0)][O]):L):Y[P]+=L;Y[P]=S(Y[P])}return Y.join(" ")},R=e.__arabicParser__.processArabic=e.processArabic=function(){var I,P=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,k=[];if(Array.isArray(P)){var O=0;for(k=[],O=0;O<P.length;O+=1)Array.isArray(P[O])?k.push([A(P[O][0]),P[O][1],P[O][2]]):k.push([A(P[O])]);I=k}else I=A(P);return typeof arguments[0]=="string"?I:(arguments[0].text=I,arguments[0])};e.events.push(["preProcessText",R])}(Jt.API),Jt.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(f){n=f}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(f){r=isNaN(f)||Number.isInteger(f)===!1||f<0?150:f,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(f){i=isNaN(f)||Number.isInteger(f)===!1||f<0?300:f,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(f){a=f}});var u={};Object.defineProperty(this,"style",{get:function(){return u},set:function(f){u=f}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Jt.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var m=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return m},set:function(I){m=I}});var p=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return p},set:function(I){p=I}});var y=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return y},set:function(I){y=I}});var S=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return S},set:function(I){S=I}});var E=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return E},set:function(I){E=I}});var A=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return A},set:function(I){A=I}});var R=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return R},set:function(I){R=I}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(m){return r.call(this),this.internal.__cell__.headerFunction=typeof m=="function"?m:void 0,this},e.getTextDimensions=function(m,p){r.call(this);var y=(p=p||{}).fontSize||this.getFontSize(),S=p.font||this.getFont(),E=p.scaleFactor||this.internal.scaleFactor,A=0,R=0,I=0,P=this;if(!Array.isArray(m)&&typeof m!="string"){if(typeof m!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");m=String(m)}var k=p.maxWidth;k>0?typeof m=="string"?m=this.splitTextToSize(m,k):Object.prototype.toString.call(m)==="[object Array]"&&(m=m.reduce(function(L,j){return L.concat(P.splitTextToSize(j,k))},[])):m=Array.isArray(m)?m:[m];for(var O=0;O<m.length;O++)A<(I=this.getStringUnitWidth(m[O],{font:S})*y)&&(A=I);return A!==0&&(R=m.length),{w:A/=E,h:Math.max((R*y*this.getLineHeightFactor()-y*(this.getLineHeightFactor()-1))/E,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var m=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new a(m.left,m.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var u=e.cell=function(){var m;m=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var p=this.internal.__cell__.lastCell,y=this.internal.__cell__.padding,S=this.internal.__cell__.margins||t,E=this.internal.__cell__.tableHeaderRow,A=this.internal.__cell__.printHeaders;return p.lineNumber!==void 0&&(p.lineNumber===m.lineNumber?(m.x=(p.x||0)+(p.width||0),m.y=p.y||0):p.y+p.height+m.height+S.bottom>this.getPageHeight()?(this.cellAddPage(),m.y=S.top,A&&E&&(this.printHeaderRow(m.lineNumber,!0),m.y+=E[0].height)):m.y=p.y+p.height||m.y),m.text[0]!==void 0&&(this.rect(m.x,m.y,m.width,m.height,n===!0?"FD":void 0),m.align==="right"?this.text(m.text,m.x+m.width-y,m.y+y,{align:"right",baseline:"top"}):m.align==="center"?this.text(m.text,m.x+m.width/2,m.y+y,{align:"center",baseline:"top",maxWidth:m.width-y-y}):this.text(m.text,m.x+y,m.y+y,{align:"left",baseline:"top",maxWidth:m.width-y-y})),this.internal.__cell__.lastCell=m,this};e.table=function(m,p,y,S,E){if(r.call(this),!y)throw new Error("No data for PDF table.");var A,R,I,P,k=[],O=[],L=[],j={},J={},ce=[],Y=[],Z=(E=E||{}).autoSize||!1,z=E.printHeaders!==!1,he=E.css&&E.css["font-size"]!==void 0?16*E.css["font-size"]:E.fontSize||12,H=E.margins||Object.assign({width:this.getPageWidth()},t),K=typeof E.padding=="number"?E.padding:3,ue=E.headerBackgroundColor||"#c8c8c8",oe=E.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=z,this.internal.__cell__.margins=H,this.internal.__cell__.table_font_size=he,this.internal.__cell__.padding=K,this.internal.__cell__.headerBackgroundColor=ue,this.internal.__cell__.headerTextColor=oe,this.setFontSize(he),S==null)O=k=Object.keys(y[0]),L=k.map(function(){return"left"});else if(Array.isArray(S)&&Ir(S[0])==="object")for(k=S.map(function(ve){return ve.name}),O=S.map(function(ve){return ve.prompt||ve.name||""}),L=S.map(function(ve){return ve.align||"left"}),A=0;A<S.length;A+=1)J[S[A].name]=.7499990551181103*S[A].width;else Array.isArray(S)&&typeof S[0]=="string"&&(O=k=S,L=k.map(function(){return"left"}));if(Z||Array.isArray(S)&&typeof S[0]=="string")for(A=0;A<k.length;A+=1){for(j[P=k[A]]=y.map(function(ve){return ve[P]}),this.setFont(void 0,"bold"),ce.push(this.getTextDimensions(O[A],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),R=j[P],this.setFont(void 0,"normal"),I=0;I<R.length;I+=1)ce.push(this.getTextDimensions(R[I],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);J[P]=Math.max.apply(null,ce)+K+K,ce=[]}if(z){var te={};for(A=0;A<k.length;A+=1)te[k[A]]={},te[k[A]].text=O[A],te[k[A]].align=L[A];var Ne=f.call(this,te,J);Y=k.map(function(ve){return new a(m,p,J[ve],Ne,te[ve].text,void 0,te[ve].align)}),this.setTableHeaderRow(Y),this.printHeaderRow(1,!1)}var Ce=S.reduce(function(ve,Le){return ve[Le.name]=Le.align,ve},{});for(A=0;A<y.length;A+=1){"rowStart"in E&&E.rowStart instanceof Function&&E.rowStart({row:A,data:y[A]},this);var ne=f.call(this,y[A],J);for(I=0;I<k.length;I+=1){var _e=y[A][k[I]];"cellStart"in E&&E.cellStart instanceof Function&&E.cellStart({row:A,col:I,data:_e},this),u.call(this,new a(m,p,J[k[I]],ne,_e,A+2,Ce[k[I]]))}}return this.internal.__cell__.table_x=m,this.internal.__cell__.table_y=p,this};var f=function(m,p){var y=this.internal.__cell__.padding,S=this.internal.__cell__.table_font_size,E=this.internal.scaleFactor;return Object.keys(m).map(function(A){var R=m[A];return this.splitTextToSize(R.hasOwnProperty("text")?R.text:R,p[A]-y-y)},this).map(function(A){return this.getLineHeightFactor()*A.length*S/E+y+y},this).reduce(function(A,R){return Math.max(A,R)},0)};e.setTableHeaderRow=function(m){r.call(this),this.internal.__cell__.tableHeaderRow=m},e.printHeaderRow=function(m,p){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var y;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var S=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(S[0],S[1],S[2],S[3],void 0,-1)}this.setFont(void 0,"bold");for(var E=[],A=0;A<this.internal.__cell__.tableHeaderRow.length;A+=1){y=this.internal.__cell__.tableHeaderRow[A].clone(),p&&(y.y=this.internal.__cell__.margins.top||0,E.push(y)),y.lineNumber=m;var R=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),u.call(this,y),this.setTextColor(R)}E.length>0&&this.setTableHeaderRow(E),this.setFont(void 0,"normal"),n=!1}}(Jt.API);var nE={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},rE=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Ex=tE(rE),iE=[100,200,300,400,500,600,700,800,900],dU=tE(iE);function Mg(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(a){return nE[a=a||"normal"]?a:"normal"}(e.style),r=function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400}(e.weight),i=function(a){return typeof Ex[a=a||"normal"]=="number"?a:"normal"}(e.stretch);return{family:t,style:n,weight:r,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,n,r].join(" ")}}}function p3(e,t,n,r){var i;for(i=n;i>=0&&i<t.length;i+=r)if(e[t[i]])return e[t[i]];for(i=n;i>=0&&i<t.length;i-=r)if(e[t[i]])return e[t[i]]}var fU={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},m3={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function g3(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function x3(e){return e.trimLeft()}function hU(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function pU(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var V1,v3,y3,Uu,q1,w3,b3,A3,jg=["times"];function S3(e,t,n,r,i){var a=4,u=C3;switch(i){case Jt.API.image_compression.FAST:a=1,u=_3;break;case Jt.API.image_compression.MEDIUM:a=6,u=E3;break;case Jt.API.image_compression.SLOW:a=9,u=N3}e=function(m,p,y,S){for(var E,A=m.length/p,R=new Uint8Array(m.length+A),I=[mU,_3,C3,E3,N3],P=0;P<A;P+=1){var k=P*p,O=m.subarray(k,k+p);if(S)R.set(S(O,y,E),k+P);else{for(var L=I.length,j=[],J=0;J<L;J+=1)j[J]=I[J](O,y,E);var ce=xU(j.concat());R.set(j[ce],k+P)}E=O}return R}(e,t,Math.ceil(n*r/8),u);var f=hx(e,{level:a});return Jt.API.__addimage__.arrayBufferToBinaryString(f)}function mU(e){var t=Array.apply([],e);return t.unshift(0),t}function _3(e,t){var n=e.length,r=[];r[0]=1;for(var i=0;i<n;i+=1){var a=e[i-t]||0;r[i+1]=e[i]-a+256&255}return r}function C3(e,t,n){var r=e.length,i=[];i[0]=2;for(var a=0;a<r;a+=1){var u=n&&n[a]||0;i[a+1]=e[a]-u+256&255}return i}function E3(e,t,n){var r=e.length,i=[];i[0]=3;for(var a=0;a<r;a+=1){var u=e[a-t]||0,f=n&&n[a]||0;i[a+1]=e[a]+256-(u+f>>>1)&255}return i}function N3(e,t,n){var r=e.length,i=[];i[0]=4;for(var a=0;a<r;a+=1){var u=gU(e[a-t]||0,n&&n[a]||0,n&&n[a-t]||0);i[a+1]=e[a]-u+256&255}return i}function gU(e,t,n){if(e===t&&t===n)return e;var r=Math.abs(t-n),i=Math.abs(e-n),a=Math.abs(e+t-n-n);return r<=i&&r<=a?e:i<=a?t:n}function xU(e){var t=e.map(function(n){return n.reduce(function(r,i){return r+Math.abs(i)},0)});return t.indexOf(Math.min.apply(null,t))}function Fg(e,t,n){var r=t*n,i=Math.floor(r/8),a=16-(r-8*i+n),u=(1<<n)-1;return sE(e,i)>>a&u}function I3(e,t,n,r){var i=n*r,a=Math.floor(i/8),u=16-(i-8*a+r),f=(1<<r)-1,m=(t&f)<<u;(function(p,y,S){if(y+1<p.byteLength)p.setUint16(y,S,!1);else{var E=S>>8&255;p.setUint8(y,E)}})(e,a,sE(e,a)&~(f<<u)&65535|m)}function sE(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function vU(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,i=e[t++],a=i>>7,u=1<<1+(7&i);e[t++],e[t++];var f=null,m=null;a&&(f=t,m=u,t+=3*u);var p=!0,y=[],S=0,E=null,A=0,R=null;for(this.width=n,this.height=r;p&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,R=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((H=e[t++])>=0))throw Error("Invalid block size");if(H===0)break;t+=H}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var I=e[t++];S=e[t++]|e[t++]<<8,E=e[t++],1&I||(E=null),A=I>>2&7,t++;break;case 254:for(;;){if(!((H=e[t++])>=0))throw Error("Invalid block size");if(H===0)break;t+=H}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var P=e[t++]|e[t++]<<8,k=e[t++]|e[t++]<<8,O=e[t++]|e[t++]<<8,L=e[t++]|e[t++]<<8,j=e[t++],J=j>>6&1,ce=1<<1+(7&j),Y=f,Z=m,z=!1;j>>7&&(z=!0,Y=t,Z=ce,t+=3*ce);var he=t;for(t++;;){var H;if(!((H=e[t++])>=0))throw Error("Invalid block size");if(H===0)break;t+=H}y.push({x:P,y:k,width:O,height:L,has_local_palette:z,palette_offset:Y,palette_size:Z,data_offset:he,data_length:t-he,transparent_index:E,interlaced:!!J,delay:S,disposal:A});break;case 59:p=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return y.length},this.loopCount=function(){return R},this.frameInfo=function(K){if(K<0||K>=y.length)throw new Error("Frame index out of range.");return y[K]},this.decodeAndBlitFrameBGRA=function(K,ue){var oe=this.frameInfo(K),te=oe.width*oe.height,Ne=new Uint8Array(te);T3(e,oe.data_offset,Ne,te);var Ce=oe.palette_offset,ne=oe.transparent_index;ne===null&&(ne=256);var _e=oe.width,ve=n-_e,Le=_e,W=4*(oe.y*n+oe.x),ae=4*((oe.y+oe.height)*n+oe.x),fe=W,Ee=4*ve;oe.interlaced===!0&&(Ee+=4*n*7);for(var se=8,we=0,Re=Ne.length;we<Re;++we){var Ie=Ne[we];if(Le===0&&(Le=_e,(fe+=Ee)>=ae&&(Ee=4*ve+4*n*(se-1),fe=W+(_e+ve)*(se<<1),se>>=1)),Ie===ne)fe+=4;else{var je=e[Ce+3*Ie],ze=e[Ce+3*Ie+1],Ge=e[Ce+3*Ie+2];ue[fe++]=Ge,ue[fe++]=ze,ue[fe++]=je,ue[fe++]=255}--Le}},this.decodeAndBlitFrameRGBA=function(K,ue){var oe=this.frameInfo(K),te=oe.width*oe.height,Ne=new Uint8Array(te);T3(e,oe.data_offset,Ne,te);var Ce=oe.palette_offset,ne=oe.transparent_index;ne===null&&(ne=256);var _e=oe.width,ve=n-_e,Le=_e,W=4*(oe.y*n+oe.x),ae=4*((oe.y+oe.height)*n+oe.x),fe=W,Ee=4*ve;oe.interlaced===!0&&(Ee+=4*n*7);for(var se=8,we=0,Re=Ne.length;we<Re;++we){var Ie=Ne[we];if(Le===0&&(Le=_e,(fe+=Ee)>=ae&&(Ee=4*ve+4*n*(se-1),fe=W+(_e+ve)*(se<<1),se>>=1)),Ie===ne)fe+=4;else{var je=e[Ce+3*Ie],ze=e[Ce+3*Ie+1],Ge=e[Ce+3*Ie+2];ue[fe++]=je,ue[fe++]=ze,ue[fe++]=Ge,ue[fe++]=255}--Le}}}function T3(e,t,n,r){for(var i=e[t++],a=1<<i,u=a+1,f=u+1,m=i+1,p=(1<<m)-1,y=0,S=0,E=0,A=e[t++],R=new Int32Array(4096),I=null;;){for(;y<16&&A!==0;)S|=e[t++]<<y,y+=8,A===1?A=e[t++]:--A;if(y<m)break;var P=S&p;if(S>>=m,y-=m,P!==a){if(P===u)break;for(var k=P<f?P:I,O=0,L=k;L>a;)L=R[L]>>8,++O;var j=L;if(E+O+(k!==P?1:0)>r)return void Fr.log("Warning, gif stream longer than expected.");n[E++]=j;var J=E+=O;for(k!==P&&(n[E++]=j),L=k;O--;)L=R[L],n[--J]=255&L,L>>=8;I!==null&&f<4096&&(R[f++]=I<<8|j,f>=p+1&&m<12&&(++m,p=p<<1|1)),I=P}else f=u+1,p=(1<<(m=i+1))-1,I=null}return E!==r&&Fr.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Bg(e){var t,n,r,i,a,u=Math.floor,f=new Array(64),m=new Array(64),p=new Array(64),y=new Array(64),S=new Array(65535),E=new Array(65535),A=new Array(64),R=new Array(64),I=[],P=0,k=7,O=new Array(64),L=new Array(64),j=new Array(64),J=new Array(256),ce=new Array(2048),Y=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],Z=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],z=[0,1,2,3,4,5,6,7,8,9,10,11],he=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],H=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],K=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],ue=[0,1,2,3,4,5,6,7,8,9,10,11],oe=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],te=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Ne(W,ae){for(var fe=0,Ee=0,se=new Array,we=1;we<=16;we++){for(var Re=1;Re<=W[we];Re++)se[ae[Ee]]=[],se[ae[Ee]][0]=fe,se[ae[Ee]][1]=we,Ee++,fe++;fe*=2}return se}function Ce(W){for(var ae=W[0],fe=W[1]-1;fe>=0;)ae&1<<fe&&(P|=1<<k),fe--,--k<0&&(P==255?(ne(255),ne(0)):ne(P),k=7,P=0)}function ne(W){I.push(W)}function _e(W){ne(W>>8&255),ne(255&W)}function ve(W,ae,fe,Ee,se){for(var we,Re=se[0],Ie=se[240],je=function(Qe,Mt){var Ke,cn,Ot,bn,an,Nt,An,tn,Ct,$t,Ft=0;for(Ct=0;Ct<8;++Ct){Ke=Qe[Ft],cn=Qe[Ft+1],Ot=Qe[Ft+2],bn=Qe[Ft+3],an=Qe[Ft+4],Nt=Qe[Ft+5],An=Qe[Ft+6];var Un=Ke+(tn=Qe[Ft+7]),Vt=Ke-tn,Ze=cn+An,It=cn-An,it=Ot+Nt,At=Ot-Nt,pn=bn+an,on=bn-an,ut=Un+pn,nn=Un-pn,Pn=Ze+it,qt=Ze-it;Qe[Ft]=ut+Pn,Qe[Ft+4]=ut-Pn;var Hn=.707106781*(qt+nn);Qe[Ft+2]=nn+Hn,Qe[Ft+6]=nn-Hn;var Bt=.382683433*((ut=on+At)-(qt=It+Vt)),mn=.5411961*ut+Bt,un=1.306562965*qt+Bt,Zn=.707106781*(Pn=At+It),kt=Vt+Zn,ar=Vt-Zn;Qe[Ft+5]=ar+mn,Qe[Ft+3]=ar-mn,Qe[Ft+1]=kt+un,Qe[Ft+7]=kt-un,Ft+=8}for(Ft=0,Ct=0;Ct<8;++Ct){Ke=Qe[Ft],cn=Qe[Ft+8],Ot=Qe[Ft+16],bn=Qe[Ft+24],an=Qe[Ft+32],Nt=Qe[Ft+40],An=Qe[Ft+48];var Jr=Ke+(tn=Qe[Ft+56]),rn=Ke-tn,En=cn+An,zn=cn-An,gr=Ot+Nt,Jn=Ot-Nt,St=bn+an,Zi=bn-an,ei=Jr+St,dr=Jr-St,Rr=En+gr,vi=En-gr;Qe[Ft]=ei+Rr,Qe[Ft+32]=ei-Rr;var Oi=.707106781*(vi+dr);Qe[Ft+16]=dr+Oi,Qe[Ft+48]=dr-Oi;var Or=.382683433*((ei=Zi+Jn)-(vi=zn+rn)),Rs=.5411961*ei+Or,Qi=1.306562965*vi+Or,Ni=.707106781*(Rr=Jn+zn),Br=rn+Ni,dn=rn-Ni;Qe[Ft+40]=dn+Rs,Qe[Ft+24]=dn-Rs,Qe[Ft+8]=Br+Qi,Qe[Ft+56]=Br-Qi,Ft++}for(Ct=0;Ct<64;++Ct)$t=Qe[Ct]*Mt[Ct],A[Ct]=$t>0?$t+.5|0:$t-.5|0;return A}(W,ae),ze=0;ze<64;++ze)R[Y[ze]]=je[ze];var Ge=R[0]-fe;fe=R[0],Ge==0?Ce(Ee[0]):(Ce(Ee[E[we=32767+Ge]]),Ce(S[we]));for(var Je=63;Je>0&&R[Je]==0;)Je--;if(Je==0)return Ce(Re),fe;for(var Ye,be=1;be<=Je;){for(var ln=be;R[be]==0&&be<=Je;)++be;var Lt=be-ln;if(Lt>=16){Ye=Lt>>4;for(var gt=1;gt<=Ye;++gt)Ce(Ie);Lt&=15}we=32767+R[be],Ce(se[(Lt<<4)+E[we]]),Ce(S[we]),be++}return Je!=63&&Ce(Re),fe}function Le(W){W=Math.min(Math.max(W,1),100),a!=W&&(function(ae){for(var fe=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Ee=0;Ee<64;Ee++){var se=u((fe[Ee]*ae+50)/100);se=Math.min(Math.max(se,1),255),f[Y[Ee]]=se}for(var we=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Re=0;Re<64;Re++){var Ie=u((we[Re]*ae+50)/100);Ie=Math.min(Math.max(Ie,1),255),m[Y[Re]]=Ie}for(var je=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ze=0,Ge=0;Ge<8;Ge++)for(var Je=0;Je<8;Je++)p[ze]=1/(f[Y[ze]]*je[Ge]*je[Je]*8),y[ze]=1/(m[Y[ze]]*je[Ge]*je[Je]*8),ze++}(W<50?Math.floor(5e3/W):Math.floor(200-2*W)),a=W)}this.encode=function(W,ae){ae&&Le(ae),I=new Array,P=0,k=7,_e(65496),_e(65504),_e(16),ne(74),ne(70),ne(73),ne(70),ne(0),ne(1),ne(1),ne(0),_e(1),_e(1),ne(0),ne(0),function(){_e(65499),_e(132),ne(0);for(var cn=0;cn<64;cn++)ne(f[cn]);ne(1);for(var Ot=0;Ot<64;Ot++)ne(m[Ot])}(),function(cn,Ot){_e(65472),_e(17),ne(8),_e(Ot),_e(cn),ne(3),ne(1),ne(17),ne(0),ne(2),ne(17),ne(1),ne(3),ne(17),ne(1)}(W.width,W.height),function(){_e(65476),_e(418),ne(0);for(var cn=0;cn<16;cn++)ne(Z[cn+1]);for(var Ot=0;Ot<=11;Ot++)ne(z[Ot]);ne(16);for(var bn=0;bn<16;bn++)ne(he[bn+1]);for(var an=0;an<=161;an++)ne(H[an]);ne(1);for(var Nt=0;Nt<16;Nt++)ne(K[Nt+1]);for(var An=0;An<=11;An++)ne(ue[An]);ne(17);for(var tn=0;tn<16;tn++)ne(oe[tn+1]);for(var Ct=0;Ct<=161;Ct++)ne(te[Ct])}(),_e(65498),_e(12),ne(3),ne(1),ne(0),ne(2),ne(17),ne(3),ne(17),ne(0),ne(63),ne(0);var fe=0,Ee=0,se=0;P=0,k=7,this.encode.displayName="_encode_";for(var we,Re,Ie,je,ze,Ge,Je,Ye,be,ln=W.data,Lt=W.width,gt=W.height,Qe=4*Lt,Mt=0;Mt<gt;){for(we=0;we<Qe;){for(ze=Qe*Mt+we,Je=-1,Ye=0,be=0;be<64;be++)Ge=ze+(Ye=be>>3)*Qe+(Je=4*(7&be)),Mt+Ye>=gt&&(Ge-=Qe*(Mt+1+Ye-gt)),we+Je>=Qe&&(Ge-=we+Je-Qe+4),Re=ln[Ge++],Ie=ln[Ge++],je=ln[Ge++],O[be]=(ce[Re]+ce[Ie+256|0]+ce[je+512|0]>>16)-128,L[be]=(ce[Re+768|0]+ce[Ie+1024|0]+ce[je+1280|0]>>16)-128,j[be]=(ce[Re+1280|0]+ce[Ie+1536|0]+ce[je+1792|0]>>16)-128;fe=ve(O,p,fe,t,r),Ee=ve(L,y,Ee,n,i),se=ve(j,y,se,n,i),we+=32}Mt+=8}if(k>=0){var Ke=[];Ke[1]=k+1,Ke[0]=(1<<k+1)-1,Ce(Ke)}return _e(65497),new Uint8Array(I)},e=e||50,function(){for(var W=String.fromCharCode,ae=0;ae<256;ae++)J[ae]=W(ae)}(),t=Ne(Z,z),n=Ne(K,ue),r=Ne(he,H),i=Ne(oe,te),function(){for(var W=1,ae=2,fe=1;fe<=15;fe++){for(var Ee=W;Ee<ae;Ee++)E[32767+Ee]=fe,S[32767+Ee]=[],S[32767+Ee][1]=fe,S[32767+Ee][0]=Ee;for(var se=-(ae-1);se<=-W;se++)E[32767+se]=fe,S[32767+se]=[],S[32767+se][1]=fe,S[32767+se][0]=ae-1+se;W<<=1,ae<<=1}}(),function(){for(var W=0;W<256;W++)ce[W]=19595*W,ce[W+256|0]=38470*W,ce[W+512|0]=7471*W+32768,ce[W+768|0]=-11059*W,ce[W+1024|0]=-21709*W,ce[W+1280|0]=32768*W+8421375,ce[W+1536|0]=-27439*W,ce[W+1792|0]=-5329*W}(),Le(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function fo(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function k3(e){function t(z){if(!z)throw Error("assert :P")}function n(z,he,H){for(var K=0;4>K;K++)if(z[he+K]!=H.charCodeAt(K))return!0;return!1}function r(z,he,H,K,ue){for(var oe=0;oe<ue;oe++)z[he+oe]=H[K+oe]}function i(z,he,H,K){for(var ue=0;ue<K;ue++)z[he+ue]=H}function a(z){return new Int32Array(z)}function u(z,he){for(var H=[],K=0;K<z;K++)H.push(new he);return H}function f(z,he){var H=[];return function K(ue,oe,te){for(var Ne=te[oe],Ce=0;Ce<Ne&&(ue.push(te.length>oe+1?[]:new he),!(te.length<oe+1));Ce++)K(ue[Ce],oe+1,te)}(H,0,z),H}var m=function(){var z=this;function he(b,C){for(var M=1<<C-1>>>0;b&M;)M>>>=1;return M?(b&M-1)+M:b}function H(b,C,M,B,$){t(!(B%M));do b[C+(B-=M)]=$;while(0<B)}function K(b,C,M,B,$){if(t(2328>=$),512>=$)var ee=a(512);else if((ee=a($))==null)return 0;return function(ie,le,pe,Ae,Oe,qe){var Se,Me,Be=le,tt=1<<pe,Ve=a(16),rt=a(16);for(t(Oe!=0),t(Ae!=null),t(ie!=null),t(0<pe),Me=0;Me<Oe;++Me){if(15<Ae[Me])return 0;++Ve[Ae[Me]]}if(Ve[0]==Oe)return 0;for(rt[1]=0,Se=1;15>Se;++Se){if(Ve[Se]>1<<Se)return 0;rt[Se+1]=rt[Se]+Ve[Se]}for(Me=0;Me<Oe;++Me)Se=Ae[Me],0<Ae[Me]&&(qe[rt[Se]++]=Me);if(rt[15]==1)return(Ae=new ue).g=0,Ae.value=qe[0],H(ie,Be,1,tt,Ae),tt;var st,pt=-1,ct=tt-1,Qt=0,zt=1,Dn=1,Gt=1<<pe;for(Me=0,Se=1,Oe=2;Se<=pe;++Se,Oe<<=1){if(zt+=Dn<<=1,0>(Dn-=Ve[Se]))return 0;for(;0<Ve[Se];--Ve[Se])(Ae=new ue).g=Se,Ae.value=qe[Me++],H(ie,Be+Qt,Oe,Gt,Ae),Qt=he(Qt,Se)}for(Se=pe+1,Oe=2;15>=Se;++Se,Oe<<=1){if(zt+=Dn<<=1,0>(Dn-=Ve[Se]))return 0;for(;0<Ve[Se];--Ve[Se]){if(Ae=new ue,(Qt&ct)!=pt){for(Be+=Gt,st=1<<(pt=Se)-pe;15>pt&&!(0>=(st-=Ve[pt]));)++pt,st<<=1;tt+=Gt=1<<(st=pt-pe),ie[le+(pt=Qt&ct)].g=st+pe,ie[le+pt].value=Be-le-pt}Ae.g=Se-pe,Ae.value=qe[Me++],H(ie,Be+(Qt>>pe),Oe,Gt,Ae),Qt=he(Qt,Se)}}return zt!=2*rt[15]-1?0:tt}(b,C,M,B,$,ee)}function ue(){this.value=this.g=0}function oe(){this.value=this.g=0}function te(){this.G=u(5,ue),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=u(kr,oe)}function Ne(b,C,M,B){t(b!=null),t(C!=null),t(2147483648>B),b.Ca=254,b.I=0,b.b=-8,b.Ka=0,b.oa=C,b.pa=M,b.Jd=C,b.Yc=M+B,b.Zc=4<=B?M+B-4+1:M,Re(b)}function Ce(b,C){for(var M=0;0<C--;)M|=je(b,128)<<C;return M}function ne(b,C){var M=Ce(b,C);return Ie(b)?-M:M}function _e(b,C,M,B){var $,ee=0;for(t(b!=null),t(C!=null),t(4294967288>B),b.Sb=B,b.Ra=0,b.u=0,b.h=0,4<B&&(B=4),$=0;$<B;++$)ee+=C[M+$]<<8*$;b.Ra=ee,b.bb=B,b.oa=C,b.pa=M}function ve(b){for(;8<=b.u&&b.bb<b.Sb;)b.Ra>>>=8,b.Ra+=b.oa[b.pa+b.bb]<<Mr-8>>>0,++b.bb,b.u-=8;Ee(b)&&(b.h=1,b.u=0)}function Le(b,C){if(t(0<=C),!b.h&&C<=di){var M=fe(b)&$n[C];return b.u+=C,ve(b),M}return b.h=1,b.u=0}function W(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function ae(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function fe(b){return b.Ra>>>(b.u&Mr-1)>>>0}function Ee(b){return t(b.bb<=b.Sb),b.h||b.bb==b.Sb&&b.u>Mr}function se(b,C){b.u=C,b.h=Ee(b)}function we(b){b.u>=_n&&(t(b.u>=_n),ve(b))}function Re(b){t(b!=null&&b.oa!=null),b.pa<b.Zc?(b.I=(b.oa[b.pa++]|b.I<<8)>>>0,b.b+=8):(t(b!=null&&b.oa!=null),b.pa<b.Yc?(b.b+=8,b.I=b.oa[b.pa++]|b.I<<8):b.Ka?b.b=0:(b.I<<=8,b.b+=8,b.Ka=1))}function Ie(b){return Ce(b,1)}function je(b,C){var M=b.Ca;0>b.b&&Re(b);var B=b.b,$=M*C>>>8,ee=(b.I>>>B>$)+0;for(ee?(M-=$,b.I-=$+1<<B>>>0):M=$+1,B=M,$=0;256<=B;)$+=8,B>>=8;return B=7^$+is[B],b.b-=B,b.Ca=(M<<B)-1,ee}function ze(b,C,M){b[C+0]=M>>24&255,b[C+1]=M>>16&255,b[C+2]=M>>8&255,b[C+3]=255&M}function Ge(b,C){return b[C+0]|b[C+1]<<8}function Je(b,C){return Ge(b,C)|b[C+2]<<16}function Ye(b,C){return Ge(b,C)|Ge(b,C+2)<<16}function be(b,C){var M=1<<C;return t(b!=null),t(0<C),b.X=a(M),b.X==null?0:(b.Mb=32-C,b.Xa=C,1)}function ln(b,C){t(b!=null),t(C!=null),t(b.Xa==C.Xa),r(C.X,0,b.X,0,1<<C.Xa)}function Lt(){this.X=[],this.Xa=this.Mb=0}function gt(b,C,M,B){t(M!=null),t(B!=null);var $=M[0],ee=B[0];return $==0&&($=(b*ee+C/2)/C),ee==0&&(ee=(C*$+b/2)/b),0>=$||0>=ee?0:(M[0]=$,B[0]=ee,1)}function Qe(b,C){return b+(1<<C)-1>>>C}function Mt(b,C){return((4278255360&b)+(4278255360&C)>>>0&4278255360)+((16711935&b)+(16711935&C)>>>0&16711935)>>>0}function Ke(b,C){z[C]=function(M,B,$,ee,ie,le,pe){var Ae;for(Ae=0;Ae<ie;++Ae){var Oe=z[b](le[pe+Ae-1],$,ee+Ae);le[pe+Ae]=Mt(M[B+Ae],Oe)}}}function cn(){this.ud=this.hd=this.jd=0}function Ot(b,C){return((4278124286&(b^C))>>>1)+(b&C)>>>0}function bn(b){return 0<=b&&256>b?b:0>b?0:255<b?255:void 0}function an(b,C){return bn(b+(b-C+.5>>1))}function Nt(b,C,M){return Math.abs(C-M)-Math.abs(b-M)}function An(b,C,M,B,$,ee,ie){for(B=ee[ie-1],M=0;M<$;++M)ee[ie+M]=B=Mt(b[C+M],B)}function tn(b,C,M,B,$){var ee;for(ee=0;ee<M;++ee){var ie=b[C+ee],le=ie>>8&255,pe=16711935&(pe=(pe=16711935&ie)+((le<<16)+le));B[$+ee]=(4278255360&ie)+pe>>>0}}function Ct(b,C){C.jd=255&b,C.hd=b>>8&255,C.ud=b>>16&255}function $t(b,C,M,B,$,ee){var ie;for(ie=0;ie<B;++ie){var le=C[M+ie],pe=le>>>8,Ae=le,Oe=255&(Oe=(Oe=le>>>16)+((b.jd<<24>>24)*(pe<<24>>24)>>>5));Ae=255&(Ae=(Ae+=(b.hd<<24>>24)*(pe<<24>>24)>>>5)+((b.ud<<24>>24)*(Oe<<24>>24)>>>5)),$[ee+ie]=(4278255360&le)+(Oe<<16)+Ae}}function Ft(b,C,M,B,$){z[C]=function(ee,ie,le,pe,Ae,Oe,qe,Se,Me){for(pe=qe;pe<Se;++pe)for(qe=0;qe<Me;++qe)Ae[Oe++]=$(le[B(ee[ie++])])},z[b]=function(ee,ie,le,pe,Ae,Oe,qe){var Se=8>>ee.b,Me=ee.Ea,Be=ee.K[0],tt=ee.w;if(8>Se)for(ee=(1<<ee.b)-1,tt=(1<<Se)-1;ie<le;++ie){var Ve,rt=0;for(Ve=0;Ve<Me;++Ve)Ve&ee||(rt=B(pe[Ae++])),Oe[qe++]=$(Be[rt&tt]),rt>>=Se}else z["VP8LMapColor"+M](pe,Ae,Be,tt,Oe,qe,ie,le,Me)}}function Un(b,C,M,B,$){for(M=C+M;C<M;){var ee=b[C++];B[$++]=ee>>16&255,B[$++]=ee>>8&255,B[$++]=255&ee}}function Vt(b,C,M,B,$){for(M=C+M;C<M;){var ee=b[C++];B[$++]=ee>>16&255,B[$++]=ee>>8&255,B[$++]=255&ee,B[$++]=ee>>24&255}}function Ze(b,C,M,B,$){for(M=C+M;C<M;){var ee=(ie=b[C++])>>16&240|ie>>12&15,ie=240&ie|ie>>28&15;B[$++]=ee,B[$++]=ie}}function It(b,C,M,B,$){for(M=C+M;C<M;){var ee=(ie=b[C++])>>16&248|ie>>13&7,ie=ie>>5&224|ie>>3&31;B[$++]=ee,B[$++]=ie}}function it(b,C,M,B,$){for(M=C+M;C<M;){var ee=b[C++];B[$++]=255&ee,B[$++]=ee>>8&255,B[$++]=ee>>16&255}}function At(b,C,M,B,$,ee){if(ee==0)for(M=C+M;C<M;)ze(B,((ee=b[C++])[0]>>24|ee[1]>>8&65280|ee[2]<<8&16711680|ee[3]<<24)>>>0),$+=32;else r(B,$,b,C,M)}function pn(b,C){z[C][0]=z[b+"0"],z[C][1]=z[b+"1"],z[C][2]=z[b+"2"],z[C][3]=z[b+"3"],z[C][4]=z[b+"4"],z[C][5]=z[b+"5"],z[C][6]=z[b+"6"],z[C][7]=z[b+"7"],z[C][8]=z[b+"8"],z[C][9]=z[b+"9"],z[C][10]=z[b+"10"],z[C][11]=z[b+"11"],z[C][12]=z[b+"12"],z[C][13]=z[b+"13"],z[C][14]=z[b+"0"],z[C][15]=z[b+"0"]}function on(b){return b==cm||b==um||b==Qh||b==dm}function ut(){this.eb=[],this.size=this.A=this.fb=0}function nn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Pn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ut,this.f.kb=new nn,this.sd=null}function qt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Hn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Bt(b){return alert("todo:WebPSamplerProcessPlane"),b.T}function mn(b,C){var M=b.T,B=C.ba.f.RGBA,$=B.eb,ee=B.fb+b.ka*B.A,ie=Wa[C.ba.S],le=b.y,pe=b.O,Ae=b.f,Oe=b.N,qe=b.ea,Se=b.W,Me=C.cc,Be=C.dc,tt=C.Mc,Ve=C.Nc,rt=b.ka,st=b.ka+b.T,pt=b.U,ct=pt+1>>1;for(rt==0?ie(le,pe,null,null,Ae,Oe,qe,Se,Ae,Oe,qe,Se,$,ee,null,null,pt):(ie(C.ec,C.fc,le,pe,Me,Be,tt,Ve,Ae,Oe,qe,Se,$,ee-B.A,$,ee,pt),++M);rt+2<st;rt+=2)Me=Ae,Be=Oe,tt=qe,Ve=Se,Oe+=b.Rc,Se+=b.Rc,ee+=2*B.A,ie(le,(pe+=2*b.fa)-b.fa,le,pe,Me,Be,tt,Ve,Ae,Oe,qe,Se,$,ee-B.A,$,ee,pt);return pe+=b.fa,b.j+st<b.o?(r(C.ec,C.fc,le,pe,pt),r(C.cc,C.dc,Ae,Oe,ct),r(C.Mc,C.Nc,qe,Se,ct),M--):1&st||ie(le,pe,null,null,Ae,Oe,qe,Se,Ae,Oe,qe,Se,$,ee+B.A,null,null,pt),M}function un(b,C,M){var B=b.F,$=[b.J];if(B!=null){var ee=b.U,ie=C.ba.S,le=ie==Zh||ie==Qh;C=C.ba.f.RGBA;var pe=[0],Ae=b.ka;pe[0]=b.T,b.Kb&&(Ae==0?--pe[0]:(--Ae,$[0]-=b.width),b.j+b.ka+b.T==b.o&&(pe[0]=b.o-b.j-Ae));var Oe=C.eb;Ae=C.fb+Ae*C.A,b=Cn(B,$[0],b.width,ee,pe,Oe,Ae+(le?0:3),C.A),t(M==pe),b&&on(ie)&&vt(Oe,Ae,le,ee,pe,C.A)}return 0}function Zn(b){var C=b.ma,M=C.ba.S,B=11>M,$=M==Xh||M==Yh||M==Zh||M==lm||M==12||on(M);if(C.memory=null,C.Ib=null,C.Jb=null,C.Nd=null,!so(C.Oa,b,$?11:12))return 0;if($&&on(M)&&Gi(),b.da)alert("todo:use_scaling");else{if(B){if(C.Ib=Bt,b.Kb){if(M=b.U+1>>1,C.memory=a(b.U+2*M),C.memory==null)return 0;C.ec=C.memory,C.fc=0,C.cc=C.ec,C.dc=C.fc+b.U,C.Mc=C.cc,C.Nc=C.dc+M,C.Ib=mn,Gi()}}else alert("todo:EmitYUV");$&&(C.Jb=un,B&&ni())}if(B&&!Uy){for(b=0;256>b;++b)yN[b]=89858*(b-128)+e1>>Jh,AN[b]=-22014*(b-128)+e1,bN[b]=-45773*(b-128),wN[b]=113618*(b-128)+e1>>Jh;for(b=rf;b<pm;++b)C=76283*(b-16)+e1>>Jh,SN[b-rf]=or(C,255),_N[b-rf]=or(C+8>>4,15);Uy=1}return 1}function kt(b){var C=b.ma,M=b.U,B=b.T;return t(!(1&b.ka)),0>=M||0>=B?0:(M=C.Ib(b,C),C.Jb!=null&&C.Jb(b,C,M),C.Dc+=M,1)}function ar(b){b.ma.memory=null}function Jr(b,C,M,B){return Le(b,8)!=47?0:(C[0]=Le(b,14)+1,M[0]=Le(b,14)+1,B[0]=Le(b,1),Le(b,3)!=0?0:!b.h)}function rn(b,C){if(4>b)return b+1;var M=b-2>>1;return(2+(1&b)<<M)+Le(C,M)+1}function En(b,C){return 120<C?C-120:1<=(M=((M=sN[C-1])>>4)*b+(8-(15&M)))?M:1;var M}function zn(b,C,M){var B=fe(M),$=b[C+=255&B].g-8;return 0<$&&(se(M,M.u+8),B=fe(M),C+=b[C].value,C+=B&(1<<$)-1),se(M,M.u+b[C].g),b[C].value}function gr(b,C,M){return M.g+=b.g,M.value+=b.value<<C>>>0,t(8>=M.g),b.g}function Jn(b,C,M){var B=b.xc;return t((C=B==0?0:b.vc[b.md*(M>>B)+(C>>B)])<b.Wb),b.Ya[C]}function St(b,C,M,B){var $=b.ab,ee=b.c*C,ie=b.C;C=ie+C;var le=M,pe=B;for(B=b.Ta,M=b.Ua;0<$--;){var Ae=b.gc[$],Oe=ie,qe=C,Se=le,Me=pe,Be=(pe=B,le=M,Ae.Ea);switch(t(Oe<qe),t(qe<=Ae.nc),Ae.hc){case 2:o(Se,Me,(qe-Oe)*Be,pe,le);break;case 0:var tt=Oe,Ve=qe,rt=pe,st=le,pt=(Gt=Ae).Ea;tt==0&&(q(Se,Me,null,null,1,rt,st),An(Se,Me+1,0,0,pt-1,rt,st+1),Me+=pt,st+=pt,++tt);for(var ct=1<<Gt.b,Qt=ct-1,zt=Qe(pt,Gt.b),Dn=Gt.K,Gt=Gt.w+(tt>>Gt.b)*zt;tt<Ve;){var tr=Dn,Fi=Gt,Mn=1;for(s(Se,Me,rt,st-pt,1,rt,st);Mn<pt;){var Kt=(Mn&~Qt)+ct;Kt>pt&&(Kt=pt),(0,d[tr[Fi++]>>8&15])(Se,Me+ +Mn,rt,st+Mn-pt,Kt-Mn,rt,st+Mn),Mn=Kt}Me+=pt,st+=pt,++tt&Qt||(Gt+=zt)}qe!=Ae.nc&&r(pe,le-Be,pe,le+(qe-Oe-1)*Be,Be);break;case 1:for(Be=Se,Ve=Me,pt=(Se=Ae.Ea)-(st=Se&~(rt=(Me=1<<Ae.b)-1)),tt=Qe(Se,Ae.b),ct=Ae.K,Ae=Ae.w+(Oe>>Ae.b)*tt;Oe<qe;){for(Qt=ct,zt=Ae,Dn=new cn,Gt=Ve+st,tr=Ve+Se;Ve<Gt;)Ct(Qt[zt++],Dn),x(Dn,Be,Ve,Me,pe,le),Ve+=Me,le+=Me;Ve<tr&&(Ct(Qt[zt++],Dn),x(Dn,Be,Ve,pt,pe,le),Ve+=pt,le+=pt),++Oe&rt||(Ae+=tt)}break;case 3:if(Se==pe&&Me==le&&0<Ae.b){for(Ve=pe,Se=Be=le+(qe-Oe)*Be-(st=(qe-Oe)*Qe(Ae.Ea,Ae.b)),Me=pe,rt=le,tt=[],st=(pt=st)-1;0<=st;--st)tt[st]=Me[rt+st];for(st=pt-1;0<=st;--st)Ve[Se+st]=tt[st];c(Ae,Oe,qe,pe,Be,pe,le)}else c(Ae,Oe,qe,Se,Me,pe,le)}le=B,pe=M}pe!=M&&r(B,M,le,pe,ee)}function Zi(b,C){var M=b.V,B=b.Ba+b.c*b.C,$=C-b.C;if(t(C<=b.l.o),t(16>=$),0<$){var ee=b.l,ie=b.Ta,le=b.Ua,pe=ee.width;if(St(b,$,M,B),$=le=[le],t((M=b.C)<(B=C)),t(ee.v<ee.va),B>ee.o&&(B=ee.o),M<ee.j){var Ae=ee.j-M;M=ee.j,$[0]+=Ae*pe}if(M>=B?M=0:($[0]+=4*ee.v,ee.ka=M-ee.j,ee.U=ee.va-ee.v,ee.T=B-M,M=1),M){if(le=le[0],11>(M=b.ca).S){var Oe=M.f.RGBA,qe=(B=M.S,$=ee.U,ee=ee.T,Ae=Oe.eb,Oe.A),Se=ee;for(Oe=Oe.fb+b.Ma*Oe.A;0<Se--;){var Me=ie,Be=le,tt=$,Ve=Ae,rt=Oe;switch(B){case $h:w(Me,Be,tt,Ve,rt);break;case Xh:_(Me,Be,tt,Ve,rt);break;case cm:_(Me,Be,tt,Ve,rt),vt(Ve,rt,0,tt,1,0);break;case ky:U(Me,Be,tt,Ve,rt);break;case Yh:At(Me,Be,tt,Ve,rt,1);break;case um:At(Me,Be,tt,Ve,rt,1),vt(Ve,rt,0,tt,1,0);break;case Zh:At(Me,Be,tt,Ve,rt,0);break;case Qh:At(Me,Be,tt,Ve,rt,0),vt(Ve,rt,1,tt,1,0);break;case lm:N(Me,Be,tt,Ve,rt);break;case dm:N(Me,Be,tt,Ve,rt),Tt(Ve,rt,tt,1,0);break;case Py:D(Me,Be,tt,Ve,rt);break;default:t(0)}le+=pe,Oe+=qe}b.Ma+=ee}else alert("todo:EmitRescaledRowsYUVA");t(b.Ma<=M.height)}}b.C=C,t(b.C<=b.i)}function ei(b){var C;if(0<b.ua)return 0;for(C=0;C<b.Wb;++C){var M=b.Ya[C].G,B=b.Ya[C].H;if(0<M[1][B[1]+0].g||0<M[2][B[2]+0].g||0<M[3][B[3]+0].g)return 0}return 1}function dr(b,C,M,B,$,ee){if(b.Z!=0){var ie=b.qd,le=b.rd;for(t(Wl[b.Z]!=null);C<M;++C)Wl[b.Z](ie,le,B,$,B,$,ee),ie=B,le=$,$+=ee;b.qd=ie,b.rd=le}}function Rr(b,C){var M=b.l.ma,B=M.Z==0||M.Z==1?b.l.j:b.C;if(B=b.C<B?B:b.C,t(C<=b.l.o),C>B){var $=b.l.width,ee=M.ca,ie=M.tb+$*B,le=b.V,pe=b.Ba+b.c*B,Ae=b.gc;t(b.ab==1),t(Ae[0].hc==3),g(Ae[0],B,C,le,pe,ee,ie),dr(M,B,C,ee,ie,$)}b.C=b.Ma=C}function vi(b,C,M,B,$,ee,ie){var le=b.$/B,pe=b.$%B,Ae=b.m,Oe=b.s,qe=M+b.$,Se=qe;$=M+B*$;var Me=M+B*ee,Be=280+Oe.ua,tt=b.Pb?le:16777216,Ve=0<Oe.ua?Oe.Wa:null,rt=Oe.wc,st=qe<Me?Jn(Oe,pe,le):null;t(b.C<ee),t(Me<=$);var pt=!1;e:for(;;){for(;pt||qe<Me;){var ct=0;if(le>=tt){var Qt=qe-M;t((tt=b).Pb),tt.wd=tt.m,tt.xd=Qt,0<tt.s.ua&&ln(tt.s.Wa,tt.s.vb),tt=le+oN}if(pe&rt||(st=Jn(Oe,pe,le)),t(st!=null),st.Qb&&(C[qe]=st.qb,pt=!0),!pt)if(we(Ae),st.jc){ct=Ae,Qt=C;var zt=qe,Dn=st.pd[fe(ct)&kr-1];t(st.jc),256>Dn.g?(se(ct,ct.u+Dn.g),Qt[zt]=Dn.value,ct=0):(se(ct,ct.u+Dn.g-256),t(256<=Dn.value),ct=Dn.value),ct==0&&(pt=!0)}else ct=zn(st.G[0],st.H[0],Ae);if(Ae.h)break;if(pt||256>ct){if(!pt)if(st.nd)C[qe]=(st.qb|ct<<8)>>>0;else{if(we(Ae),pt=zn(st.G[1],st.H[1],Ae),we(Ae),Qt=zn(st.G[2],st.H[2],Ae),zt=zn(st.G[3],st.H[3],Ae),Ae.h)break;C[qe]=(zt<<24|pt<<16|ct<<8|Qt)>>>0}if(pt=!1,++qe,++pe>=B&&(pe=0,++le,ie!=null&&le<=ee&&!(le%16)&&ie(b,le),Ve!=null))for(;Se<qe;)ct=C[Se++],Ve.X[(506832829*ct&4294967295)>>>Ve.Mb]=ct}else if(280>ct){if(ct=rn(ct-256,Ae),Qt=zn(st.G[4],st.H[4],Ae),we(Ae),Qt=En(B,Qt=rn(Qt,Ae)),Ae.h)break;if(qe-M<Qt||$-qe<ct)break e;for(zt=0;zt<ct;++zt)C[qe+zt]=C[qe+zt-Qt];for(qe+=ct,pe+=ct;pe>=B;)pe-=B,++le,ie!=null&&le<=ee&&!(le%16)&&ie(b,le);if(t(qe<=$),pe&rt&&(st=Jn(Oe,pe,le)),Ve!=null)for(;Se<qe;)ct=C[Se++],Ve.X[(506832829*ct&4294967295)>>>Ve.Mb]=ct}else{if(!(ct<Be))break e;for(pt=ct-280,t(Ve!=null);Se<qe;)ct=C[Se++],Ve.X[(506832829*ct&4294967295)>>>Ve.Mb]=ct;ct=qe,t(!(pt>>>(Qt=Ve).Xa)),C[ct]=Qt.X[pt],pt=!0}pt||t(Ae.h==Ee(Ae))}if(b.Pb&&Ae.h&&qe<$)t(b.m.h),b.a=5,b.m=b.wd,b.$=b.xd,0<b.s.ua&&ln(b.s.vb,b.s.Wa);else{if(Ae.h)break e;ie!=null&&ie(b,le>ee?ee:le),b.a=0,b.$=qe-M}return 1}return b.a=3,0}function Oi(b){t(b!=null),b.vc=null,b.yc=null,b.Ya=null;var C=b.Wa;C!=null&&(C.X=null),b.vb=null,t(b!=null)}function Or(){var b=new xt;return b==null?null:(b.a=0,b.xb=Ly,pn("Predictor","VP8LPredictors"),pn("Predictor","VP8LPredictors_C"),pn("PredictorAdd","VP8LPredictorsAdd"),pn("PredictorAdd","VP8LPredictorsAdd_C"),o=tn,x=$t,w=Un,_=Vt,N=Ze,D=It,U=it,z.VP8LMapColor32b=h,z.VP8LMapColor8b=l,b)}function Rs(b,C,M,B,$){var ee=1,ie=[b],le=[C],pe=B.m,Ae=B.s,Oe=null,qe=0;e:for(;;){if(M)for(;ee&&Le(pe,1);){var Se=ie,Me=le,Be=B,tt=1,Ve=Be.m,rt=Be.gc[Be.ab],st=Le(Ve,2);if(Be.Oc&1<<st)ee=0;else{switch(Be.Oc|=1<<st,rt.hc=st,rt.Ea=Se[0],rt.nc=Me[0],rt.K=[null],++Be.ab,t(4>=Be.ab),st){case 0:case 1:rt.b=Le(Ve,3)+2,tt=Rs(Qe(rt.Ea,rt.b),Qe(rt.nc,rt.b),0,Be,rt.K),rt.K=rt.K[0];break;case 3:var pt,ct=Le(Ve,8)+1,Qt=16<ct?0:4<ct?1:2<ct?2:3;if(Se[0]=Qe(rt.Ea,Qt),rt.b=Qt,pt=tt=Rs(ct,1,0,Be,rt.K)){var zt,Dn=ct,Gt=rt,tr=1<<(8>>Gt.b),Fi=a(tr);if(Fi==null)pt=0;else{var Mn=Gt.K[0],Kt=Gt.w;for(Fi[0]=Gt.K[0][0],zt=1;zt<1*Dn;++zt)Fi[zt]=Mt(Mn[Kt+zt],Fi[zt-1]);for(;zt<4*tr;++zt)Fi[zt]=0;Gt.K[0]=null,Gt.K[0]=Fi,pt=1}}tt=pt;break;case 2:break;default:t(0)}ee=tt}}if(ie=ie[0],le=le[0],ee&&Le(pe,1)&&!(ee=1<=(qe=Le(pe,4))&&11>=qe)){B.a=3;break e}var Et;if(Et=ee)t:{var wi,Tn,sr,Kr=B,ss=ie,Bs=le,fi=qe,bs=M,Us=Kr.m,Bi=Kr.s,lr=[null],Er=1,hi=0,Nr=aN[fi];n:for(;;){if(bs&&Le(Us,1)){var as=Le(Us,3)+2,oo=Qe(ss,as),bi=Qe(Bs,as),aa=oo*bi;if(!Rs(oo,bi,0,Kr,lr))break n;for(lr=lr[0],Bi.xc=as,wi=0;wi<aa;++wi){var jr=lr[wi]>>8&65535;lr[wi]=jr,jr>=Er&&(Er=jr+1)}}if(Us.h)break n;for(Tn=0;5>Tn;++Tn){var Ui=Ry[Tn];!Tn&&0<fi&&(Ui+=1<<fi),hi<Ui&&(hi=Ui)}var wa=u(Er*Nr,ue),zs=Er,ba=u(zs,te);if(ba==null)var Aa=null;else t(65536>=zs),Aa=ba;var oa=a(hi);if(Aa==null||oa==null||wa==null){Kr.a=1;break n}var Sa=wa;for(wi=sr=0;wi<Er;++wi){var Wr=Aa[wi],_a=Wr.G,lo=Wr.H,Vc=0,ol=1,os=0;for(Tn=0;5>Tn;++Tn){Ui=Ry[Tn],_a[Tn]=Sa,lo[Tn]=sr,!Tn&&0<fi&&(Ui+=1<<fi);i:{var n1,mm=Ui,r1=Kr,sf=oa,NN=Sa,IN=sr,gm=0,Hl=r1.m,TN=Le(Hl,1);if(i(sf,0,0,mm),TN){var kN=Le(Hl,1)+1,PN=Le(Hl,1),Hy=Le(Hl,PN==0?1:8);sf[Hy]=1,kN==2&&(sf[Hy=Le(Hl,8)]=1);var i1=1}else{var Vy=a(19),qy=Le(Hl,4)+4;if(19<qy){r1.a=3;var s1=0;break i}for(n1=0;n1<qy;++n1)Vy[iN[n1]]=Le(Hl,3);var xm=void 0,af=void 0,Gy=r1,RN=Vy,a1=mm,Ky=sf,vm=0,Vl=Gy.m,$y=8,Xy=u(128,ue);r:for(;K(Xy,0,7,RN,19);){if(Le(Vl,1)){var ON=2+2*Le(Vl,3);if((xm=2+Le(Vl,ON))>a1)break r}else xm=a1;for(af=0;af<a1&&xm--;){we(Vl);var Yy=Xy[0+(127&fe(Vl))];se(Vl,Vl.u+Yy.g);var Ru=Yy.value;if(16>Ru)Ky[af++]=Ru,Ru!=0&&($y=Ru);else{var LN=Ru==16,Zy=Ru-16,DN=nN[Zy],Qy=Le(Vl,tN[Zy])+DN;if(af+Qy>a1)break r;for(var MN=LN?$y:0;0<Qy--;)Ky[af++]=MN}}vm=1;break r}vm||(Gy.a=3),i1=vm}(i1=i1&&!Hl.h)&&(gm=K(NN,IN,8,sf,mm)),i1&&gm!=0?s1=gm:(r1.a=3,s1=0)}if(s1==0)break n;if(ol&&rN[Tn]==1&&(ol=Sa[sr].g==0),Vc+=Sa[sr].g,sr+=s1,3>=Tn){var of,ym=oa[0];for(of=1;of<Ui;++of)oa[of]>ym&&(ym=oa[of]);os+=ym}}if(Wr.nd=ol,Wr.Qb=0,ol&&(Wr.qb=(_a[3][lo[3]+0].value<<24|_a[1][lo[1]+0].value<<16|_a[2][lo[2]+0].value)>>>0,Vc==0&&256>_a[0][lo[0]+0].value&&(Wr.Qb=1,Wr.qb+=_a[0][lo[0]+0].value<<8)),Wr.jc=!Wr.Qb&&6>os,Wr.jc){var o1,ll=Wr;for(o1=0;o1<kr;++o1){var ql=o1,Gl=ll.pd[ql],l1=ll.G[0][ll.H[0]+ql];256<=l1.value?(Gl.g=l1.g+256,Gl.value=l1.value):(Gl.g=0,Gl.value=0,ql>>=gr(l1,8,Gl),ql>>=gr(ll.G[1][ll.H[1]+ql],16,Gl),ql>>=gr(ll.G[2][ll.H[2]+ql],0,Gl),gr(ll.G[3][ll.H[3]+ql],24,Gl))}}}Bi.vc=lr,Bi.Wb=Er,Bi.Ya=Aa,Bi.yc=wa,Et=1;break t}Et=0}if(!(ee=Et)){B.a=3;break e}if(0<qe){if(Ae.ua=1<<qe,!be(Ae.Wa,qe)){B.a=1,ee=0;break e}}else Ae.ua=0;var wm=B,Jy=ie,jN=le,bm=wm.s,Am=bm.xc;if(wm.c=Jy,wm.i=jN,bm.md=Qe(Jy,Am),bm.wc=Am==0?-1:(1<<Am)-1,M){B.xb=pN;break e}if((Oe=a(ie*le))==null){B.a=1,ee=0;break e}ee=(ee=vi(B,Oe,0,ie,le,le,null))&&!pe.h;break e}return ee?($!=null?$[0]=Oe:(t(Oe==null),t(M)),B.$=0,M||Oi(Ae)):Oi(Ae),ee}function Qi(b,C){var M=b.c*b.i,B=M+C+16*C;return t(b.c<=C),b.V=a(B),b.V==null?(b.Ta=null,b.Ua=0,b.a=1,0):(b.Ta=b.V,b.Ua=b.Ba+M+C,1)}function Ni(b,C){var M=b.C,B=C-M,$=b.V,ee=b.Ba+b.c*M;for(t(C<=b.l.o);0<B;){var ie=16<B?16:B,le=b.l.ma,pe=b.l.width,Ae=pe*ie,Oe=le.ca,qe=le.tb+pe*M,Se=b.Ta,Me=b.Ua;St(b,ie,$,ee),Xn(Se,Me,Oe,qe,Ae),dr(le,M,M+ie,Oe,qe,pe),B-=ie,$+=ie*b.c,M+=ie}t(M==C),b.C=b.Ma=C}function Br(){this.ub=this.yd=this.td=this.Rb=0}function dn(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Zs(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function ti(){this.Yb=function(){var b=[];return function C(M,B,$){for(var ee=$[B],ie=0;ie<ee&&(M.push($.length>B+1?[]:0),!($.length<B+1));ie++)C(M[ie],B+1,$)}(b,0,[3,11]),b}()}function Ja(){this.jb=a(3),this.Wc=f([4,8],ti),this.Xc=f([4,17],ti)}function at(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Li(){this.ld=this.La=this.dd=this.tc=0}function fr(){this.Na=this.la=0}function Os(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ls(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Vn(){this.uc=this.M=this.Nb=0,this.wa=Array(new Li),this.Y=0,this.ya=Array(new Ls),this.aa=0,this.l=new Sn}function Ln(){this.y=a(16),this.f=a(8),this.ea=a(8)}function In(){this.cb=this.a=0,this.sc="",this.m=new W,this.Od=new Br,this.Kc=new dn,this.ed=new at,this.Qa=new Zs,this.Ic=this.$c=this.Aa=0,this.D=new Vn,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=u(8,W),this.ia=0,this.pb=u(4,Os),this.Pa=new Ja,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ln),this.Hd=0,this.rb=Array(new fr),this.sb=0,this.wa=Array(new Li),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ls),this.L=this.aa=0,this.gd=f([4,2],Li),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Sn(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ko(){var b=new In;return b!=null&&(b.a=0,b.sc="OK",b.cb=0,b.Xb=0,nf||(nf=Kn)),b}function Lr(b,C,M){return b.a==0&&(b.a=C,b.sc=M,b.cb=0),0}function wr(b,C,M){return 3<=M&&b[C+0]==157&&b[C+1]==1&&b[C+2]==42}function ps(b,C){if(b==null)return 0;if(b.a=0,b.sc="OK",C==null)return Lr(b,2,"null VP8Io passed to VP8GetHeaders()");var M=C.data,B=C.w,$=C.ha;if(4>$)return Lr(b,7,"Truncated header.");var ee=M[B+0]|M[B+1]<<8|M[B+2]<<16,ie=b.Od;if(ie.Rb=!(1&ee),ie.td=ee>>1&7,ie.yd=ee>>4&1,ie.ub=ee>>5,3<ie.td)return Lr(b,3,"Incorrect keyframe parameters.");if(!ie.yd)return Lr(b,4,"Frame not displayable.");B+=3,$-=3;var le=b.Kc;if(ie.Rb){if(7>$)return Lr(b,7,"cannot parse picture header");if(!wr(M,B,$))return Lr(b,3,"Bad code word");le.c=16383&(M[B+4]<<8|M[B+3]),le.Td=M[B+4]>>6,le.i=16383&(M[B+6]<<8|M[B+5]),le.Ud=M[B+6]>>6,B+=7,$-=7,b.za=le.c+15>>4,b.Ub=le.i+15>>4,C.width=le.c,C.height=le.i,C.Da=0,C.j=0,C.v=0,C.va=C.width,C.o=C.height,C.da=0,C.ib=C.width,C.hb=C.height,C.U=C.width,C.T=C.height,i((ee=b.Pa).jb,0,255,ee.jb.length),t((ee=b.Qa)!=null),ee.Cb=0,ee.Bb=0,ee.Fb=1,i(ee.Zb,0,0,ee.Zb.length),i(ee.Lb,0,0,ee.Lb)}if(ie.ub>$)return Lr(b,7,"bad partition length");Ne(ee=b.m,M,B,ie.ub),B+=ie.ub,$-=ie.ub,ie.Rb&&(le.Ld=Ie(ee),le.Kd=Ie(ee)),le=b.Qa;var pe,Ae=b.Pa;if(t(ee!=null),t(le!=null),le.Cb=Ie(ee),le.Cb){if(le.Bb=Ie(ee),Ie(ee)){for(le.Fb=Ie(ee),pe=0;4>pe;++pe)le.Zb[pe]=Ie(ee)?ne(ee,7):0;for(pe=0;4>pe;++pe)le.Lb[pe]=Ie(ee)?ne(ee,6):0}if(le.Bb)for(pe=0;3>pe;++pe)Ae.jb[pe]=Ie(ee)?Ce(ee,8):255}else le.Bb=0;if(ee.Ka)return Lr(b,3,"cannot parse segment header");if((le=b.ed).zd=Ie(ee),le.Tb=Ce(ee,6),le.wb=Ce(ee,3),le.Pc=Ie(ee),le.Pc&&Ie(ee)){for(Ae=0;4>Ae;++Ae)Ie(ee)&&(le.vd[Ae]=ne(ee,6));for(Ae=0;4>Ae;++Ae)Ie(ee)&&(le.od[Ae]=ne(ee,6))}if(b.L=le.Tb==0?0:le.zd?1:2,ee.Ka)return Lr(b,3,"cannot parse filter header");var Oe=$;if($=pe=B,B=pe+Oe,le=Oe,b.Xb=(1<<Ce(b.m,2))-1,Oe<3*(Ae=b.Xb))M=7;else{for(pe+=3*Ae,le-=3*Ae,Oe=0;Oe<Ae;++Oe){var qe=M[$+0]|M[$+1]<<8|M[$+2]<<16;qe>le&&(qe=le),Ne(b.Jc[+Oe],M,pe,qe),pe+=qe,le-=qe,$+=3}Ne(b.Jc[+Ae],M,pe,le),M=pe<B?0:5}if(M!=0)return Lr(b,M,"cannot parse partitions");for(M=Ce(pe=b.m,7),$=Ie(pe)?ne(pe,4):0,B=Ie(pe)?ne(pe,4):0,le=Ie(pe)?ne(pe,4):0,Ae=Ie(pe)?ne(pe,4):0,pe=Ie(pe)?ne(pe,4):0,Oe=b.Qa,qe=0;4>qe;++qe){if(Oe.Cb){var Se=Oe.Zb[qe];Oe.Fb||(Se+=M)}else{if(0<qe){b.pb[qe]=b.pb[0];continue}Se=M}var Me=b.pb[qe];Me.Sc[0]=fm[or(Se+$,127)],Me.Sc[1]=hm[or(Se+0,127)],Me.Eb[0]=2*fm[or(Se+B,127)],Me.Eb[1]=101581*hm[or(Se+le,127)]>>16,8>Me.Eb[1]&&(Me.Eb[1]=8),Me.Qc[0]=fm[or(Se+Ae,117)],Me.Qc[1]=hm[or(Se+pe,127)],Me.lc=Se+pe}if(!ie.Rb)return Lr(b,4,"Not a key frame.");for(Ie(ee),ie=b.Pa,M=0;4>M;++M){for($=0;8>$;++$)for(B=0;3>B;++B)for(le=0;11>le;++le)Ae=je(ee,fN[M][$][B][le])?Ce(ee,8):uN[M][$][B][le],ie.Wc[M][$].Yb[B][le]=Ae;for($=0;17>$;++$)ie.Xc[M][$]=ie.Wc[M][hN[$]]}return b.kc=Ie(ee),b.kc&&(b.Bd=Ce(ee,8)),b.cb=1}function Kn(b,C,M,B,$,ee,ie){var le=C[$].Yb[M];for(M=0;16>$;++$){if(!je(b,le[M+0]))return $;for(;!je(b,le[M+1]);)if(le=C[++$].Yb[0],M=0,$==16)return 16;var pe=C[$+1].Yb;if(je(b,le[M+2])){var Ae=b,Oe=0;if(je(Ae,(Se=le)[(qe=M)+3]))if(je(Ae,Se[qe+6])){for(le=0,qe=2*(Oe=je(Ae,Se[qe+8]))+(Se=je(Ae,Se[qe+9+Oe])),Oe=0,Se=lN[qe];Se[le];++le)Oe+=Oe+je(Ae,Se[le]);Oe+=3+(8<<qe)}else je(Ae,Se[qe+7])?(Oe=7+2*je(Ae,165),Oe+=je(Ae,145)):Oe=5+je(Ae,159);else Oe=je(Ae,Se[qe+4])?3+je(Ae,Se[qe+5]):2;le=pe[2]}else Oe=1,le=pe[1];pe=ie+cN[$],0>(Ae=b).b&&Re(Ae);var qe,Se=Ae.b,Me=(qe=Ae.Ca>>1)-(Ae.I>>Se)>>31;--Ae.b,Ae.Ca+=Me,Ae.Ca|=1,Ae.I-=(qe+1&Me)<<Se,ee[pe]=((Oe^Me)-Me)*B[(0<$)+0]}return 16}function er(b){var C=b.rb[b.sb-1];C.la=0,C.Na=0,i(b.zc,0,0,b.zc.length),b.ja=0}function Ur(b,C,M,B,$){$=b[C+M+32*B]+($>>3),b[C+M+32*B]=-256&$?0>$?0:255:$}function ms(b,C,M,B,$,ee){Ur(b,C,0,M,B+$),Ur(b,C,1,M,B+ee),Ur(b,C,2,M,B-ee),Ur(b,C,3,M,B-$)}function hr(b){return(20091*b>>16)+b}function Qn(b,C,M,B){var $,ee=0,ie=a(16);for($=0;4>$;++$){var le=b[C+0]+b[C+8],pe=b[C+0]-b[C+8],Ae=(35468*b[C+4]>>16)-hr(b[C+12]),Oe=hr(b[C+4])+(35468*b[C+12]>>16);ie[ee+0]=le+Oe,ie[ee+1]=pe+Ae,ie[ee+2]=pe-Ae,ie[ee+3]=le-Oe,ee+=4,C++}for($=ee=0;4>$;++$)le=(b=ie[ee+0]+4)+ie[ee+8],pe=b-ie[ee+8],Ae=(35468*ie[ee+4]>>16)-hr(ie[ee+12]),Ur(M,B,0,0,le+(Oe=hr(ie[ee+4])+(35468*ie[ee+12]>>16))),Ur(M,B,1,0,pe+Ae),Ur(M,B,2,0,pe-Ae),Ur(M,B,3,0,le-Oe),ee++,B+=32}function Vr(b,C,M,B){var $=b[C+0]+4,ee=35468*b[C+4]>>16,ie=hr(b[C+4]),le=35468*b[C+1]>>16;ms(M,B,0,$+ie,b=hr(b[C+1]),le),ms(M,B,1,$+ee,b,le),ms(M,B,2,$-ee,b,le),ms(M,B,3,$-ie,b,le)}function Ue(b,C,M,B,$){Qn(b,C,M,B),$&&Qn(b,C+16,M,B+4)}function xe(b,C,M,B){X(b,C+0,M,B,1),X(b,C+32,M,B+128,1)}function Dt(b,C,M,B){var $;for(b=b[C+0]+4,$=0;4>$;++$)for(C=0;4>C;++C)Ur(M,B,C,$,b)}function br(b,C,M,B){b[C+0]&&ge(b,C+0,M,B),b[C+16]&&ge(b,C+16,M,B+4),b[C+32]&&ge(b,C+32,M,B+128),b[C+48]&&ge(b,C+48,M,B+128+4)}function Ii(b,C,M,B){var $,ee=a(16);for($=0;4>$;++$){var ie=b[C+0+$]+b[C+12+$],le=b[C+4+$]+b[C+8+$],pe=b[C+4+$]-b[C+8+$],Ae=b[C+0+$]-b[C+12+$];ee[0+$]=ie+le,ee[8+$]=ie-le,ee[4+$]=Ae+pe,ee[12+$]=Ae-pe}for($=0;4>$;++$)ie=(b=ee[0+4*$]+3)+ee[3+4*$],le=ee[1+4*$]+ee[2+4*$],pe=ee[1+4*$]-ee[2+4*$],Ae=b-ee[3+4*$],M[B+0]=ie+le>>3,M[B+16]=Ae+pe>>3,M[B+32]=ie-le>>3,M[B+48]=Ae-pe>>3,B+=64}function Fa(b,C,M){var B,$=C-32,ee=yi,ie=255-b[$-1];for(B=0;B<M;++B){var le,pe=ee,Ae=ie+b[C-1];for(le=0;le<M;++le)b[C+le]=pe[Ae+b[$+le]];C+=32}}function Rn(b,C){Fa(b,C,4)}function Di(b,C){Fa(b,C,8)}function Xt(b,C){Fa(b,C,16)}function Ar(b,C){var M;for(M=0;16>M;++M)r(b,C+32*M,b,C-32,16)}function ui(b,C){var M;for(M=16;0<M;--M)i(b,C,b[C-1],16),C+=32}function gs(b,C,M){var B;for(B=0;16>B;++B)i(C,M+32*B,b,16)}function Ji(b,C){var M,B=16;for(M=0;16>M;++M)B+=b[C-1+32*M]+b[C+M-32];gs(B>>5,b,C)}function es(b,C){var M,B=8;for(M=0;16>M;++M)B+=b[C-1+32*M];gs(B>>4,b,C)}function Qs(b,C){var M,B=8;for(M=0;16>M;++M)B+=b[C+M-32];gs(B>>4,b,C)}function Po(b,C){gs(128,b,C)}function wt(b,C,M){return b+2*C+M+2>>2}function Ti(b,C){var M,B=C-32;for(B=new Uint8Array([wt(b[B-1],b[B+0],b[B+1]),wt(b[B+0],b[B+1],b[B+2]),wt(b[B+1],b[B+2],b[B+3]),wt(b[B+2],b[B+3],b[B+4])]),M=0;4>M;++M)r(b,C+32*M,B,0,B.length)}function Vi(b,C){var M=b[C-1],B=b[C-1+32],$=b[C-1+64],ee=b[C-1+96];ze(b,C+0,16843009*wt(b[C-1-32],M,B)),ze(b,C+32,16843009*wt(M,B,$)),ze(b,C+64,16843009*wt(B,$,ee)),ze(b,C+96,16843009*wt($,ee,ee))}function Yt(b,C){var M,B=4;for(M=0;4>M;++M)B+=b[C+M-32]+b[C-1+32*M];for(B>>=3,M=0;4>M;++M)i(b,C+32*M,B,4)}function il(b,C){var M=b[C-1+0],B=b[C-1+32],$=b[C-1+64],ee=b[C-1-32],ie=b[C+0-32],le=b[C+1-32],pe=b[C+2-32],Ae=b[C+3-32];b[C+0+96]=wt(B,$,b[C-1+96]),b[C+1+96]=b[C+0+64]=wt(M,B,$),b[C+2+96]=b[C+1+64]=b[C+0+32]=wt(ee,M,B),b[C+3+96]=b[C+2+64]=b[C+1+32]=b[C+0+0]=wt(ie,ee,M),b[C+3+64]=b[C+2+32]=b[C+1+0]=wt(le,ie,ee),b[C+3+32]=b[C+2+0]=wt(pe,le,ie),b[C+3+0]=wt(Ae,pe,le)}function Zt(b,C){var M=b[C+1-32],B=b[C+2-32],$=b[C+3-32],ee=b[C+4-32],ie=b[C+5-32],le=b[C+6-32],pe=b[C+7-32];b[C+0+0]=wt(b[C+0-32],M,B),b[C+1+0]=b[C+0+32]=wt(M,B,$),b[C+2+0]=b[C+1+32]=b[C+0+64]=wt(B,$,ee),b[C+3+0]=b[C+2+32]=b[C+1+64]=b[C+0+96]=wt($,ee,ie),b[C+3+32]=b[C+2+64]=b[C+1+96]=wt(ee,ie,le),b[C+3+64]=b[C+2+96]=wt(ie,le,pe),b[C+3+96]=wt(le,pe,pe)}function Sr(b,C){var M=b[C-1+0],B=b[C-1+32],$=b[C-1+64],ee=b[C-1-32],ie=b[C+0-32],le=b[C+1-32],pe=b[C+2-32],Ae=b[C+3-32];b[C+0+0]=b[C+1+64]=ee+ie+1>>1,b[C+1+0]=b[C+2+64]=ie+le+1>>1,b[C+2+0]=b[C+3+64]=le+pe+1>>1,b[C+3+0]=pe+Ae+1>>1,b[C+0+96]=wt($,B,M),b[C+0+64]=wt(B,M,ee),b[C+0+32]=b[C+1+96]=wt(M,ee,ie),b[C+1+32]=b[C+2+96]=wt(ee,ie,le),b[C+2+32]=b[C+3+96]=wt(ie,le,pe),b[C+3+32]=wt(le,pe,Ae)}function xs(b,C){var M=b[C+0-32],B=b[C+1-32],$=b[C+2-32],ee=b[C+3-32],ie=b[C+4-32],le=b[C+5-32],pe=b[C+6-32],Ae=b[C+7-32];b[C+0+0]=M+B+1>>1,b[C+1+0]=b[C+0+64]=B+$+1>>1,b[C+2+0]=b[C+1+64]=$+ee+1>>1,b[C+3+0]=b[C+2+64]=ee+ie+1>>1,b[C+0+32]=wt(M,B,$),b[C+1+32]=b[C+0+96]=wt(B,$,ee),b[C+2+32]=b[C+1+96]=wt($,ee,ie),b[C+3+32]=b[C+2+96]=wt(ee,ie,le),b[C+3+64]=wt(ie,le,pe),b[C+3+96]=wt(le,pe,Ae)}function eo(b,C){var M=b[C-1+0],B=b[C-1+32],$=b[C-1+64],ee=b[C-1+96];b[C+0+0]=M+B+1>>1,b[C+2+0]=b[C+0+32]=B+$+1>>1,b[C+2+32]=b[C+0+64]=$+ee+1>>1,b[C+1+0]=wt(M,B,$),b[C+3+0]=b[C+1+32]=wt(B,$,ee),b[C+3+32]=b[C+1+64]=wt($,ee,ee),b[C+3+64]=b[C+2+64]=b[C+0+96]=b[C+1+96]=b[C+2+96]=b[C+3+96]=ee}function Ba(b,C){var M=b[C-1+0],B=b[C-1+32],$=b[C-1+64],ee=b[C-1+96],ie=b[C-1-32],le=b[C+0-32],pe=b[C+1-32],Ae=b[C+2-32];b[C+0+0]=b[C+2+32]=M+ie+1>>1,b[C+0+32]=b[C+2+64]=B+M+1>>1,b[C+0+64]=b[C+2+96]=$+B+1>>1,b[C+0+96]=ee+$+1>>1,b[C+3+0]=wt(le,pe,Ae),b[C+2+0]=wt(ie,le,pe),b[C+1+0]=b[C+3+32]=wt(M,ie,le),b[C+1+32]=b[C+3+64]=wt(B,M,ie),b[C+1+64]=b[C+3+96]=wt($,B,M),b[C+1+96]=wt(ee,$,B)}function ts(b,C){var M;for(M=0;8>M;++M)r(b,C+32*M,b,C-32,8)}function Ds(b,C){var M;for(M=0;8>M;++M)i(b,C,b[C-1],8),C+=32}function vs(b,C,M){var B;for(B=0;8>B;++B)i(C,M+32*B,b,8)}function Ms(b,C){var M,B=8;for(M=0;8>M;++M)B+=b[C+M-32]+b[C-1+32*M];vs(B>>4,b,C)}function to(b,C){var M,B=4;for(M=0;8>M;++M)B+=b[C+M-32];vs(B>>3,b,C)}function Js(b,C){var M,B=4;for(M=0;8>M;++M)B+=b[C-1+32*M];vs(B>>3,b,C)}function ga(b,C){vs(128,b,C)}function js(b,C,M){var B=b[C-M],$=b[C+0],ee=3*($-B)+Ul[1020+b[C-2*M]-b[C+M]],ie=Pi[112+(ee+4>>3)];b[C-M]=yi[255+B+Pi[112+(ee+3>>3)]],b[C+0]=yi[255+$-ie]}function Dr(b,C,M,B){var $=b[C+0],ee=b[C+M];return ws[255+b[C-2*M]-b[C-M]]>B||ws[255+ee-$]>B}function xa(b,C,M,B){return 4*ws[255+b[C-M]-b[C+0]]+ws[255+b[C-2*M]-b[C+M]]<=B}function va(b,C,M,B,$){var ee=b[C-3*M],ie=b[C-2*M],le=b[C-M],pe=b[C+0],Ae=b[C+M],Oe=b[C+2*M],qe=b[C+3*M];return 4*ws[255+le-pe]+ws[255+ie-Ae]>B?0:ws[255+b[C-4*M]-ee]<=$&&ws[255+ee-ie]<=$&&ws[255+ie-le]<=$&&ws[255+qe-Oe]<=$&&ws[255+Oe-Ae]<=$&&ws[255+Ae-pe]<=$}function Ro(b,C,M,B){var $=2*B+1;for(B=0;16>B;++B)xa(b,C+B,M,$)&&js(b,C+B,M)}function no(b,C,M,B){var $=2*B+1;for(B=0;16>B;++B)xa(b,C+B*M,1,$)&&js(b,C+B*M,1)}function Bl(b,C,M,B){var $;for($=3;0<$;--$)Ro(b,C+=4*M,M,B)}function Oo(b,C,M,B){var $;for($=3;0<$;--$)no(b,C+=4,M,B)}function On(b,C,M,B,$,ee,ie,le){for(ee=2*ee+1;0<$--;){if(va(b,C,M,ee,ie))if(Dr(b,C,M,le))js(b,C,M);else{var pe=b,Ae=C,Oe=M,qe=pe[Ae-2*Oe],Se=pe[Ae-Oe],Me=pe[Ae+0],Be=pe[Ae+Oe],tt=pe[Ae+2*Oe],Ve=27*(st=Ul[1020+3*(Me-Se)+Ul[1020+qe-Be]])+63>>7,rt=18*st+63>>7,st=9*st+63>>7;pe[Ae-3*Oe]=yi[255+pe[Ae-3*Oe]+st],pe[Ae-2*Oe]=yi[255+qe+rt],pe[Ae-Oe]=yi[255+Se+Ve],pe[Ae+0]=yi[255+Me-Ve],pe[Ae+Oe]=yi[255+Be-rt],pe[Ae+2*Oe]=yi[255+tt-st]}C+=B}}function Fs(b,C,M,B,$,ee,ie,le){for(ee=2*ee+1;0<$--;){if(va(b,C,M,ee,ie))if(Dr(b,C,M,le))js(b,C,M);else{var pe=b,Ae=C,Oe=M,qe=pe[Ae-Oe],Se=pe[Ae+0],Me=pe[Ae+Oe],Be=Pi[112+(4+(tt=3*(Se-qe))>>3)],tt=Pi[112+(tt+3>>3)],Ve=Be+1>>1;pe[Ae-2*Oe]=yi[255+pe[Ae-2*Oe]+Ve],pe[Ae-Oe]=yi[255+qe+tt],pe[Ae+0]=yi[255+Se-Be],pe[Ae+Oe]=yi[255+Me-Ve]}C+=B}}function ea(b,C,M,B,$,ee){On(b,C,M,1,16,B,$,ee)}function qi(b,C,M,B,$,ee){On(b,C,1,M,16,B,$,ee)}function ta(b,C,M,B,$,ee){var ie;for(ie=3;0<ie;--ie)Fs(b,C+=4*M,M,1,16,B,$,ee)}function $e(b,C,M,B,$,ee){var ie;for(ie=3;0<ie;--ie)Fs(b,C+=4,1,M,16,B,$,ee)}function T(b,C,M,B,$,ee,ie,le){On(b,C,$,1,8,ee,ie,le),On(M,B,$,1,8,ee,ie,le)}function V(b,C,M,B,$,ee,ie,le){On(b,C,1,$,8,ee,ie,le),On(M,B,1,$,8,ee,ie,le)}function ye(b,C,M,B,$,ee,ie,le){Fs(b,C+4*$,$,1,8,ee,ie,le),Fs(M,B+4*$,$,1,8,ee,ie,le)}function Pe(b,C,M,B,$,ee,ie,le){Fs(b,C+4,1,$,8,ee,ie,le),Fs(M,B+4,1,$,8,ee,ie,le)}function Fe(){this.ba=new Pn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Hn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function et(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function nt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Pt(){this.ua=0,this.Wa=new Lt,this.vb=new Lt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new te,this.yc=new ue}function xt(){this.xb=this.a=0,this.l=new Sn,this.ca=new Pn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new ae,this.Pb=0,this.wd=new ae,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Pt,this.ab=0,this.gc=u(4,nt),this.Oc=0}function fn(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Sn,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Rt(b,C,M,B,$,ee,ie){for(b=b==null?0:b[C+0],C=0;C<ie;++C)$[ee+C]=b+M[B+C]&255,b=$[ee+C]}function Wn(b,C,M,B,$,ee,ie){var le;if(b==null)Rt(null,null,M,B,$,ee,ie);else for(le=0;le<ie;++le)$[ee+le]=b[C+le]+M[B+le]&255}function ir(b,C,M,B,$,ee,ie){if(b==null)Rt(null,null,M,B,$,ee,ie);else{var le,pe=b[C+0],Ae=pe,Oe=pe;for(le=0;le<ie;++le)Ae=Oe+(pe=b[C+le])-Ae,Oe=M[B+le]+(-256&Ae?0>Ae?0:255:Ae)&255,Ae=pe,$[ee+le]=Oe}}function hn(b,C,M,B){var $=C.width,ee=C.o;if(t(b!=null&&C!=null),0>M||0>=B||M+B>ee)return null;if(!b.Cc){if(b.ga==null){var ie;if(b.ga=new fn,(ie=b.ga==null)||(ie=C.width*C.o,t(b.Gb.length==0),b.Gb=a(ie),b.Uc=0,b.Gb==null?ie=0:(b.mb=b.Gb,b.nb=b.Uc,b.rc=null,ie=1),ie=!ie),!ie){ie=b.ga;var le=b.Fa,pe=b.P,Ae=b.qc,Oe=b.mb,qe=b.nb,Se=pe+1,Me=Ae-1,Be=ie.l;if(t(le!=null&&Oe!=null&&C!=null),Wl[0]=null,Wl[1]=Rt,Wl[2]=Wn,Wl[3]=ir,ie.ca=Oe,ie.tb=qe,ie.c=C.width,ie.i=C.height,t(0<ie.c&&0<ie.i),1>=Ae)C=0;else if(ie.$a=3&le[pe+0],ie.Z=le[pe+0]>>2&3,ie.Lc=le[pe+0]>>4&3,pe=le[pe+0]>>6&3,0>ie.$a||1<ie.$a||4<=ie.Z||1<ie.Lc||pe)C=0;else if(Be.put=kt,Be.ac=Zn,Be.bc=ar,Be.ma=ie,Be.width=C.width,Be.height=C.height,Be.Da=C.Da,Be.v=C.v,Be.va=C.va,Be.j=C.j,Be.o=C.o,ie.$a)e:{t(ie.$a==1),C=Or();t:for(;;){if(C==null){C=0;break e}if(t(ie!=null),ie.mc=C,C.c=ie.c,C.i=ie.i,C.l=ie.l,C.l.ma=ie,C.l.width=ie.c,C.l.height=ie.i,C.a=0,_e(C.m,le,Se,Me),!Rs(ie.c,ie.i,1,C,null)||(C.ab==1&&C.gc[0].hc==3&&ei(C.s)?(ie.ic=1,le=C.c*C.i,C.Ta=null,C.Ua=0,C.V=a(le),C.Ba=0,C.V==null?(C.a=1,C=0):C=1):(ie.ic=0,C=Qi(C,ie.c)),!C))break t;C=1;break e}ie.mc=null,C=0}else C=Me>=ie.c*ie.i;ie=!C}if(ie)return null;b.ga.Lc!=1?b.Ga=0:B=ee-M}t(b.ga!=null),t(M+B<=ee);e:{if(C=(le=b.ga).c,ee=le.l.o,le.$a==0){if(Se=b.rc,Me=b.Vc,Be=b.Fa,pe=b.P+1+M*C,Ae=b.mb,Oe=b.nb+M*C,t(pe<=b.P+b.qc),le.Z!=0)for(t(Wl[le.Z]!=null),ie=0;ie<B;++ie)Wl[le.Z](Se,Me,Be,pe,Ae,Oe,C),Se=Ae,Me=Oe,Oe+=C,pe+=C;else for(ie=0;ie<B;++ie)r(Ae,Oe,Be,pe,C),Se=Ae,Me=Oe,Oe+=C,pe+=C;b.rc=Se,b.Vc=Me}else{if(t(le.mc!=null),C=M+B,t((ie=le.mc)!=null),t(C<=ie.i),ie.C>=C)C=1;else if(le.ic||ni(),le.ic){le=ie.V,Se=ie.Ba,Me=ie.c;var tt=ie.i,Ve=(Be=1,pe=ie.$/Me,Ae=ie.$%Me,Oe=ie.m,qe=ie.s,ie.$),rt=Me*tt,st=Me*C,pt=qe.wc,ct=Ve<st?Jn(qe,Ae,pe):null;t(Ve<=rt),t(C<=tt),t(ei(qe));t:for(;;){for(;!Oe.h&&Ve<st;){if(Ae&pt||(ct=Jn(qe,Ae,pe)),t(ct!=null),we(Oe),256>(tt=zn(ct.G[0],ct.H[0],Oe)))le[Se+Ve]=tt,++Ve,++Ae>=Me&&(Ae=0,++pe<=C&&!(pe%16)&&Rr(ie,pe));else{if(!(280>tt)){Be=0;break t}tt=rn(tt-256,Oe);var Qt,zt=zn(ct.G[4],ct.H[4],Oe);if(we(Oe),!(Ve>=(zt=En(Me,zt=rn(zt,Oe)))&&rt-Ve>=tt)){Be=0;break t}for(Qt=0;Qt<tt;++Qt)le[Se+Ve+Qt]=le[Se+Ve+Qt-zt];for(Ve+=tt,Ae+=tt;Ae>=Me;)Ae-=Me,++pe<=C&&!(pe%16)&&Rr(ie,pe);Ve<st&&Ae&pt&&(ct=Jn(qe,Ae,pe))}t(Oe.h==Ee(Oe))}Rr(ie,pe>C?C:pe);break t}!Be||Oe.h&&Ve<rt?(Be=0,ie.a=Oe.h?5:3):ie.$=Ve,C=Be}else C=vi(ie,ie.V,ie.Ba,ie.c,ie.i,C,Ni);if(!C){B=0;break e}}M+B>=ee&&(b.Cc=1),B=1}if(!B)return null;if(b.Cc&&((B=b.ga)!=null&&(B.mc=null),b.ga=null,0<b.Ga))return alert("todo:WebPDequantizeLevels"),null}return b.nb+M*$}function bt(b,C,M,B,$,ee){for(;0<$--;){var ie,le=b,pe=C+(M?1:0),Ae=b,Oe=C+(M?0:3);for(ie=0;ie<B;++ie){var qe=Ae[Oe+4*ie];qe!=255&&(qe*=32897,le[pe+4*ie+0]=le[pe+4*ie+0]*qe>>23,le[pe+4*ie+1]=le[pe+4*ie+1]*qe>>23,le[pe+4*ie+2]=le[pe+4*ie+2]*qe>>23)}C+=ee}}function _r(b,C,M,B,$){for(;0<B--;){var ee;for(ee=0;ee<M;++ee){var ie=b[C+2*ee+0],le=15&(Ae=b[C+2*ee+1]),pe=4369*le,Ae=(240&Ae|Ae>>4)*pe>>16;b[C+2*ee+0]=(240&ie|ie>>4)*pe>>16&240|(15&ie|ie<<4)*pe>>16>>4&15,b[C+2*ee+1]=240&Ae|le}C+=$}}function xn(b,C,M,B,$,ee,ie,le){var pe,Ae,Oe=255;for(Ae=0;Ae<$;++Ae){for(pe=0;pe<B;++pe){var qe=b[C+pe];ee[ie+4*pe]=qe,Oe&=qe}C+=M,ie+=le}return Oe!=255}function Cr(b,C,M,B,$){var ee;for(ee=0;ee<$;++ee)M[B+ee]=b[C+ee]>>8}function ni(){vt=bt,Tt=_r,Cn=xn,Xn=Cr}function ki(b,C,M){z[b]=function(B,$,ee,ie,le,pe,Ae,Oe,qe,Se,Me,Be,tt,Ve,rt,st,pt){var ct,Qt=pt-1>>1,zt=le[pe+0]|Ae[Oe+0]<<16,Dn=qe[Se+0]|Me[Be+0]<<16;t(B!=null);var Gt=3*zt+Dn+131074>>2;for(C(B[$+0],255&Gt,Gt>>16,tt,Ve),ee!=null&&(Gt=3*Dn+zt+131074>>2,C(ee[ie+0],255&Gt,Gt>>16,rt,st)),ct=1;ct<=Qt;++ct){var tr=le[pe+ct]|Ae[Oe+ct]<<16,Fi=qe[Se+ct]|Me[Be+ct]<<16,Mn=zt+tr+Dn+Fi+524296,Kt=Mn+2*(tr+Dn)>>3;Gt=Kt+zt>>1,zt=(Mn=Mn+2*(zt+Fi)>>3)+tr>>1,C(B[$+2*ct-1],255&Gt,Gt>>16,tt,Ve+(2*ct-1)*M),C(B[$+2*ct-0],255&zt,zt>>16,tt,Ve+(2*ct-0)*M),ee!=null&&(Gt=Mn+Dn>>1,zt=Kt+Fi>>1,C(ee[ie+2*ct-1],255&Gt,Gt>>16,rt,st+(2*ct-1)*M),C(ee[ie+2*ct+0],255&zt,zt>>16,rt,st+(2*ct+0)*M)),zt=tr,Dn=Fi}1&pt||(Gt=3*zt+Dn+131074>>2,C(B[$+pt-1],255&Gt,Gt>>16,tt,Ve+(pt-1)*M),ee!=null&&(Gt=3*Dn+zt+131074>>2,C(ee[ie+pt-1],255&Gt,Gt>>16,rt,st+(pt-1)*M)))}}function Gi(){Wa[$h]=mN,Wa[Xh]=Dy,Wa[ky]=gN,Wa[Yh]=My,Wa[Zh]=jy,Wa[lm]=Fy,Wa[Py]=xN,Wa[cm]=Dy,Wa[um]=My,Wa[Qh]=jy,Wa[dm]=Fy}function Ua(b){return b&~vN?0>b?0:255:b>>By}function na(b,C){return Ua((19077*b>>8)+(26149*C>>8)-14234)}function ns(b,C,M){return Ua((19077*b>>8)-(6419*C>>8)-(13320*M>>8)+8708)}function za(b,C){return Ua((19077*b>>8)+(33050*C>>8)-17685)}function ra(b,C,M,B,$){B[$+0]=na(b,M),B[$+1]=ns(b,C,M),B[$+2]=za(b,C)}function ya(b,C,M,B,$){B[$+0]=za(b,C),B[$+1]=ns(b,C,M),B[$+2]=na(b,M)}function qr(b,C,M,B,$){var ee=ns(b,C,M);C=ee<<3&224|za(b,C)>>3,B[$+0]=248&na(b,M)|ee>>5,B[$+1]=C}function ia(b,C,M,B,$){var ee=240&za(b,C)|15;B[$+0]=240&na(b,M)|ns(b,C,M)>>4,B[$+1]=ee}function ro(b,C,M,B,$){B[$+0]=255,ra(b,C,M,B,$+1)}function sa(b,C,M,B,$){ya(b,C,M,B,$),B[$+3]=255}function Lo(b,C,M,B,$){ra(b,C,M,B,$),B[$+3]=255}function or(b,C){return 0>b?0:b>C?C:b}function rs(b,C,M){z[b]=function(B,$,ee,ie,le,pe,Ae,Oe,qe){for(var Se=Oe+(-2&qe)*M;Oe!=Se;)C(B[$+0],ee[ie+0],le[pe+0],Ae,Oe),C(B[$+1],ee[ie+0],le[pe+0],Ae,Oe+M),$+=2,++ie,++pe,Oe+=2*M;1&qe&&C(B[$+0],ee[ie+0],le[pe+0],Ae,Oe)}}function si(b,C,M){return M==0?b==0?C==0?6:5:C==0?4:0:M}function Do(b,C,M,B,$){switch(b>>>30){case 3:X(C,M,B,$,0);break;case 2:re(C,M,B,$);break;case 1:ge(C,M,B,$)}}function zr(b,C){var M,B,$=C.M,ee=C.Nb,ie=b.oc,le=b.pc+40,pe=b.oc,Ae=b.pc+584,Oe=b.oc,qe=b.pc+600;for(M=0;16>M;++M)ie[le+32*M-1]=129;for(M=0;8>M;++M)pe[Ae+32*M-1]=129,Oe[qe+32*M-1]=129;for(0<$?ie[le-1-32]=pe[Ae-1-32]=Oe[qe-1-32]=129:(i(ie,le-32-1,127,21),i(pe,Ae-32-1,127,9),i(Oe,qe-32-1,127,9)),B=0;B<b.za;++B){var Se=C.ya[C.aa+B];if(0<B){for(M=-1;16>M;++M)r(ie,le+32*M-4,ie,le+32*M+12,4);for(M=-1;8>M;++M)r(pe,Ae+32*M-4,pe,Ae+32*M+4,4),r(Oe,qe+32*M-4,Oe,qe+32*M+4,4)}var Me=b.Gd,Be=b.Hd+B,tt=Se.ad,Ve=Se.Hc;if(0<$&&(r(ie,le-32,Me[Be].y,0,16),r(pe,Ae-32,Me[Be].f,0,8),r(Oe,qe-32,Me[Be].ea,0,8)),Se.Za){var rt=ie,st=le-32+16;for(0<$&&(B>=b.za-1?i(rt,st,Me[Be].y[15],4):r(rt,st,Me[Be+1].y,0,4)),M=0;4>M;M++)rt[st+128+M]=rt[st+256+M]=rt[st+384+M]=rt[st+0+M];for(M=0;16>M;++M,Ve<<=2)rt=ie,st=le+zy[M],ao[Se.Ob[M]](rt,st),Do(Ve,tt,16*+M,rt,st)}else if(rt=si(B,$,Se.Ob[0]),zl[rt](ie,le),Ve!=0)for(M=0;16>M;++M,Ve<<=2)Do(Ve,tt,16*+M,ie,le+zy[M]);for(M=Se.Gc,rt=si(B,$,Se.Dd),al[rt](pe,Ae),al[rt](Oe,qe),Ve=tt,rt=pe,st=Ae,255&(Se=0|M)&&(170&Se?Q(Ve,256,rt,st):de(Ve,256,rt,st)),Se=Oe,Ve=qe,255&(M>>=8)&&(170&M?Q(tt,320,Se,Ve):de(tt,320,Se,Ve)),$<b.Ub-1&&(r(Me[Be].y,0,ie,le+480,16),r(Me[Be].f,0,pe,Ae+224,8),r(Me[Be].ea,0,Oe,qe+224,8)),M=8*ee*b.B,Me=b.sa,Be=b.ta+16*B+16*ee*b.R,tt=b.qa,Se=b.ra+8*B+M,Ve=b.Ha,rt=b.Ia+8*B+M,M=0;16>M;++M)r(Me,Be+M*b.R,ie,le+32*M,16);for(M=0;8>M;++M)r(tt,Se+M*b.B,pe,Ae+32*M,8),r(Ve,rt+M*b.B,Oe,qe+32*M,8)}}function io(b,C,M,B,$,ee,ie,le,pe){var Ae=[0],Oe=[0],qe=0,Se=pe!=null?pe.kd:0,Me=pe??new et;if(b==null||12>M)return 7;Me.data=b,Me.w=C,Me.ha=M,C=[C],M=[M],Me.gb=[Me.gb];e:{var Be=C,tt=M,Ve=Me.gb;if(t(b!=null),t(tt!=null),t(Ve!=null),Ve[0]=0,12<=tt[0]&&!n(b,Be[0],"RIFF")){if(n(b,Be[0]+8,"WEBP")){Ve=3;break e}var rt=Ye(b,Be[0]+4);if(12>rt||4294967286<rt){Ve=3;break e}if(Se&&rt>tt[0]-8){Ve=7;break e}Ve[0]=rt,Be[0]+=12,tt[0]-=12}Ve=0}if(Ve!=0)return Ve;for(rt=0<Me.gb[0],M=M[0];;){e:{var st=b;tt=C,Ve=M;var pt=Ae,ct=Oe,Qt=Be=[0];if((Gt=qe=[qe])[0]=0,8>Ve[0])Ve=7;else{if(!n(st,tt[0],"VP8X")){if(Ye(st,tt[0]+4)!=10){Ve=3;break e}if(18>Ve[0]){Ve=7;break e}var zt=Ye(st,tt[0]+8),Dn=1+Je(st,tt[0]+12);if(2147483648<=Dn*(st=1+Je(st,tt[0]+15))){Ve=3;break e}Qt!=null&&(Qt[0]=zt),pt!=null&&(pt[0]=Dn),ct!=null&&(ct[0]=st),tt[0]+=18,Ve[0]-=18,Gt[0]=1}Ve=0}}if(qe=qe[0],Be=Be[0],Ve!=0)return Ve;if(tt=!!(2&Be),!rt&&qe)return 3;if(ee!=null&&(ee[0]=!!(16&Be)),ie!=null&&(ie[0]=tt),le!=null&&(le[0]=0),ie=Ae[0],Be=Oe[0],qe&&tt&&pe==null){Ve=0;break}if(4>M){Ve=7;break}if(rt&&qe||!rt&&!qe&&!n(b,C[0],"ALPH")){M=[M],Me.na=[Me.na],Me.P=[Me.P],Me.Sa=[Me.Sa];e:{zt=b,Ve=C,rt=M;var Gt=Me.gb;pt=Me.na,ct=Me.P,Qt=Me.Sa,Dn=22,t(zt!=null),t(rt!=null),st=Ve[0];var tr=rt[0];for(t(pt!=null),t(Qt!=null),pt[0]=null,ct[0]=null,Qt[0]=0;;){if(Ve[0]=st,rt[0]=tr,8>tr){Ve=7;break e}var Fi=Ye(zt,st+4);if(4294967286<Fi){Ve=3;break e}var Mn=8+Fi+1&-2;if(Dn+=Mn,0<Gt&&Dn>Gt){Ve=3;break e}if(!n(zt,st,"VP8 ")||!n(zt,st,"VP8L")){Ve=0;break e}if(tr[0]<Mn){Ve=7;break e}n(zt,st,"ALPH")||(pt[0]=zt,ct[0]=st+8,Qt[0]=Fi),st+=Mn,tr-=Mn}}if(M=M[0],Me.na=Me.na[0],Me.P=Me.P[0],Me.Sa=Me.Sa[0],Ve!=0)break}M=[M],Me.Ja=[Me.Ja],Me.xa=[Me.xa];e:if(Gt=b,Ve=C,rt=M,pt=Me.gb[0],ct=Me.Ja,Qt=Me.xa,zt=Ve[0],st=!n(Gt,zt,"VP8 "),Dn=!n(Gt,zt,"VP8L"),t(Gt!=null),t(rt!=null),t(ct!=null),t(Qt!=null),8>rt[0])Ve=7;else{if(st||Dn){if(Gt=Ye(Gt,zt+4),12<=pt&&Gt>pt-12){Ve=3;break e}if(Se&&Gt>rt[0]-8){Ve=7;break e}ct[0]=Gt,Ve[0]+=8,rt[0]-=8,Qt[0]=Dn}else Qt[0]=5<=rt[0]&&Gt[zt+0]==47&&!(Gt[zt+4]>>5),ct[0]=rt[0];Ve=0}if(M=M[0],Me.Ja=Me.Ja[0],Me.xa=Me.xa[0],C=C[0],Ve!=0)break;if(4294967286<Me.Ja)return 3;if(le==null||tt||(le[0]=Me.xa?2:1),ie=[ie],Be=[Be],Me.xa){if(5>M){Ve=7;break}le=ie,Se=Be,tt=ee,b==null||5>M?b=0:5<=M&&b[C+0]==47&&!(b[C+4]>>5)?(rt=[0],Gt=[0],pt=[0],_e(ct=new ae,b,C,M),Jr(ct,rt,Gt,pt)?(le!=null&&(le[0]=rt[0]),Se!=null&&(Se[0]=Gt[0]),tt!=null&&(tt[0]=pt[0]),b=1):b=0):b=0}else{if(10>M){Ve=7;break}le=Be,b==null||10>M||!wr(b,C+3,M-3)?b=0:(Se=b[C+0]|b[C+1]<<8|b[C+2]<<16,tt=16383&(b[C+7]<<8|b[C+6]),b=16383&(b[C+9]<<8|b[C+8]),1&Se||3<(Se>>1&7)||!(Se>>4&1)||Se>>5>=Me.Ja||!tt||!b?b=0:(ie&&(ie[0]=tt),le&&(le[0]=b),b=1))}if(!b||(ie=ie[0],Be=Be[0],qe&&(Ae[0]!=ie||Oe[0]!=Be)))return 3;pe!=null&&(pe[0]=Me,pe.offset=C-pe.w,t(4294967286>C-pe.w),t(pe.offset==pe.ha-M));break}return Ve==0||Ve==7&&qe&&pe==null?(ee!=null&&(ee[0]|=Me.na!=null&&0<Me.na.length),B!=null&&(B[0]=ie),$!=null&&($[0]=Be),0):Ve}function so(b,C,M){var B=C.width,$=C.height,ee=0,ie=0,le=B,pe=$;if(C.Da=b!=null&&0<b.Da,C.Da&&(le=b.cd,pe=b.bd,ee=b.v,ie=b.j,11>M||(ee&=-2,ie&=-2),0>ee||0>ie||0>=le||0>=pe||ee+le>B||ie+pe>$))return 0;if(C.v=ee,C.j=ie,C.va=ee+le,C.o=ie+pe,C.U=le,C.T=pe,C.da=b!=null&&0<b.da,C.da){if(!gt(le,pe,M=[b.ib],ee=[b.hb]))return 0;C.ib=M[0],C.hb=ee[0]}return C.ob=b!=null&&b.ob,C.Kb=b==null||!b.Sd,C.da&&(C.ob=C.ib<3*B/4&&C.hb<3*$/4,C.Kb=0),1}function sl(b){if(b==null)return 2;if(11>b.S){var C=b.f.RGBA;C.fb+=(b.height-1)*C.A,C.A=-C.A}else C=b.f.kb,b=b.height,C.O+=(b-1)*C.fa,C.fa=-C.fa,C.N+=(b-1>>1)*C.Ab,C.Ab=-C.Ab,C.W+=(b-1>>1)*C.Db,C.Db=-C.Db,C.F!=null&&(C.J+=(b-1)*C.lb,C.lb=-C.lb);return 0}function ys(b,C,M,B){if(B==null||0>=b||0>=C)return 2;if(M!=null){if(M.Da){var $=M.cd,ee=M.bd,ie=-2&M.v,le=-2&M.j;if(0>ie||0>le||0>=$||0>=ee||ie+$>b||le+ee>C)return 2;b=$,C=ee}if(M.da){if(!gt(b,C,$=[M.ib],ee=[M.hb]))return 2;b=$[0],C=ee[0]}}B.width=b,B.height=C;e:{var pe=B.width,Ae=B.height;if(b=B.S,0>=pe||0>=Ae||!(b>=$h&&13>b))b=2;else{if(0>=B.Rd&&B.sd==null){ie=ee=$=C=0;var Oe=(le=pe*Wy[b])*Ae;if(11>b||(ee=(Ae+1)/2*(C=(pe+1)/2),b==12&&(ie=($=pe)*Ae)),(Ae=a(Oe+2*ee+ie))==null){b=1;break e}B.sd=Ae,11>b?((pe=B.f.RGBA).eb=Ae,pe.fb=0,pe.A=le,pe.size=Oe):((pe=B.f.kb).y=Ae,pe.O=0,pe.fa=le,pe.Fd=Oe,pe.f=Ae,pe.N=0+Oe,pe.Ab=C,pe.Cd=ee,pe.ea=Ae,pe.W=0+Oe+ee,pe.Db=C,pe.Ed=ee,b==12&&(pe.F=Ae,pe.J=0+Oe+2*ee),pe.Tc=ie,pe.lb=$)}if(C=1,$=B.S,ee=B.width,ie=B.height,$>=$h&&13>$)if(11>$)b=B.f.RGBA,C&=(le=Math.abs(b.A))*(ie-1)+ee<=b.size,C&=le>=ee*Wy[$],C&=b.eb!=null;else{b=B.f.kb,le=(ee+1)/2,Oe=(ie+1)/2,pe=Math.abs(b.fa),Ae=Math.abs(b.Ab);var qe=Math.abs(b.Db),Se=Math.abs(b.lb),Me=Se*(ie-1)+ee;C&=pe*(ie-1)+ee<=b.Fd,C&=Ae*(Oe-1)+le<=b.Cd,C=(C&=qe*(Oe-1)+le<=b.Ed)&pe>=ee&Ae>=le&qe>=le,C&=b.y!=null,C&=b.f!=null,C&=b.ea!=null,$==12&&(C&=Se>=ee,C&=Me<=b.Tc,C&=b.F!=null)}else C=0;b=C?0:2}}return b!=0||M!=null&&M.fd&&(b=sl(B)),b}var kr=64,$n=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],di=24,Mr=32,_n=8,is=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ke("Predictor0","PredictorAdd0"),z.Predictor0=function(){return 4278190080},z.Predictor1=function(b){return b},z.Predictor2=function(b,C,M){return C[M+0]},z.Predictor3=function(b,C,M){return C[M+1]},z.Predictor4=function(b,C,M){return C[M-1]},z.Predictor5=function(b,C,M){return Ot(Ot(b,C[M+1]),C[M+0])},z.Predictor6=function(b,C,M){return Ot(b,C[M-1])},z.Predictor7=function(b,C,M){return Ot(b,C[M+0])},z.Predictor8=function(b,C,M){return Ot(C[M-1],C[M+0])},z.Predictor9=function(b,C,M){return Ot(C[M+0],C[M+1])},z.Predictor10=function(b,C,M){return Ot(Ot(b,C[M-1]),Ot(C[M+0],C[M+1]))},z.Predictor11=function(b,C,M){var B=C[M+0];return 0>=Nt(B>>24&255,b>>24&255,(C=C[M-1])>>24&255)+Nt(B>>16&255,b>>16&255,C>>16&255)+Nt(B>>8&255,b>>8&255,C>>8&255)+Nt(255&B,255&b,255&C)?B:b},z.Predictor12=function(b,C,M){var B=C[M+0];return(bn((b>>24&255)+(B>>24&255)-((C=C[M-1])>>24&255))<<24|bn((b>>16&255)+(B>>16&255)-(C>>16&255))<<16|bn((b>>8&255)+(B>>8&255)-(C>>8&255))<<8|bn((255&b)+(255&B)-(255&C)))>>>0},z.Predictor13=function(b,C,M){var B=C[M-1];return(an((b=Ot(b,C[M+0]))>>24&255,B>>24&255)<<24|an(b>>16&255,B>>16&255)<<16|an(b>>8&255,B>>8&255)<<8|an(255&b,255&B))>>>0};var q=z.PredictorAdd0;z.PredictorAdd1=An,Ke("Predictor2","PredictorAdd2"),Ke("Predictor3","PredictorAdd3"),Ke("Predictor4","PredictorAdd4"),Ke("Predictor5","PredictorAdd5"),Ke("Predictor6","PredictorAdd6"),Ke("Predictor7","PredictorAdd7"),Ke("Predictor8","PredictorAdd8"),Ke("Predictor9","PredictorAdd9"),Ke("Predictor10","PredictorAdd10"),Ke("Predictor11","PredictorAdd11"),Ke("Predictor12","PredictorAdd12"),Ke("Predictor13","PredictorAdd13");var s=z.PredictorAdd2;Ft("ColorIndexInverseTransform","MapARGB","32b",function(b){return b>>8&255},function(b){return b}),Ft("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(b){return b},function(b){return b>>8&255});var o,c=z.ColorIndexInverseTransform,h=z.MapARGB,g=z.VP8LColorIndexInverseTransformAlpha,l=z.MapAlpha,d=z.VP8LPredictorsAdd=[];d.length=16,(z.VP8LPredictors=[]).length=16,(z.VP8LPredictorsAdd_C=[]).length=16,(z.VP8LPredictors_C=[]).length=16;var x,w,_,N,D,U,G,X,re,Q,ge,de,me,Te,ke,De,He,Xe,We,ot,dt,ft,ht,_t,vt,Tt,Cn,Xn,yn=a(511),Gr=a(2041),vn=a(225),Mi=a(767),ji=0,Ul=Gr,Pi=vn,yi=Mi,ws=yn,$h=0,Xh=1,ky=2,Yh=3,Zh=4,lm=5,Py=6,cm=7,um=8,Qh=9,dm=10,tN=[2,3,7],nN=[3,3,11],Ry=[280,256,256,256,40],rN=[0,1,1,1,0],iN=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],sN=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],aN=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],oN=8,fm=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],hm=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],nf=null,lN=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],cN=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Oy=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],uN=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],dN=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],fN=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],hN=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],zl=[],ao=[],al=[],pN=1,Ly=2,Wl=[],Wa=[];ki("UpsampleRgbLinePair",ra,3),ki("UpsampleBgrLinePair",ya,3),ki("UpsampleRgbaLinePair",Lo,4),ki("UpsampleBgraLinePair",sa,4),ki("UpsampleArgbLinePair",ro,4),ki("UpsampleRgba4444LinePair",ia,2),ki("UpsampleRgb565LinePair",qr,2);var mN=z.UpsampleRgbLinePair,gN=z.UpsampleBgrLinePair,Dy=z.UpsampleRgbaLinePair,My=z.UpsampleBgraLinePair,jy=z.UpsampleArgbLinePair,Fy=z.UpsampleRgba4444LinePair,xN=z.UpsampleRgb565LinePair,Jh=16,e1=1<<Jh-1,rf=-227,pm=482,By=6,vN=(256<<By)-1,Uy=0,yN=a(256),wN=a(256),bN=a(256),AN=a(256),SN=a(pm-rf),_N=a(pm-rf);rs("YuvToRgbRow",ra,3),rs("YuvToBgrRow",ya,3),rs("YuvToRgbaRow",Lo,4),rs("YuvToBgraRow",sa,4),rs("YuvToArgbRow",ro,4),rs("YuvToRgba4444Row",ia,2),rs("YuvToRgb565Row",qr,2);var zy=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],t1=[0,2,8],CN=[8,7,6,4,4,2,2,2,1,1,1,1],EN=1;this.WebPDecodeRGBA=function(b,C,M,B,$){var ee=Xh,ie=new Fe,le=new Pn;ie.ba=le,le.S=ee,le.width=[le.width],le.height=[le.height];var pe=le.width,Ae=le.height,Oe=new qt;if(Oe==null||b==null)var qe=2;else t(Oe!=null),qe=io(b,C,M,Oe.width,Oe.height,Oe.Pd,Oe.Qd,Oe.format,null);if(qe!=0?pe=0:(pe!=null&&(pe[0]=Oe.width[0]),Ae!=null&&(Ae[0]=Oe.height[0]),pe=1),pe){le.width=le.width[0],le.height=le.height[0],B!=null&&(B[0]=le.width),$!=null&&($[0]=le.height);e:{if(B=new Sn,($=new et).data=b,$.w=C,$.ha=M,$.kd=1,C=[0],t($!=null),((b=io($.data,$.w,$.ha,null,null,null,C,null,$))==0||b==7)&&C[0]&&(b=4),(C=b)==0){if(t(ie!=null),B.data=$.data,B.w=$.w+$.offset,B.ha=$.ha-$.offset,B.put=kt,B.ac=Zn,B.bc=ar,B.ma=ie,$.xa){if((b=Or())==null){ie=1;break e}if(function(Se,Me){var Be=[0],tt=[0],Ve=[0];t:for(;;){if(Se==null)return 0;if(Me==null)return Se.a=2,0;if(Se.l=Me,Se.a=0,_e(Se.m,Me.data,Me.w,Me.ha),!Jr(Se.m,Be,tt,Ve)){Se.a=3;break t}if(Se.xb=Ly,Me.width=Be[0],Me.height=tt[0],!Rs(Be[0],tt[0],1,Se,null))break t;return 1}return t(Se.a!=0),0}(b,B)){if(B=(C=ys(B.width,B.height,ie.Oa,ie.ba))==0){t:{B=b;n:for(;;){if(B==null){B=0;break t}if(t(B.s.yc!=null),t(B.s.Ya!=null),t(0<B.s.Wb),t((M=B.l)!=null),t(($=M.ma)!=null),B.xb!=0){if(B.ca=$.ba,B.tb=$.tb,t(B.ca!=null),!so($.Oa,M,Yh)){B.a=2;break n}if(!Qi(B,M.width)||M.da)break n;if((M.da||on(B.ca.S))&&ni(),11>B.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),B.ca.f.kb.F!=null&&ni()),B.Pb&&0<B.s.ua&&B.s.vb.X==null&&!be(B.s.vb,B.s.Wa.Xa)){B.a=1;break n}B.xb=0}if(!vi(B,B.V,B.Ba,B.c,B.i,M.o,Zi))break n;$.Dc=B.Ma,B=1;break t}t(B.a!=0),B=0}B=!B}B&&(C=b.a)}else C=b.a}else{if((b=new ko)==null){ie=1;break e}if(b.Fa=$.na,b.P=$.P,b.qc=$.Sa,ps(b,B)){if((C=ys(B.width,B.height,ie.Oa,ie.ba))==0){if(b.Aa=0,M=ie.Oa,t(($=b)!=null),M!=null){if(0<(pe=0>(pe=M.Md)?0:100<pe?255:255*pe/100)){for(Ae=Oe=0;4>Ae;++Ae)12>(qe=$.pb[Ae]).lc&&(qe.ia=pe*CN[0>qe.lc?0:qe.lc]>>3),Oe|=qe.ia;Oe&&(alert("todo:VP8InitRandom"),$.ia=1)}$.Ga=M.Id,100<$.Ga?$.Ga=100:0>$.Ga&&($.Ga=0)}(function(Se,Me){if(Se==null)return 0;if(Me==null)return Lr(Se,2,"NULL VP8Io parameter in VP8Decode().");if(!Se.cb&&!ps(Se,Me))return 0;if(t(Se.cb),Me.ac==null||Me.ac(Me)){Me.ob&&(Se.L=0);var Be=t1[Se.L];if(Se.L==2?(Se.yb=0,Se.zb=0):(Se.yb=Me.v-Be>>4,Se.zb=Me.j-Be>>4,0>Se.yb&&(Se.yb=0),0>Se.zb&&(Se.zb=0)),Se.Va=Me.o+15+Be>>4,Se.Hb=Me.va+15+Be>>4,Se.Hb>Se.za&&(Se.Hb=Se.za),Se.Va>Se.Ub&&(Se.Va=Se.Ub),0<Se.L){var tt=Se.ed;for(Be=0;4>Be;++Be){var Ve;if(Se.Qa.Cb){var rt=Se.Qa.Lb[Be];Se.Qa.Fb||(rt+=tt.Tb)}else rt=tt.Tb;for(Ve=0;1>=Ve;++Ve){var st=Se.gd[Be][Ve],pt=rt;if(tt.Pc&&(pt+=tt.vd[0],Ve&&(pt+=tt.od[0])),0<(pt=0>pt?0:63<pt?63:pt)){var ct=pt;0<tt.wb&&(ct=4<tt.wb?ct>>2:ct>>1)>9-tt.wb&&(ct=9-tt.wb),1>ct&&(ct=1),st.dd=ct,st.tc=2*pt+ct,st.ld=40<=pt?2:15<=pt?1:0}else st.tc=0;st.La=Ve}}}Be=0}else Lr(Se,6,"Frame setup failed"),Be=Se.a;if(Be=Be==0){if(Be){Se.$c=0,0<Se.Aa||(Se.Ic=EN);t:{Be=Se.Ic,tt=4*(ct=Se.za);var Qt=32*ct,zt=ct+1,Dn=0<Se.L?ct*(0<Se.Aa?2:1):0,Gt=(Se.Aa==2?2:1)*ct;if((st=tt+832+(Ve=3*(16*Be+t1[Se.L])/2*Qt)+(rt=Se.Fa!=null&&0<Se.Fa.length?Se.Kc.c*Se.Kc.i:0))!=st)Be=0;else{if(st>Se.Vb){if(Se.Vb=0,Se.Ec=a(st),Se.Fc=0,Se.Ec==null){Be=Lr(Se,1,"no memory during frame initialization.");break t}Se.Vb=st}st=Se.Ec,pt=Se.Fc,Se.Ac=st,Se.Bc=pt,pt+=tt,Se.Gd=u(Qt,Ln),Se.Hd=0,Se.rb=u(zt+1,fr),Se.sb=1,Se.wa=Dn?u(Dn,Li):null,Se.Y=0,Se.D.Nb=0,Se.D.wa=Se.wa,Se.D.Y=Se.Y,0<Se.Aa&&(Se.D.Y+=ct),t(!0),Se.oc=st,Se.pc=pt,pt+=832,Se.ya=u(Gt,Ls),Se.aa=0,Se.D.ya=Se.ya,Se.D.aa=Se.aa,Se.Aa==2&&(Se.D.aa+=ct),Se.R=16*ct,Se.B=8*ct,ct=(Qt=t1[Se.L])*Se.R,Qt=Qt/2*Se.B,Se.sa=st,Se.ta=pt+ct,Se.qa=Se.sa,Se.ra=Se.ta+16*Be*Se.R+Qt,Se.Ha=Se.qa,Se.Ia=Se.ra+8*Be*Se.B+Qt,Se.$c=0,pt+=Ve,Se.mb=rt?st:null,Se.nb=rt?pt:null,t(pt+rt<=Se.Fc+Se.Vb),er(Se),i(Se.Ac,Se.Bc,0,tt),Be=1}}if(Be){if(Me.ka=0,Me.y=Se.sa,Me.O=Se.ta,Me.f=Se.qa,Me.N=Se.ra,Me.ea=Se.Ha,Me.Vd=Se.Ia,Me.fa=Se.R,Me.Rc=Se.B,Me.F=null,Me.J=0,!ji){for(Be=-255;255>=Be;++Be)yn[255+Be]=0>Be?-Be:Be;for(Be=-1020;1020>=Be;++Be)Gr[1020+Be]=-128>Be?-128:127<Be?127:Be;for(Be=-112;112>=Be;++Be)vn[112+Be]=-16>Be?-16:15<Be?15:Be;for(Be=-255;510>=Be;++Be)Mi[255+Be]=0>Be?0:255<Be?255:Be;ji=1}G=Ii,X=Ue,Q=xe,ge=Dt,de=br,re=Vr,me=ea,Te=qi,ke=T,De=V,He=ta,Xe=$e,We=ye,ot=Pe,dt=Ro,ft=no,ht=Bl,_t=Oo,ao[0]=Yt,ao[1]=Rn,ao[2]=Ti,ao[3]=Vi,ao[4]=il,ao[5]=Sr,ao[6]=Zt,ao[7]=xs,ao[8]=Ba,ao[9]=eo,zl[0]=Ji,zl[1]=Xt,zl[2]=Ar,zl[3]=ui,zl[4]=es,zl[5]=Qs,zl[6]=Po,al[0]=Ms,al[1]=Di,al[2]=ts,al[3]=Ds,al[4]=Js,al[5]=to,al[6]=ga,Be=1}else Be=0}Be&&(Be=function(tr,Fi){for(tr.M=0;tr.M<tr.Va;++tr.M){var Mn,Kt=tr.Jc[tr.M&tr.Xb],Et=tr.m,wi=tr;for(Mn=0;Mn<wi.za;++Mn){var Tn=Et,sr=wi,Kr=sr.Ac,ss=sr.Bc+4*Mn,Bs=sr.zc,fi=sr.ya[sr.aa+Mn];if(sr.Qa.Bb?fi.$b=je(Tn,sr.Pa.jb[0])?2+je(Tn,sr.Pa.jb[2]):je(Tn,sr.Pa.jb[1]):fi.$b=0,sr.kc&&(fi.Ad=je(Tn,sr.Bd)),fi.Za=!je(Tn,145)+0,fi.Za){var bs=fi.Ob,Us=0;for(sr=0;4>sr;++sr){var Bi,lr=Bs[0+sr];for(Bi=0;4>Bi;++Bi){lr=dN[Kr[ss+Bi]][lr];for(var Er=Oy[je(Tn,lr[0])];0<Er;)Er=Oy[2*Er+je(Tn,lr[Er])];lr=-Er,Kr[ss+Bi]=lr}r(bs,Us,Kr,ss,4),Us+=4,Bs[0+sr]=lr}}else lr=je(Tn,156)?je(Tn,128)?1:3:je(Tn,163)?2:0,fi.Ob[0]=lr,i(Kr,ss,lr,4),i(Bs,0,lr,4);fi.Dd=je(Tn,142)?je(Tn,114)?je(Tn,183)?1:3:2:0}if(wi.m.Ka)return Lr(tr,7,"Premature end-of-partition0 encountered.");for(;tr.ja<tr.za;++tr.ja){if(wi=Kt,Tn=(Et=tr).rb[Et.sb-1],Kr=Et.rb[Et.sb+Et.ja],Mn=Et.ya[Et.aa+Et.ja],ss=Et.kc?Mn.Ad:0)Tn.la=Kr.la=0,Mn.Za||(Tn.Na=Kr.Na=0),Mn.Hc=0,Mn.Gc=0,Mn.ia=0;else{var hi,Nr;if(Tn=Kr,Kr=wi,ss=Et.Pa.Xc,Bs=Et.ya[Et.aa+Et.ja],fi=Et.pb[Bs.$b],sr=Bs.ad,bs=0,Us=Et.rb[Et.sb-1],lr=Bi=0,i(sr,bs,0,384),Bs.Za)var as=0,oo=ss[3];else{Er=a(16);var bi=Tn.Na+Us.Na;if(bi=nf(Kr,ss[1],bi,fi.Eb,0,Er,0),Tn.Na=Us.Na=(0<bi)+0,1<bi)G(Er,0,sr,bs);else{var aa=Er[0]+3>>3;for(Er=0;256>Er;Er+=16)sr[bs+Er]=aa}as=1,oo=ss[0]}var jr=15&Tn.la,Ui=15&Us.la;for(Er=0;4>Er;++Er){var wa=1&Ui;for(aa=Nr=0;4>aa;++aa)jr=jr>>1|(wa=(bi=nf(Kr,oo,bi=wa+(1&jr),fi.Sc,as,sr,bs))>as)<<7,Nr=Nr<<2|(3<bi?3:1<bi?2:sr[bs+0]!=0),bs+=16;jr>>=4,Ui=Ui>>1|wa<<7,Bi=(Bi<<8|Nr)>>>0}for(oo=jr,as=Ui>>4,hi=0;4>hi;hi+=2){for(Nr=0,jr=Tn.la>>4+hi,Ui=Us.la>>4+hi,Er=0;2>Er;++Er){for(wa=1&Ui,aa=0;2>aa;++aa)bi=wa+(1&jr),jr=jr>>1|(wa=0<(bi=nf(Kr,ss[2],bi,fi.Qc,0,sr,bs)))<<3,Nr=Nr<<2|(3<bi?3:1<bi?2:sr[bs+0]!=0),bs+=16;jr>>=2,Ui=Ui>>1|wa<<5}lr|=Nr<<4*hi,oo|=jr<<4<<hi,as|=(240&Ui)<<hi}Tn.la=oo,Us.la=as,Bs.Hc=Bi,Bs.Gc=lr,Bs.ia=43690&lr?0:fi.ia,ss=!(Bi|lr)}if(0<Et.L&&(Et.wa[Et.Y+Et.ja]=Et.gd[Mn.$b][Mn.Za],Et.wa[Et.Y+Et.ja].La|=!ss),wi.Ka)return Lr(tr,7,"Premature end-of-file encountered.")}if(er(tr),Et=Fi,wi=1,Mn=(Kt=tr).D,Tn=0<Kt.L&&Kt.M>=Kt.zb&&Kt.M<=Kt.Va,Kt.Aa==0)t:{if(Mn.M=Kt.M,Mn.uc=Tn,zr(Kt,Mn),wi=1,Mn=(Nr=Kt.D).Nb,Tn=(lr=t1[Kt.L])*Kt.R,Kr=lr/2*Kt.B,Er=16*Mn*Kt.R,aa=8*Mn*Kt.B,ss=Kt.sa,Bs=Kt.ta-Tn+Er,fi=Kt.qa,sr=Kt.ra-Kr+aa,bs=Kt.Ha,Us=Kt.Ia-Kr+aa,Ui=(jr=Nr.M)==0,Bi=jr>=Kt.Va-1,Kt.Aa==2&&zr(Kt,Nr),Nr.uc)for(wa=(bi=Kt).D.M,t(bi.D.uc),Nr=bi.yb;Nr<bi.Hb;++Nr){as=Nr,oo=wa;var zs=(ba=(os=bi).D).Nb;hi=os.R;var ba=ba.wa[ba.Y+as],Aa=os.sa,oa=os.ta+16*zs*hi+16*as,Sa=ba.dd,Wr=ba.tc;if(Wr!=0)if(t(3<=Wr),os.L==1)0<as&&ft(Aa,oa,hi,Wr+4),ba.La&&_t(Aa,oa,hi,Wr),0<oo&&dt(Aa,oa,hi,Wr+4),ba.La&&ht(Aa,oa,hi,Wr);else{var _a=os.B,lo=os.qa,Vc=os.ra+8*zs*_a+8*as,ol=os.Ha,os=os.Ia+8*zs*_a+8*as;zs=ba.ld,0<as&&(Te(Aa,oa,hi,Wr+4,Sa,zs),De(lo,Vc,ol,os,_a,Wr+4,Sa,zs)),ba.La&&(Xe(Aa,oa,hi,Wr,Sa,zs),ot(lo,Vc,ol,os,_a,Wr,Sa,zs)),0<oo&&(me(Aa,oa,hi,Wr+4,Sa,zs),ke(lo,Vc,ol,os,_a,Wr+4,Sa,zs)),ba.La&&(He(Aa,oa,hi,Wr,Sa,zs),We(lo,Vc,ol,os,_a,Wr,Sa,zs))}}if(Kt.ia&&alert("todo:DitherRow"),Et.put!=null){if(Nr=16*jr,jr=16*(jr+1),Ui?(Et.y=Kt.sa,Et.O=Kt.ta+Er,Et.f=Kt.qa,Et.N=Kt.ra+aa,Et.ea=Kt.Ha,Et.W=Kt.Ia+aa):(Nr-=lr,Et.y=ss,Et.O=Bs,Et.f=fi,Et.N=sr,Et.ea=bs,Et.W=Us),Bi||(jr-=lr),jr>Et.o&&(jr=Et.o),Et.F=null,Et.J=null,Kt.Fa!=null&&0<Kt.Fa.length&&Nr<jr&&(Et.J=hn(Kt,Et,Nr,jr-Nr),Et.F=Kt.mb,Et.F==null&&Et.F.length==0)){wi=Lr(Kt,3,"Could not decode alpha data.");break t}Nr<Et.j&&(lr=Et.j-Nr,Nr=Et.j,t(!(1&lr)),Et.O+=Kt.R*lr,Et.N+=Kt.B*(lr>>1),Et.W+=Kt.B*(lr>>1),Et.F!=null&&(Et.J+=Et.width*lr)),Nr<jr&&(Et.O+=Et.v,Et.N+=Et.v>>1,Et.W+=Et.v>>1,Et.F!=null&&(Et.J+=Et.v),Et.ka=Nr-Et.j,Et.U=Et.va-Et.v,Et.T=jr-Nr,wi=Et.put(Et))}Mn+1!=Kt.Ic||Bi||(r(Kt.sa,Kt.ta-Tn,ss,Bs+16*Kt.R,Tn),r(Kt.qa,Kt.ra-Kr,fi,sr+8*Kt.B,Kr),r(Kt.Ha,Kt.Ia-Kr,bs,Us+8*Kt.B,Kr))}if(!wi)return Lr(tr,6,"Output aborted.")}return 1}(Se,Me)),Me.bc!=null&&Me.bc(Me),Be&=1}return Be?(Se.cb=0,Be):0})(b,B)||(C=b.a)}}else C=b.a}C==0&&ie.Oa!=null&&ie.Oa.fd&&(C=sl(ie.ba))}ie=C}ee=ie!=0?null:11>ee?le.f.RGBA.eb:le.f.kb.y}else ee=null;return ee};var Wy=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function p(z,he){for(var H="",K=0;K<4;K++)H+=String.fromCharCode(z[he++]);return H}function y(z,he){return z[he+0]|z[he+1]<<8}function S(z,he){return(z[he+0]|z[he+1]<<8|z[he+2]<<16)>>>0}function E(z,he){return(z[he+0]|z[he+1]<<8|z[he+2]<<16|z[he+3]<<24)>>>0}new m;var A=[0],R=[0],I=[],P=new m,k=e,O=function(z,he){var H={},K=0,ue=!1,oe=0,te=0;if(H.frames=[],!function(W,ae){for(var fe=0;fe<4;fe++)if(W[ae+fe]!="RIFF".charCodeAt(fe))return!0;return!1}(z,he)){for(E(z,he+=4),he+=8;he<z.length;){var Ne=p(z,he),Ce=E(z,he+=4);he+=4;var ne=Ce+(1&Ce);switch(Ne){case"VP8 ":case"VP8L":H.frames[K]===void 0&&(H.frames[K]={}),(Le=H.frames[K]).src_off=ue?te:he-8,Le.src_size=oe+Ce+8,K++,ue&&(ue=!1,oe=0,te=0);break;case"VP8X":(Le=H.header={}).feature_flags=z[he];var _e=he+4;Le.canvas_width=1+S(z,_e),_e+=3,Le.canvas_height=1+S(z,_e),_e+=3;break;case"ALPH":ue=!0,oe=ne+8,te=he-8;break;case"ANIM":(Le=H.header).bgcolor=E(z,he),_e=he+4,Le.loop_count=y(z,_e),_e+=2;break;case"ANMF":var ve,Le;(Le=H.frames[K]={}).offset_x=2*S(z,he),he+=3,Le.offset_y=2*S(z,he),he+=3,Le.width=1+S(z,he),he+=3,Le.height=1+S(z,he),he+=3,Le.duration=S(z,he),he+=3,ve=z[he++],Le.dispose=1&ve,Le.blend=ve>>1&1}Ne!="ANMF"&&(he+=ne)}return H}}(k,0);O.response=k,O.rgbaoutput=!0,O.dataurl=!1;var L=O.header?O.header:null,j=O.frames?O.frames:null;if(L){L.loop_counter=L.loop_count,A=[L.canvas_height],R=[L.canvas_width];for(var J=0;J<j.length&&j[J].blend!=0;J++);}var ce=j[0],Y=P.WebPDecodeRGBA(k,ce.src_off,ce.src_size,R,A);ce.rgba=Y,ce.imgwidth=R[0],ce.imgheight=A[0];for(var Z=0;Z<R[0]*A[0]*4;Z++)I[Z]=Y[Z];return this.width=R,this.height=A,this.data=I,this}(function(e){var t,n,r,i,a,u,f,m,p,y=function(W){return W=W||{},this.isStrokeTransparent=W.isStrokeTransparent||!1,this.strokeOpacity=W.strokeOpacity||1,this.strokeStyle=W.strokeStyle||"#000000",this.fillStyle=W.fillStyle||"#000000",this.isFillTransparent=W.isFillTransparent||!1,this.fillOpacity=W.fillOpacity||1,this.font=W.font||"10px sans-serif",this.textBaseline=W.textBaseline||"alphabetic",this.textAlign=W.textAlign||"left",this.lineWidth=W.lineWidth||1,this.lineJoin=W.lineJoin||"miter",this.lineCap=W.lineCap||"butt",this.path=W.path||[],this.transform=W.transform!==void 0?W.transform.clone():new m,this.globalCompositeOperation=W.globalCompositeOperation||"normal",this.globalAlpha=W.globalAlpha||1,this.clip_path=W.clip_path||[],this.currentPoint=W.currentPoint||new u,this.miterLimit=W.miterLimit||10,this.lastPoint=W.lastPoint||new u,this.lineDashOffset=W.lineDashOffset||0,this.lineDash=W.lineDash||[],this.margin=W.margin||[0,0,0,0],this.prevPageLastElemOffset=W.prevPageLastElemOffset||0,this.ignoreClearRect=typeof W.ignoreClearRect!="boolean"||W.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new S(this),t=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,u=this.internal.Point,f=this.internal.Rectangle,m=this.internal.Matrix,p=new y}]);var S=function(W){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var ae=W;Object.defineProperty(this,"pdf",{get:function(){return ae}});var fe=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return fe},set:function(Ye){fe=!!Ye}});var Ee=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Ee},set:function(Ye){Ee=!!Ye}});var se=0;Object.defineProperty(this,"posX",{get:function(){return se},set:function(Ye){isNaN(Ye)||(se=Ye)}});var we=0;Object.defineProperty(this,"posY",{get:function(){return we},set:function(Ye){isNaN(Ye)||(we=Ye)}}),Object.defineProperty(this,"margin",{get:function(){return p.margin},set:function(Ye){var be;typeof Ye=="number"?be=[Ye,Ye,Ye,Ye]:((be=new Array(4))[0]=Ye[0],be[1]=Ye.length>=2?Ye[1]:be[0],be[2]=Ye.length>=3?Ye[2]:be[0],be[3]=Ye.length>=4?Ye[3]:be[1]),p.margin=be}});var Re=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Re},set:function(Ye){Re=Ye}});var Ie=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ie},set:function(Ye){Ie=Ye}});var je=[];Object.defineProperty(this,"pageBreaks",{get:function(){return je},set:function(Ye){je=Ye}}),Object.defineProperty(this,"ctx",{get:function(){return p},set:function(Ye){Ye instanceof y&&(p=Ye)}}),Object.defineProperty(this,"path",{get:function(){return p.path},set:function(Ye){p.path=Ye}});var ze=[];Object.defineProperty(this,"ctxStack",{get:function(){return ze},set:function(Ye){ze=Ye}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ye){var be;be=E(Ye),this.ctx.fillStyle=be.style,this.ctx.isFillTransparent=be.a===0,this.ctx.fillOpacity=be.a,this.pdf.setFillColor(be.r,be.g,be.b,{a:be.a}),this.pdf.setTextColor(be.r,be.g,be.b,{a:be.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ye){var be=E(Ye);this.ctx.strokeStyle=be.style,this.ctx.isStrokeTransparent=be.a===0,this.ctx.strokeOpacity=be.a,be.a===0?this.pdf.setDrawColor(255,255,255):(be.a,this.pdf.setDrawColor(be.r,be.g,be.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ye){["butt","round","square"].indexOf(Ye)!==-1&&(this.ctx.lineCap=Ye,this.pdf.setLineCap(Ye))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ye){isNaN(Ye)||(this.ctx.lineWidth=Ye,this.pdf.setLineWidth(Ye))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ye){["bevel","round","miter"].indexOf(Ye)!==-1&&(this.ctx.lineJoin=Ye,this.pdf.setLineJoin(Ye))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ye){isNaN(Ye)||(this.ctx.miterLimit=Ye,this.pdf.setMiterLimit(Ye))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ye){this.ctx.textBaseline=Ye}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ye){["right","end","center","left","start"].indexOf(Ye)!==-1&&(this.ctx.textAlign=Ye)}});var Ge=null,Je=null;Object.defineProperty(this,"fontFaces",{get:function(){return Je},set:function(Ye){Ge=null,Je=Ye}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ye){var be;if(this.ctx.font=Ye,(be=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ye))!==null){var ln=be[1];be[2];var Lt=be[3],gt=be[4];be[5];var Qe=be[6],Mt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(gt)[2];gt=Math.floor(Mt==="px"?parseFloat(gt)*this.pdf.internal.scaleFactor:Mt==="em"?parseFloat(gt)*this.pdf.getFontSize():parseFloat(gt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(gt);var Ke=function($t){var Ft,Un,Vt=[],Ze=$t.trim();if(Ze==="")return jg;if(Ze in m3)return[m3[Ze]];for(;Ze!=="";){switch(Un=null,Ft=(Ze=x3(Ze)).charAt(0)){case'"':case"'":Un=hU(Ze.substring(1),Ft);break;default:Un=pU(Ze)}if(Un===null||(Vt.push(Un[0]),(Ze=x3(Un[1]))!==""&&Ze.charAt(0)!==","))return jg;Ze=Ze.replace(/^,/,"")}return Vt}(Qe);if(this.fontFaces){var cn=function($t,Ft){if(Ge===null){var Un=function(Vt){var Ze=[];return Object.keys(Vt).forEach(function(It){Vt[It].forEach(function(it){var At=null;switch(it){case"bold":At={family:It,weight:"bold"};break;case"italic":At={family:It,style:"italic"};break;case"bolditalic":At={family:It,weight:"bold",style:"italic"};break;case"":case"normal":At={family:It}}At!==null&&(At.ref={name:It,style:it},Ze.push(At))})}),Ze}($t.getFontList());Ge=function(Vt){for(var Ze={},It=0;It<Vt.length;++It){var it=Mg(Vt[It]),At=it.family,pn=it.stretch,on=it.style,ut=it.weight;Ze[At]=Ze[At]||{},Ze[At][pn]=Ze[At][pn]||{},Ze[At][pn][on]=Ze[At][pn][on]||{},Ze[At][pn][on][ut]=it}return Ze}(Un.concat(Ft))}return Ge}(this.pdf,this.fontFaces),Ot=Ke.map(function($t){return{family:$t,stretch:"normal",weight:Lt,style:ln}}),bn=function($t,Ft,Un){for(var Vt=(Un=Un||{}).defaultFontFamily||"times",Ze=Object.assign({},fU,Un.genericFontFamilies||{}),It=null,it=null,At=0;At<Ft.length;++At)if(Ze[(It=Mg(Ft[At])).family]&&(It.family=Ze[It.family]),$t.hasOwnProperty(It.family)){it=$t[It.family];break}if(!(it=it||$t[Vt]))throw new Error("Could not find a font-family for the rule '"+g3(It)+"' and default family '"+Vt+"'.");if(it=function(pn,on){if(on[pn])return on[pn];var ut=Ex[pn],nn=ut<=Ex.normal?-1:1,Pn=p3(on,rE,ut,nn);if(!Pn)throw new Error("Could not find a matching font-stretch value for "+pn);return Pn}(It.stretch,it),it=function(pn,on){if(on[pn])return on[pn];for(var ut=nE[pn],nn=0;nn<ut.length;++nn)if(on[ut[nn]])return on[ut[nn]];throw new Error("Could not find a matching font-style for "+pn)}(It.style,it),!(it=function(pn,on){if(on[pn])return on[pn];if(pn===400&&on[500])return on[500];if(pn===500&&on[400])return on[400];var ut=dU[pn],nn=p3(on,iE,ut,pn<400?-1:1);if(!nn)throw new Error("Could not find a matching font-weight for value "+pn);return nn}(It.weight,it)))throw new Error("Failed to resolve a font for the rule '"+g3(It)+"'.");return it}(cn,Ot);this.pdf.setFont(bn.ref.name,bn.ref.style)}else{var an="";(Lt==="bold"||parseInt(Lt,10)>=700||ln==="bold")&&(an="bold"),ln==="italic"&&(an+="italic"),an.length===0&&(an="normal");for(var Nt="",An={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},tn=0;tn<Ke.length;tn++){if(this.pdf.internal.getFont(Ke[tn],an,{noFallback:!0,disableWarning:!0})!==void 0){Nt=Ke[tn];break}if(an==="bolditalic"&&this.pdf.internal.getFont(Ke[tn],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Nt=Ke[tn],an="bold";else if(this.pdf.internal.getFont(Ke[tn],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Nt=Ke[tn],an="normal";break}}if(Nt===""){for(var Ct=0;Ct<Ke.length;Ct++)if(An[Ke[Ct]]){Nt=An[Ke[Ct]];break}}Nt=Nt===""?"Times":Nt,this.pdf.setFont(Nt,an)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ye){this.ctx.globalCompositeOperation=Ye}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ye){this.ctx.globalAlpha=Ye}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ye){this.ctx.lineDashOffset=Ye,Le.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ye){this.ctx.lineDash=Ye,Le.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ye){this.ctx.ignoreClearRect=!!Ye}})};S.prototype.setLineDash=function(W){this.lineDash=W},S.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},S.prototype.fill=function(){j.call(this,"fill",!1)},S.prototype.stroke=function(){j.call(this,"stroke",!1)},S.prototype.beginPath=function(){this.path=[{type:"begin"}]},S.prototype.moveTo=function(W,ae){if(isNaN(W)||isNaN(ae))throw Fr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var fe=this.ctx.transform.applyToPoint(new u(W,ae));this.path.push({type:"mt",x:fe.x,y:fe.y}),this.ctx.lastPoint=new u(W,ae)},S.prototype.closePath=function(){var W=new u(0,0),ae=0;for(ae=this.path.length-1;ae!==-1;ae--)if(this.path[ae].type==="begin"&&Ir(this.path[ae+1])==="object"&&typeof this.path[ae+1].x=="number"){W=new u(this.path[ae+1].x,this.path[ae+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new u(W.x,W.y)},S.prototype.lineTo=function(W,ae){if(isNaN(W)||isNaN(ae))throw Fr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var fe=this.ctx.transform.applyToPoint(new u(W,ae));this.path.push({type:"lt",x:fe.x,y:fe.y}),this.ctx.lastPoint=new u(fe.x,fe.y)},S.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),j.call(this,null,!0)},S.prototype.quadraticCurveTo=function(W,ae,fe,Ee){if(isNaN(fe)||isNaN(Ee)||isNaN(W)||isNaN(ae))throw Fr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var se=this.ctx.transform.applyToPoint(new u(fe,Ee)),we=this.ctx.transform.applyToPoint(new u(W,ae));this.path.push({type:"qct",x1:we.x,y1:we.y,x:se.x,y:se.y}),this.ctx.lastPoint=new u(se.x,se.y)},S.prototype.bezierCurveTo=function(W,ae,fe,Ee,se,we){if(isNaN(se)||isNaN(we)||isNaN(W)||isNaN(ae)||isNaN(fe)||isNaN(Ee))throw Fr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Re=this.ctx.transform.applyToPoint(new u(se,we)),Ie=this.ctx.transform.applyToPoint(new u(W,ae)),je=this.ctx.transform.applyToPoint(new u(fe,Ee));this.path.push({type:"bct",x1:Ie.x,y1:Ie.y,x2:je.x,y2:je.y,x:Re.x,y:Re.y}),this.ctx.lastPoint=new u(Re.x,Re.y)},S.prototype.arc=function(W,ae,fe,Ee,se,we){if(isNaN(W)||isNaN(ae)||isNaN(fe)||isNaN(Ee)||isNaN(se))throw Fr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(we=!!we,!this.ctx.transform.isIdentity){var Re=this.ctx.transform.applyToPoint(new u(W,ae));W=Re.x,ae=Re.y;var Ie=this.ctx.transform.applyToPoint(new u(0,fe)),je=this.ctx.transform.applyToPoint(new u(0,0));fe=Math.sqrt(Math.pow(Ie.x-je.x,2)+Math.pow(Ie.y-je.y,2))}Math.abs(se-Ee)>=2*Math.PI&&(Ee=0,se=2*Math.PI),this.path.push({type:"arc",x:W,y:ae,radius:fe,startAngle:Ee,endAngle:se,counterclockwise:we})},S.prototype.arcTo=function(W,ae,fe,Ee,se){throw new Error("arcTo not implemented.")},S.prototype.rect=function(W,ae,fe,Ee){if(isNaN(W)||isNaN(ae)||isNaN(fe)||isNaN(Ee))throw Fr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(W,ae),this.lineTo(W+fe,ae),this.lineTo(W+fe,ae+Ee),this.lineTo(W,ae+Ee),this.lineTo(W,ae),this.lineTo(W+fe,ae),this.lineTo(W,ae)},S.prototype.fillRect=function(W,ae,fe,Ee){if(isNaN(W)||isNaN(ae)||isNaN(fe)||isNaN(Ee))throw Fr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!A.call(this)){var se={};this.lineCap!=="butt"&&(se.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(se.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(W,ae,fe,Ee),this.fill(),se.hasOwnProperty("lineCap")&&(this.lineCap=se.lineCap),se.hasOwnProperty("lineJoin")&&(this.lineJoin=se.lineJoin)}},S.prototype.strokeRect=function(W,ae,fe,Ee){if(isNaN(W)||isNaN(ae)||isNaN(fe)||isNaN(Ee))throw Fr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");R.call(this)||(this.beginPath(),this.rect(W,ae,fe,Ee),this.stroke())},S.prototype.clearRect=function(W,ae,fe,Ee){if(isNaN(W)||isNaN(ae)||isNaN(fe)||isNaN(Ee))throw Fr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(W,ae,fe,Ee))},S.prototype.save=function(W){W=typeof W!="boolean"||W;for(var ae=this.pdf.internal.getCurrentPageInfo().pageNumber,fe=0;fe<this.pdf.internal.getNumberOfPages();fe++)this.pdf.setPage(fe+1),this.pdf.internal.out("q");if(this.pdf.setPage(ae),W){this.ctx.fontSize=this.pdf.internal.getFontSize();var Ee=new y(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Ee}},S.prototype.restore=function(W){W=typeof W!="boolean"||W;for(var ae=this.pdf.internal.getCurrentPageInfo().pageNumber,fe=0;fe<this.pdf.internal.getNumberOfPages();fe++)this.pdf.setPage(fe+1),this.pdf.internal.out("Q");this.pdf.setPage(ae),W&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},S.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var E=function(W){var ae,fe,Ee,se;if(W.isCanvasGradient===!0&&(W=W.getColor()),!W)return{r:0,g:0,b:0,a:0,style:W};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(W))ae=0,fe=0,Ee=0,se=0;else{var we=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(W);if(we!==null)ae=parseInt(we[1]),fe=parseInt(we[2]),Ee=parseInt(we[3]),se=1;else if((we=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(W))!==null)ae=parseInt(we[1]),fe=parseInt(we[2]),Ee=parseInt(we[3]),se=parseFloat(we[4]);else{if(se=1,typeof W=="string"&&W.charAt(0)!=="#"){var Re=new XC(W);W=Re.ok?Re.toHex():"#000000"}W.length===4?(ae=W.substring(1,2),ae+=ae,fe=W.substring(2,3),fe+=fe,Ee=W.substring(3,4),Ee+=Ee):(ae=W.substring(1,3),fe=W.substring(3,5),Ee=W.substring(5,7)),ae=parseInt(ae,16),fe=parseInt(fe,16),Ee=parseInt(Ee,16)}}return{r:ae,g:fe,b:Ee,a:se,style:W}},A=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},R=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};S.prototype.fillText=function(W,ae,fe,Ee){if(isNaN(ae)||isNaN(fe)||typeof W!="string")throw Fr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Ee=isNaN(Ee)?void 0:Ee,!A.call(this)){var se=ne(this.ctx.transform.rotation),we=this.ctx.transform.scaleX;K.call(this,{text:W,x:ae,y:fe,scale:we,angle:se,align:this.textAlign,maxWidth:Ee})}},S.prototype.strokeText=function(W,ae,fe,Ee){if(isNaN(ae)||isNaN(fe)||typeof W!="string")throw Fr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!R.call(this)){Ee=isNaN(Ee)?void 0:Ee;var se=ne(this.ctx.transform.rotation),we=this.ctx.transform.scaleX;K.call(this,{text:W,x:ae,y:fe,scale:we,renderingMode:"stroke",angle:se,align:this.textAlign,maxWidth:Ee})}},S.prototype.measureText=function(W){if(typeof W!="string")throw Fr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var ae=this.pdf,fe=this.pdf.internal.scaleFactor,Ee=ae.internal.getFontSize(),se=ae.getStringUnitWidth(W)*Ee/ae.internal.scaleFactor;return new function(we){var Re=(we=we||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Re}}),this}({width:se*=Math.round(96*fe/72*1e4)/1e4})},S.prototype.scale=function(W,ae){if(isNaN(W)||isNaN(ae))throw Fr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var fe=new m(W,0,0,ae,0,0);this.ctx.transform=this.ctx.transform.multiply(fe)},S.prototype.rotate=function(W){if(isNaN(W))throw Fr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var ae=new m(Math.cos(W),Math.sin(W),-Math.sin(W),Math.cos(W),0,0);this.ctx.transform=this.ctx.transform.multiply(ae)},S.prototype.translate=function(W,ae){if(isNaN(W)||isNaN(ae))throw Fr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var fe=new m(1,0,0,1,W,ae);this.ctx.transform=this.ctx.transform.multiply(fe)},S.prototype.transform=function(W,ae,fe,Ee,se,we){if(isNaN(W)||isNaN(ae)||isNaN(fe)||isNaN(Ee)||isNaN(se)||isNaN(we))throw Fr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Re=new m(W,ae,fe,Ee,se,we);this.ctx.transform=this.ctx.transform.multiply(Re)},S.prototype.setTransform=function(W,ae,fe,Ee,se,we){W=isNaN(W)?1:W,ae=isNaN(ae)?0:ae,fe=isNaN(fe)?0:fe,Ee=isNaN(Ee)?1:Ee,se=isNaN(se)?0:se,we=isNaN(we)?0:we,this.ctx.transform=new m(W,ae,fe,Ee,se,we)};var I=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};S.prototype.drawImage=function(W,ae,fe,Ee,se,we,Re,Ie,je){var ze=this.pdf.getImageProperties(W),Ge=1,Je=1,Ye=1,be=1;Ee!==void 0&&Ie!==void 0&&(Ye=Ie/Ee,be=je/se,Ge=ze.width/Ee*Ie/Ee,Je=ze.height/se*je/se),we===void 0&&(we=ae,Re=fe,ae=0,fe=0),Ee!==void 0&&Ie===void 0&&(Ie=Ee,je=se),Ee===void 0&&Ie===void 0&&(Ie=ze.width,je=ze.height);for(var ln,Lt=this.ctx.transform.decompose(),gt=ne(Lt.rotate.shx),Qe=new m,Mt=(Qe=(Qe=(Qe=Qe.multiply(Lt.translate)).multiply(Lt.skew)).multiply(Lt.scale)).applyToRectangle(new f(we-ae*Ye,Re-fe*be,Ee*Ge,se*Je)),Ke=P.call(this,Mt),cn=[],Ot=0;Ot<Ke.length;Ot+=1)cn.indexOf(Ke[Ot])===-1&&cn.push(Ke[Ot]);if(L(cn),this.autoPaging)for(var bn=cn[0],an=cn[cn.length-1],Nt=bn;Nt<an+1;Nt++){this.pdf.setPage(Nt);var An=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],tn=Nt===1?this.posY+this.margin[0]:this.margin[0],Ct=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],$t=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ft=Nt===1?0:Ct+(Nt-2)*$t;if(this.ctx.clip_path.length!==0){var Un=this.path;ln=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=O(ln,this.posX+this.margin[3],-Ft+tn+this.ctx.prevPageLastElemOffset),J.call(this,"fill",!0),this.path=Un}var Vt=JSON.parse(JSON.stringify(Mt));Vt=O([Vt],this.posX+this.margin[3],-Ft+tn+this.ctx.prevPageLastElemOffset)[0];var Ze=(Nt>bn||Nt<an)&&I.call(this);Ze&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],An,$t,null).clip().discardPath()),this.pdf.addImage(W,"JPEG",Vt.x,Vt.y,Vt.w,Vt.h,null,null,gt),Ze&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(W,"JPEG",Mt.x,Mt.y,Mt.w,Mt.h,null,null,gt)};var P=function(W,ae,fe){var Ee=[];ae=ae||this.pdf.internal.pageSize.width,fe=fe||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var se=this.posY+this.ctx.prevPageLastElemOffset;switch(W.type){default:case"mt":case"lt":Ee.push(Math.floor((W.y+se)/fe)+1);break;case"arc":Ee.push(Math.floor((W.y+se-W.radius)/fe)+1),Ee.push(Math.floor((W.y+se+W.radius)/fe)+1);break;case"qct":var we=_e(this.ctx.lastPoint.x,this.ctx.lastPoint.y,W.x1,W.y1,W.x,W.y);Ee.push(Math.floor((we.y+se)/fe)+1),Ee.push(Math.floor((we.y+we.h+se)/fe)+1);break;case"bct":var Re=ve(this.ctx.lastPoint.x,this.ctx.lastPoint.y,W.x1,W.y1,W.x2,W.y2,W.x,W.y);Ee.push(Math.floor((Re.y+se)/fe)+1),Ee.push(Math.floor((Re.y+Re.h+se)/fe)+1);break;case"rect":Ee.push(Math.floor((W.y+se)/fe)+1),Ee.push(Math.floor((W.y+W.h+se)/fe)+1)}for(var Ie=0;Ie<Ee.length;Ie+=1)for(;this.pdf.internal.getNumberOfPages()<Ee[Ie];)k.call(this);return Ee},k=function(){var W=this.fillStyle,ae=this.strokeStyle,fe=this.font,Ee=this.lineCap,se=this.lineWidth,we=this.lineJoin;this.pdf.addPage(),this.fillStyle=W,this.strokeStyle=ae,this.font=fe,this.lineCap=Ee,this.lineWidth=se,this.lineJoin=we},O=function(W,ae,fe){for(var Ee=0;Ee<W.length;Ee++)switch(W[Ee].type){case"bct":W[Ee].x2+=ae,W[Ee].y2+=fe;case"qct":W[Ee].x1+=ae,W[Ee].y1+=fe;default:W[Ee].x+=ae,W[Ee].y+=fe}return W},L=function(W){return W.sort(function(ae,fe){return ae-fe})},j=function(W,ae){for(var fe,Ee,se=this.fillStyle,we=this.strokeStyle,Re=this.lineCap,Ie=this.lineWidth,je=Math.abs(Ie*this.ctx.transform.scaleX),ze=this.lineJoin,Ge=JSON.parse(JSON.stringify(this.path)),Je=JSON.parse(JSON.stringify(this.path)),Ye=[],be=0;be<Je.length;be++)if(Je[be].x!==void 0)for(var ln=P.call(this,Je[be]),Lt=0;Lt<ln.length;Lt+=1)Ye.indexOf(ln[Lt])===-1&&Ye.push(ln[Lt]);for(var gt=0;gt<Ye.length;gt++)for(;this.pdf.internal.getNumberOfPages()<Ye[gt];)k.call(this);if(L(Ye),this.autoPaging)for(var Qe=Ye[0],Mt=Ye[Ye.length-1],Ke=Qe;Ke<Mt+1;Ke++){this.pdf.setPage(Ke),this.fillStyle=se,this.strokeStyle=we,this.lineCap=Re,this.lineWidth=je,this.lineJoin=ze;var cn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ot=Ke===1?this.posY+this.margin[0]:this.margin[0],bn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],an=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Nt=Ke===1?0:bn+(Ke-2)*an;if(this.ctx.clip_path.length!==0){var An=this.path;fe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=O(fe,this.posX+this.margin[3],-Nt+Ot+this.ctx.prevPageLastElemOffset),J.call(this,W,!0),this.path=An}if(Ee=JSON.parse(JSON.stringify(Ge)),this.path=O(Ee,this.posX+this.margin[3],-Nt+Ot+this.ctx.prevPageLastElemOffset),ae===!1||Ke===0){var tn=(Ke>Qe||Ke<Mt)&&I.call(this);tn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],cn,an,null).clip().discardPath()),J.call(this,W,ae),tn&&this.pdf.restoreGraphicsState()}this.lineWidth=Ie}else this.lineWidth=je,J.call(this,W,ae),this.lineWidth=Ie;this.path=Ge},J=function(W,ae){if((W!=="stroke"||ae||!R.call(this))&&(W==="stroke"||ae||!A.call(this))){for(var fe,Ee,se=[],we=this.path,Re=0;Re<we.length;Re++){var Ie=we[Re];switch(Ie.type){case"begin":se.push({begin:!0});break;case"close":se.push({close:!0});break;case"mt":se.push({start:Ie,deltas:[],abs:[]});break;case"lt":var je=se.length;if(we[Re-1]&&!isNaN(we[Re-1].x)&&(fe=[Ie.x-we[Re-1].x,Ie.y-we[Re-1].y],je>0)){for(;je>=0;je--)if(se[je-1].close!==!0&&se[je-1].begin!==!0){se[je-1].deltas.push(fe),se[je-1].abs.push(Ie);break}}break;case"bct":fe=[Ie.x1-we[Re-1].x,Ie.y1-we[Re-1].y,Ie.x2-we[Re-1].x,Ie.y2-we[Re-1].y,Ie.x-we[Re-1].x,Ie.y-we[Re-1].y],se[se.length-1].deltas.push(fe);break;case"qct":var ze=we[Re-1].x+2/3*(Ie.x1-we[Re-1].x),Ge=we[Re-1].y+2/3*(Ie.y1-we[Re-1].y),Je=Ie.x+2/3*(Ie.x1-Ie.x),Ye=Ie.y+2/3*(Ie.y1-Ie.y),be=Ie.x,ln=Ie.y;fe=[ze-we[Re-1].x,Ge-we[Re-1].y,Je-we[Re-1].x,Ye-we[Re-1].y,be-we[Re-1].x,ln-we[Re-1].y],se[se.length-1].deltas.push(fe);break;case"arc":se.push({deltas:[],abs:[],arc:!0}),Array.isArray(se[se.length-1].abs)&&se[se.length-1].abs.push(Ie)}}Ee=ae?null:W==="stroke"?"stroke":"fill";for(var Lt=!1,gt=0;gt<se.length;gt++)if(se[gt].arc)for(var Qe=se[gt].abs,Mt=0;Mt<Qe.length;Mt++){var Ke=Qe[Mt];Ke.type==="arc"?Z.call(this,Ke.x,Ke.y,Ke.radius,Ke.startAngle,Ke.endAngle,Ke.counterclockwise,void 0,ae,!Lt):ue.call(this,Ke.x,Ke.y),Lt=!0}else if(se[gt].close===!0)this.pdf.internal.out("h"),Lt=!1;else if(se[gt].begin!==!0){var cn=se[gt].start.x,Ot=se[gt].start.y;oe.call(this,se[gt].deltas,cn,Ot),Lt=!0}Ee&&z.call(this,Ee),ae&&he.call(this)}},ce=function(W){var ae=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,fe=ae*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return W-fe;case"top":return W+ae-fe;case"hanging":return W+ae-2*fe;case"middle":return W+ae/2-fe;default:return W}},Y=function(W){return W+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};S.prototype.createLinearGradient=function(){var W=function(){};return W.colorStops=[],W.addColorStop=function(ae,fe){this.colorStops.push([ae,fe])},W.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},W.isCanvasGradient=!0,W},S.prototype.createPattern=function(){return this.createLinearGradient()},S.prototype.createRadialGradient=function(){return this.createLinearGradient()};var Z=function(W,ae,fe,Ee,se,we,Re,Ie,je){for(var ze=Ne.call(this,fe,Ee,se,we),Ge=0;Ge<ze.length;Ge++){var Je=ze[Ge];Ge===0&&(je?H.call(this,Je.x1+W,Je.y1+ae):ue.call(this,Je.x1+W,Je.y1+ae)),te.call(this,W,ae,Je.x2,Je.y2,Je.x3,Je.y3,Je.x4,Je.y4)}Ie?he.call(this):z.call(this,Re)},z=function(W){switch(W){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},he=function(){this.pdf.clip(),this.pdf.discardPath()},H=function(W,ae){this.pdf.internal.out(n(W)+" "+r(ae)+" m")},K=function(W){var ae;switch(W.align){case"right":case"end":ae="right";break;case"center":ae="center";break;default:ae="left"}var fe=this.pdf.getTextDimensions(W.text),Ee=ce.call(this,W.y),se=Y.call(this,Ee)-fe.h,we=this.ctx.transform.applyToPoint(new u(W.x,Ee)),Re=this.ctx.transform.decompose(),Ie=new m;Ie=(Ie=(Ie=Ie.multiply(Re.translate)).multiply(Re.skew)).multiply(Re.scale);for(var je,ze,Ge,Je=this.ctx.transform.applyToRectangle(new f(W.x,Ee,fe.w,fe.h)),Ye=Ie.applyToRectangle(new f(W.x,se,fe.w,fe.h)),be=P.call(this,Ye),ln=[],Lt=0;Lt<be.length;Lt+=1)ln.indexOf(be[Lt])===-1&&ln.push(be[Lt]);if(L(ln),this.autoPaging)for(var gt=ln[0],Qe=ln[ln.length-1],Mt=gt;Mt<Qe+1;Mt++){this.pdf.setPage(Mt);var Ke=Mt===1?this.posY+this.margin[0]:this.margin[0],cn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ot=this.pdf.internal.pageSize.height-this.margin[2],bn=Ot-this.margin[0],an=this.pdf.internal.pageSize.width-this.margin[1],Nt=an-this.margin[3],An=Mt===1?0:cn+(Mt-2)*bn;if(this.ctx.clip_path.length!==0){var tn=this.path;je=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=O(je,this.posX+this.margin[3],-1*An+Ke),J.call(this,"fill",!0),this.path=tn}var Ct=O([JSON.parse(JSON.stringify(Ye))],this.posX+this.margin[3],-An+Ke+this.ctx.prevPageLastElemOffset)[0];W.scale>=.01&&(ze=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ze*W.scale),Ge=this.lineWidth,this.lineWidth=Ge*W.scale);var $t=this.autoPaging!=="text";if($t||Ct.y+Ct.h<=Ot){if($t||Ct.y>=Ke&&Ct.x<=an){var Ft=$t?W.text:this.pdf.splitTextToSize(W.text,W.maxWidth||an-Ct.x)[0],Un=O([JSON.parse(JSON.stringify(Je))],this.posX+this.margin[3],-An+Ke+this.ctx.prevPageLastElemOffset)[0],Vt=$t&&(Mt>gt||Mt<Qe)&&I.call(this);Vt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Nt,bn,null).clip().discardPath()),this.pdf.text(Ft,Un.x,Un.y,{angle:W.angle,align:ae,renderingMode:W.renderingMode}),Vt&&this.pdf.restoreGraphicsState()}}else Ct.y<Ot&&(this.ctx.prevPageLastElemOffset+=Ot-Ct.y);W.scale>=.01&&(this.pdf.setFontSize(ze),this.lineWidth=Ge)}else W.scale>=.01&&(ze=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ze*W.scale),Ge=this.lineWidth,this.lineWidth=Ge*W.scale),this.pdf.text(W.text,we.x+this.posX,we.y+this.posY,{angle:W.angle,align:ae,renderingMode:W.renderingMode,maxWidth:W.maxWidth}),W.scale>=.01&&(this.pdf.setFontSize(ze),this.lineWidth=Ge)},ue=function(W,ae,fe,Ee){fe=fe||0,Ee=Ee||0,this.pdf.internal.out(n(W+fe)+" "+r(ae+Ee)+" l")},oe=function(W,ae,fe){return this.pdf.lines(W,ae,fe,null,null)},te=function(W,ae,fe,Ee,se,we,Re,Ie){this.pdf.internal.out([t(i(fe+W)),t(a(Ee+ae)),t(i(se+W)),t(a(we+ae)),t(i(Re+W)),t(a(Ie+ae)),"c"].join(" "))},Ne=function(W,ae,fe,Ee){for(var se=2*Math.PI,we=Math.PI/2;ae>fe;)ae-=se;var Re=Math.abs(fe-ae);Re<se&&Ee&&(Re=se-Re);for(var Ie=[],je=Ee?-1:1,ze=ae;Re>1e-5;){var Ge=ze+je*Math.min(Re,we);Ie.push(Ce.call(this,W,ze,Ge)),Re-=Math.abs(Ge-ze),ze=Ge}return Ie},Ce=function(W,ae,fe){var Ee=(fe-ae)/2,se=W*Math.cos(Ee),we=W*Math.sin(Ee),Re=se,Ie=-we,je=Re*Re+Ie*Ie,ze=je+Re*se+Ie*we,Ge=4/3*(Math.sqrt(2*je*ze)-ze)/(Re*we-Ie*se),Je=Re-Ge*Ie,Ye=Ie+Ge*Re,be=Je,ln=-Ye,Lt=Ee+ae,gt=Math.cos(Lt),Qe=Math.sin(Lt);return{x1:W*Math.cos(ae),y1:W*Math.sin(ae),x2:Je*gt-Ye*Qe,y2:Je*Qe+Ye*gt,x3:be*gt-ln*Qe,y3:be*Qe+ln*gt,x4:W*Math.cos(fe),y4:W*Math.sin(fe)}},ne=function(W){return 180*W/Math.PI},_e=function(W,ae,fe,Ee,se,we){var Re=W+.5*(fe-W),Ie=ae+.5*(Ee-ae),je=se+.5*(fe-se),ze=we+.5*(Ee-we),Ge=Math.min(W,se,Re,je),Je=Math.max(W,se,Re,je),Ye=Math.min(ae,we,Ie,ze),be=Math.max(ae,we,Ie,ze);return new f(Ge,Ye,Je-Ge,be-Ye)},ve=function(W,ae,fe,Ee,se,we,Re,Ie){var je,ze,Ge,Je,Ye,be,ln,Lt,gt,Qe,Mt,Ke,cn,Ot,bn=fe-W,an=Ee-ae,Nt=se-fe,An=we-Ee,tn=Re-se,Ct=Ie-we;for(ze=0;ze<41;ze++)gt=(ln=(Ge=W+(je=ze/40)*bn)+je*((Ye=fe+je*Nt)-Ge))+je*(Ye+je*(se+je*tn-Ye)-ln),Qe=(Lt=(Je=ae+je*an)+je*((be=Ee+je*An)-Je))+je*(be+je*(we+je*Ct-be)-Lt),ze==0?(Mt=gt,Ke=Qe,cn=gt,Ot=Qe):(Mt=Math.min(Mt,gt),Ke=Math.min(Ke,Qe),cn=Math.max(cn,gt),Ot=Math.max(Ot,Qe));return new f(Math.round(Mt),Math.round(Ke),Math.round(cn-Mt),Math.round(Ot-Ke))},Le=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var W,ae,fe=(W=this.ctx.lineDash,ae=this.ctx.lineDashOffset,JSON.stringify({lineDash:W,lineDashOffset:ae}));this.prevLineDash!==fe&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=fe)}}})(Jt.API),function(e){var t=function(u){var f,m,p,y,S,E,A,R,I,P;for(m=[],p=0,y=(u+=f="\0\0\0\0".slice(u.length%4||4)).length;y>p;p+=4)(S=(u.charCodeAt(p)<<24)+(u.charCodeAt(p+1)<<16)+(u.charCodeAt(p+2)<<8)+u.charCodeAt(p+3))!==0?(E=(S=((S=((S=((S=(S-(P=S%85))/85)-(I=S%85))/85)-(R=S%85))/85)-(A=S%85))/85)%85,m.push(E+33,A+33,R+33,I+33,P+33)):m.push(122);return function(k,O){for(var L=O;L>0;L--)k.pop()}(m,f.length),String.fromCharCode.apply(String,m)+"~>"},n=function(u){var f,m,p,y,S,E=String,A="length",R=255,I="charCodeAt",P="slice",k="replace";for(u[P](-2),u=u[P](0,-2)[k](/\s/g,"")[k]("z","!!!!!"),p=[],y=0,S=(u+=f="uuuuu"[P](u[A]%5||5))[A];S>y;y+=5)m=52200625*(u[I](y)-33)+614125*(u[I](y+1)-33)+7225*(u[I](y+2)-33)+85*(u[I](y+3)-33)+(u[I](y+4)-33),p.push(R&m>>24,R&m>>16,R&m>>8,R&m);return function(O,L){for(var j=L;j>0;j--)O.pop()}(p,f[A]),E.fromCharCode.apply(E,p)},r=function(u){return u.split("").map(function(f){return("0"+f.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(u){var f=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((u=u.replace(/\s/g,"")).indexOf(">")!==-1&&(u=u.substr(0,u.indexOf(">"))),u.length%2&&(u+="0"),f.test(u)===!1)return"";for(var m="",p=0;p<u.length;p+=2)m+=String.fromCharCode("0x"+(u[p]+u[p+1]));return m},a=function(u){for(var f=new Uint8Array(u.length),m=u.length;m--;)f[m]=u.charCodeAt(m);return(f=hx(f)).reduce(function(p,y){return p+String.fromCharCode(y)},"")};e.processDataByFilters=function(u,f){var m=0,p=u||"",y=[];for(typeof(f=f||[])=="string"&&(f=[f]),m=0;m<f.length;m+=1)switch(f[m]){case"ASCII85Decode":case"/ASCII85Decode":p=n(p),y.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":p=t(p),y.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":p=i(p),y.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":p=r(p),y.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":p=a(p),y.push("/FlateDecode");break;default:throw new Error('The filter: "'+f[m]+'" is not implemented')}return{data:p,reverseChain:y.reverse().join(" ")}}}(Jt.API),function(e){e.loadFile=function(t,n,r){return function(i,a,u){a=a!==!1,u=typeof u=="function"?u:function(){};var f=void 0;try{f=function(m,p,y){var S=new XMLHttpRequest,E=0,A=function(R){var I=R.length,P=[],k=String.fromCharCode;for(E=0;E<I;E+=1)P.push(k(255&R.charCodeAt(E)));return P.join("")};if(S.open("GET",m,!p),S.overrideMimeType("text/plain; charset=x-user-defined"),p===!1&&(S.onload=function(){S.status===200?y(A(this.responseText)):y(void 0)}),S.send(null),p&&S.status===200)return A(S.responseText)}(i,a,u)}catch{}return f}(t,n,r)},e.loadImageFile=e.loadFile}(Jt.API),function(e){function t(){return(wn.html2canvas?Promise.resolve(wn.html2canvas):Ao(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(f){return Promise.reject(new Error("Could not load html2canvas: "+f))}).then(function(f){return f.default?f.default:f})}function n(){return(wn.DOMPurify?Promise.resolve(wn.DOMPurify):Ao(()=>import("./purify.es-DfngIMfA.js"),[])).catch(function(f){return Promise.reject(new Error("Could not load dompurify: "+f))}).then(function(f){return f.default?f.default:f})}var r=function(f){var m=Ir(f);return m==="undefined"?"undefined":m==="string"||f instanceof String?"string":m==="number"||f instanceof Number?"number":m==="function"||f instanceof Function?"function":f&&f.constructor===Array?"array":f&&f.nodeType===1?"element":m==="object"?"object":"unknown"},i=function(f,m){var p=document.createElement(f);for(var y in m.className&&(p.className=m.className),m.innerHTML&&m.dompurify&&(p.innerHTML=m.dompurify.sanitize(m.innerHTML)),m.style)p.style[y]=m.style[y];return p},a=function f(m,p){for(var y=m.nodeType===3?document.createTextNode(m.nodeValue):m.cloneNode(!1),S=m.firstChild;S;S=S.nextSibling)p!==!0&&S.nodeType===1&&S.nodeName==="SCRIPT"||y.appendChild(f(S,p));return m.nodeType===1&&(m.nodeName==="CANVAS"?(y.width=m.width,y.height=m.height,y.getContext("2d").drawImage(m,0,0)):m.nodeName!=="TEXTAREA"&&m.nodeName!=="SELECT"||(y.value=m.value),y.addEventListener("load",function(){y.scrollTop=m.scrollTop,y.scrollLeft=m.scrollLeft},!0)),y},u=function f(m){var p=Object.assign(f.convert(Promise.resolve()),JSON.parse(JSON.stringify(f.template))),y=f.convert(Promise.resolve(),p);return(y=y.setProgress(1,f,1,[f])).set(m)};(u.prototype=Object.create(Promise.prototype)).constructor=u,u.convert=function(f,m){return f.__proto__=m||u.prototype,f},u.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},u.prototype.from=function(f,m){return this.then(function(){switch(m=m||function(p){switch(r(p)){case"string":return"string";case"element":return p.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(f),m){case"string":return this.then(n).then(function(p){return this.set({src:i("div",{innerHTML:f,dompurify:p})})});case"element":return this.set({src:f});case"canvas":return this.set({canvas:f});case"img":return this.set({img:f});default:return this.error("Unknown source type.")}})},u.prototype.to=function(f){switch(f){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},u.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var f={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},m=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);m.tagName==="BODY"&&(f.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:f}),this.prop.container.appendChild(m),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},u.prototype.toCanvas=function(){var f=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(f).then(t).then(function(m){var p=Object.assign({},this.opt.html2canvas);return delete p.onrendered,m(this.prop.container,p)}).then(function(m){(this.opt.html2canvas.onrendered||function(){})(m),this.prop.canvas=m,document.body.removeChild(this.prop.overlay)})},u.prototype.toContext2d=function(){var f=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(f).then(t).then(function(m){var p=this.opt.jsPDF,y=this.opt.fontFaces,S=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,E=Object.assign({async:!0,allowTaint:!0,scale:S,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete E.onrendered,p.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,p.context2d.posX=this.opt.x,p.context2d.posY=this.opt.y,p.context2d.margin=this.opt.margin,p.context2d.fontFaces=y,y)for(var A=0;A<y.length;++A){var R=y[A],I=R.src.find(function(P){return P.format==="truetype"});I&&p.addFont(I.url,R.ref.name,R.ref.style)}return E.windowHeight=E.windowHeight||0,E.windowHeight=E.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):E.windowHeight,p.context2d.save(!0),m(this.prop.container,E)}).then(function(m){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(m),this.prop.canvas=m,document.body.removeChild(this.prop.overlay)})},u.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var f=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=f})},u.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},u.prototype.output=function(f,m,p){return(p=p||"pdf").toLowerCase()==="img"||p.toLowerCase()==="image"?this.outputImg(f,m):this.outputPdf(f,m)},u.prototype.outputPdf=function(f,m){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(f,m)})},u.prototype.outputImg=function(f){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(f){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+f+'" is not supported.'}})},u.prototype.save=function(f){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(f?{filename:f}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},u.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},u.prototype.set=function(f){if(r(f)!=="object")return this;var m=Object.keys(f||{}).map(function(p){if(p in u.template.prop)return function(){this.prop[p]=f[p]};switch(p){case"margin":return this.setMargin.bind(this,f.margin);case"jsPDF":return function(){return this.opt.jsPDF=f.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,f.pageSize);default:return function(){this.opt[p]=f[p]}}},this);return this.then(function(){return this.thenList(m)})},u.prototype.get=function(f,m){return this.then(function(){var p=f in u.template.prop?this.prop[f]:this.opt[f];return m?m(p):p})},u.prototype.setMargin=function(f){return this.then(function(){switch(r(f)){case"number":f=[f,f,f,f];case"array":if(f.length===2&&(f=[f[0],f[1],f[0],f[1]]),f.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=f}).then(this.setPageSize)},u.prototype.setPageSize=function(f){function m(p,y){return Math.floor(p*y/72*96)}return this.then(function(){(f=f||Jt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(f.inner={width:f.width-this.opt.margin[1]-this.opt.margin[3],height:f.height-this.opt.margin[0]-this.opt.margin[2]},f.inner.px={width:m(f.inner.width,f.k),height:m(f.inner.height,f.k)},f.inner.ratio=f.inner.height/f.inner.width),this.prop.pageSize=f})},u.prototype.setProgress=function(f,m,p,y){return f!=null&&(this.progress.val=f),m!=null&&(this.progress.state=m),p!=null&&(this.progress.n=p),y!=null&&(this.progress.stack=y),this.progress.ratio=this.progress.val/this.progress.state,this},u.prototype.updateProgress=function(f,m,p,y){return this.setProgress(f?this.progress.val+f:null,m||null,p?this.progress.n+p:null,y?this.progress.stack.concat(y):null)},u.prototype.then=function(f,m){var p=this;return this.thenCore(f,m,function(y,S){return p.updateProgress(null,null,1,[y]),Promise.prototype.then.call(this,function(E){return p.updateProgress(null,y),E}).then(y,S).then(function(E){return p.updateProgress(1),E})})},u.prototype.thenCore=function(f,m,p){p=p||Promise.prototype.then;var y=this;f&&(f=f.bind(y)),m&&(m=m.bind(y));var S=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?y:u.convert(Object.assign({},y),Promise.prototype),E=p.call(S,f,m);return u.convert(E,y.__proto__)},u.prototype.thenExternal=function(f,m){return Promise.prototype.then.call(this,f,m)},u.prototype.thenList=function(f){var m=this;return f.forEach(function(p){m=m.thenCore(p)}),m},u.prototype.catch=function(f){f&&(f=f.bind(this));var m=Promise.prototype.catch.call(this,f);return u.convert(m,this)},u.prototype.catchExternal=function(f){return Promise.prototype.catch.call(this,f)},u.prototype.error=function(f){return this.then(function(){throw new Error(f)})},u.prototype.using=u.prototype.set,u.prototype.saveAs=u.prototype.save,u.prototype.export=u.prototype.output,u.prototype.run=u.prototype.then,Jt.getPageSize=function(f,m,p){if(Ir(f)==="object"){var y=f;f=y.orientation,m=y.unit||m,p=y.format||p}m=m||"mm",p=p||"a4",f=(""+(f||"P")).toLowerCase();var S,E=(""+p).toLowerCase(),A={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(m){case"pt":S=1;break;case"mm":S=72/25.4;break;case"cm":S=72/2.54;break;case"in":S=72;break;case"px":S=.75;break;case"pc":case"em":S=12;break;case"ex":S=6;break;default:throw"Invalid unit: "+m}var R,I=0,P=0;if(A.hasOwnProperty(E))I=A[E][1]/S,P=A[E][0]/S;else try{I=p[1],P=p[0]}catch{throw new Error("Invalid format: "+p)}if(f==="p"||f==="portrait")f="p",P>I&&(R=P,P=I,I=R);else{if(f!=="l"&&f!=="landscape")throw"Invalid orientation: "+f;f="l",I>P&&(R=P,P=I,I=R)}return{width:P,height:I,unit:m,k:S,orientation:f}},e.html=function(f,m){(m=m||{}).callback=m.callback||function(){},m.html2canvas=m.html2canvas||{},m.html2canvas.canvas=m.html2canvas.canvas||this.canvas,m.jsPDF=m.jsPDF||this,m.fontFaces=m.fontFaces?m.fontFaces.map(Mg):null;var p=new u(m);return m.worker?p:p.from(f).doCallback()}}(Jt.API),Jt.API.addJS=function(e){return y3=e,this.internal.events.subscribe("postPutResources",function(){V1=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(V1+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),v3=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+y3+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){V1!==void 0&&v3!==void 0&&this.internal.out("/Names <</JavaScript "+V1+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),a=0;a<i.length;a++){var u=i[a],f=r.exec(u);if(f!=null){var m=f[1];n.internal.newObjectDeferredBegin(m,!1)}n.internal.write(u)}if(this.outline.createNamedDestinations){var p=this.internal.pages.length,y=[];for(a=0;a<p;a++){var S=n.internal.newObject();y.push(S);var E=n.internal.getPageInfo(a+1);n.internal.write("<< /D["+E.objId+" 0 R /XYZ null null null]>> endobj")}var A=n.internal.newObject();for(n.internal.write("<< /Names [ "),a=0;a<y.length;a++)n.internal.write("(page_"+(a+1)+")"+y[a]+" 0 R");n.internal.write(" ] >>","endobj"),t=n.internal.newObject(),n.internal.write("<< /Dests "+A+" 0 R"),n.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,a){var u={title:i,options:a,children:[]};return r==null&&(r=this.root),r.children.push(u),u},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<r.children.length;a++){var u=r.children[a];this.objStart(u),this.line("/Title "+this.makeString(u.title)),this.line("/Parent "+this.makeRef(r)),a>0&&this.line("/Prev "+this.makeRef(r.children[a-1])),a<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[a+1])),u.children.length>0&&(this.line("/First "+this.makeRef(u.children[0])),this.line("/Last "+this.makeRef(u.children[u.children.length-1])));var f=this.count=this.count_r({count:0},u);if(f>0&&this.line("/Count "+f),u.options&&u.options.pageNumber){var m=n.internal.getPageInfo(u.options.pageNumber);this.line("/Dest ["+m.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var p=0;p<r.children.length;p++)this.renderItems(r.children[p])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var a=0;a<i.children.length;a++)r.count++,this.count_r(r,i.children[a]);return r.count}}])}(Jt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(n,r,i,a,u,f){var m,p=this.decode.DCT_DECODE,y=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=u||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,m=function(S){for(var E,A=256*S.charCodeAt(4)+S.charCodeAt(5),R=S.length,I={width:0,height:0,numcomponents:1},P=4;P<R;P+=2){if(P+=A,t.indexOf(S.charCodeAt(P+1))!==-1){E=256*S.charCodeAt(P+5)+S.charCodeAt(P+6),I={width:256*S.charCodeAt(P+7)+S.charCodeAt(P+8),height:E,numcomponents:S.charCodeAt(P+9)};break}A=256*S.charCodeAt(P+2)+S.charCodeAt(P+3)}return I}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),m.numcomponents){case 1:f=this.color_spaces.DEVICE_GRAY;break;case 4:f=this.color_spaces.DEVICE_CMYK;break;case 3:f=this.color_spaces.DEVICE_RGB}y={data:n,width:m.width,height:m.height,colorSpace:f,bitsPerComponent:8,filter:p,index:r,alias:i}}return y}}(Jt.API),Jt.API.processPNG=function(e,t,n,r){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var i,a=ZB(e,{checkCrc:!0}),u=a.width,f=a.height,m=a.channels,p=a.palette,y=a.depth;i=p&&m===1?function(Z){for(var z=Z.width,he=Z.height,H=Z.data,K=Z.palette,ue=Z.depth,oe=!1,te=[],Ne=[],Ce=void 0,ne=!1,_e=0,ve=0;ve<K.length;ve++){var Le=hb(K[ve],4),W=Le[0],ae=Le[1],fe=Le[2],Ee=Le[3];te.push(W,ae,fe),Ee!=null&&(Ee===0?(_e++,Ne.length<1&&Ne.push(ve)):Ee<255&&(ne=!0))}if(ne||_e>1){oe=!0,Ne=void 0;var se=z*he;Ce=new Uint8Array(se);for(var we=new DataView(H.buffer),Re=0;Re<se;Re++){var Ie=Fg(we,Re,ue),je=hb(K[Ie],4)[3];Ce[Re]=je}}else _e===0&&(Ne=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:oe?8:void 0,colorBytes:H,alphaBytes:Ce,needSMask:oe,palette:te,mask:Ne}}(a):m===2||m===4?function(Z){for(var z=Z.data,he=Z.width,H=Z.height,K=Z.channels,ue=Z.depth,oe=K===2?"DeviceGray":"DeviceRGB",te=K-1,Ne=he*H,Ce=te,ne=Ne*Ce,_e=1*Ne,ve=Math.ceil(ne*ue/8),Le=Math.ceil(_e*ue/8),W=new Uint8Array(ve),ae=new Uint8Array(Le),fe=new DataView(z.buffer),Ee=new DataView(W.buffer),se=new DataView(ae.buffer),we=!1,Re=0;Re<Ne;Re++){for(var Ie=Re*K,je=0;je<Ce;je++)I3(Ee,Fg(fe,Ie+je,ue),Re*Ce+je,ue);var ze=Fg(fe,Ie+Ce,ue);ze<(1<<ue)-1&&(we=!0),I3(se,ze,1*Re,ue)}return{colorSpace:oe,colorsPerPixel:te,sMaskBitsPerComponent:we?ue:void 0,colorBytes:W,alphaBytes:ae,needSMask:we}}(a):function(Z){var z=Z.data,he=Z.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:he,colorsPerPixel:he==="DeviceGray"?1:3,colorBytes:z instanceof Uint16Array?function(H){for(var K=H.length,ue=new Uint8Array(2*K),oe=new DataView(ue.buffer,ue.byteOffset,ue.byteLength),te=0;te<K;te++)oe.setUint16(2*te,H[te],!1);return ue}(z):z,needSMask:!1}}(a);var S,E,A,R=i,I=R.colorSpace,P=R.colorsPerPixel,k=R.sMaskBitsPerComponent,O=R.colorBytes,L=R.alphaBytes,j=R.needSMask,J=R.palette,ce=R.mask,Y=null;return r!==Jt.API.image_compression.NONE&&typeof hx=="function"?(Y=function(Z){var z;switch(Z){case Jt.API.image_compression.FAST:z=11;break;case Jt.API.image_compression.MEDIUM:z=13;break;case Jt.API.image_compression.SLOW:z=14;break;default:z=12}return z}(r),S=this.decode.FLATE_DECODE,E="/Predictor ".concat(Y," /Colors ").concat(P," /BitsPerComponent ").concat(y," /Columns ").concat(u),e=S3(O,Math.ceil(u*P*y/8),P,y,r),j&&(A=S3(L,Math.ceil(u*k/8),1,k,r))):(S=void 0,E=void 0,e=O,j&&(A=L)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(A&&this.__addimage__.isArrayBuffer(A)||this.__addimage__.isArrayBufferView(A))&&(A=this.__addimage__.arrayBufferToBinaryString(A)),{alias:n,data:e,index:t,filter:S,decodeParameters:E,transparency:ce,palette:J,sMask:A,predictor:Y,width:u,height:f,bitsPerComponent:y,sMaskBitsPerComponent:k,colorSpace:I}}},function(e){e.processGIF89A=function(t,n,r,i){var a=new vU(t),u=a.width,f=a.height,m=[];a.decodeAndBlitFrameRGBA(0,m);var p={data:m,width:u,height:f},y=new Bg(100).encode(p,100);return e.processJPEG.call(this,y,n,r,i)},e.processGIF87A=e.processGIF89A}(Jt.API),fo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:r,blue:n,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},fo.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(n){Fr.log("bit decode error:"+n)}},fo.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var a=this.datav.getUint8(this.pos++,!0),u=r*this.width*4+8*i*4,f=0;f<8&&8*i+f<this.width;f++){var m=this.palette[a>>7-f&1];this.data[u+4*f]=m.blue,this.data[u+4*f+1]=m.green,this.data[u+4*f+2]=m.red,this.data[u+4*f+3]=255}n!==0&&(this.pos+=4-n)}},fo.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++){var a=this.datav.getUint8(this.pos++,!0),u=r*this.width*4+2*i*4,f=a>>4,m=15&a,p=this.palette[f];if(this.data[u]=p.blue,this.data[u+1]=p.green,this.data[u+2]=p.red,this.data[u+3]=255,2*i+1>=this.width)break;p=this.palette[m],this.data[u+4]=p.blue,this.data[u+4+1]=p.green,this.data[u+4+2]=p.red,this.data[u+4+3]=255}t!==0&&(this.pos+=4-t)}},fo.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+4*r;if(i<this.palette.length){var u=this.palette[i];this.data[a]=u.red,this.data[a+1]=u.green,this.data[a+2]=u.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}e!==0&&(this.pos+=4-e)}},fo.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(a&t)/t*255|0,f=(a>>5&t)/t*255|0,m=(a>>10&t)/t*255|0,p=a>>15?255:0,y=r*this.width*4+4*i;this.data[y]=m,this.data[y+1]=f,this.data[y+2]=u,this.data[y+3]=p}this.pos+=e}},fo.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var u=this.datav.getUint16(this.pos,!0);this.pos+=2;var f=(u&t)/t*255|0,m=(u>>5&n)/n*255|0,p=(u>>11)/t*255|0,y=i*this.width*4+4*a;this.data[y]=p,this.data[y+1]=m,this.data[y+2]=f,this.data[y+3]=255}this.pos+=e}},fo.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),u=t*this.width*4+4*n;this.data[u]=a,this.data[u+1]=i,this.data[u+2]=r,this.data[u+3]=255}this.pos+=this.width%4}},fo.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),u=this.datav.getUint8(this.pos++,!0),f=t*this.width*4+4*n;this.data[f]=a,this.data[f+1]=i,this.data[f+2]=r,this.data[f+3]=u}},fo.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,r,i){var a=new fo(t,!1),u=a.width,f=a.height,m={data:a.getData(),width:u,height:f},p=new Bg(100).encode(m,100);return e.processJPEG.call(this,p,n,r,i)}}(Jt.API),k3.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,r,i){var a=new k3(t),u=a.width,f=a.height,m={data:a.getData(),width:u,height:f},p=new Bg(100).encode(m,100);return e.processJPEG.call(this,p,n,r,i)}}(Jt.API),Jt.API.processRGBA=function(e,t,n){for(var r=e.data,i=r.length,a=new Uint8Array(i/4*3),u=new Uint8Array(i/4),f=0,m=0,p=0;p<i;p+=4){var y=r[p],S=r[p+1],E=r[p+2],A=r[p+3];a[f++]=y,a[f++]=S,a[f++]=E,u[m++]=A}var R=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(u),data:R,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Jt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Uu=Jt.API,q1=Uu.getCharWidthsArray=function(e,t){var n,r,i=(t=t||{}).font||this.internal.getFont(),a=t.fontSize||this.internal.getFontSize(),u=t.charSpace||this.internal.getCharSpace(),f=t.widths?t.widths:i.metadata.Unicode.widths,m=f.fof?f.fof:1,p=t.kerning?t.kerning:i.metadata.Unicode.kerning,y=p.fof?p.fof:1,S=t.doKerning!==!1,E=0,A=e.length,R=0,I=f[0]||m,P=[];for(n=0;n<A;n++)r=e.charCodeAt(n),typeof i.metadata.widthOfString=="function"?P.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+u*(1e3/a)||0)/1e3):(E=S&&Ir(p[r])==="object"&&!isNaN(parseInt(p[r][R],10))?p[r][R]/y:0,P.push((f[r]||I)/m+E)),R=r;return P},w3=Uu.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return Uu.processArabic&&(e=Uu.processArabic(e)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(e,n,i)/n:q1.apply(this,arguments).reduce(function(a,u){return a+u},0)},b3=function(e,t,n,r){for(var i=[],a=0,u=e.length,f=0;a!==u&&f+t[a]<n;)f+=t[a],a++;i.push(e.slice(0,a));var m=a;for(f=0;a!==u;)f+t[a]>r&&(i.push(e.slice(m,a)),f=0,m=a),f+=t[a],a++;return m!==a&&i.push(e.slice(m,a)),i},A3=function(e,t,n){n||(n={});var r,i,a,u,f,m,p,y=[],S=[y],E=n.textIndent||0,A=0,R=0,I=e.split(" "),P=q1.apply(this,[" ",n])[0];if(m=n.lineIndent===-1?I[0].length+2:n.lineIndent||0){var k=Array(m).join(" "),O=[];I.map(function(j){(j=j.split(/\s*\n/)).length>1?O=O.concat(j.map(function(J,ce){return(ce&&J.length?`
`:"")+J})):O.push(j[0])}),I=O,m=w3.apply(this,[k,n])}for(a=0,u=I.length;a<u;a++){var L=0;if(r=I[a],m&&r[0]==`
`&&(r=r.substr(1),L=1),E+A+(R=(i=q1.apply(this,[r,n])).reduce(function(j,J){return j+J},0))>t||L){if(R>t){for(f=b3.apply(this,[r,i,t-(E+A),t]),y.push(f.shift()),y=[f.pop()];f.length;)S.push([f.shift()]);R=i.slice(r.length-(y[0]?y[0].length:0)).reduce(function(j,J){return j+J},0)}else y=[r];S.push(y),E=R+m,A=P}else y.push(r),E+=A+R,A=P}return p=m?function(j,J){return(J?k:"")+j.join(" ")}:function(j){return j.join(" ")},S.map(p)},Uu.splitTextToSize=function(e,t,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),a=(function(y){if(y.widths&&y.kerning)return{widths:y.widths,kerning:y.kerning};var S=this.internal.getFont(y.fontName,y.fontStyle),E="Unicode";return S.metadata[E]?{widths:S.metadata[E].widths||{0:1},kerning:S.metadata[E].kerning||{}}:{font:S.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var u=1*this.internal.scaleFactor*t/i;a.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=n.lineIndent;var f,m,p=[];for(f=0,m=r.length;f<m;f++)p=p.concat(A3.apply(this,[r[f],u,a]));return p},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",n="klmnopqrstuvwxyz",r={},i={},a=0;a<16;a++)r[n[a]]=t[a],i[t[a]]=n[a];var u=function(E){return"0x"+parseInt(E,10).toString(16)},f=e.__fontmetrics__.compress=function(E){var A,R,I,P,k=["{"];for(var O in E){if(A=E[O],isNaN(parseInt(O,10))?R="'"+O+"'":(O=parseInt(O,10),R=(R=u(O).slice(2)).slice(0,-1)+i[R.slice(-1)]),typeof A=="number")A<0?(I=u(A).slice(3),P="-"):(I=u(A).slice(2),P=""),I=P+I.slice(0,-1)+i[I.slice(-1)];else{if(Ir(A)!=="object")throw new Error("Don't know what to do with value type "+Ir(A)+".");I=f(A)}k.push(R+I)}return k.push("}"),k.join("")},m=e.__fontmetrics__.uncompress=function(E){if(typeof E!="string")throw new Error("Invalid argument passed to uncompress.");for(var A,R,I,P,k={},O=1,L=k,j=[],J="",ce="",Y=E.length-1,Z=1;Z<Y;Z+=1)(P=E[Z])=="'"?A?(I=A.join(""),A=void 0):A=[]:A?A.push(P):P=="{"?(j.push([L,I]),L={},I=void 0):P=="}"?((R=j.pop())[0][R[1]]=L,I=void 0,L=R[0]):P=="-"?O=-1:I===void 0?r.hasOwnProperty(P)?(J+=r[P],I=parseInt(J,16)*O,O=1,J=""):J+=P:r.hasOwnProperty(P)?(ce+=r[P],L[I]=parseInt(ce,16)*O,O=1,I=void 0,ce=""):ce+=P;return k},p={codePages:["WinAnsiEncoding"],WinAnsiEncoding:m("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},y={Unicode:{Courier:p,"Courier-Bold":p,"Courier-BoldOblique":p,"Courier-Oblique":p,Helvetica:p,"Helvetica-Bold":p,"Helvetica-BoldOblique":p,"Helvetica-Oblique":p,"Times-Roman":p,"Times-Bold":p,"Times-BoldItalic":p,"Times-Italic":p}},S={Unicode:{"Courier-Oblique":m("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":m("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":m("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:m("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":m("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":m("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:m("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:m("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":m("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:m("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":m("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":m("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":m("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":m("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(E){var A=E.font,R=S.Unicode[A.postScriptName];R&&(A.metadata.Unicode={},A.metadata.Unicode.widths=R.widths,A.metadata.Unicode.kerning=R.kerning);var I=y.Unicode[A.postScriptName];I&&(A.metadata.Unicode.encoding=I,A.encoding=I.codePages[0])}])}(Jt.API),function(e){var t=function(n){for(var r=n.length,i=new Uint8Array(r),a=0;a<r;a++)i[a]=n.charCodeAt(a);return i};e.API.events.push(["addFont",function(n){var r=void 0,i=n.font,a=n.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(u,f){f=/^\x00\x01\x00\x00/.test(f)?t(f):t(h0(f)),u.metadata=e.API.TTFFont.open(f),u.metadata.Unicode=u.metadata.Unicode||{encoding:{},kerning:{},widths:[]},u.metadata.glyIdsUsed=[0]})(i,r)}}])}(Jt),Jt.API.addSvgAsImage=function(e,t,n,r,i,a,u,f){if(isNaN(t)||isNaN(n))throw Fr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw Fr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var m=document.createElement("canvas");m.width=r,m.height=i;var p=m.getContext("2d");p.fillStyle="#fff",p.fillRect(0,0,m.width,m.height);var y={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},S=this;return(wn.canvg?Promise.resolve(wn.canvg):Ao(()=>import("./index.es-BM_VVKJp.js"),[])).catch(function(E){return Promise.reject(new Error("Could not load canvg: "+E))}).then(function(E){return E.default?E.default:E}).then(function(E){return E.fromString(p,e,y)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(E){return E.render(y)}).then(function(){S.addImage(m.toDataURL("image/jpeg",1),t,n,r,i,u,f)})},Jt.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(t,n);return this},Jt.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var r,i,a,u={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},f=Object.keys(u),m=[],p=0,y=0,S=0;function E(R,I){var P,k=!1;for(P=0;P<R.length;P+=1)R[P]===I&&(k=!0);return k}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(u)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var A=f.length;for(S=0;S<A;S+=1)n[f[S]].value=n[f[S]].defaultValue,n[f[S]].explicitSet=!1}if(Ir(e)==="object"){for(i in e)if(a=e[i],E(f,i)&&a!==void 0){if(n[i].type==="boolean"&&typeof a=="boolean")n[i].value=a;else if(n[i].type==="name"&&E(n[i].valueSet,a))n[i].value=a;else if(n[i].type==="integer"&&Number.isInteger(a))n[i].value=a;else if(n[i].type==="array"){for(p=0;p<a.length;p+=1)if(r=!0,a[p].length===1&&typeof a[p][0]=="number")m.push(String(a[p]-1));else if(a[p].length>1){for(y=0;y<a[p].length;y+=1)typeof a[p][y]!="number"&&(r=!1);r===!0&&m.push([a[p][0]-1,a[p][1]-1].join(" "))}n[i].value="["+m.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var R,I=[];for(R in n)n[R].explicitSet===!0&&(n[R].type==="name"?I.push("/"+R+" /"+n[R].value):I.push("/"+R+" "+n[R].value));I.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+I.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(e){var t=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(r)),u=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),f=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),m=unescape(encodeURIComponent("</x:xmpmeta>")),p=a.length+u.length+f.length+i.length+m.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+p+" >>"),this.internal.write("stream"),this.internal.write(i+a+u+f+m),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(Jt.API),function(e){var t=e.API,n=t.pdfEscape16=function(a,u){for(var f,m=u.metadata.Unicode.widths,p=["","0","00","000","0000"],y=[""],S=0,E=a.length;S<E;++S){if(f=u.metadata.characterToGlyph(a.charCodeAt(S)),u.metadata.glyIdsUsed.push(f),u.metadata.toUnicode[f]=a.charCodeAt(S),m.indexOf(f)==-1&&(m.push(f),m.push([parseInt(u.metadata.widthOfGlyph(f),10)])),f=="0")return y.join("");f=f.toString(16),y.push(p[4-f.length],f)}return y.join("")},r=function(a){var u,f,m,p,y,S,E;for(y=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,m=[],S=0,E=(f=Object.keys(a).sort(function(A,R){return A-R})).length;S<E;S++)u=f[S],m.length>=100&&(y+=`
`+m.length+` beginbfchar
`+m.join(`
`)+`
endbfchar`,m=[]),a[u]!==void 0&&a[u]!==null&&typeof a[u].toString=="function"&&(p=("0000"+a[u].toString(16)).slice(-4),u=("0000"+(+u).toString(16)).slice(-4),m.push("<"+u+"><"+p+">"));return m.length&&(y+=`
`+m.length+` beginbfchar
`+m.join(`
`)+`
endbfchar
`),y+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(a){(function(u){var f=u.font,m=u.out,p=u.newObject,y=u.putStream;if(f.metadata instanceof e.API.TTFFont&&f.encoding==="Identity-H"){for(var S=f.metadata.Unicode.widths,E=f.metadata.subset.encode(f.metadata.glyIdsUsed,1),A="",R=0;R<E.length;R++)A+=String.fromCharCode(E[R]);var I=p();y({data:A,addLength1:!0,objectId:I}),m("endobj");var P=p();y({data:r(f.metadata.toUnicode),addLength1:!0,objectId:P}),m("endobj");var k=p();m("<<"),m("/Type /FontDescriptor"),m("/FontName /"+Hu(f.fontName)),m("/FontFile2 "+I+" 0 R"),m("/FontBBox "+e.API.PDFObject.convert(f.metadata.bbox)),m("/Flags "+f.metadata.flags),m("/StemV "+f.metadata.stemV),m("/ItalicAngle "+f.metadata.italicAngle),m("/Ascent "+f.metadata.ascender),m("/Descent "+f.metadata.decender),m("/CapHeight "+f.metadata.capHeight),m(">>"),m("endobj");var O=p();m("<<"),m("/Type /Font"),m("/BaseFont /"+Hu(f.fontName)),m("/FontDescriptor "+k+" 0 R"),m("/W "+e.API.PDFObject.convert(S)),m("/CIDToGIDMap /Identity"),m("/DW 1000"),m("/Subtype /CIDFontType2"),m("/CIDSystemInfo"),m("<<"),m("/Supplement 0"),m("/Registry (Adobe)"),m("/Ordering ("+f.encoding+")"),m(">>"),m(">>"),m("endobj"),f.objectNumber=p(),m("<<"),m("/Type /Font"),m("/Subtype /Type0"),m("/ToUnicode "+P+" 0 R"),m("/BaseFont /"+Hu(f.fontName)),m("/Encoding /"+f.encoding),m("/DescendantFonts ["+O+" 0 R]"),m(">>"),m("endobj"),f.isAlreadyPutted=!0}})(a)}]),t.events.push(["putFont",function(a){(function(u){var f=u.font,m=u.out,p=u.newObject,y=u.putStream;if(f.metadata instanceof e.API.TTFFont&&f.encoding==="WinAnsiEncoding"){for(var S=f.metadata.rawData,E="",A=0;A<S.length;A++)E+=String.fromCharCode(S[A]);var R=p();y({data:E,addLength1:!0,objectId:R}),m("endobj");var I=p();y({data:r(f.metadata.toUnicode),addLength1:!0,objectId:I}),m("endobj");var P=p();m("<<"),m("/Descent "+f.metadata.decender),m("/CapHeight "+f.metadata.capHeight),m("/StemV "+f.metadata.stemV),m("/Type /FontDescriptor"),m("/FontFile2 "+R+" 0 R"),m("/Flags 96"),m("/FontBBox "+e.API.PDFObject.convert(f.metadata.bbox)),m("/FontName /"+Hu(f.fontName)),m("/ItalicAngle "+f.metadata.italicAngle),m("/Ascent "+f.metadata.ascender),m(">>"),m("endobj"),f.objectNumber=p();for(var k=0;k<f.metadata.hmtx.widths.length;k++)f.metadata.hmtx.widths[k]=parseInt(f.metadata.hmtx.widths[k]*(1e3/f.metadata.head.unitsPerEm));m("<</Subtype/TrueType/Type/Font/ToUnicode "+I+" 0 R/BaseFont/"+Hu(f.fontName)+"/FontDescriptor "+P+" 0 R/Encoding/"+f.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(f.metadata.hmtx.widths)+">>"),m("endobj"),f.isAlreadyPutted=!0}})(a)}]);var i=function(a){var u,f=a.text||"",m=a.x,p=a.y,y=a.options||{},S=a.mutex||{},E=S.pdfEscape,A=S.activeFontKey,R=S.fonts,I=A,P="",k=0,O="",L=R[I].encoding;if(R[I].encoding!=="Identity-H")return{text:f,x:m,y:p,options:y,mutex:S};for(O=f,I=A,Array.isArray(f)&&(O=f[0]),k=0;k<O.length;k+=1)R[I].metadata.hasOwnProperty("cmap")&&(u=R[I].metadata.cmap.unicode.codeMap[O[k].charCodeAt(0)]),u||O[k].charCodeAt(0)<256&&R[I].metadata.hasOwnProperty("Unicode")?P+=O[k]:P+="";var j="";return parseInt(I.slice(1))<14||L==="WinAnsiEncoding"?j=E(P,I).split("").map(function(J){return J.charCodeAt(0).toString(16)}).join(""):L==="Identity-H"&&(j=n(P,R[I])),S.isHex=!0,{text:j,x:m,y:p,options:y,mutex:S}};t.events.push(["postProcessText",function(a){var u=a.text||"",f=[],m={text:u,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(u)){var p=0;for(p=0;p<u.length;p+=1)Array.isArray(u[p])&&u[p].length===3?f.push([i(Object.assign({},m,{text:u[p][0]})).text,u[p][1],u[p][2]]):f.push(i(Object.assign({},m,{text:u[p]})).text);a.text=f}else a.text=i(Object.assign({},m,{text:u})).text}])}(Jt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0},e.addFileToVFS=function(n,r){return t.call(this),this.internal.vFS[n]=r,this},e.getFileFromVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(Jt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(r){var i,a,u,f,m,p,y,S=t,E=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],A=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],R={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},I={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},P=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],k=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),O=!1,L=0;this.__bidiEngine__={};var j=function(H){var K=H.charCodeAt(),ue=K>>8,oe=I[ue];return oe!==void 0?S[256*oe+(255&K)]:ue===252||ue===253?"AL":k.test(ue)?"L":ue===8?"R":"N"},J=function(H){for(var K,ue=0;ue<H.length;ue++){if((K=j(H.charAt(ue)))==="L")return!1;if(K==="R")return!0}return!1},ce=function(H,K,ue,oe){var te,Ne,Ce,ne,_e=K[oe];switch(_e){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":O=!1;break;case"N":case"AN":break;case"EN":O&&(_e="AN");break;case"AL":O=!0,_e="R";break;case"WS":case"BN":_e="N";break;case"CS":oe<1||oe+1>=K.length||(te=ue[oe-1])!=="EN"&&te!=="AN"||(Ne=K[oe+1])!=="EN"&&Ne!=="AN"?_e="N":O&&(Ne="AN"),_e=Ne===te?Ne:"N";break;case"ES":_e=(te=oe>0?ue[oe-1]:"B")==="EN"&&oe+1<K.length&&K[oe+1]==="EN"?"EN":"N";break;case"ET":if(oe>0&&ue[oe-1]==="EN"){_e="EN";break}if(O){_e="N";break}for(Ce=oe+1,ne=K.length;Ce<ne&&K[Ce]==="ET";)Ce++;_e=Ce<ne&&K[Ce]==="EN"?"EN":"N";break;case"NSM":if(u&&!f){for(ne=K.length,Ce=oe+1;Ce<ne&&K[Ce]==="NSM";)Ce++;if(Ce<ne){var ve=H[oe],Le=ve>=1425&&ve<=2303||ve===64286;if(te=K[Ce],Le&&(te==="R"||te==="AL")){_e="R";break}}}_e=oe<1||(te=K[oe-1])==="B"?"N":ue[oe-1];break;case"B":O=!1,i=!0,_e=L;break;case"S":a=!0,_e="N"}return _e},Y=function(H,K,ue){var oe=H.split("");return ue&&Z(oe,ue,{hiLevel:L}),oe.reverse(),K&&K.reverse(),oe.join("")},Z=function(H,K,ue){var oe,te,Ne,Ce,ne,_e=-1,ve=H.length,Le=0,W=[],ae=L?A:E,fe=[];for(O=!1,i=!1,a=!1,te=0;te<ve;te++)fe[te]=j(H[te]);for(Ne=0;Ne<ve;Ne++){if(ne=Le,W[Ne]=ce(H,fe,W,Ne),oe=240&(Le=ae[ne][R[W[Ne]]]),Le&=15,K[Ne]=Ce=ae[Le][5],oe>0)if(oe===16){for(te=_e;te<Ne;te++)K[te]=1;_e=-1}else _e=-1;if(ae[Le][6])_e===-1&&(_e=Ne);else if(_e>-1){for(te=_e;te<Ne;te++)K[te]=Ce;_e=-1}fe[Ne]==="B"&&(K[Ne]=0),ue.hiLevel|=Ce}a&&function(Ee,se,we){for(var Re=0;Re<we;Re++)if(Ee[Re]==="S"){se[Re]=L;for(var Ie=Re-1;Ie>=0&&Ee[Ie]==="WS";Ie--)se[Ie]=L}}(fe,K,ve)},z=function(H,K,ue,oe,te){if(!(te.hiLevel<H)){if(H===1&&L===1&&!i)return K.reverse(),void(ue&&ue.reverse());for(var Ne,Ce,ne,_e,ve=K.length,Le=0;Le<ve;){if(oe[Le]>=H){for(ne=Le+1;ne<ve&&oe[ne]>=H;)ne++;for(_e=Le,Ce=ne-1;_e<Ce;_e++,Ce--)Ne=K[_e],K[_e]=K[Ce],K[Ce]=Ne,ue&&(Ne=ue[_e],ue[_e]=ue[Ce],ue[Ce]=Ne);Le=ne}Le++}}},he=function(H,K,ue){var oe=H.split(""),te={hiLevel:L};return ue||(ue=[]),Z(oe,ue,te),function(Ne,Ce,ne){if(ne.hiLevel!==0&&y)for(var _e,ve=0;ve<Ne.length;ve++)Ce[ve]===1&&(_e=P.indexOf(Ne[ve]))>=0&&(Ne[ve]=P[_e+1])}(oe,ue,te),z(2,oe,K,ue,te),z(1,oe,K,ue,te),oe.join("")};return this.__bidiEngine__.doBidiReorder=function(H,K,ue){if(function(te,Ne){if(Ne)for(var Ce=0;Ce<te.length;Ce++)Ne[Ce]=Ce;f===void 0&&(f=J(te)),p===void 0&&(p=J(te))}(H,K),u||!m||p)if(u&&m&&f^p)L=f?1:0,H=Y(H,K,ue);else if(!u&&m&&p)L=f?1:0,H=he(H,K,ue),H=Y(H,K);else if(!u||f||m||p){if(u&&!m&&f^p)H=Y(H,K),f?(L=0,H=he(H,K,ue)):(L=1,H=he(H,K,ue),H=Y(H,K));else if(u&&f&&!m&&p)L=1,H=he(H,K,ue),H=Y(H,K);else if(!u&&!m&&f^p){var oe=y;f?(L=1,H=he(H,K,ue),L=0,y=!1,H=he(H,K,ue),y=oe):(L=0,H=he(H,K,ue),H=Y(H,K),L=1,y=!1,H=he(H,K,ue),y=oe,H=Y(H,K))}}else L=0,H=he(H,K,ue);else L=f?1:0,H=he(H,K,ue);return H},this.__bidiEngine__.setOptions=function(H){H&&(u=H.isInputVisual,m=H.isOutputVisual,f=H.isInputRtl,p=H.isOutputRtl,y=H.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var a=r.options||{};r.mutex,a.lang;var u=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,n.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var f=0;for(u=[],f=0;f<i.length;f+=1)Object.prototype.toString.call(i[f])==="[object Array]"?u.push([n.doBidiReorder(i[f][0]),i[f][1],i[f][2]]):u.push([n.doBidiReorder(i[f])]);r.text=u}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(Jt),Jt.API.TTFFont=function(){function e(t){var n;if(this.rawData=t,n=this.contents=new jc(t),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new OU(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new yU(this.contents),this.head=new bU(this),this.name=new EU(this),this.cmap=new aE(this),this.toUnicode={},this.hhea=new AU(this),this.maxp=new NU(this),this.hmtx=new IU(this),this.post=new _U(this),this.os2=new SU(this),this.loca=new RU(this),this.glyf=new TU(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,n,r,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var u,f,m,p;for(p=[],u=0,f=(m=this.bbox).length;u<f;u++)t=m[u],p.push(Math.round(t*this.scaleFactor));return p}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var n;return((n=this.cmap.unicode)!=null?n.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*n},e.prototype.widthOfString=function(t,n,r){var i,a,u,f;for(u=0,a=0,f=(t=""+t).length;0<=f?a<f:a>f;a=0<=f?++a:--a)i=t.charCodeAt(a),u+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return u*(n/1e3)},e.prototype.lineHeight=function(t,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*t},e}();var To,jc=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var n,r;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},e.prototype.writeString=function(t){var n,r,i;for(i=[],n=0,r=t.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(t.charCodeAt(n)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,n,r,i,a,u,f,m;return t=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),a=this.readByte(),u=this.readByte(),f=this.readByte(),m=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^a)+65536*(255^u)+256*(255^f)+(255^m)+1):72057594037927940*t+281474976710656*n+1099511627776*r+4294967296*i+16777216*a+65536*u+256*f+m},e.prototype.writeLongLong=function(t){var n,r;return n=Math.floor(t/4294967296),r=4294967295&t,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var n,r;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n.push(this.readByte());return n},e.prototype.write=function(t){var n,r,i,a;for(a=[],r=0,i=t.length;r<i;r++)n=t[r],a.push(this.writeByte(n));return a},e}(),yU=function(){var e;function t(n){var r,i,a;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return t.prototype.encode=function(n){var r,i,a,u,f,m,p,y,S,E,A,R,I;for(I in A=Object.keys(n).length,m=Math.log(2),S=16*Math.floor(Math.log(A)/m),u=Math.floor(S/m),y=16*A-S,(i=new jc).writeInt(this.scalarType),i.writeShort(A),i.writeShort(S),i.writeShort(u),i.writeShort(y),a=16*A,p=i.pos+a,f=null,R=[],n)for(E=n[I],i.writeString(I),i.writeInt(e(E)),i.writeInt(p),i.writeInt(E.length),R=R.concat(E),I==="head"&&(f=p),p+=E.length;p%4;)R.push(0),p++;return i.write(R),r=2981146554-e(i.data),i.pos=f+8,i.writeUInt32(r),i.data},e=function(n){var r,i,a,u;for(n=oE.call(n);n.length%4;)n.push(0);for(a=new jc(n),i=0,r=0,u=n.length;r<u;r=r+=4)i+=a.readUInt32();return 4294967295&i},t}(),wU={}.hasOwnProperty,rl=function(e,t){for(var n in t)wU.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};To=function(){function e(t){var n;this.file=t,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var bU=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return rl(e,To),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var n;return(n=new jc).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(t),n.writeShort(this.glyphDataFormat),n.data},e}(),P3=function(){function e(t,n){var r,i,a,u,f,m,p,y,S,E,A,R,I,P,k,O,L;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=n+t.readInt(),S=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(m=0;m<256;++m)this.codeMap[m]=t.readByte();break;case 4:for(A=t.readUInt16(),E=A/2,t.pos+=6,a=function(){var j,J;for(J=[],m=j=0;0<=E?j<E:j>E;m=0<=E?++j:--j)J.push(t.readUInt16());return J}(),t.pos+=2,I=function(){var j,J;for(J=[],m=j=0;0<=E?j<E:j>E;m=0<=E?++j:--j)J.push(t.readUInt16());return J}(),p=function(){var j,J;for(J=[],m=j=0;0<=E?j<E:j>E;m=0<=E?++j:--j)J.push(t.readUInt16());return J}(),y=function(){var j,J;for(J=[],m=j=0;0<=E?j<E:j>E;m=0<=E?++j:--j)J.push(t.readUInt16());return J}(),i=(this.length-t.pos+this.offset)/2,f=function(){var j,J;for(J=[],m=j=0;0<=i?j<i:j>i;m=0<=i?++j:--j)J.push(t.readUInt16());return J}(),m=k=0,L=a.length;k<L;m=++k)for(P=a[m],r=O=R=I[m];R<=P?O<=P:O>=P;r=R<=P?++O:--O)y[m]===0?u=r+p[m]:(u=f[y[m]/2+(r-R)-(E-m)]||0)!==0&&(u+=p[m]),this.codeMap[r]=65535&u}t.pos=S}return e.encode=function(t,n){var r,i,a,u,f,m,p,y,S,E,A,R,I,P,k,O,L,j,J,ce,Y,Z,z,he,H,K,ue,oe,te,Ne,Ce,ne,_e,ve,Le,W,ae,fe,Ee,se,we,Re,Ie,je,ze,Ge;switch(oe=new jc,u=Object.keys(t).sort(function(Je,Ye){return Je-Ye}),n){case"macroman":for(I=0,P=function(){var Je=[];for(R=0;R<256;++R)Je.push(0);return Je}(),O={0:0},a={},te=0,_e=u.length;te<_e;te++)O[Ie=t[i=u[te]]]==null&&(O[Ie]=++I),a[i]={old:t[i],new:O[t[i]]},P[i]=O[t[i]];return oe.writeUInt16(1),oe.writeUInt16(0),oe.writeUInt32(12),oe.writeUInt16(0),oe.writeUInt16(262),oe.writeUInt16(0),oe.write(P),{charMap:a,subtable:oe.data,maxGlyphID:I+1};case"unicode":for(K=[],S=[],L=0,O={},r={},k=p=null,Ne=0,ve=u.length;Ne<ve;Ne++)O[J=t[i=u[Ne]]]==null&&(O[J]=++L),r[i]={old:J,new:O[J]},f=O[J]-i,k!=null&&f===p||(k&&S.push(k),K.push(i),p=f),k=i;for(k&&S.push(k),S.push(65535),K.push(65535),he=2*(z=K.length),Z=2*Math.pow(Math.log(z)/Math.LN2,2),E=Math.log(Z/2)/Math.LN2,Y=2*z-Z,m=[],ce=[],A=[],R=Ce=0,Le=K.length;Ce<Le;R=++Ce){if(H=K[R],y=S[R],H===65535){m.push(0),ce.push(0);break}if(H-(ue=r[H].new)>=32768)for(m.push(0),ce.push(2*(A.length+z-R)),i=ne=H;H<=y?ne<=y:ne>=y;i=H<=y?++ne:--ne)A.push(r[i].new);else m.push(ue-H),ce.push(0)}for(oe.writeUInt16(3),oe.writeUInt16(1),oe.writeUInt32(12),oe.writeUInt16(4),oe.writeUInt16(16+8*z+2*A.length),oe.writeUInt16(0),oe.writeUInt16(he),oe.writeUInt16(Z),oe.writeUInt16(E),oe.writeUInt16(Y),we=0,W=S.length;we<W;we++)i=S[we],oe.writeUInt16(i);for(oe.writeUInt16(0),Re=0,ae=K.length;Re<ae;Re++)i=K[Re],oe.writeUInt16(i);for(je=0,fe=m.length;je<fe;je++)f=m[je],oe.writeUInt16(f);for(ze=0,Ee=ce.length;ze<Ee;ze++)j=ce[ze],oe.writeUInt16(j);for(Ge=0,se=A.length;Ge<se;Ge++)I=A[Ge],oe.writeUInt16(I);return{charMap:r,subtable:oe.data,maxGlyphID:L+1}}},e}(),aE=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return rl(e,To),e.prototype.tag="cmap",e.prototype.parse=function(t){var n,r,i;for(t.pos=this.offset,this.version=t.readUInt16(),i=t.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)n=new P3(t,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(t,n){var r,i;return n==null&&(n="macroman"),r=P3.encode(t,n),(i=new jc).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},e}(),AU=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return rl(e,To),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),SU=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return rl(e,To),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var n,r;for(r=[],n=0;n<10;++n)r.push(t.readByte());return r}(),this.charRange=function(){var n,r;for(r=[],n=0;n<4;++n)r.push(t.readInt());return r}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(t.readInt());return r}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),_U=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return rl(e,To),e.prototype.tag="post",e.prototype.parse=function(t){var n,r,i;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(r=t.readUInt16(),this.glyphNameIndex=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],i=[];t.pos<this.offset+this.length;)n=t.readByte(),i.push(this.names.push(t.readString(n)));return i;case 151552:return r=t.readUInt16(),this.offsets=t.read(r);case 262144:return this.map=(function(){var u,f,m;for(m=[],a=u=0,f=this.file.maxp.numGlyphs;0<=f?u<f:u>f;a=0<=f?++u:--u)m.push(t.readUInt32());return m}).call(this)}},e}(),CU=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},EU=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return rl(e,To),e.prototype.tag="name",e.prototype.parse=function(t){var n,r,i,a,u,f,m,p,y,S,E;for(t.pos=this.offset,t.readShort(),n=t.readShort(),f=t.readShort(),r=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)r.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+f+t.readShort()});for(m={},a=y=0,S=r.length;y<S;a=++y)i=r[a],t.pos=i.offset,p=t.readString(i.length),u=new CU(p,i),m[E=i.nameID]==null&&(m[E]=[]),m[i.nameID].push(u);this.strings=m,this.copyright=m[0],this.fontFamily=m[1],this.fontSubfamily=m[2],this.uniqueSubfamily=m[3],this.fontName=m[4],this.version=m[5];try{this.postscriptName=m[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=m[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=m[7],this.manufacturer=m[8],this.designer=m[9],this.description=m[10],this.vendorUrl=m[11],this.designerUrl=m[12],this.license=m[13],this.licenseUrl=m[14],this.preferredFamily=m[15],this.preferredSubfamily=m[17],this.compatibleFull=m[18],this.sampleText=m[19]},e}(),NU=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return rl(e,To),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),IU=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return rl(e,To),e.prototype.tag="hmtx",e.prototype.parse=function(t){var n,r,i,a,u,f,m;for(t.pos=this.offset,this.metrics=[],n=0,f=this.file.hhea.numberOfMetrics;0<=f?n<f:n>f;n=0<=f?++n:--n)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var p,y;for(y=[],n=p=0;0<=i?p<i:p>i;n=0<=i?++p:--p)y.push(t.readInt16());return y}(),this.widths=(function(){var p,y,S,E;for(E=[],p=0,y=(S=this.metrics).length;p<y;p++)a=S[p],E.push(a.advance);return E}).call(this),r=this.widths[this.widths.length-1],m=[],n=u=0;0<=i?u<i:u>i;n=0<=i?++u:--u)m.push(this.widths.push(r));return m},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),oE=[].slice,TU=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return rl(e,To),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var n,r,i,a,u,f,m,p,y,S;return t in this.cache?this.cache[t]:(a=this.file.loca,n=this.file.contents,r=a.indexOf(t),(i=a.lengthOf(t))===0?this.cache[t]=null:(n.pos=this.offset+r,u=(f=new jc(n.read(i))).readShort(),p=f.readShort(),S=f.readShort(),m=f.readShort(),y=f.readShort(),this.cache[t]=u===-1?new PU(f,p,S,m,y):new kU(f,u,p,S,m,y),this.cache[t]))},e.prototype.encode=function(t,n,r){var i,a,u,f,m;for(u=[],a=[],f=0,m=n.length;f<m;f++)i=t[n[f]],a.push(u.length),i&&(u=u.concat(i.encode(r)));return a.push(u.length),{table:u,offsets:a}},e}(),kU=function(){function e(t,n,r,i,a,u){this.raw=t,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=a,this.yMax=u,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),PU=function(){function e(t,n,r,i,a){var u,f;for(this.raw=t,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],u=this.raw;f=u.readShort(),this.glyphOffsets.push(u.pos),this.glyphIDs.push(u.readUInt16()),32&f;)u.pos+=1&f?4:2,128&f?u.pos+=8:64&f?u.pos+=4:8&f&&(u.pos+=2)}return e.prototype.encode=function(){var t,n,r;for(n=new jc(oE.call(this.raw.data)),t=0,r=this.glyphIDs.length;t<r;++t)n.pos=this.glyphOffsets[t];return n.data},e}(),RU=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return rl(e,To),e.prototype.tag="loca",e.prototype.parse=function(t){var n,r;return t.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,a;for(a=[],r=0,i=this.length;r<i;r+=2)a.push(2*t.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],r=0,i=this.length;r<i;r+=4)a.push(t.readUInt32());return a}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,n){for(var r=new Uint32Array(this.offsets.length),i=0,a=0,u=0;u<r.length;++u)if(r[u]=i,a<n.length&&n[a]==u){++a,r[u]=i;var f=this.offsets[u],m=this.offsets[u+1]-f;m>0&&(i+=m)}for(var p=new Array(4*r.length),y=0;y<r.length;++y)p[4*y+3]=255&r[y],p[4*y+2]=(65280&r[y])>>8,p[4*y+1]=(16711680&r[y])>>16,p[4*y]=(4278190080&r[y])>>24;return p},e}(),OU=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,n,r,i,a;for(n in i=this.font.cmap.tables[0].codeMap,t={},a=this.subset)r=a[n],t[n]=i[r];return t},e.prototype.glyphsFor=function(t){var n,r,i,a,u,f,m;for(i={},u=0,f=t.length;u<f;u++)i[a=t[u]]=this.font.glyf.glyphFor(a);for(a in n=[],i)(r=i[a])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(a in m=this.glyphsFor(n))r=m[a],i[a]=r;return i},e.prototype.encode=function(t,n){var r,i,a,u,f,m,p,y,S,E,A,R,I,P,k;for(i in r=aE.encode(this.generateCmap(),"unicode"),u=this.glyphsFor(t),A={0:0},k=r.charMap)A[(m=k[i]).old]=m.new;for(R in E=r.maxGlyphID,u)R in A||(A[R]=E++);return y=function(O){var L,j;for(L in j={},O)j[O[L]]=L;return j}(A),S=Object.keys(y).sort(function(O,L){return O-L}),I=function(){var O,L,j;for(j=[],O=0,L=S.length;O<L;O++)f=S[O],j.push(y[f]);return j}(),a=this.font.glyf.encode(u,I,A),p=this.font.loca.encode(a.offsets,I),P={cmap:this.font.cmap.raw(),glyf:a.table,loca:p,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(P["OS/2"]=this.font.os2.raw()),this.font.directory.encode(P)},e}();Jt.API.PDFObject=function(){var e;function t(){}return e=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},t.convert=function(n){var r,i,a,u;if(Array.isArray(n))return"["+function(){var f,m,p;for(p=[],f=0,m=n.length;f<m;f++)r=n[f],p.push(t.convert(r));return p}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in a=["<<"],n)u=n[i],a.push("/"+i+" "+t.convert(u));return a.push(">>"),a.join(`
`)}return""+n},t}();/*! Capacitor: https://capacitorjs.com/ - MIT License */var Hd;(function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"})(Hd||(Hd={}));class Ug extends Error{constructor(t,n,r){super(t),this.message=t,this.code=n,this.data=r}}const LU=e=>{var t,n;return e!=null&&e.androidBridge?"android":!((n=(t=e==null?void 0:e.webkit)===null||t===void 0?void 0:t.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},DU=e=>{const t=e.CapacitorCustomPlatform||null,n=e.Capacitor||{},r=n.Plugins=n.Plugins||{},i=()=>t!==null?t.name:LU(e),a=()=>i()!=="web",u=S=>{const E=p.get(S);return!!(E!=null&&E.platforms.has(i())||f(S))},f=S=>{var E;return(E=n.PluginHeaders)===null||E===void 0?void 0:E.find(A=>A.name===S)},m=S=>e.console.error(S),p=new Map,y=(S,E={})=>{const A=p.get(S);if(A)return console.warn(`Capacitor plugin "${S}" already registered. Cannot register plugins twice.`),A.proxy;const R=i(),I=f(S);let P;const k=async()=>(!P&&R in E?P=typeof E[R]=="function"?P=await E[R]():P=E[R]:t!==null&&!P&&"web"in E&&(P=typeof E.web=="function"?P=await E.web():P=E.web),P),O=(Z,z)=>{var he,H;if(I){const K=I==null?void 0:I.methods.find(ue=>z===ue.name);if(K)return K.rtype==="promise"?ue=>n.nativePromise(S,z.toString(),ue):(ue,oe)=>n.nativeCallback(S,z.toString(),ue,oe);if(Z)return(he=Z[z])===null||he===void 0?void 0:he.bind(Z)}else{if(Z)return(H=Z[z])===null||H===void 0?void 0:H.bind(Z);throw new Ug(`"${S}" plugin is not implemented on ${R}`,Hd.Unimplemented)}},L=Z=>{let z;const he=(...H)=>{const K=k().then(ue=>{const oe=O(ue,Z);if(oe){const te=oe(...H);return z=te==null?void 0:te.remove,te}else throw new Ug(`"${S}.${Z}()" is not implemented on ${R}`,Hd.Unimplemented)});return Z==="addListener"&&(K.remove=async()=>z()),K};return he.toString=()=>`${Z.toString()}() { [capacitor code] }`,Object.defineProperty(he,"name",{value:Z,writable:!1,configurable:!1}),he},j=L("addListener"),J=L("removeListener"),ce=(Z,z)=>{const he=j({eventName:Z},z),H=async()=>{const ue=await he;J({eventName:Z,callbackId:ue},z)},K=new Promise(ue=>he.then(()=>ue({remove:H})));return K.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await H()},K},Y=new Proxy({},{get(Z,z){switch(z){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return I?ce:j;case"removeListener":return J;default:return L(z)}}});return r[S]=Y,p.set(S,{name:S,proxy:Y,platforms:new Set([...Object.keys(E),...I?[R]:[]])}),Y};return n.convertFileSrc||(n.convertFileSrc=S=>S),n.getPlatform=i,n.handleError=m,n.isNativePlatform=a,n.isPluginAvailable=u,n.registerPlugin=y,n.Exception=Ug,n.DEBUG=!!n.DEBUG,n.isLoggingEnabled=!!n.isLoggingEnabled,n},MU=e=>e.Capacitor=DU(e),kh=MU(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Kh=kh.registerPlugin;class lE{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(t,n){let r=!1;this.listeners[t]||(this.listeners[t]=[],r=!0),this.listeners[t].push(n);const a=this.windowListeners[t];a&&!a.registered&&this.addWindowListener(a),r&&this.sendRetainedArgumentsForEvent(t);const u=async()=>this.removeListener(t,n);return Promise.resolve({remove:u})}async removeAllListeners(){this.listeners={};for(const t in this.windowListeners)this.removeWindowListener(this.windowListeners[t]);this.windowListeners={}}notifyListeners(t,n,r){const i=this.listeners[t];if(!i){if(r){let a=this.retainedEventArguments[t];a||(a=[]),a.push(n),this.retainedEventArguments[t]=a}return}i.forEach(a=>a(n))}hasListeners(t){var n;return!!(!((n=this.listeners[t])===null||n===void 0)&&n.length)}registerWindowListener(t,n){this.windowListeners[n]={registered:!1,windowEventName:t,pluginEventName:n,handler:r=>{this.notifyListeners(n,r)}}}unimplemented(t="not implemented"){return new kh.Exception(t,Hd.Unimplemented)}unavailable(t="not available"){return new kh.Exception(t,Hd.Unavailable)}async removeListener(t,n){const r=this.listeners[t];if(!r)return;const i=r.indexOf(n);this.listeners[t].splice(i,1),this.listeners[t].length||this.removeWindowListener(this.windowListeners[t])}addWindowListener(t){window.addEventListener(t.windowEventName,t.handler),t.registered=!0}removeWindowListener(t){t&&(window.removeEventListener(t.windowEventName,t.handler),t.registered=!1)}sendRetainedArgumentsForEvent(t){const n=this.retainedEventArguments[t];n&&(delete this.retainedEventArguments[t],n.forEach(r=>{this.notifyListeners(t,r)}))}}const R3=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),O3=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class jU extends lE{async getCookies(){const t=document.cookie,n={};return t.split(";").forEach(r=>{if(r.length<=0)return;let[i,a]=r.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");i=O3(i).trim(),a=O3(a).trim(),n[i]=a}),n}async setCookie(t){try{const n=R3(t.key),r=R3(t.value),i=`; expires=${(t.expires||"").replace("expires=","")}`,a=(t.path||"/").replace("path=",""),u=t.url!=null&&t.url.length>0?`domain=${t.url}`:"";document.cookie=`${n}=${r||""}${i}; path=${a}; ${u};`}catch(n){return Promise.reject(n)}}async deleteCookie(t){try{document.cookie=`${t.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}}async clearCookies(){try{const t=document.cookie.split(";")||[];for(const n of t)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(t){return Promise.reject(t)}}async clearAllCookies(){try{await this.clearCookies()}catch(t){return Promise.reject(t)}}}Kh("CapacitorCookies",{web:()=>new jU});const FU=async e=>new Promise((t,n)=>{const r=new FileReader;r.onload=()=>{const i=r.result;t(i.indexOf(",")>=0?i.split(",")[1]:i)},r.onerror=i=>n(i),r.readAsDataURL(e)}),BU=(e={})=>{const t=Object.keys(e);return Object.keys(e).map(i=>i.toLocaleLowerCase()).reduce((i,a,u)=>(i[a]=e[t[u]],i),{})},UU=(e,t=!0)=>e?Object.entries(e).reduce((r,i)=>{const[a,u]=i;let f,m;return Array.isArray(u)?(m="",u.forEach(p=>{f=t?encodeURIComponent(p):p,m+=`${a}=${f}&`}),m.slice(0,-1)):(f=t?encodeURIComponent(u):u,m=`${a}=${f}`),`${r}&${m}`},"").substr(1):null,zU=(e,t={})=>{const n=Object.assign({method:e.method||"GET",headers:e.headers},t),i=BU(e.headers)["content-type"]||"";if(typeof e.data=="string")n.body=e.data;else if(i.includes("application/x-www-form-urlencoded")){const a=new URLSearchParams;for(const[u,f]of Object.entries(e.data||{}))a.set(u,f);n.body=a.toString()}else if(i.includes("multipart/form-data")||e.data instanceof FormData){const a=new FormData;if(e.data instanceof FormData)e.data.forEach((f,m)=>{a.append(m,f)});else for(const f of Object.keys(e.data))a.append(f,e.data[f]);n.body=a;const u=new Headers(n.headers);u.delete("content-type"),n.headers=u}else(i.includes("application/json")||typeof e.data=="object")&&(n.body=JSON.stringify(e.data));return n};class WU extends lE{async request(t){const n=zU(t,t.webFetchExtra),r=UU(t.params,t.shouldEncodeUrlParams),i=r?`${t.url}?${r}`:t.url,a=await fetch(i,n),u=a.headers.get("content-type")||"";let{responseType:f="text"}=a.ok?t:{};u.includes("application/json")&&(f="json");let m,p;switch(f){case"arraybuffer":case"blob":p=await a.blob(),m=await FU(p);break;case"json":m=await a.json();break;case"document":case"text":default:m=await a.text()}const y={};return a.headers.forEach((S,E)=>{y[E]=S}),{data:m,headers:y,status:a.status,url:a.url}}async get(t){return this.request(Object.assign(Object.assign({},t),{method:"GET"}))}async post(t){return this.request(Object.assign(Object.assign({},t),{method:"POST"}))}async put(t){return this.request(Object.assign(Object.assign({},t),{method:"PUT"}))}async patch(t){return this.request(Object.assign(Object.assign({},t),{method:"PATCH"}))}async delete(t){return this.request(Object.assign(Object.assign({},t),{method:"DELETE"}))}}Kh("CapacitorHttp",{web:()=>new WU});function HU(e){e.CapacitorUtils.Synapse=new Proxy({},{get(t,n){return new Proxy({},{get(r,i){return(a,u,f)=>{const m=e.Capacitor.Plugins[n];if(m===void 0){f(new Error(`Capacitor plugin ${n} not found`));return}if(typeof m[i]!="function"){f(new Error(`Method ${i} not found in Capacitor plugin ${n}`));return}(async()=>{try{const p=await m[i](a);u(p)}catch(p){f(p)}})()}}})}})}function VU(e){e.CapacitorUtils.Synapse=new Proxy({},{get(t,n){return e.cordova.plugins[n]}})}function qU(e=!1){typeof window>"u"||(window.CapacitorUtils=window.CapacitorUtils||{},window.Capacitor!==void 0&&!e?HU(window):window.cordova!==void 0&&VU(window))}var cp;(function(e){e.Documents="DOCUMENTS",e.Data="DATA",e.Library="LIBRARY",e.Cache="CACHE",e.External="EXTERNAL",e.ExternalStorage="EXTERNAL_STORAGE",e.ExternalCache="EXTERNAL_CACHE",e.LibraryNoCloud="LIBRARY_NO_CLOUD",e.Temporary="TEMPORARY"})(cp||(cp={}));var L3;(function(e){e.UTF8="utf8",e.ASCII="ascii",e.UTF16="utf16"})(L3||(L3={}));const D3=Kh("Filesystem",{web:()=>Ao(()=>import("./web-kHfOSCen.js"),[]).then(e=>new e.FilesystemWeb)});qU();const GU=Kh("Share",{web:()=>Ao(()=>import("./web-cj6gWVn2.js"),[]).then(e=>new e.ShareWeb)});function KU(e){const t=e.indexOf(",");return t>=0?e.substring(t+1):e}function up(){try{return kh.isNativePlatform()}catch{return!1}}async function Cy(e,t){const n=KU(t);await D3.writeFile({path:e,data:n,directory:cp.Documents,recursive:!0});const r=await D3.getUri({directory:cp.Documents,path:e});try{await GU.share({title:e,url:r.uri})}catch{}}function cE(e){let t="";const n=new Uint8Array(e);for(let r=0;r<n.length;r++)t+=String.fromCharCode(n[r]);return typeof window>"u"?Buffer.from(t,"binary").toString("base64"):btoa(t)}const $U=Object.freeze(Object.defineProperty({__proto__:null,arrayBufferToBase64:cE,isNative:up,saveDataUrlNative:Cy},Symbol.toStringTag,{value:"Module"})),XU=()=>{const e=zc(),{toast:t}=Ys(),[n,r]=F.useState({fullName:"",email:"",phone:"",membershipStartDate:new Date().toISOString().split("T")[0],membershipDurationMonths:1,photoDataUrl:null}),[i,a]=F.useState("monthly"),[u,f]=F.useState(1),[m,p]=F.useState({membershipFee:200,monthlySubscriptionFee:500,perSessionMemberFee:80}),y=F.useMemo(()=>xM(),[]),S="2099-12-31",E=S,[A,R]=F.useState(null),[I,P]=F.useState(!1),[k,O]=F.useState(0),[L,j]=F.useState("Cash"),[J,ce]=F.useState(!1),Y=(te,Ne)=>{const Ce=new Date(te),ne=Ce.getDate();return Ce.setMonth(Ce.getMonth()+Ne),Ce.getDate()!==ne&&Ce.setDate(0),Ce.toISOString().split("T")[0]};F.useEffect(()=>{let te=!1;return(async()=>{const Ne=await a8(y);te||R(Ne)})(),()=>{te=!0}},[y]),F.useEffect(()=>{(async()=>{await Ks();const te=await J0();p(te)})()},[]),F.useEffect(()=>{const te=Number(m.membershipFee)||200,Ne=Number(m.monthlySubscriptionFee)||500,Ce=i==="monthly"?Ne*(u||1):0;O(te+Ce)},[m,i,u]);const Z=async te=>{te&&te.preventDefault(),await Ks();const Ne=i==="monthly"?Y(n.membershipStartDate,u||1):"";await sn.members.add({id:y,fullName:n.fullName,email:n.email,phone:n.phone,membershipStartDate:n.membershipStartDate,membershipExpiryDate:S,membershipDurationMonths:void 0,photoDataUrl:n.photoDataUrl,qrCodeDataUrl:A,status:"active",isActive:!0,membershipFeePaid:!0,paymentType:i,subscriptionExpiryDate:Ne});const Ce=await J0(),ne=new Date().toISOString().split("T")[0];await ep({date:ne,amount:Number(Ce.membershipFee)||200,method:L,category:"Membership Fee",description:`Lifetime membership fee for ${n.fullName} (${y})`,memberId:y}),i==="monthly"&&await ep({date:ne,amount:(Number(Ce.monthlySubscriptionFee)||500)*(u||1),method:L,category:"Monthly Subscription",description:`Prepaid ${u||1} month(s) subscription for ${n.fullName} (${y})`,memberId:y}),t({title:"Member Added Successfully",description:`Total paid: ${k} (${i==="monthly"?`lifetime + ${u||1} month(s)`:"lifetime; per session will be paid at attendance"})`}),P(!0)},z=te=>{r(Ne=>({...Ne,[te.target.name]:te.target.value}))},he=async te=>{var ne;const Ne=(ne=te.target.files)==null?void 0:ne[0];if(!Ne)return;const Ce=new FileReader;Ce.onload=()=>{r(_e=>({..._e,photoDataUrl:Ce.result}))},Ce.readAsDataURL(Ne)},H=async(te,Ne)=>{if(up()){await Cy(Ne,te);return}const Ce=document.createElement("a");Ce.href=te,Ce.download=Ne,Ce.click()},K=()=>{const Ce=document.createElement("canvas");Ce.width=800,Ce.height=1200;const ne=Ce.getContext("2d"),_e="#e11d2e",ve="#0a0a0a",Le="#121212",W="#f6f6f6",ae="#cfcfcf";ne.fillStyle=ve,ne.fillRect(0,0,800,1200);const fe=(Ie,je,ze,Ge,Je)=>{ne.beginPath(),ne.moveTo(Ie+Je,je),ne.arcTo(Ie+ze,je,Ie+ze,je+Ge,Je),ne.arcTo(Ie+ze,je+Ge,Ie,je+Ge,Je),ne.arcTo(Ie,je+Ge,Ie,je,Je),ne.arcTo(Ie,je,Ie+ze,je,Je),ne.closePath()};ne.fillStyle=Le,fe(40,40,720,1120,28),ne.fill(),ne.save(),ne.beginPath(),ne.moveTo(40,180),ne.quadraticCurveTo(800/2,40,760,180),ne.lineTo(760,40),ne.lineTo(40,40),ne.closePath(),ne.fillStyle=_e,ne.fill(),ne.restore(),ne.fillStyle="#ffffff",ne.font="bold 30px Helvetica",ne.textAlign="center",ne.fillText("POWERLIFT FITNESS GYM MEMBERSHIP ID",800/2,95),ne.textAlign="start";const Ee=180,se=180,we=800/2-Ee/2,Re=200;if(ne.save(),fe(we,Re,Ee,se,24),ne.clip(),n.photoDataUrl){const Ie=new Image;Ie.src=n.photoDataUrl,Ie.onload=()=>{try{ne.drawImage(Ie,we,Re,Ee,se)}catch{}};try{ne.drawImage(Ie,we,Re,Ee,se)}catch{}}else ne.fillStyle="#222",ne.fillRect(we,Re,Ee,se);if(ne.restore(),ne.fillStyle=W,ne.font="bold 40px Helvetica",ne.textAlign="center",ne.fillText((n.fullName||"New Member").toUpperCase(),800/2,Re+se+60),ne.fillStyle=ae,ne.font="normal 22px Helvetica",ne.fillText(`Member ID: ${y}`,800/2,Re+se+92),ne.fillText(`Start: ${n.membershipStartDate}    Expiry: ${E}`,800/2,Re+se+120),ne.textAlign="start",A){const Ie=new Image;Ie.src=A;const je=420,ze=800/2-je/2,Ge=Re+se+190;try{ne.drawImage(Ie,ze,Ge,je,je)}catch{}Ie.onload=()=>{try{ne.drawImage(Ie,ze,Ge,je,je)}catch{}}}return ne.fillStyle=ae,ne.font="italic 18px Helvetica",ne.textAlign="center",ne.fillText("Scan the QR to verify membership.",800/2,1140),ne.textAlign="start",Ce},ue=async()=>{const Ne=K().toDataURL("image/png");await H(Ne,`${y}-id-card.png`)},oe=async()=>{const te=K(),Ne=te.toDataURL("image/png"),Ce=new Jt({unit:"pt",format:"a4"}),ne=Ce.internal.pageSize.getWidth(),_e=Ce.internal.pageSize.getHeight(),ve=ne-80,Le=te.height/te.width*ve,W=40,ae=Math.max(40,(_e-Le)/2);if(Ce.addImage(Ne,"PNG",W,ae,ve,Le),up()){const fe=Ce.output("arraybuffer"),se=`data:application/pdf;base64,${await(await Ao(async()=>{const{then:we}=await Promise.resolve().then(()=>$U);return{then:we}},void 0)).then(we=>we.arrayBufferToBase64(fe))}`;await H(se,`${y}-id-card.pdf`)}else Ce.save(`${y}-id-card.pdf`)};return v.jsxs("div",{className:"space-y-6 w-full",children:[v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsxs(en,{variant:"ghost",size:"sm",onClick:()=>e("/members"),children:[v.jsx(xu,{className:"h-4 w-4 mr-2"}),"Back to Members"]}),v.jsxs("div",{children:[v.jsx("h1",{className:"text-3xl font-bold",children:"Add New Member"}),v.jsx("p",{className:"text-muted-foreground",children:"Create a new gym membership"})]})]}),v.jsxs(qn,{className:"border-0 shadow-md w-full",children:[v.jsx(vr,{children:v.jsx(yr,{children:"Member Information"})}),v.jsx(Gn,{children:v.jsxs("form",{onSubmit:Z,className:"space-y-6",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(Fn,{children:"Member ID (Auto-generated)"}),v.jsx(mr,{value:y,disabled:!0,className:"bg-muted/50"}),v.jsx("p",{className:"text-sm text-muted-foreground",children:"This ID will be automatically assigned to the member"})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(Fn,{htmlFor:"fullName",children:"Full Name *"}),v.jsx(mr,{id:"fullName",name:"fullName",value:n.fullName,onChange:z,placeholder:"Enter member's full name",required:!0})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(Fn,{htmlFor:"email",children:"Email Address *"}),v.jsx(mr,{id:"email",name:"email",type:"email",value:n.email,onChange:z,placeholder:"member@example.com",required:!0})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(Fn,{htmlFor:"phone",children:"Phone Number *"}),v.jsx(mr,{id:"phone",name:"phone",type:"tel",value:n.phone,onChange:z,placeholder:"+1234567890",required:!0})]})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(Fn,{htmlFor:"membershipStartDate",children:"Start Date *"}),v.jsx(mr,{id:"membershipStartDate",name:"membershipStartDate",type:"date",value:n.membershipStartDate,onChange:z,required:!0})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(Fn,{children:"Membership Duration"}),v.jsx(mr,{value:"Lifetime",disabled:!0,className:"bg-muted/50"})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(Fn,{children:"Expiry"}),v.jsx(mr,{value:"Lifetime",disabled:!0,className:"bg-muted/50"})]})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(Fn,{htmlFor:"photo",children:"Member Photo"}),v.jsx("input",{id:"photo",name:"photo",type:"file",accept:"image/*",onChange:he}),n.photoDataUrl&&v.jsx("img",{src:n.photoDataUrl,alt:"Preview",className:"h-24 w-24 object-cover rounded-md border"})]}),v.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg space-y-2",children:[v.jsx("h3",{className:"font-semibold",children:"Membership Summary"}),v.jsxs("div",{className:"text-sm space-y-1",children:[v.jsxs("p",{children:[v.jsx("strong",{children:"Member ID:"})," ",y]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Duration:"})," ",i==="monthly"?`${u} ${u===1?"Month":"Months"}`:"Lifetime"]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Start Date:"})," ",n.membershipStartDate]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Expiry:"})," ",i==="monthly"?Y(n.membershipStartDate,u||1):"Lifetime"]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Status:"})," ",v.jsx("span",{className:"text-success",children:"Active"})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 pt-2",children:[v.jsxs("div",{className:"space-y-1",children:[v.jsx("p",{className:"font-medium",children:"Payment Type"}),v.jsxs("div",{className:"flex gap-4 text-sm",children:[v.jsxs("label",{className:"inline-flex items-center gap-2",children:[v.jsx("input",{type:"radio",name:"paymentType",checked:i==="monthly",onChange:()=>a("monthly")}),"Monthly Subscription"]}),v.jsxs("label",{className:"inline-flex items-center gap-2",children:[v.jsx("input",{type:"radio",name:"paymentType",checked:i==="per_session",onChange:()=>a("per_session")}),"Per Session (Member)"]})]}),i==="monthly"&&v.jsxs("div",{className:"pt-2",children:[v.jsx(Fn,{htmlFor:"months",children:"Months"}),v.jsxs("select",{id:"months",className:"w-full h-10 rounded-md border border-input bg-background px-3 py-2 text-sm",value:u,onChange:te=>f(Number(te.target.value)),children:[v.jsx("option",{value:1,children:"1 Month"}),v.jsx("option",{value:2,children:"2 Months"}),v.jsx("option",{value:3,children:"3 Months"}),v.jsx("option",{value:6,children:"6 Months"}),v.jsx("option",{value:12,children:"12 Months"})]})]})]}),v.jsxs("div",{className:"space-y-1",children:[v.jsx("p",{className:"font-medium",children:"Charges at Registration"}),v.jsxs("p",{className:"text-muted-foreground",children:["Lifetime: ",Number(m.membershipFee)||200]}),v.jsx("p",{className:"text-muted-foreground",children:i==="monthly"?`${u} month(s): ${(Number(m.monthlySubscriptionFee)||500)*(u||1)}`:"Per session charged at attendance"}),v.jsxs("p",{className:"font-semibold",children:["Total: ",k]})]})]}),A&&v.jsx("div",{className:"flex items-center gap-4 pt-2",children:v.jsxs("div",{children:[v.jsx("p",{className:"font-semibold",children:"QR Code"}),v.jsx("img",{src:A,alt:"QR",className:"h-24 w-24"})]})})]})]}),v.jsxs("div",{className:"flex gap-4 pt-4",children:[v.jsx(en,{type:"button",variant:"outline",onClick:()=>e("/members"),className:"flex-1",children:"Cancel"}),v.jsx(en,{type:"button",className:"flex-1 bg-gradient-primary hover:opacity-90",onClick:()=>ce(!0),children:"Add Member"})]})]})})]}),v.jsx(Jc,{open:J,onOpenChange:ce,children:v.jsxs(mc,{children:[v.jsx(yl,{children:v.jsx(wl,{children:"Confirm Charges"})}),v.jsxs("div",{className:"space-y-3 text-sm",children:[v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-muted-foreground",children:"Membership"}),v.jsx("span",{className:"font-medium",children:"Lifetime"})]}),v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-muted-foreground",children:"Lifetime Fee"}),v.jsxs("span",{className:"font-medium",children:["",Number(m.membershipFee)||200]})]}),i==="monthly"&&v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-muted-foreground",children:"Subscription"}),v.jsxs("span",{className:"font-medium",children:["",(Number(m.monthlySubscriptionFee)||500)*(u||1)," (",u," month(s))"]})]}),v.jsxs("div",{className:"flex justify-between border-t pt-2",children:[v.jsx("span",{className:"text-muted-foreground",children:"Total"}),v.jsxs("span",{className:"font-semibold",children:["",k]})]}),v.jsxs("div",{className:"pt-2",children:[v.jsx(Fn,{children:"Payment Method"}),v.jsxs(Ic,{value:L,onValueChange:te=>j(te),children:[v.jsx(Cl,{className:"mt-1",children:v.jsx(Tc,{placeholder:"Select method"})}),v.jsxs(El,{children:[v.jsx(Ai,{value:"Cash",children:"Cash"}),v.jsx(Ai,{value:"GCash",children:"GCash"}),v.jsx(Ai,{value:"Card",children:"Card"})]})]})]})]}),v.jsxs(cx,{children:[v.jsx(en,{variant:"outline",onClick:()=>ce(!1),children:"Back"}),v.jsx(en,{className:"bg-gradient-primary hover:opacity-90",onClick:async()=>{ce(!1),await Z()},children:"Confirm & Add"})]})]})}),v.jsx(Jc,{open:I,onOpenChange:te=>{te||(P(!1),e("/members"))},children:v.jsxs(mc,{children:[v.jsx(yl,{children:v.jsx(wl,{children:"Member Created"})}),v.jsxs("div",{className:"space-y-3",children:[v.jsxs("p",{className:"text-sm text-muted-foreground",children:[n.fullName," has been added successfully."]}),v.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 items-start",children:[v.jsxs("div",{className:"space-y-1",children:[v.jsxs("p",{children:[v.jsx("strong",{children:"Member ID:"})," ",y]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Start:"})," ",n.membershipStartDate]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Expiry:"})," Lifetime"]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Duration:"})," Lifetime"]})]}),v.jsx("div",{className:"flex items-center gap-6",children:A&&v.jsx("img",{src:A,className:"h-28 w-28",alt:"QR"})})]})]}),v.jsxs(cx,{className:"flex gap-2",children:[v.jsx(en,{type:"button",variant:"outline",onClick:ue,children:"Download ID Card (PNG)"}),v.jsx(en,{type:"button",onClick:oe,children:"Download ID Card (PDF)"}),v.jsx(en,{type:"button",variant:"secondary",onClick:()=>{P(!1),e("/members")},children:"Close"})]})]})})]})},YU=()=>{const{id:e}=OL(),t=zc(),{toast:n}=Ys(),[r,i]=F.useState(!0),[a,u]=F.useState(null),[f,m]=F.useState({fullName:"",email:"",phone:"",membershipExpiryDate:""});F.useEffect(()=>{let S=!1;return(async()=>{if(!e)return;await Ks();const E=await sn.members.get(e);S||(u(E||null),E&&m({fullName:E.fullName,email:E.email,phone:E.phone,membershipExpiryDate:E.membershipExpiryDate}),i(!1))})(),()=>{S=!0}},[e]);const p=async S=>{S.preventDefault(),e&&(await Ks(),await sn.members.update(e,{fullName:f.fullName,email:f.email,phone:f.phone,membershipExpiryDate:f.membershipExpiryDate}),n({title:"Member Updated",description:`${f.fullName}'s information has been updated successfully.`}),t("/members"))},y=()=>{const S=new Date(f.membershipExpiryDate);S.setMonth(S.getMonth()+1),m(E=>({...E,membershipExpiryDate:S.toISOString().split("T")[0]})),n({title:"Membership Renewed",description:"Membership has been extended by 1 month."})};return r?v.jsx("div",{className:"p-6",children:"Loading..."}):a?v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsxs(en,{variant:"ghost",size:"sm",onClick:()=>t("/members"),children:[v.jsx(xu,{className:"h-4 w-4 mr-2"}),"Back to Members"]}),v.jsxs("div",{children:[v.jsx("h1",{className:"text-3xl font-bold",children:"Edit Member"}),v.jsx("p",{className:"text-muted-foreground",children:"Update member information and manage membership"})]})]}),v.jsxs(qn,{className:"border-0 shadow-md max-w-2xl",children:[v.jsx(vr,{children:v.jsxs(yr,{children:["Member Information - ID: ",a.id]})}),v.jsx(Gn,{children:v.jsxs("form",{onSubmit:p,className:"space-y-6",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(Fn,{htmlFor:"fullName",children:"Full Name"}),v.jsx(mr,{id:"fullName",value:f.fullName,onChange:S=>m(E=>({...E,fullName:S.target.value}))})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(Fn,{htmlFor:"email",children:"Email Address"}),v.jsx(mr,{id:"email",type:"email",value:f.email,onChange:S=>m(E=>({...E,email:S.target.value}))})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(Fn,{htmlFor:"phone",children:"Phone Number"}),v.jsx(mr,{id:"phone",value:f.phone,onChange:S=>m(E=>({...E,phone:S.target.value}))})]})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(Fn,{htmlFor:"expiryDate",children:"Membership Expiry Date"}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx(mr,{id:"expiryDate",type:"date",value:f.membershipExpiryDate,onChange:S=>m(E=>({...E,membershipExpiryDate:S.target.value})),className:"flex-1"}),v.jsx(en,{type:"button",onClick:y,className:"bg-gradient-success hover:opacity-90",children:"Renew (+1 Month)"})]})]}),v.jsxs("div",{className:"flex gap-4 pt-4",children:[v.jsx(en,{type:"button",variant:"outline",onClick:()=>t("/members"),className:"flex-1",children:"Cancel"}),v.jsx(en,{type:"submit",className:"flex-1 bg-gradient-primary hover:opacity-90",children:"Update Member"})]})]})})]})]}):v.jsx("div",{className:"p-6",children:"Member not found"})},uE=({className:e,...t})=>v.jsx("nav",{role:"navigation","aria-label":"pagination",className:Ht("mx-auto flex w-full justify-center",e),...t});uE.displayName="Pagination";const dE=F.forwardRef(({className:e,...t},n)=>v.jsx("ul",{ref:n,className:Ht("flex flex-row items-center gap-1",e),...t}));dE.displayName="PaginationContent";const v0=F.forwardRef(({className:e,...t},n)=>v.jsx("li",{ref:n,className:Ht("",e),...t}));v0.displayName="PaginationItem";const am=({className:e,isActive:t,size:n="icon",...r})=>v.jsx("a",{"aria-current":t?"page":void 0,className:Ht(Xp({variant:t?"outline":"ghost",size:n}),e),...r});am.displayName="PaginationLink";const fE=({className:e,...t})=>v.jsxs(am,{"aria-label":"Go to previous page",size:"default",className:Ht("gap-1 pl-2.5",e),...t,children:[v.jsx(fk,{className:"h-4 w-4"}),v.jsx("span",{children:"Previous"})]});fE.displayName="PaginationPrevious";const hE=({className:e,...t})=>v.jsxs(am,{"aria-label":"Go to next page",size:"default",className:Ht("gap-1 pr-2.5",e),...t,children:[v.jsx("span",{children:"Next"}),v.jsx(hk,{className:"h-4 w-4"})]});hE.displayName="PaginationNext";var jt;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(jt||(jt={}));var M3=new Map([[jt.QR_CODE,"QR_CODE"],[jt.AZTEC,"AZTEC"],[jt.CODABAR,"CODABAR"],[jt.CODE_39,"CODE_39"],[jt.CODE_93,"CODE_93"],[jt.CODE_128,"CODE_128"],[jt.DATA_MATRIX,"DATA_MATRIX"],[jt.MAXICODE,"MAXICODE"],[jt.ITF,"ITF"],[jt.EAN_13,"EAN_13"],[jt.EAN_8,"EAN_8"],[jt.PDF_417,"PDF_417"],[jt.RSS_14,"RSS_14"],[jt.RSS_EXPANDED,"RSS_EXPANDED"],[jt.UPC_A,"UPC_A"],[jt.UPC_E,"UPC_E"],[jt.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),j3;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(j3||(j3={}));function ZU(e){return Object.values(jt).includes(e)}var dp;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(dp||(dp={}));var QU=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[dp.SCAN_TYPE_CAMERA,dp.SCAN_TYPE_FILE],e}(),pE=function(){function e(t,n){this.format=t,this.formatName=n}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!M3.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,M3.get(t))},e}(),F3=function(){function e(){}return e.createFromText=function(t){var n={text:t};return{decodedText:t,result:n}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),Nx;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Nx||(Nx={}));var JU=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:Nx.UNKWOWN_ERROR}},e}(),ez=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,n){(this.verbose||n===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function hl(e){return typeof e>"u"||e===null}var rd=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),mE=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,n){if(typeof t!="object"){var r=typeof t;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(r,"."),!0),!1}for(var i=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],a=new Set(i),u=Object.keys(t),f=0,m=u;f<m.length;f++){var p=m[f];if(a.has(p))return n.logError("".concat(p," is not supported videoConstaints."),!0),!1}return!0},e}(),Ix={exports:{}};(function(e,t){(function(n,r){r(t)})($c,function(n){function r(q){return q==null}var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(q,s){q.__proto__=s}||function(q,s){for(var o in s)s.hasOwnProperty(o)&&(q[o]=s[o])};function a(q,s){i(q,s);function o(){this.constructor=q}q.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}function u(q,s){var o=Object.setPrototypeOf;o?o(q,s):q.__proto__=s}function f(q,s){s===void 0&&(s=q.constructor);var o=Error.captureStackTrace;o&&o(q,s)}var m=function(q){a(s,q);function s(o){var c=this.constructor,h=q.call(this,o)||this;return Object.defineProperty(h,"name",{value:c.name,enumerable:!1}),u(h,c.prototype),f(h),h}return s}(Error);class p extends m{constructor(s=void 0){super(s),this.message=s}getKind(){return this.constructor.kind}}p.kind="Exception";class y extends p{}y.kind="ArgumentException";class S extends p{}S.kind="IllegalArgumentException";class E{constructor(s){if(this.binarizer=s,s===null)throw new S("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(s,o){return this.binarizer.getBlackRow(s,o)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(s,o,c,h){const g=this.binarizer.getLuminanceSource().crop(s,o,c,h);return new E(this.binarizer.createBinarizer(g))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const s=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new E(this.binarizer.createBinarizer(s))}rotateCounterClockwise45(){const s=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new E(this.binarizer.createBinarizer(s))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class A extends p{static getChecksumInstance(){return new A}}A.kind="ChecksumException";class R{constructor(s){this.source=s}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class I{static arraycopy(s,o,c,h,g){for(;g--;)c[h++]=s[o++]}static currentTimeMillis(){return Date.now()}}class P extends p{}P.kind="IndexOutOfBoundsException";class k extends P{constructor(s=void 0,o=void 0){super(o),this.index=s,this.message=o}}k.kind="ArrayIndexOutOfBoundsException";class O{static fill(s,o){for(let c=0,h=s.length;c<h;c++)s[c]=o}static fillWithin(s,o,c,h){O.rangeCheck(s.length,o,c);for(let g=o;g<c;g++)s[g]=h}static rangeCheck(s,o,c){if(o>c)throw new S("fromIndex("+o+") > toIndex("+c+")");if(o<0)throw new k(o);if(c>s)throw new k(c)}static asList(...s){return s}static create(s,o,c){return Array.from({length:s}).map(g=>Array.from({length:o}).fill(c))}static createInt32Array(s,o,c){return Array.from({length:s}).map(g=>Int32Array.from({length:o}).fill(c))}static equals(s,o){if(!s||!o||!s.length||!o.length||s.length!==o.length)return!1;for(let c=0,h=s.length;c<h;c++)if(s[c]!==o[c])return!1;return!0}static hashCode(s){if(s===null)return 0;let o=1;for(const c of s)o=31*o+c;return o}static fillUint8Array(s,o){for(let c=0;c!==s.length;c++)s[c]=o}static copyOf(s,o){return s.slice(0,o)}static copyOfUint8Array(s,o){if(s.length<=o){const c=new Uint8Array(o);return c.set(s),c}return s.slice(0,o)}static copyOfRange(s,o,c){const h=c-o,g=new Int32Array(h);return I.arraycopy(s,o,g,0,h),g}static binarySearch(s,o,c){c===void 0&&(c=O.numberComparator);let h=0,g=s.length-1;for(;h<=g;){const l=g+h>>1,d=c(o,s[l]);if(d>0)h=l+1;else if(d<0)g=l-1;else return l}return-h-1}static numberComparator(s,o){return s-o}}class L{static numberOfTrailingZeros(s){let o;if(s===0)return 32;let c=31;return o=s<<16,o!==0&&(c-=16,s=o),o=s<<8,o!==0&&(c-=8,s=o),o=s<<4,o!==0&&(c-=4,s=o),o=s<<2,o!==0&&(c-=2,s=o),c-(s<<1>>>31)}static numberOfLeadingZeros(s){if(s===0)return 32;let o=1;return s>>>16||(o+=16,s<<=16),s>>>24||(o+=8,s<<=8),s>>>28||(o+=4,s<<=4),s>>>30||(o+=2,s<<=2),o-=s>>>31,o}static toHexString(s){return s.toString(16)}static toBinaryString(s){return String(parseInt(String(s),2))}static bitCount(s){return s=s-(s>>>1&1431655765),s=(s&858993459)+(s>>>2&858993459),s=s+(s>>>4)&252645135,s=s+(s>>>8),s=s+(s>>>16),s&63}static truncDivision(s,o){return Math.trunc(s/o)}static parseInt(s,o=void 0){return parseInt(s,o)}}L.MIN_VALUE_32_BITS=-2147483648,L.MAX_VALUE=Number.MAX_SAFE_INTEGER;class j{constructor(s,o){s===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=s,o==null?this.bits=j.makeArray(s):this.bits=o)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(s){if(s>this.bits.length*32){const o=j.makeArray(s);I.arraycopy(this.bits,0,o,0,this.bits.length),this.bits=o}}get(s){return(this.bits[Math.floor(s/32)]&1<<(s&31))!==0}set(s){this.bits[Math.floor(s/32)]|=1<<(s&31)}flip(s){this.bits[Math.floor(s/32)]^=1<<(s&31)}getNextSet(s){const o=this.size;if(s>=o)return o;const c=this.bits;let h=Math.floor(s/32),g=c[h];g&=~((1<<(s&31))-1);const l=c.length;for(;g===0;){if(++h===l)return o;g=c[h]}const d=h*32+L.numberOfTrailingZeros(g);return d>o?o:d}getNextUnset(s){const o=this.size;if(s>=o)return o;const c=this.bits;let h=Math.floor(s/32),g=~c[h];g&=~((1<<(s&31))-1);const l=c.length;for(;g===0;){if(++h===l)return o;g=~c[h]}const d=h*32+L.numberOfTrailingZeros(g);return d>o?o:d}setBulk(s,o){this.bits[Math.floor(s/32)]=o}setRange(s,o){if(o<s||s<0||o>this.size)throw new S;if(o===s)return;o--;const c=Math.floor(s/32),h=Math.floor(o/32),g=this.bits;for(let l=c;l<=h;l++){const d=l>c?0:s&31,w=(2<<(l<h?31:o&31))-(1<<d);g[l]|=w}}clear(){const s=this.bits.length,o=this.bits;for(let c=0;c<s;c++)o[c]=0}isRange(s,o,c){if(o<s||s<0||o>this.size)throw new S;if(o===s)return!0;o--;const h=Math.floor(s/32),g=Math.floor(o/32),l=this.bits;for(let d=h;d<=g;d++){const x=d>h?0:s&31,_=(2<<(d<g?31:o&31))-(1<<x)&4294967295;if((l[d]&_)!==(c?_:0))return!1}return!0}appendBit(s){this.ensureCapacity(this.size+1),s&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(s,o){if(o<0||o>32)throw new S("Num bits must be between 0 and 32");this.ensureCapacity(this.size+o);for(let c=o;c>0;c--)this.appendBit((s>>c-1&1)===1)}appendBitArray(s){const o=s.size;this.ensureCapacity(this.size+o);for(let c=0;c<o;c++)this.appendBit(s.get(c))}xor(s){if(this.size!==s.size)throw new S("Sizes don't match");const o=this.bits;for(let c=0,h=o.length;c<h;c++)o[c]^=s.bits[c]}toBytes(s,o,c,h){for(let g=0;g<h;g++){let l=0;for(let d=0;d<8;d++)this.get(s)&&(l|=1<<7-d),s++;o[c+g]=l}}getBitArray(){return this.bits}reverse(){const s=new Int32Array(this.bits.length),o=Math.floor((this.size-1)/32),c=o+1,h=this.bits;for(let g=0;g<c;g++){let l=h[g];l=l>>1&1431655765|(l&1431655765)<<1,l=l>>2&858993459|(l&858993459)<<2,l=l>>4&252645135|(l&252645135)<<4,l=l>>8&16711935|(l&16711935)<<8,l=l>>16&65535|(l&65535)<<16,s[o-g]=l}if(this.size!==c*32){const g=c*32-this.size;let l=s[0]>>>g;for(let d=1;d<c;d++){const x=s[d];l|=x<<32-g,s[d-1]=l,l=x>>>g}s[c-1]=l}this.bits=s}static makeArray(s){return new Int32Array(Math.floor((s+31)/32))}equals(s){if(!(s instanceof j))return!1;const o=s;return this.size===o.size&&O.equals(this.bits,o.bits)}hashCode(){return 31*this.size+O.hashCode(this.bits)}toString(){let s="";for(let o=0,c=this.size;o<c;o++)o&7||(s+=" "),s+=this.get(o)?"X":".";return s}clone(){return new j(this.size,this.bits.slice())}}var J;(function(q){q[q.OTHER=0]="OTHER",q[q.PURE_BARCODE=1]="PURE_BARCODE",q[q.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",q[q.TRY_HARDER=3]="TRY_HARDER",q[q.CHARACTER_SET=4]="CHARACTER_SET",q[q.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",q[q.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",q[q.ASSUME_GS1=7]="ASSUME_GS1",q[q.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",q[q.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",q[q.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(J||(J={}));var ce=J;class Y extends p{static getFormatInstance(){return new Y}}Y.kind="FormatException";var Z;(function(q){q[q.Cp437=0]="Cp437",q[q.ISO8859_1=1]="ISO8859_1",q[q.ISO8859_2=2]="ISO8859_2",q[q.ISO8859_3=3]="ISO8859_3",q[q.ISO8859_4=4]="ISO8859_4",q[q.ISO8859_5=5]="ISO8859_5",q[q.ISO8859_6=6]="ISO8859_6",q[q.ISO8859_7=7]="ISO8859_7",q[q.ISO8859_8=8]="ISO8859_8",q[q.ISO8859_9=9]="ISO8859_9",q[q.ISO8859_10=10]="ISO8859_10",q[q.ISO8859_11=11]="ISO8859_11",q[q.ISO8859_13=12]="ISO8859_13",q[q.ISO8859_14=13]="ISO8859_14",q[q.ISO8859_15=14]="ISO8859_15",q[q.ISO8859_16=15]="ISO8859_16",q[q.SJIS=16]="SJIS",q[q.Cp1250=17]="Cp1250",q[q.Cp1251=18]="Cp1251",q[q.Cp1252=19]="Cp1252",q[q.Cp1256=20]="Cp1256",q[q.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",q[q.UTF8=22]="UTF8",q[q.ASCII=23]="ASCII",q[q.Big5=24]="Big5",q[q.GB18030=25]="GB18030",q[q.EUC_KR=26]="EUC_KR"})(Z||(Z={}));class z{constructor(s,o,c,...h){this.valueIdentifier=s,this.name=c,typeof o=="number"?this.values=Int32Array.from([o]):this.values=o,this.otherEncodingNames=h,z.VALUE_IDENTIFIER_TO_ECI.set(s,this),z.NAME_TO_ECI.set(c,this);const g=this.values;for(let l=0,d=g.length;l!==d;l++){const x=g[l];z.VALUES_TO_ECI.set(x,this)}for(const l of h)z.NAME_TO_ECI.set(l,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(s){if(s<0||s>=900)throw new Y("incorect value");const o=z.VALUES_TO_ECI.get(s);if(o===void 0)throw new Y("incorect value");return o}static getCharacterSetECIByName(s){const o=z.NAME_TO_ECI.get(s);if(o===void 0)throw new Y("incorect value");return o}equals(s){if(!(s instanceof z))return!1;const o=s;return this.getName()===o.getName()}}z.VALUE_IDENTIFIER_TO_ECI=new Map,z.VALUES_TO_ECI=new Map,z.NAME_TO_ECI=new Map,z.Cp437=new z(Z.Cp437,Int32Array.from([0,2]),"Cp437"),z.ISO8859_1=new z(Z.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),z.ISO8859_2=new z(Z.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),z.ISO8859_3=new z(Z.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),z.ISO8859_4=new z(Z.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),z.ISO8859_5=new z(Z.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),z.ISO8859_6=new z(Z.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),z.ISO8859_7=new z(Z.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),z.ISO8859_8=new z(Z.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),z.ISO8859_9=new z(Z.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),z.ISO8859_10=new z(Z.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),z.ISO8859_11=new z(Z.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),z.ISO8859_13=new z(Z.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),z.ISO8859_14=new z(Z.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),z.ISO8859_15=new z(Z.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),z.ISO8859_16=new z(Z.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),z.SJIS=new z(Z.SJIS,20,"SJIS","Shift_JIS"),z.Cp1250=new z(Z.Cp1250,21,"Cp1250","windows-1250"),z.Cp1251=new z(Z.Cp1251,22,"Cp1251","windows-1251"),z.Cp1252=new z(Z.Cp1252,23,"Cp1252","windows-1252"),z.Cp1256=new z(Z.Cp1256,24,"Cp1256","windows-1256"),z.UnicodeBigUnmarked=new z(Z.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),z.UTF8=new z(Z.UTF8,26,"UTF8","UTF-8"),z.ASCII=new z(Z.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),z.Big5=new z(Z.Big5,28,"Big5"),z.GB18030=new z(Z.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),z.EUC_KR=new z(Z.EUC_KR,30,"EUC_KR","EUC-KR");class he extends p{}he.kind="UnsupportedOperationException";class H{static decode(s,o){const c=this.encodingName(o);return this.customDecoder?this.customDecoder(s,c):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(c)?this.decodeFallback(s,c):new TextDecoder(c).decode(s)}static shouldDecodeOnFallback(s){return!H.isBrowser()&&s==="ISO-8859-1"}static encode(s,o){const c=this.encodingName(o);return this.customEncoder?this.customEncoder(s,c):typeof TextEncoder>"u"?this.encodeFallback(s):new TextEncoder().encode(s)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(s){return typeof s=="string"?s:s.getName()}static encodingCharacterSet(s){return s instanceof z?s:z.getCharacterSetECIByName(s)}static decodeFallback(s,o){const c=this.encodingCharacterSet(o);if(H.isDecodeFallbackSupported(c)){let h="";for(let g=0,l=s.length;g<l;g++){let d=s[g].toString(16);d.length<2&&(d="0"+d),h+="%"+d}return decodeURIComponent(h)}if(c.equals(z.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(s.buffer));throw new he(`Encoding ${this.encodingName(o)} not supported by fallback.`)}static isDecodeFallbackSupported(s){return s.equals(z.UTF8)||s.equals(z.ISO8859_1)||s.equals(z.ASCII)}static encodeFallback(s){const c=btoa(unescape(encodeURIComponent(s))).split(""),h=[];for(let g=0;g<c.length;g++)h.push(c[g].charCodeAt(0));return new Uint8Array(h)}}class K{static castAsNonUtf8Char(s,o=null){const c=o?o.getName():this.ISO88591;return H.decode(new Uint8Array([s]),c)}static guessEncoding(s,o){if(o!=null&&o.get(ce.CHARACTER_SET)!==void 0)return o.get(ce.CHARACTER_SET).toString();const c=s.length;let h=!0,g=!0,l=!0,d=0,x=0,w=0,_=0,N=0,D=0,U=0,G=0,X=0,re=0,Q=0;const ge=s.length>3&&s[0]===239&&s[1]===187&&s[2]===191;for(let de=0;de<c&&(h||g||l);de++){const me=s[de]&255;l&&(d>0?me&128?d--:l=!1:me&128&&(me&64?(d++,me&32?(d++,me&16?(d++,me&8?l=!1:_++):w++):x++):l=!1)),h&&(me>127&&me<160?h=!1:me>159&&(me<192||me===215||me===247)&&Q++),g&&(N>0?me<64||me===127||me>252?g=!1:N--:me===128||me===160||me>239?g=!1:me>160&&me<224?(D++,G=0,U++,U>X&&(X=U)):me>127?(N++,U=0,G++,G>re&&(re=G)):(U=0,G=0))}return l&&d>0&&(l=!1),g&&N>0&&(g=!1),l&&(ge||x+w+_>0)?K.UTF8:g&&(K.ASSUME_SHIFT_JIS||X>=3||re>=3)?K.SHIFT_JIS:h&&g?X===2&&D===2||Q*10>=c?K.SHIFT_JIS:K.ISO88591:h?K.ISO88591:g?K.SHIFT_JIS:l?K.UTF8:K.PLATFORM_DEFAULT_ENCODING}static format(s,...o){let c=-1;function h(l,d,x,w,_,N){if(l==="%%")return"%";if(o[++c]===void 0)return;l=w?parseInt(w.substr(1)):void 0;let D=_?parseInt(_.substr(1)):void 0,U;switch(N){case"s":U=o[c];break;case"c":U=o[c][0];break;case"f":U=parseFloat(o[c]).toFixed(l);break;case"p":U=parseFloat(o[c]).toPrecision(l);break;case"e":U=parseFloat(o[c]).toExponential(l);break;case"x":U=parseInt(o[c]).toString(D||16);break;case"d":U=parseFloat(parseInt(o[c],D||10).toPrecision(l)).toFixed(0);break}U=typeof U=="object"?JSON.stringify(U):(+U).toString(D);let G=parseInt(x),X=x&&x[0]+""=="0"?"0":" ";for(;U.length<G;)U=d!==void 0?U+X:X+U;return U}let g=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return s.replace(g,h)}static getBytes(s,o){return H.encode(s,o)}static getCharCode(s,o=0){return s.charCodeAt(o)}static getCharAt(s){return String.fromCharCode(s)}}K.SHIFT_JIS=z.SJIS.getName(),K.GB2312="GB2312",K.ISO88591=z.ISO8859_1.getName(),K.EUC_JP="EUC_JP",K.UTF8=z.UTF8.getName(),K.PLATFORM_DEFAULT_ENCODING=K.UTF8,K.ASSUME_SHIFT_JIS=!1;class ue{constructor(s=""){this.value=s}enableDecoding(s){return this.encoding=s,this}append(s){return typeof s=="string"?this.value+=s.toString():this.encoding?this.value+=K.castAsNonUtf8Char(s,this.encoding):this.value+=String.fromCharCode(s),this}appendChars(s,o,c){for(let h=o;o<o+c;h++)this.append(s[h]);return this}length(){return this.value.length}charAt(s){return this.value.charAt(s)}deleteCharAt(s){this.value=this.value.substr(0,s)+this.value.substring(s+1)}setCharAt(s,o){this.value=this.value.substr(0,s)+o+this.value.substr(s+1)}substring(s,o){return this.value.substring(s,o)}setLengthToZero(){this.value=""}toString(){return this.value}insert(s,o){this.value=this.value.substr(0,s)+o+this.value.substr(s+o.length)}}class oe{constructor(s,o,c,h){if(this.width=s,this.height=o,this.rowSize=c,this.bits=h,o==null&&(o=s),this.height=o,s<1||o<1)throw new S("Both dimensions must be greater than 0");c==null&&(c=Math.floor((s+31)/32)),this.rowSize=c,h==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(s){const o=s.length,c=s[0].length,h=new oe(c,o);for(let g=0;g<o;g++){const l=s[g];for(let d=0;d<c;d++)l[d]&&h.set(d,g)}return h}static parseFromString(s,o,c){if(s===null)throw new S("stringRepresentation cannot be null");const h=new Array(s.length);let g=0,l=0,d=-1,x=0,w=0;for(;w<s.length;)if(s.charAt(w)===`
`||s.charAt(w)==="\r"){if(g>l){if(d===-1)d=g-l;else if(g-l!==d)throw new S("row lengths do not match");l=g,x++}w++}else if(s.substring(w,w+o.length)===o)w+=o.length,h[g]=!0,g++;else if(s.substring(w,w+c.length)===c)w+=c.length,h[g]=!1,g++;else throw new S("illegal character encountered: "+s.substring(w));if(g>l){if(d===-1)d=g-l;else if(g-l!==d)throw new S("row lengths do not match");x++}const _=new oe(d,x);for(let N=0;N<g;N++)h[N]&&_.set(Math.floor(N%d),Math.floor(N/d));return _}get(s,o){const c=o*this.rowSize+Math.floor(s/32);return(this.bits[c]>>>(s&31)&1)!==0}set(s,o){const c=o*this.rowSize+Math.floor(s/32);this.bits[c]|=1<<(s&31)&4294967295}unset(s,o){const c=o*this.rowSize+Math.floor(s/32);this.bits[c]&=~(1<<(s&31)&4294967295)}flip(s,o){const c=o*this.rowSize+Math.floor(s/32);this.bits[c]^=1<<(s&31)&4294967295}xor(s){if(this.width!==s.getWidth()||this.height!==s.getHeight()||this.rowSize!==s.getRowSize())throw new S("input matrix dimensions do not match");const o=new j(Math.floor(this.width/32)+1),c=this.rowSize,h=this.bits;for(let g=0,l=this.height;g<l;g++){const d=g*c,x=s.getRow(g,o).getBitArray();for(let w=0;w<c;w++)h[d+w]^=x[w]}}clear(){const s=this.bits,o=s.length;for(let c=0;c<o;c++)s[c]=0}setRegion(s,o,c,h){if(o<0||s<0)throw new S("Left and top must be nonnegative");if(h<1||c<1)throw new S("Height and width must be at least 1");const g=s+c,l=o+h;if(l>this.height||g>this.width)throw new S("The region must fit inside the matrix");const d=this.rowSize,x=this.bits;for(let w=o;w<l;w++){const _=w*d;for(let N=s;N<g;N++)x[_+Math.floor(N/32)]|=1<<(N&31)&4294967295}}getRow(s,o){o==null||o.getSize()<this.width?o=new j(this.width):o.clear();const c=this.rowSize,h=this.bits,g=s*c;for(let l=0;l<c;l++)o.setBulk(l*32,h[g+l]);return o}setRow(s,o){I.arraycopy(o.getBitArray(),0,this.bits,s*this.rowSize,this.rowSize)}rotate180(){const s=this.getWidth(),o=this.getHeight();let c=new j(s),h=new j(s);for(let g=0,l=Math.floor((o+1)/2);g<l;g++)c=this.getRow(g,c),h=this.getRow(o-1-g,h),c.reverse(),h.reverse(),this.setRow(g,h),this.setRow(o-1-g,c)}getEnclosingRectangle(){const s=this.width,o=this.height,c=this.rowSize,h=this.bits;let g=s,l=o,d=-1,x=-1;for(let w=0;w<o;w++)for(let _=0;_<c;_++){const N=h[w*c+_];if(N!==0){if(w<l&&(l=w),w>x&&(x=w),_*32<g){let D=0;for(;!(N<<31-D&4294967295);)D++;_*32+D<g&&(g=_*32+D)}if(_*32+31>d){let D=31;for(;!(N>>>D);)D--;_*32+D>d&&(d=_*32+D)}}}return d<g||x<l?null:Int32Array.from([g,l,d-g+1,x-l+1])}getTopLeftOnBit(){const s=this.rowSize,o=this.bits;let c=0;for(;c<o.length&&o[c]===0;)c++;if(c===o.length)return null;const h=c/s;let g=c%s*32;const l=o[c];let d=0;for(;!(l<<31-d&4294967295);)d++;return g+=d,Int32Array.from([g,h])}getBottomRightOnBit(){const s=this.rowSize,o=this.bits;let c=o.length-1;for(;c>=0&&o[c]===0;)c--;if(c<0)return null;const h=Math.floor(c/s);let g=Math.floor(c%s)*32;const l=o[c];let d=31;for(;!(l>>>d);)d--;return g+=d,Int32Array.from([g,h])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(s){if(!(s instanceof oe))return!1;const o=s;return this.width===o.width&&this.height===o.height&&this.rowSize===o.rowSize&&O.equals(this.bits,o.bits)}hashCode(){let s=this.width;return s=31*s+this.width,s=31*s+this.height,s=31*s+this.rowSize,s=31*s+O.hashCode(this.bits),s}toString(s="X ",o="  ",c=`
`){return this.buildToString(s,o,c)}buildToString(s,o,c){let h=new ue;for(let g=0,l=this.height;g<l;g++){for(let d=0,x=this.width;d<x;d++)h.append(this.get(d,g)?s:o);h.append(c)}return h.toString()}clone(){return new oe(this.width,this.height,this.rowSize,this.bits.slice())}}class te extends p{static getNotFoundInstance(){return new te}}te.kind="NotFoundException";class Ne extends R{constructor(s){super(s),this.luminances=Ne.EMPTY,this.buckets=new Int32Array(Ne.LUMINANCE_BUCKETS)}getBlackRow(s,o){const c=this.getLuminanceSource(),h=c.getWidth();o==null||o.getSize()<h?o=new j(h):o.clear(),this.initArrays(h);const g=c.getRow(s,this.luminances),l=this.buckets;for(let x=0;x<h;x++)l[(g[x]&255)>>Ne.LUMINANCE_SHIFT]++;const d=Ne.estimateBlackPoint(l);if(h<3)for(let x=0;x<h;x++)(g[x]&255)<d&&o.set(x);else{let x=g[0]&255,w=g[1]&255;for(let _=1;_<h-1;_++){const N=g[_+1]&255;(w*4-x-N)/2<d&&o.set(_),x=w,w=N}}return o}getBlackMatrix(){const s=this.getLuminanceSource(),o=s.getWidth(),c=s.getHeight(),h=new oe(o,c);this.initArrays(o);const g=this.buckets;for(let x=1;x<5;x++){const w=Math.floor(c*x/5),_=s.getRow(w,this.luminances),N=Math.floor(o*4/5);for(let D=Math.floor(o/5);D<N;D++){const U=_[D]&255;g[U>>Ne.LUMINANCE_SHIFT]++}}const l=Ne.estimateBlackPoint(g),d=s.getMatrix();for(let x=0;x<c;x++){const w=x*o;for(let _=0;_<o;_++)(d[w+_]&255)<l&&h.set(_,x)}return h}createBinarizer(s){return new Ne(s)}initArrays(s){this.luminances.length<s&&(this.luminances=new Uint8ClampedArray(s));const o=this.buckets;for(let c=0;c<Ne.LUMINANCE_BUCKETS;c++)o[c]=0}static estimateBlackPoint(s){const o=s.length;let c=0,h=0,g=0;for(let _=0;_<o;_++)s[_]>g&&(h=_,g=s[_]),s[_]>c&&(c=s[_]);let l=0,d=0;for(let _=0;_<o;_++){const N=_-h,D=s[_]*N*N;D>d&&(l=_,d=D)}if(h>l){const _=h;h=l,l=_}if(l-h<=o/16)throw new te;let x=l-1,w=-1;for(let _=l-1;_>h;_--){const N=_-h,D=N*N*(l-_)*(c-s[_]);D>w&&(x=_,w=D)}return x<<Ne.LUMINANCE_SHIFT}}Ne.LUMINANCE_BITS=5,Ne.LUMINANCE_SHIFT=8-Ne.LUMINANCE_BITS,Ne.LUMINANCE_BUCKETS=1<<Ne.LUMINANCE_BITS,Ne.EMPTY=Uint8ClampedArray.from([0]);class Ce extends Ne{constructor(s){super(s),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const s=this.getLuminanceSource(),o=s.getWidth(),c=s.getHeight();if(o>=Ce.MINIMUM_DIMENSION&&c>=Ce.MINIMUM_DIMENSION){const h=s.getMatrix();let g=o>>Ce.BLOCK_SIZE_POWER;o&Ce.BLOCK_SIZE_MASK&&g++;let l=c>>Ce.BLOCK_SIZE_POWER;c&Ce.BLOCK_SIZE_MASK&&l++;const d=Ce.calculateBlackPoints(h,g,l,o,c),x=new oe(o,c);Ce.calculateThresholdForBlock(h,g,l,o,c,d,x),this.matrix=x}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(s){return new Ce(s)}static calculateThresholdForBlock(s,o,c,h,g,l,d){const x=g-Ce.BLOCK_SIZE,w=h-Ce.BLOCK_SIZE;for(let _=0;_<c;_++){let N=_<<Ce.BLOCK_SIZE_POWER;N>x&&(N=x);const D=Ce.cap(_,2,c-3);for(let U=0;U<o;U++){let G=U<<Ce.BLOCK_SIZE_POWER;G>w&&(G=w);const X=Ce.cap(U,2,o-3);let re=0;for(let ge=-2;ge<=2;ge++){const de=l[D+ge];re+=de[X-2]+de[X-1]+de[X]+de[X+1]+de[X+2]}const Q=re/25;Ce.thresholdBlock(s,G,N,Q,h,d)}}}static cap(s,o,c){return s<o?o:s>c?c:s}static thresholdBlock(s,o,c,h,g,l){for(let d=0,x=c*g+o;d<Ce.BLOCK_SIZE;d++,x+=g)for(let w=0;w<Ce.BLOCK_SIZE;w++)(s[x+w]&255)<=h&&l.set(o+w,c+d)}static calculateBlackPoints(s,o,c,h,g){const l=g-Ce.BLOCK_SIZE,d=h-Ce.BLOCK_SIZE,x=new Array(c);for(let w=0;w<c;w++){x[w]=new Int32Array(o);let _=w<<Ce.BLOCK_SIZE_POWER;_>l&&(_=l);for(let N=0;N<o;N++){let D=N<<Ce.BLOCK_SIZE_POWER;D>d&&(D=d);let U=0,G=255,X=0;for(let Q=0,ge=_*h+D;Q<Ce.BLOCK_SIZE;Q++,ge+=h){for(let de=0;de<Ce.BLOCK_SIZE;de++){const me=s[ge+de]&255;U+=me,me<G&&(G=me),me>X&&(X=me)}if(X-G>Ce.MIN_DYNAMIC_RANGE)for(Q++,ge+=h;Q<Ce.BLOCK_SIZE;Q++,ge+=h)for(let de=0;de<Ce.BLOCK_SIZE;de++)U+=s[ge+de]&255}let re=U>>Ce.BLOCK_SIZE_POWER*2;if(X-G<=Ce.MIN_DYNAMIC_RANGE&&(re=G/2,w>0&&N>0)){const Q=(x[w-1][N]+2*x[w][N-1]+x[w-1][N-1])/4;G<Q&&(re=Q)}x[w][N]=re}}return x}}Ce.BLOCK_SIZE_POWER=3,Ce.BLOCK_SIZE=1<<Ce.BLOCK_SIZE_POWER,Ce.BLOCK_SIZE_MASK=Ce.BLOCK_SIZE-1,Ce.MINIMUM_DIMENSION=Ce.BLOCK_SIZE*5,Ce.MIN_DYNAMIC_RANGE=24;class ne{constructor(s,o){this.width=s,this.height=o}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(s,o,c,h){throw new he("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new he("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new he("This luminance source does not support rotation by 45 degrees.")}toString(){const s=new Uint8ClampedArray(this.width);let o=new ue;for(let c=0;c<this.height;c++){const h=this.getRow(c,s);for(let g=0;g<this.width;g++){const l=h[g]&255;let d;l<64?d="#":l<128?d="+":l<192?d=".":d=" ",o.append(d)}o.append(`
`)}return o.toString()}}class _e extends ne{constructor(s){super(s.getWidth(),s.getHeight()),this.delegate=s}getRow(s,o){const c=this.delegate.getRow(s,o),h=this.getWidth();for(let g=0;g<h;g++)c[g]=255-(c[g]&255);return c}getMatrix(){const s=this.delegate.getMatrix(),o=this.getWidth()*this.getHeight(),c=new Uint8ClampedArray(o);for(let h=0;h<o;h++)c[h]=255-(s[h]&255);return c}isCropSupported(){return this.delegate.isCropSupported()}crop(s,o,c,h){return new _e(this.delegate.crop(s,o,c,h))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new _e(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new _e(this.delegate.rotateCounterClockwise45())}}class ve extends ne{constructor(s){super(s.width,s.height),this.canvas=s,this.tempCanvasElement=null,this.buffer=ve.makeBufferFromCanvasImageData(s)}static makeBufferFromCanvasImageData(s){const o=s.getContext("2d").getImageData(0,0,s.width,s.height);return ve.toGrayscaleBuffer(o.data,s.width,s.height)}static toGrayscaleBuffer(s,o,c){const h=new Uint8ClampedArray(o*c);for(let g=0,l=0,d=s.length;g<d;g+=4,l++){let x;if(s[g+3]===0)x=255;else{const _=s[g],N=s[g+1],D=s[g+2];x=306*_+601*N+117*D+512>>10}h[l]=x}return h}getRow(s,o){if(s<0||s>=this.getHeight())throw new S("Requested row is outside the image: "+s);const c=this.getWidth(),h=s*c;return o===null?o=this.buffer.slice(h,h+c):(o.length<c&&(o=new Uint8ClampedArray(c)),o.set(this.buffer.slice(h,h+c))),o}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(s,o,c,h){return super.crop(s,o,c,h),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const s=this.canvas.ownerDocument.createElement("canvas");s.width=this.canvas.width,s.height=this.canvas.height,this.tempCanvasElement=s}return this.tempCanvasElement}rotate(s){const o=this.getTempCanvasElement(),c=o.getContext("2d"),h=s*ve.DEGREE_TO_RADIANS,g=this.canvas.width,l=this.canvas.height,d=Math.ceil(Math.abs(Math.cos(h))*g+Math.abs(Math.sin(h))*l),x=Math.ceil(Math.abs(Math.sin(h))*g+Math.abs(Math.cos(h))*l);return o.width=d,o.height=x,c.translate(d/2,x/2),c.rotate(h),c.drawImage(this.canvas,g/-2,l/-2),this.buffer=ve.makeBufferFromCanvasImageData(o),this}invert(){return new _e(this)}}ve.DEGREE_TO_RADIANS=Math.PI/180;class Le{constructor(s,o,c){this.deviceId=s,this.label=o,this.kind="videoinput",this.groupId=c||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var W=(globalThis||$c||self||window||void 0)&&(globalThis||$c||self||window||void 0).__awaiter||function(q,s,o,c){function h(g){return g instanceof o?g:new o(function(l){l(g)})}return new(o||(o=Promise))(function(g,l){function d(_){try{w(c.next(_))}catch(N){l(N)}}function x(_){try{w(c.throw(_))}catch(N){l(N)}}function w(_){_.done?g(_.value):h(_.value).then(d,x)}w((c=c.apply(q,s||[])).next())})};class ae{constructor(s,o=500,c){this.reader=s,this.timeBetweenScansMillis=o,this._hints=c,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(s){this._timeBetweenDecodingAttempts=s<0?0:s}set hints(s){this._hints=s||null}get hints(){return this._hints}listVideoInputDevices(){return W(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const s=yield navigator.mediaDevices.enumerateDevices(),o=[];for(const c of s){const h=c.kind==="video"?"videoinput":c.kind;if(h!=="videoinput")continue;const g=c.deviceId||c.id,l=c.label||`Video device ${o.length+1}`,d=c.groupId,x={deviceId:g,label:l,kind:h,groupId:d};o.push(x)}return o})}getVideoInputDevices(){return W(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(o=>new Le(o.deviceId,o.label))})}findDeviceById(s){return W(this,void 0,void 0,function*(){const o=yield this.listVideoInputDevices();return o?o.find(c=>c.deviceId===s):null})}decodeFromInputVideoDevice(s,o){return W(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(s,o)})}decodeOnceFromVideoDevice(s,o){return W(this,void 0,void 0,function*(){this.reset();let c;s?c={deviceId:{exact:s}}:c={facingMode:"environment"};const h={video:c};return yield this.decodeOnceFromConstraints(h,o)})}decodeOnceFromConstraints(s,o){return W(this,void 0,void 0,function*(){const c=yield navigator.mediaDevices.getUserMedia(s);return yield this.decodeOnceFromStream(c,o)})}decodeOnceFromStream(s,o){return W(this,void 0,void 0,function*(){this.reset();const c=yield this.attachStreamToVideo(s,o);return yield this.decodeOnce(c)})}decodeFromInputVideoDeviceContinuously(s,o,c){return W(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(s,o,c)})}decodeFromVideoDevice(s,o,c){return W(this,void 0,void 0,function*(){let h;s?h={deviceId:{exact:s}}:h={facingMode:"environment"};const g={video:h};return yield this.decodeFromConstraints(g,o,c)})}decodeFromConstraints(s,o,c){return W(this,void 0,void 0,function*(){const h=yield navigator.mediaDevices.getUserMedia(s);return yield this.decodeFromStream(h,o,c)})}decodeFromStream(s,o,c){return W(this,void 0,void 0,function*(){this.reset();const h=yield this.attachStreamToVideo(s,o);return yield this.decodeContinuously(h,c)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(s,o){return W(this,void 0,void 0,function*(){const c=this.prepareVideoElement(o);return this.addVideoSource(c,s),this.videoElement=c,this.stream=s,yield this.playVideoOnLoadAsync(c),c})}playVideoOnLoadAsync(s){return new Promise((o,c)=>this.playVideoOnLoad(s,()=>o()))}playVideoOnLoad(s,o){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(s),s.addEventListener("ended",this.videoEndedListener),s.addEventListener("canplay",this.videoCanPlayListener),s.addEventListener("playing",o),this.tryPlayVideo(s)}isVideoPlaying(s){return s.currentTime>0&&!s.paused&&!s.ended&&s.readyState>2}tryPlayVideo(s){return W(this,void 0,void 0,function*(){if(this.isVideoPlaying(s)){console.warn("Trying to play video that is already playing.");return}try{yield s.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(s,o){const c=document.getElementById(s);if(!c)throw new y(`element with id '${s}' not found`);if(c.nodeName.toLowerCase()!==o.toLowerCase())throw new y(`element with id '${s}' must be an ${o} element`);return c}decodeFromImage(s,o){if(!s&&!o)throw new y("either imageElement with a src set or an url must be provided");return o&&!s?this.decodeFromImageUrl(o):this.decodeFromImageElement(s)}decodeFromVideo(s,o){if(!s&&!o)throw new y("Either an element with a src set or an URL must be provided");return o&&!s?this.decodeFromVideoUrl(o):this.decodeFromVideoElement(s)}decodeFromVideoContinuously(s,o,c){if(s===void 0&&o===void 0)throw new y("Either an element with a src set or an URL must be provided");return o&&!s?this.decodeFromVideoUrlContinuously(o,c):this.decodeFromVideoElementContinuously(s,c)}decodeFromImageElement(s){if(!s)throw new y("An image element must be provided.");this.reset();const o=this.prepareImageElement(s);this.imageElement=o;let c;return this.isImageLoaded(o)?c=this.decodeOnce(o,!1,!0):c=this._decodeOnLoadImage(o),c}decodeFromVideoElement(s){const o=this._decodeFromVideoElementSetup(s);return this._decodeOnLoadVideo(o)}decodeFromVideoElementContinuously(s,o){const c=this._decodeFromVideoElementSetup(s);return this._decodeOnLoadVideoContinuously(c,o)}_decodeFromVideoElementSetup(s){if(!s)throw new y("A video element must be provided.");this.reset();const o=this.prepareVideoElement(s);return this.videoElement=o,o}decodeFromImageUrl(s){if(!s)throw new y("An URL must be provided.");this.reset();const o=this.prepareImageElement();this.imageElement=o;const c=this._decodeOnLoadImage(o);return o.src=s,c}decodeFromVideoUrl(s){if(!s)throw new y("An URL must be provided.");this.reset();const o=this.prepareVideoElement(),c=this.decodeFromVideoElement(o);return o.src=s,c}decodeFromVideoUrlContinuously(s,o){if(!s)throw new y("An URL must be provided.");this.reset();const c=this.prepareVideoElement(),h=this.decodeFromVideoElementContinuously(c,o);return c.src=s,h}_decodeOnLoadImage(s){return new Promise((o,c)=>{this.imageLoadedListener=()=>this.decodeOnce(s,!1,!0).then(o,c),s.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(s){return W(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(s),yield this.decodeOnce(s)})}_decodeOnLoadVideoContinuously(s,o){return W(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(s),this.decodeContinuously(s,o)})}isImageLoaded(s){return!(!s.complete||s.naturalWidth===0)}prepareImageElement(s){let o;return typeof s>"u"&&(o=document.createElement("img"),o.width=200,o.height=200),typeof s=="string"&&(o=this.getMediaElement(s,"img")),s instanceof HTMLImageElement&&(o=s),o}prepareVideoElement(s){let o;return!s&&typeof document<"u"&&(o=document.createElement("video"),o.width=200,o.height=200),typeof s=="string"&&(o=this.getMediaElement(s,"video")),s instanceof HTMLVideoElement&&(o=s),o.setAttribute("autoplay","true"),o.setAttribute("muted","true"),o.setAttribute("playsinline","true"),o}decodeOnce(s,o=!0,c=!0){this._stopAsyncDecode=!1;const h=(g,l)=>{if(this._stopAsyncDecode){l(new te("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const d=this.decode(s);g(d)}catch(d){const x=o&&d instanceof te,_=(d instanceof A||d instanceof Y)&&c;if(x||_)return setTimeout(h,this._timeBetweenDecodingAttempts,g,l);l(d)}};return new Promise((g,l)=>h(g,l))}decodeContinuously(s,o){this._stopContinuousDecode=!1;const c=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const h=this.decode(s);o(h,null),setTimeout(c,this.timeBetweenScansMillis)}catch(h){o(null,h);const g=h instanceof A||h instanceof Y,l=h instanceof te;(g||l)&&setTimeout(c,this._timeBetweenDecodingAttempts)}};c()}decode(s){const o=this.createBinaryBitmap(s);return this.decodeBitmap(o)}_isHTMLVideoElement(s){return s.videoWidth!==0}drawFrameOnCanvas(s,o,c){o||(o={sx:0,sy:0,sWidth:s.videoWidth,sHeight:s.videoHeight,dx:0,dy:0,dWidth:s.videoWidth,dHeight:s.videoHeight}),c||(c=this.captureCanvasContext),c.drawImage(s,o.sx,o.sy,o.sWidth,o.sHeight,o.dx,o.dy,o.dWidth,o.dHeight)}drawImageOnCanvas(s,o,c=this.captureCanvasContext){o||(o={sx:0,sy:0,sWidth:s.naturalWidth,sHeight:s.naturalHeight,dx:0,dy:0,dWidth:s.naturalWidth,dHeight:s.naturalHeight}),c||(c=this.captureCanvasContext),c.drawImage(s,o.sx,o.sy,o.sWidth,o.sHeight,o.dx,o.dy,o.dWidth,o.dHeight)}createBinaryBitmap(s){this.getCaptureCanvasContext(s),this._isHTMLVideoElement(s)?this.drawFrameOnCanvas(s):this.drawImageOnCanvas(s);const o=this.getCaptureCanvas(s),c=new ve(o),h=new Ce(c);return new E(h)}getCaptureCanvasContext(s){if(!this.captureCanvasContext){const c=this.getCaptureCanvas(s).getContext("2d");this.captureCanvasContext=c}return this.captureCanvasContext}getCaptureCanvas(s){if(!this.captureCanvas){const o=this.createCaptureCanvas(s);this.captureCanvas=o}return this.captureCanvas}decodeBitmap(s){return this.reader.decode(s,this._hints)}createCaptureCanvas(s){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const o=document.createElement("canvas");let c,h;return typeof s<"u"&&(s instanceof HTMLVideoElement?(c=s.videoWidth,h=s.videoHeight):s instanceof HTMLImageElement&&(c=s.naturalWidth||s.width,h=s.naturalHeight||s.height)),o.style.width=c+"px",o.style.height=h+"px",o.width=c,o.height=h,o}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(s=>s.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(s,o){try{s.srcObject=o}catch{s.src=URL.createObjectURL(o)}}cleanVideoSource(s){try{s.srcObject=null}catch{s.src=""}this.videoElement.removeAttribute("src")}}class fe{constructor(s,o,c=o==null?0:8*o.length,h,g,l=I.currentTimeMillis()){this.text=s,this.rawBytes=o,this.numBits=c,this.resultPoints=h,this.format=g,this.timestamp=l,this.text=s,this.rawBytes=o,c==null?this.numBits=o==null?0:8*o.length:this.numBits=c,this.resultPoints=h,this.format=g,this.resultMetadata=null,l==null?this.timestamp=I.currentTimeMillis():this.timestamp=l}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(s,o){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(s,o)}putAllMetadata(s){s!==null&&(this.resultMetadata===null?this.resultMetadata=s:this.resultMetadata=new Map(s))}addResultPoints(s){const o=this.resultPoints;if(o===null)this.resultPoints=s;else if(s!==null&&s.length>0){const c=new Array(o.length+s.length);I.arraycopy(o,0,c,0,o.length),I.arraycopy(s,0,c,o.length,s.length),this.resultPoints=c}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Ee;(function(q){q[q.AZTEC=0]="AZTEC",q[q.CODABAR=1]="CODABAR",q[q.CODE_39=2]="CODE_39",q[q.CODE_93=3]="CODE_93",q[q.CODE_128=4]="CODE_128",q[q.DATA_MATRIX=5]="DATA_MATRIX",q[q.EAN_8=6]="EAN_8",q[q.EAN_13=7]="EAN_13",q[q.ITF=8]="ITF",q[q.MAXICODE=9]="MAXICODE",q[q.PDF_417=10]="PDF_417",q[q.QR_CODE=11]="QR_CODE",q[q.RSS_14=12]="RSS_14",q[q.RSS_EXPANDED=13]="RSS_EXPANDED",q[q.UPC_A=14]="UPC_A",q[q.UPC_E=15]="UPC_E",q[q.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ee||(Ee={}));var se=Ee,we;(function(q){q[q.OTHER=0]="OTHER",q[q.ORIENTATION=1]="ORIENTATION",q[q.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",q[q.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",q[q.ISSUE_NUMBER=4]="ISSUE_NUMBER",q[q.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",q[q.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",q[q.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",q[q.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",q[q.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",q[q.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(we||(we={}));var Re=we;class Ie{constructor(s,o,c,h,g=-1,l=-1){this.rawBytes=s,this.text=o,this.byteSegments=c,this.ecLevel=h,this.structuredAppendSequenceNumber=g,this.structuredAppendParity=l,this.numBits=s==null?0:8*s.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(s){this.numBits=s}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(s){this.errorsCorrected=s}getErasures(){return this.erasures}setErasures(s){this.erasures=s}getOther(){return this.other}setOther(s){this.other=s}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class je{exp(s){return this.expTable[s]}log(s){if(s===0)throw new S;return this.logTable[s]}static addOrSubtract(s,o){return s^o}}class ze{constructor(s,o){if(o.length===0)throw new S;this.field=s;const c=o.length;if(c>1&&o[0]===0){let h=1;for(;h<c&&o[h]===0;)h++;h===c?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(c-h),I.arraycopy(o,h,this.coefficients,0,this.coefficients.length))}else this.coefficients=o}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(s){return this.coefficients[this.coefficients.length-1-s]}evaluateAt(s){if(s===0)return this.getCoefficient(0);const o=this.coefficients;let c;if(s===1){c=0;for(let l=0,d=o.length;l!==d;l++){const x=o[l];c=je.addOrSubtract(c,x)}return c}c=o[0];const h=o.length,g=this.field;for(let l=1;l<h;l++)c=je.addOrSubtract(g.multiply(s,c),o[l]);return c}addOrSubtract(s){if(!this.field.equals(s.field))throw new S("GenericGFPolys do not have same GenericGF field");if(this.isZero())return s;if(s.isZero())return this;let o=this.coefficients,c=s.coefficients;if(o.length>c.length){const l=o;o=c,c=l}let h=new Int32Array(c.length);const g=c.length-o.length;I.arraycopy(c,0,h,0,g);for(let l=g;l<c.length;l++)h[l]=je.addOrSubtract(o[l-g],c[l]);return new ze(this.field,h)}multiply(s){if(!this.field.equals(s.field))throw new S("GenericGFPolys do not have same GenericGF field");if(this.isZero()||s.isZero())return this.field.getZero();const o=this.coefficients,c=o.length,h=s.coefficients,g=h.length,l=new Int32Array(c+g-1),d=this.field;for(let x=0;x<c;x++){const w=o[x];for(let _=0;_<g;_++)l[x+_]=je.addOrSubtract(l[x+_],d.multiply(w,h[_]))}return new ze(d,l)}multiplyScalar(s){if(s===0)return this.field.getZero();if(s===1)return this;const o=this.coefficients.length,c=this.field,h=new Int32Array(o),g=this.coefficients;for(let l=0;l<o;l++)h[l]=c.multiply(g[l],s);return new ze(c,h)}multiplyByMonomial(s,o){if(s<0)throw new S;if(o===0)return this.field.getZero();const c=this.coefficients,h=c.length,g=new Int32Array(h+s),l=this.field;for(let d=0;d<h;d++)g[d]=l.multiply(c[d],o);return new ze(l,g)}divide(s){if(!this.field.equals(s.field))throw new S("GenericGFPolys do not have same GenericGF field");if(s.isZero())throw new S("Divide by 0");const o=this.field;let c=o.getZero(),h=this;const g=s.getCoefficient(s.getDegree()),l=o.inverse(g);for(;h.getDegree()>=s.getDegree()&&!h.isZero();){const d=h.getDegree()-s.getDegree(),x=o.multiply(h.getCoefficient(h.getDegree()),l),w=s.multiplyByMonomial(d,x),_=o.buildMonomial(d,x);c=c.addOrSubtract(_),h=h.addOrSubtract(w)}return[c,h]}toString(){let s="";for(let o=this.getDegree();o>=0;o--){let c=this.getCoefficient(o);if(c!==0){if(c<0?(s+=" - ",c=-c):s.length>0&&(s+=" + "),o===0||c!==1){const h=this.field.log(c);h===0?s+="1":h===1?s+="a":(s+="a^",s+=h)}o!==0&&(o===1?s+="x":(s+="x^",s+=o))}}return s}}class Ge extends p{}Ge.kind="ArithmeticException";class Je extends je{constructor(s,o,c){super(),this.primitive=s,this.size=o,this.generatorBase=c;const h=new Int32Array(o);let g=1;for(let d=0;d<o;d++)h[d]=g,g*=2,g>=o&&(g^=s,g&=o-1);this.expTable=h;const l=new Int32Array(o);for(let d=0;d<o-1;d++)l[h[d]]=d;this.logTable=l,this.zero=new ze(this,Int32Array.from([0])),this.one=new ze(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(s,o){if(s<0)throw new S;if(o===0)return this.zero;const c=new Int32Array(s+1);return c[0]=o,new ze(this,c)}inverse(s){if(s===0)throw new Ge;return this.expTable[this.size-this.logTable[s]-1]}multiply(s,o){return s===0||o===0?0:this.expTable[(this.logTable[s]+this.logTable[o])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+L.toHexString(this.primitive)+","+this.size+")"}equals(s){return s===this}}Je.AZTEC_DATA_12=new Je(4201,4096,1),Je.AZTEC_DATA_10=new Je(1033,1024,1),Je.AZTEC_DATA_6=new Je(67,64,1),Je.AZTEC_PARAM=new Je(19,16,1),Je.QR_CODE_FIELD_256=new Je(285,256,0),Je.DATA_MATRIX_FIELD_256=new Je(301,256,1),Je.AZTEC_DATA_8=Je.DATA_MATRIX_FIELD_256,Je.MAXICODE_FIELD_64=Je.AZTEC_DATA_6;class Ye extends p{}Ye.kind="ReedSolomonException";class be extends p{}be.kind="IllegalStateException";class ln{constructor(s){this.field=s}decode(s,o){const c=this.field,h=new ze(c,s),g=new Int32Array(o);let l=!0;for(let U=0;U<o;U++){const G=h.evaluateAt(c.exp(U+c.getGeneratorBase()));g[g.length-1-U]=G,G!==0&&(l=!1)}if(l)return;const d=new ze(c,g),x=this.runEuclideanAlgorithm(c.buildMonomial(o,1),d,o),w=x[0],_=x[1],N=this.findErrorLocations(w),D=this.findErrorMagnitudes(_,N);for(let U=0;U<N.length;U++){const G=s.length-1-c.log(N[U]);if(G<0)throw new Ye("Bad error location");s[G]=Je.addOrSubtract(s[G],D[U])}}runEuclideanAlgorithm(s,o,c){if(s.getDegree()<o.getDegree()){const U=s;s=o,o=U}const h=this.field;let g=s,l=o,d=h.getZero(),x=h.getOne();for(;l.getDegree()>=(c/2|0);){let U=g,G=d;if(g=l,d=x,g.isZero())throw new Ye("r_{i-1} was zero");l=U;let X=h.getZero();const re=g.getCoefficient(g.getDegree()),Q=h.inverse(re);for(;l.getDegree()>=g.getDegree()&&!l.isZero();){const ge=l.getDegree()-g.getDegree(),de=h.multiply(l.getCoefficient(l.getDegree()),Q);X=X.addOrSubtract(h.buildMonomial(ge,de)),l=l.addOrSubtract(g.multiplyByMonomial(ge,de))}if(x=X.multiply(d).addOrSubtract(G),l.getDegree()>=g.getDegree())throw new be("Division algorithm failed to reduce polynomial?")}const w=x.getCoefficient(0);if(w===0)throw new Ye("sigmaTilde(0) was zero");const _=h.inverse(w),N=x.multiplyScalar(_),D=l.multiplyScalar(_);return[N,D]}findErrorLocations(s){const o=s.getDegree();if(o===1)return Int32Array.from([s.getCoefficient(1)]);const c=new Int32Array(o);let h=0;const g=this.field;for(let l=1;l<g.getSize()&&h<o;l++)s.evaluateAt(l)===0&&(c[h]=g.inverse(l),h++);if(h!==o)throw new Ye("Error locator degree does not match number of roots");return c}findErrorMagnitudes(s,o){const c=o.length,h=new Int32Array(c),g=this.field;for(let l=0;l<c;l++){const d=g.inverse(o[l]);let x=1;for(let w=0;w<c;w++)if(l!==w){const _=g.multiply(o[w],d),N=_&1?_&-2:_|1;x=g.multiply(x,N)}h[l]=g.multiply(s.evaluateAt(d),g.inverse(x)),g.getGeneratorBase()!==0&&(h[l]=g.multiply(h[l],d))}return h}}var Lt;(function(q){q[q.UPPER=0]="UPPER",q[q.LOWER=1]="LOWER",q[q.MIXED=2]="MIXED",q[q.DIGIT=3]="DIGIT",q[q.PUNCT=4]="PUNCT",q[q.BINARY=5]="BINARY"})(Lt||(Lt={}));class gt{decode(s){this.ddata=s;let o=s.getBits(),c=this.extractBits(o),h=this.correctBits(c),g=gt.convertBoolArrayToByteArray(h),l=gt.getEncodedData(h),d=new Ie(g,l,null,null);return d.setNumBits(h.length),d}static highLevelDecode(s){return this.getEncodedData(s)}static getEncodedData(s){let o=s.length,c=Lt.UPPER,h=Lt.UPPER,g="",l=0;for(;l<o;)if(h===Lt.BINARY){if(o-l<5)break;let d=gt.readCode(s,l,5);if(l+=5,d===0){if(o-l<11)break;d=gt.readCode(s,l,11)+31,l+=11}for(let x=0;x<d;x++){if(o-l<8){l=o;break}const w=gt.readCode(s,l,8);g+=K.castAsNonUtf8Char(w),l+=8}h=c}else{let d=h===Lt.DIGIT?4:5;if(o-l<d)break;let x=gt.readCode(s,l,d);l+=d;let w=gt.getCharacter(h,x);w.startsWith("CTRL_")?(c=h,h=gt.getTable(w.charAt(5)),w.charAt(6)==="L"&&(c=h)):(g+=w,h=c)}return g}static getTable(s){switch(s){case"L":return Lt.LOWER;case"P":return Lt.PUNCT;case"M":return Lt.MIXED;case"D":return Lt.DIGIT;case"B":return Lt.BINARY;case"U":default:return Lt.UPPER}}static getCharacter(s,o){switch(s){case Lt.UPPER:return gt.UPPER_TABLE[o];case Lt.LOWER:return gt.LOWER_TABLE[o];case Lt.MIXED:return gt.MIXED_TABLE[o];case Lt.PUNCT:return gt.PUNCT_TABLE[o];case Lt.DIGIT:return gt.DIGIT_TABLE[o];default:throw new be("Bad table")}}correctBits(s){let o,c;this.ddata.getNbLayers()<=2?(c=6,o=Je.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(c=8,o=Je.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(c=10,o=Je.AZTEC_DATA_10):(c=12,o=Je.AZTEC_DATA_12);let h=this.ddata.getNbDatablocks(),g=s.length/c;if(g<h)throw new Y;let l=s.length%c,d=new Int32Array(g);for(let D=0;D<g;D++,l+=c)d[D]=gt.readCode(s,l,c);try{new ln(o).decode(d,g-h)}catch(D){throw new Y(D)}let x=(1<<c)-1,w=0;for(let D=0;D<h;D++){let U=d[D];if(U===0||U===x)throw new Y;(U===1||U===x-1)&&w++}let _=new Array(h*c-w),N=0;for(let D=0;D<h;D++){let U=d[D];if(U===1||U===x-1)_.fill(U>1,N,N+c-1),N+=c-1;else for(let G=c-1;G>=0;--G)_[N++]=(U&1<<G)!==0}return _}extractBits(s){let o=this.ddata.isCompact(),c=this.ddata.getNbLayers(),h=(o?11:14)+c*4,g=new Int32Array(h),l=new Array(this.totalBitsInLayer(c,o));if(o)for(let d=0;d<g.length;d++)g[d]=d;else{let d=h+1+2*L.truncDivision(L.truncDivision(h,2)-1,15),x=h/2,w=L.truncDivision(d,2);for(let _=0;_<x;_++){let N=_+L.truncDivision(_,15);g[x-_-1]=w-N-1,g[x+_]=w+N+1}}for(let d=0,x=0;d<c;d++){let w=(c-d)*4+(o?9:12),_=d*2,N=h-1-_;for(let D=0;D<w;D++){let U=D*2;for(let G=0;G<2;G++)l[x+U+G]=s.get(g[_+G],g[_+D]),l[x+2*w+U+G]=s.get(g[_+D],g[N-G]),l[x+4*w+U+G]=s.get(g[N-G],g[N-D]),l[x+6*w+U+G]=s.get(g[N-D],g[_+G])}x+=w*8}return l}static readCode(s,o,c){let h=0;for(let g=o;g<o+c;g++)h<<=1,s[g]&&(h|=1);return h}static readByte(s,o){let c=s.length-o;return c>=8?gt.readCode(s,o,8):gt.readCode(s,o,c)<<8-c}static convertBoolArrayToByteArray(s){let o=new Uint8Array((s.length+7)/8);for(let c=0;c<o.length;c++)o[c]=gt.readByte(s,8*c);return o}totalBitsInLayer(s,o){return((o?88:112)+16*s)*s}}gt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],gt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],gt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],gt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],gt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Qe{constructor(){}static round(s){return s===NaN?0:s<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:s>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:s+(s<0?-.5:.5)|0}static distance(s,o,c,h){const g=s-c,l=o-h;return Math.sqrt(g*g+l*l)}static sum(s){let o=0;for(let c=0,h=s.length;c!==h;c++){const g=s[c];o+=g}return o}}class Mt{static floatToIntBits(s){return s}}Mt.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Ke{constructor(s,o){this.x=s,this.y=o}getX(){return this.x}getY(){return this.y}equals(s){if(s instanceof Ke){const o=s;return this.x===o.x&&this.y===o.y}return!1}hashCode(){return 31*Mt.floatToIntBits(this.x)+Mt.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(s){const o=this.distance(s[0],s[1]),c=this.distance(s[1],s[2]),h=this.distance(s[0],s[2]);let g,l,d;if(c>=o&&c>=h?(l=s[0],g=s[1],d=s[2]):h>=c&&h>=o?(l=s[1],g=s[0],d=s[2]):(l=s[2],g=s[0],d=s[1]),this.crossProductZ(g,l,d)<0){const x=g;g=d,d=x}s[0]=g,s[1]=l,s[2]=d}static distance(s,o){return Qe.distance(s.x,s.y,o.x,o.y)}static crossProductZ(s,o,c){const h=o.x,g=o.y;return(c.x-h)*(s.y-g)-(c.y-g)*(s.x-h)}}class cn{constructor(s,o){this.bits=s,this.points=o}getBits(){return this.bits}getPoints(){return this.points}}class Ot extends cn{constructor(s,o,c,h,g){super(s,o),this.compact=c,this.nbDatablocks=h,this.nbLayers=g}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class bn{constructor(s,o,c,h){this.image=s,this.height=s.getHeight(),this.width=s.getWidth(),o==null&&(o=bn.INIT_SIZE),c==null&&(c=s.getWidth()/2|0),h==null&&(h=s.getHeight()/2|0);const g=o/2|0;if(this.leftInit=c-g,this.rightInit=c+g,this.upInit=h-g,this.downInit=h+g,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new te}detect(){let s=this.leftInit,o=this.rightInit,c=this.upInit,h=this.downInit,g=!1,l=!0,d=!1,x=!1,w=!1,_=!1,N=!1;const D=this.width,U=this.height;for(;l;){l=!1;let G=!0;for(;(G||!x)&&o<D;)G=this.containsBlackPoint(c,h,o,!1),G?(o++,l=!0,x=!0):x||o++;if(o>=D){g=!0;break}let X=!0;for(;(X||!w)&&h<U;)X=this.containsBlackPoint(s,o,h,!0),X?(h++,l=!0,w=!0):w||h++;if(h>=U){g=!0;break}let re=!0;for(;(re||!_)&&s>=0;)re=this.containsBlackPoint(c,h,s,!1),re?(s--,l=!0,_=!0):_||s--;if(s<0){g=!0;break}let Q=!0;for(;(Q||!N)&&c>=0;)Q=this.containsBlackPoint(s,o,c,!0),Q?(c--,l=!0,N=!0):N||c--;if(c<0){g=!0;break}l&&(d=!0)}if(!g&&d){const G=o-s;let X=null;for(let de=1;X===null&&de<G;de++)X=this.getBlackPointOnSegment(s,h-de,s+de,h);if(X==null)throw new te;let re=null;for(let de=1;re===null&&de<G;de++)re=this.getBlackPointOnSegment(s,c+de,s+de,c);if(re==null)throw new te;let Q=null;for(let de=1;Q===null&&de<G;de++)Q=this.getBlackPointOnSegment(o,c+de,o-de,c);if(Q==null)throw new te;let ge=null;for(let de=1;ge===null&&de<G;de++)ge=this.getBlackPointOnSegment(o,h-de,o-de,h);if(ge==null)throw new te;return this.centerEdges(ge,X,Q,re)}else throw new te}getBlackPointOnSegment(s,o,c,h){const g=Qe.round(Qe.distance(s,o,c,h)),l=(c-s)/g,d=(h-o)/g,x=this.image;for(let w=0;w<g;w++){const _=Qe.round(s+w*l),N=Qe.round(o+w*d);if(x.get(_,N))return new Ke(_,N)}return null}centerEdges(s,o,c,h){const g=s.getX(),l=s.getY(),d=o.getX(),x=o.getY(),w=c.getX(),_=c.getY(),N=h.getX(),D=h.getY(),U=bn.CORR;return g<this.width/2?[new Ke(N-U,D+U),new Ke(d+U,x+U),new Ke(w-U,_-U),new Ke(g+U,l-U)]:[new Ke(N+U,D+U),new Ke(d+U,x-U),new Ke(w-U,_+U),new Ke(g-U,l-U)]}containsBlackPoint(s,o,c,h){const g=this.image;if(h){for(let l=s;l<=o;l++)if(g.get(l,c))return!0}else for(let l=s;l<=o;l++)if(g.get(c,l))return!0;return!1}}bn.INIT_SIZE=10,bn.CORR=1;class an{static checkAndNudgePoints(s,o){const c=s.getWidth(),h=s.getHeight();let g=!0;for(let l=0;l<o.length&&g;l+=2){const d=Math.floor(o[l]),x=Math.floor(o[l+1]);if(d<-1||d>c||x<-1||x>h)throw new te;g=!1,d===-1?(o[l]=0,g=!0):d===c&&(o[l]=c-1,g=!0),x===-1?(o[l+1]=0,g=!0):x===h&&(o[l+1]=h-1,g=!0)}g=!0;for(let l=o.length-2;l>=0&&g;l-=2){const d=Math.floor(o[l]),x=Math.floor(o[l+1]);if(d<-1||d>c||x<-1||x>h)throw new te;g=!1,d===-1?(o[l]=0,g=!0):d===c&&(o[l]=c-1,g=!0),x===-1?(o[l+1]=0,g=!0):x===h&&(o[l+1]=h-1,g=!0)}}}class Nt{constructor(s,o,c,h,g,l,d,x,w){this.a11=s,this.a21=o,this.a31=c,this.a12=h,this.a22=g,this.a32=l,this.a13=d,this.a23=x,this.a33=w}static quadrilateralToQuadrilateral(s,o,c,h,g,l,d,x,w,_,N,D,U,G,X,re){const Q=Nt.quadrilateralToSquare(s,o,c,h,g,l,d,x);return Nt.squareToQuadrilateral(w,_,N,D,U,G,X,re).times(Q)}transformPoints(s){const o=s.length,c=this.a11,h=this.a12,g=this.a13,l=this.a21,d=this.a22,x=this.a23,w=this.a31,_=this.a32,N=this.a33;for(let D=0;D<o;D+=2){const U=s[D],G=s[D+1],X=g*U+x*G+N;s[D]=(c*U+l*G+w)/X,s[D+1]=(h*U+d*G+_)/X}}transformPointsWithValues(s,o){const c=this.a11,h=this.a12,g=this.a13,l=this.a21,d=this.a22,x=this.a23,w=this.a31,_=this.a32,N=this.a33,D=s.length;for(let U=0;U<D;U++){const G=s[U],X=o[U],re=g*G+x*X+N;s[U]=(c*G+l*X+w)/re,o[U]=(h*G+d*X+_)/re}}static squareToQuadrilateral(s,o,c,h,g,l,d,x){const w=s-c+g-d,_=o-h+l-x;if(w===0&&_===0)return new Nt(c-s,g-c,s,h-o,l-h,o,0,0,1);{const N=c-g,D=d-g,U=h-l,G=x-l,X=N*G-D*U,re=(w*G-D*_)/X,Q=(N*_-w*U)/X;return new Nt(c-s+re*c,d-s+Q*d,s,h-o+re*h,x-o+Q*x,o,re,Q,1)}}static quadrilateralToSquare(s,o,c,h,g,l,d,x){return Nt.squareToQuadrilateral(s,o,c,h,g,l,d,x).buildAdjoint()}buildAdjoint(){return new Nt(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(s){return new Nt(this.a11*s.a11+this.a21*s.a12+this.a31*s.a13,this.a11*s.a21+this.a21*s.a22+this.a31*s.a23,this.a11*s.a31+this.a21*s.a32+this.a31*s.a33,this.a12*s.a11+this.a22*s.a12+this.a32*s.a13,this.a12*s.a21+this.a22*s.a22+this.a32*s.a23,this.a12*s.a31+this.a22*s.a32+this.a32*s.a33,this.a13*s.a11+this.a23*s.a12+this.a33*s.a13,this.a13*s.a21+this.a23*s.a22+this.a33*s.a23,this.a13*s.a31+this.a23*s.a32+this.a33*s.a33)}}class An extends an{sampleGrid(s,o,c,h,g,l,d,x,w,_,N,D,U,G,X,re,Q,ge,de){const me=Nt.quadrilateralToQuadrilateral(h,g,l,d,x,w,_,N,D,U,G,X,re,Q,ge,de);return this.sampleGridWithTransform(s,o,c,me)}sampleGridWithTransform(s,o,c,h){if(o<=0||c<=0)throw new te;const g=new oe(o,c),l=new Float32Array(2*o);for(let d=0;d<c;d++){const x=l.length,w=d+.5;for(let _=0;_<x;_+=2)l[_]=_/2+.5,l[_+1]=w;h.transformPoints(l),an.checkAndNudgePoints(s,l);try{for(let _=0;_<x;_+=2)s.get(Math.floor(l[_]),Math.floor(l[_+1]))&&g.set(_/2,d)}catch{throw new te}}return g}}class tn{static setGridSampler(s){tn.gridSampler=s}static getInstance(){return tn.gridSampler}}tn.gridSampler=new An;class Ct{constructor(s,o){this.x=s,this.y=o}toResultPoint(){return new Ke(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class $t{constructor(s){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=s}detect(){return this.detectMirror(!1)}detectMirror(s){let o=this.getMatrixCenter(),c=this.getBullsEyeCorners(o);if(s){let l=c[0];c[0]=c[2],c[2]=l}this.extractParameters(c);let h=this.sampleGrid(this.image,c[this.shift%4],c[(this.shift+1)%4],c[(this.shift+2)%4],c[(this.shift+3)%4]),g=this.getMatrixCornerPoints(c);return new Ot(h,g,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(s){if(!this.isValidPoint(s[0])||!this.isValidPoint(s[1])||!this.isValidPoint(s[2])||!this.isValidPoint(s[3]))throw new te;let o=2*this.nbCenterLayers,c=new Int32Array([this.sampleLine(s[0],s[1],o),this.sampleLine(s[1],s[2],o),this.sampleLine(s[2],s[3],o),this.sampleLine(s[3],s[0],o)]);this.shift=this.getRotation(c,o);let h=0;for(let l=0;l<4;l++){let d=c[(this.shift+l)%4];this.compact?(h<<=7,h+=d>>1&127):(h<<=10,h+=(d>>2&992)+(d>>1&31))}let g=this.getCorrectedParameterData(h,this.compact);this.compact?(this.nbLayers=(g>>6)+1,this.nbDataBlocks=(g&63)+1):(this.nbLayers=(g>>11)+1,this.nbDataBlocks=(g&2047)+1)}getRotation(s,o){let c=0;s.forEach((h,g,l)=>{let d=(h>>o-2<<1)+(h&1);c=(c<<3)+d}),c=((c&1)<<11)+(c>>1);for(let h=0;h<4;h++)if(L.bitCount(c^this.EXPECTED_CORNER_BITS[h])<=2)return h;throw new te}getCorrectedParameterData(s,o){let c,h;o?(c=7,h=2):(c=10,h=4);let g=c-h,l=new Int32Array(c);for(let x=c-1;x>=0;--x)l[x]=s&15,s>>=4;try{new ln(Je.AZTEC_PARAM).decode(l,g)}catch{throw new te}let d=0;for(let x=0;x<h;x++)d=(d<<4)+l[x];return d}getBullsEyeCorners(s){let o=s,c=s,h=s,g=s,l=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let N=this.getFirstDifferent(o,l,1,-1),D=this.getFirstDifferent(c,l,1,1),U=this.getFirstDifferent(h,l,-1,1),G=this.getFirstDifferent(g,l,-1,-1);if(this.nbCenterLayers>2){let X=this.distancePoint(G,N)*this.nbCenterLayers/(this.distancePoint(g,o)*(this.nbCenterLayers+2));if(X<.75||X>1.25||!this.isWhiteOrBlackRectangle(N,D,U,G))break}o=N,c=D,h=U,g=G,l=!l}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new te;this.compact=this.nbCenterLayers===5;let d=new Ke(o.getX()+.5,o.getY()-.5),x=new Ke(c.getX()+.5,c.getY()+.5),w=new Ke(h.getX()-.5,h.getY()+.5),_=new Ke(g.getX()-.5,g.getY()-.5);return this.expandSquare([d,x,w,_],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let s,o,c,h;try{let d=new bn(this.image).detect();s=d[0],o=d[1],c=d[2],h=d[3]}catch{let x=this.image.getWidth()/2,w=this.image.getHeight()/2;s=this.getFirstDifferent(new Ct(x+7,w-7),!1,1,-1).toResultPoint(),o=this.getFirstDifferent(new Ct(x+7,w+7),!1,1,1).toResultPoint(),c=this.getFirstDifferent(new Ct(x-7,w+7),!1,-1,1).toResultPoint(),h=this.getFirstDifferent(new Ct(x-7,w-7),!1,-1,-1).toResultPoint()}let g=Qe.round((s.getX()+h.getX()+o.getX()+c.getX())/4),l=Qe.round((s.getY()+h.getY()+o.getY()+c.getY())/4);try{let d=new bn(this.image,15,g,l).detect();s=d[0],o=d[1],c=d[2],h=d[3]}catch{s=this.getFirstDifferent(new Ct(g+7,l-7),!1,1,-1).toResultPoint(),o=this.getFirstDifferent(new Ct(g+7,l+7),!1,1,1).toResultPoint(),c=this.getFirstDifferent(new Ct(g-7,l+7),!1,-1,1).toResultPoint(),h=this.getFirstDifferent(new Ct(g-7,l-7),!1,-1,-1).toResultPoint()}return g=Qe.round((s.getX()+h.getX()+o.getX()+c.getX())/4),l=Qe.round((s.getY()+h.getY()+o.getY()+c.getY())/4),new Ct(g,l)}getMatrixCornerPoints(s){return this.expandSquare(s,2*this.nbCenterLayers,this.getDimension())}sampleGrid(s,o,c,h,g){let l=tn.getInstance(),d=this.getDimension(),x=d/2-this.nbCenterLayers,w=d/2+this.nbCenterLayers;return l.sampleGrid(s,d,d,x,x,w,x,w,w,x,w,o.getX(),o.getY(),c.getX(),c.getY(),h.getX(),h.getY(),g.getX(),g.getY())}sampleLine(s,o,c){let h=0,g=this.distanceResultPoint(s,o),l=g/c,d=s.getX(),x=s.getY(),w=l*(o.getX()-s.getX())/g,_=l*(o.getY()-s.getY())/g;for(let N=0;N<c;N++)this.image.get(Qe.round(d+N*w),Qe.round(x+N*_))&&(h|=1<<c-N-1);return h}isWhiteOrBlackRectangle(s,o,c,h){let g=3;s=new Ct(s.getX()-g,s.getY()+g),o=new Ct(o.getX()-g,o.getY()-g),c=new Ct(c.getX()+g,c.getY()-g),h=new Ct(h.getX()+g,h.getY()+g);let l=this.getColor(h,s);if(l===0)return!1;let d=this.getColor(s,o);return d!==l||(d=this.getColor(o,c),d!==l)?!1:(d=this.getColor(c,h),d===l)}getColor(s,o){let c=this.distancePoint(s,o),h=(o.getX()-s.getX())/c,g=(o.getY()-s.getY())/c,l=0,d=s.getX(),x=s.getY(),w=this.image.get(s.getX(),s.getY()),_=Math.ceil(c);for(let D=0;D<_;D++)d+=h,x+=g,this.image.get(Qe.round(d),Qe.round(x))!==w&&l++;let N=l/c;return N>.1&&N<.9?0:N<=.1===w?1:-1}getFirstDifferent(s,o,c,h){let g=s.getX()+c,l=s.getY()+h;for(;this.isValid(g,l)&&this.image.get(g,l)===o;)g+=c,l+=h;for(g-=c,l-=h;this.isValid(g,l)&&this.image.get(g,l)===o;)g+=c;for(g-=c;this.isValid(g,l)&&this.image.get(g,l)===o;)l+=h;return l-=h,new Ct(g,l)}expandSquare(s,o,c){let h=c/(2*o),g=s[0].getX()-s[2].getX(),l=s[0].getY()-s[2].getY(),d=(s[0].getX()+s[2].getX())/2,x=(s[0].getY()+s[2].getY())/2,w=new Ke(d+h*g,x+h*l),_=new Ke(d-h*g,x-h*l);g=s[1].getX()-s[3].getX(),l=s[1].getY()-s[3].getY(),d=(s[1].getX()+s[3].getX())/2,x=(s[1].getY()+s[3].getY())/2;let N=new Ke(d+h*g,x+h*l),D=new Ke(d-h*g,x-h*l);return[w,N,_,D]}isValid(s,o){return s>=0&&s<this.image.getWidth()&&o>0&&o<this.image.getHeight()}isValidPoint(s){let o=Qe.round(s.getX()),c=Qe.round(s.getY());return this.isValid(o,c)}distancePoint(s,o){return Qe.distance(s.getX(),s.getY(),o.getX(),o.getY())}distanceResultPoint(s,o){return Qe.distance(s.getX(),s.getY(),o.getX(),o.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(L.truncDivision(this.nbLayers-4,8)+1)+15}}class Ft{decode(s,o=null){let c=null,h=new $t(s.getBlackMatrix()),g=null,l=null;try{let _=h.detectMirror(!1);g=_.getPoints(),this.reportFoundResultPoints(o,g),l=new gt().decode(_)}catch(_){c=_}if(l==null)try{let _=h.detectMirror(!0);g=_.getPoints(),this.reportFoundResultPoints(o,g),l=new gt().decode(_)}catch(_){throw c??_}let d=new fe(l.getText(),l.getRawBytes(),l.getNumBits(),g,se.AZTEC,I.currentTimeMillis()),x=l.getByteSegments();x!=null&&d.putMetadata(Re.BYTE_SEGMENTS,x);let w=l.getECLevel();return w!=null&&d.putMetadata(Re.ERROR_CORRECTION_LEVEL,w),d}reportFoundResultPoints(s,o){if(s!=null){let c=s.get(ce.NEED_RESULT_POINT_CALLBACK);c!=null&&o.forEach((h,g,l)=>{c.foundPossibleResultPoint(h)})}}reset(){}}class Un extends ae{constructor(s=500){super(new Ft,s)}}class Vt{decode(s,o){try{return this.doDecode(s,o)}catch{if(o&&o.get(ce.TRY_HARDER)===!0&&s.isRotateSupported()){const g=s.rotateCounterClockwise(),l=this.doDecode(g,o),d=l.getResultMetadata();let x=270;d!==null&&d.get(Re.ORIENTATION)===!0&&(x=x+d.get(Re.ORIENTATION)%360),l.putMetadata(Re.ORIENTATION,x);const w=l.getResultPoints();if(w!==null){const _=g.getHeight();for(let N=0;N<w.length;N++)w[N]=new Ke(_-w[N].getY()-1,w[N].getX())}return l}else throw new te}}reset(){}doDecode(s,o){const c=s.getWidth(),h=s.getHeight();let g=new j(c);const l=o&&o.get(ce.TRY_HARDER)===!0,d=Math.max(1,h>>(l?8:5));let x;l?x=h:x=15;const w=Math.trunc(h/2);for(let _=0;_<x;_++){const N=Math.trunc((_+1)/2),D=(_&1)===0,U=w+d*(D?N:-N);if(U<0||U>=h)break;try{g=s.getBlackRow(U,g)}catch{continue}for(let G=0;G<2;G++){if(G===1&&(g.reverse(),o&&o.get(ce.NEED_RESULT_POINT_CALLBACK)===!0)){const X=new Map;o.forEach((re,Q)=>X.set(Q,re)),X.delete(ce.NEED_RESULT_POINT_CALLBACK),o=X}try{const X=this.decodeRow(U,g,o);if(G===1){X.putMetadata(Re.ORIENTATION,180);const re=X.getResultPoints();re!==null&&(re[0]=new Ke(c-re[0].getX()-1,re[0].getY()),re[1]=new Ke(c-re[1].getX()-1,re[1].getY()))}return X}catch{}}}throw new te}static recordPattern(s,o,c){const h=c.length;for(let w=0;w<h;w++)c[w]=0;const g=s.getSize();if(o>=g)throw new te;let l=!s.get(o),d=0,x=o;for(;x<g;){if(s.get(x)!==l)c[d]++;else{if(++d===h)break;c[d]=1,l=!l}x++}if(!(d===h||d===h-1&&x===g))throw new te}static recordPatternInReverse(s,o,c){let h=c.length,g=s.get(o);for(;o>0&&h>=0;)s.get(--o)!==g&&(h--,g=!g);if(h>=0)throw new te;Vt.recordPattern(s,o+1,c)}static patternMatchVariance(s,o,c){const h=s.length;let g=0,l=0;for(let w=0;w<h;w++)g+=s[w],l+=o[w];if(g<l)return Number.POSITIVE_INFINITY;const d=g/l;c*=d;let x=0;for(let w=0;w<h;w++){const _=s[w],N=o[w]*d,D=_>N?_-N:N-_;if(D>c)return Number.POSITIVE_INFINITY;x+=D}return x/g}}class Ze extends Vt{static findStartPattern(s){const o=s.getSize(),c=s.getNextSet(0);let h=0,g=Int32Array.from([0,0,0,0,0,0]),l=c,d=!1;const x=6;for(let w=c;w<o;w++)if(s.get(w)!==d)g[h]++;else{if(h===x-1){let _=Ze.MAX_AVG_VARIANCE,N=-1;for(let D=Ze.CODE_START_A;D<=Ze.CODE_START_C;D++){const U=Vt.patternMatchVariance(g,Ze.CODE_PATTERNS[D],Ze.MAX_INDIVIDUAL_VARIANCE);U<_&&(_=U,N=D)}if(N>=0&&s.isRange(Math.max(0,l-(w-l)/2),l,!1))return Int32Array.from([l,w,N]);l+=g[0]+g[1],g=g.slice(2,g.length-1),g[h-1]=0,g[h]=0,h--}else h++;g[h]=1,d=!d}throw new te}static decodeCode(s,o,c){Vt.recordPattern(s,c,o);let h=Ze.MAX_AVG_VARIANCE,g=-1;for(let l=0;l<Ze.CODE_PATTERNS.length;l++){const d=Ze.CODE_PATTERNS[l],x=this.patternMatchVariance(o,d,Ze.MAX_INDIVIDUAL_VARIANCE);x<h&&(h=x,g=l)}if(g>=0)return g;throw new te}decodeRow(s,o,c){const h=c&&c.get(ce.ASSUME_GS1)===!0,g=Ze.findStartPattern(o),l=g[2];let d=0;const x=new Uint8Array(20);x[d++]=l;let w;switch(l){case Ze.CODE_START_A:w=Ze.CODE_CODE_A;break;case Ze.CODE_START_B:w=Ze.CODE_CODE_B;break;case Ze.CODE_START_C:w=Ze.CODE_CODE_C;break;default:throw new Y}let _=!1,N=!1,D="",U=g[0],G=g[1];const X=Int32Array.from([0,0,0,0,0,0]);let re=0,Q=0,ge=l,de=0,me=!0,Te=!1,ke=!1;for(;!_;){const ht=N;switch(N=!1,re=Q,Q=Ze.decodeCode(o,X,G),x[d++]=Q,Q!==Ze.CODE_STOP&&(me=!0),Q!==Ze.CODE_STOP&&(de++,ge+=de*Q),U=G,G+=X.reduce((_t,vt)=>_t+vt,0),Q){case Ze.CODE_START_A:case Ze.CODE_START_B:case Ze.CODE_START_C:throw new Y}switch(w){case Ze.CODE_CODE_A:if(Q<64)ke===Te?D+=String.fromCharCode(32+Q):D+=String.fromCharCode(32+Q+128),ke=!1;else if(Q<96)ke===Te?D+=String.fromCharCode(Q-64):D+=String.fromCharCode(Q+64),ke=!1;else switch(Q!==Ze.CODE_STOP&&(me=!1),Q){case Ze.CODE_FNC_1:h&&(D.length===0?D+="]C1":D+="");break;case Ze.CODE_FNC_2:case Ze.CODE_FNC_3:break;case Ze.CODE_FNC_4_A:!Te&&ke?(Te=!0,ke=!1):Te&&ke?(Te=!1,ke=!1):ke=!0;break;case Ze.CODE_SHIFT:N=!0,w=Ze.CODE_CODE_B;break;case Ze.CODE_CODE_B:w=Ze.CODE_CODE_B;break;case Ze.CODE_CODE_C:w=Ze.CODE_CODE_C;break;case Ze.CODE_STOP:_=!0;break}break;case Ze.CODE_CODE_B:if(Q<96)ke===Te?D+=String.fromCharCode(32+Q):D+=String.fromCharCode(32+Q+128),ke=!1;else switch(Q!==Ze.CODE_STOP&&(me=!1),Q){case Ze.CODE_FNC_1:h&&(D.length===0?D+="]C1":D+="");break;case Ze.CODE_FNC_2:case Ze.CODE_FNC_3:break;case Ze.CODE_FNC_4_B:!Te&&ke?(Te=!0,ke=!1):Te&&ke?(Te=!1,ke=!1):ke=!0;break;case Ze.CODE_SHIFT:N=!0,w=Ze.CODE_CODE_A;break;case Ze.CODE_CODE_A:w=Ze.CODE_CODE_A;break;case Ze.CODE_CODE_C:w=Ze.CODE_CODE_C;break;case Ze.CODE_STOP:_=!0;break}break;case Ze.CODE_CODE_C:if(Q<100)Q<10&&(D+="0"),D+=Q;else switch(Q!==Ze.CODE_STOP&&(me=!1),Q){case Ze.CODE_FNC_1:h&&(D.length===0?D+="]C1":D+="");break;case Ze.CODE_CODE_A:w=Ze.CODE_CODE_A;break;case Ze.CODE_CODE_B:w=Ze.CODE_CODE_B;break;case Ze.CODE_STOP:_=!0;break}break}ht&&(w=w===Ze.CODE_CODE_A?Ze.CODE_CODE_B:Ze.CODE_CODE_A)}const De=G-U;if(G=o.getNextUnset(G),!o.isRange(G,Math.min(o.getSize(),G+(G-U)/2),!1))throw new te;if(ge-=de*re,ge%103!==re)throw new A;const He=D.length;if(He===0)throw new te;He>0&&me&&(w===Ze.CODE_CODE_C?D=D.substring(0,He-2):D=D.substring(0,He-1));const Xe=(g[1]+g[0])/2,We=U+De/2,ot=x.length,dt=new Uint8Array(ot);for(let ht=0;ht<ot;ht++)dt[ht]=x[ht];const ft=[new Ke(Xe,s),new Ke(We,s)];return new fe(D,dt,0,ft,se.CODE_128,new Date().getTime())}}Ze.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Ze.MAX_AVG_VARIANCE=.25,Ze.MAX_INDIVIDUAL_VARIANCE=.7,Ze.CODE_SHIFT=98,Ze.CODE_CODE_C=99,Ze.CODE_CODE_B=100,Ze.CODE_CODE_A=101,Ze.CODE_FNC_1=102,Ze.CODE_FNC_2=97,Ze.CODE_FNC_3=96,Ze.CODE_FNC_4_A=101,Ze.CODE_FNC_4_B=100,Ze.CODE_START_A=103,Ze.CODE_START_B=104,Ze.CODE_START_C=105,Ze.CODE_STOP=106;class It extends Vt{constructor(s=!1,o=!1){super(),this.usingCheckDigit=s,this.extendedMode=o,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(s,o,c){let h=this.counters;h.fill(0),this.decodeRowResult="";let g=It.findAsteriskPattern(o,h),l=o.getNextSet(g[1]),d=o.getSize(),x,w;do{It.recordPattern(o,l,h);let X=It.toNarrowWidePattern(h);if(X<0)throw new te;x=It.patternToChar(X),this.decodeRowResult+=x,w=l;for(let re of h)l+=re;l=o.getNextSet(l)}while(x!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let _=0;for(let X of h)_+=X;let N=l-w-_;if(l!==d&&N*2<_)throw new te;if(this.usingCheckDigit){let X=this.decodeRowResult.length-1,re=0;for(let Q=0;Q<X;Q++)re+=It.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Q));if(this.decodeRowResult.charAt(X)!==It.ALPHABET_STRING.charAt(re%43))throw new A;this.decodeRowResult=this.decodeRowResult.substring(0,X)}if(this.decodeRowResult.length===0)throw new te;let D;this.extendedMode?D=It.decodeExtended(this.decodeRowResult):D=this.decodeRowResult;let U=(g[1]+g[0])/2,G=w+_/2;return new fe(D,null,0,[new Ke(U,s),new Ke(G,s)],se.CODE_39,new Date().getTime())}static findAsteriskPattern(s,o){let c=s.getSize(),h=s.getNextSet(0),g=0,l=h,d=!1,x=o.length;for(let w=h;w<c;w++)if(s.get(w)!==d)o[g]++;else{if(g===x-1){if(this.toNarrowWidePattern(o)===It.ASTERISK_ENCODING&&s.isRange(Math.max(0,l-Math.floor((w-l)/2)),l,!1))return[l,w];l+=o[0]+o[1],o.copyWithin(0,2,2+g-1),o[g-1]=0,o[g]=0,g--}else g++;o[g]=1,d=!d}throw new te}static toNarrowWidePattern(s){let o=s.length,c=0,h;do{let g=2147483647;for(let x of s)x<g&&x>c&&(g=x);c=g,h=0;let l=0,d=0;for(let x=0;x<o;x++){let w=s[x];w>c&&(d|=1<<o-1-x,h++,l+=w)}if(h===3){for(let x=0;x<o&&h>0;x++){let w=s[x];if(w>c&&(h--,w*2>=l))return-1}return d}}while(h>3);return-1}static patternToChar(s){for(let o=0;o<It.CHARACTER_ENCODINGS.length;o++)if(It.CHARACTER_ENCODINGS[o]===s)return It.ALPHABET_STRING.charAt(o);if(s===It.ASTERISK_ENCODING)return"*";throw new te}static decodeExtended(s){let o=s.length,c="";for(let h=0;h<o;h++){let g=s.charAt(h);if(g==="+"||g==="$"||g==="%"||g==="/"){let l=s.charAt(h+1),d="\0";switch(g){case"+":if(l>="A"&&l<="Z")d=String.fromCharCode(l.charCodeAt(0)+32);else throw new Y;break;case"$":if(l>="A"&&l<="Z")d=String.fromCharCode(l.charCodeAt(0)-64);else throw new Y;break;case"%":if(l>="A"&&l<="E")d=String.fromCharCode(l.charCodeAt(0)-38);else if(l>="F"&&l<="J")d=String.fromCharCode(l.charCodeAt(0)-11);else if(l>="K"&&l<="O")d=String.fromCharCode(l.charCodeAt(0)+16);else if(l>="P"&&l<="T")d=String.fromCharCode(l.charCodeAt(0)+43);else if(l==="U")d="\0";else if(l==="V")d="@";else if(l==="W")d="`";else if(l==="X"||l==="Y"||l==="Z")d="";else throw new Y;break;case"/":if(l>="A"&&l<="O")d=String.fromCharCode(l.charCodeAt(0)-32);else if(l==="Z")d=":";else throw new Y;break}c+=d,h++}else c+=g}return c}}It.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",It.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],It.ASTERISK_ENCODING=148;class it extends Vt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(s,o,c){let h=this.decodeStart(o),g=this.decodeEnd(o),l=new ue;it.decodeMiddle(o,h[1],g[0],l);let d=l.toString(),x=null;c!=null&&(x=c.get(ce.ALLOWED_LENGTHS)),x==null&&(x=it.DEFAULT_ALLOWED_LENGTHS);let w=d.length,_=!1,N=0;for(let G of x){if(w===G){_=!0;break}G>N&&(N=G)}if(!_&&w>N&&(_=!0),!_)throw new Y;const D=[new Ke(h[1],s),new Ke(g[0],s)];return new fe(d,null,0,D,se.ITF,new Date().getTime())}static decodeMiddle(s,o,c,h){let g=new Int32Array(10),l=new Int32Array(5),d=new Int32Array(5);for(g.fill(0),l.fill(0),d.fill(0);o<c;){Vt.recordPattern(s,o,g);for(let w=0;w<5;w++){let _=2*w;l[w]=g[_],d[w]=g[_+1]}let x=it.decodeDigit(l);h.append(x.toString()),x=this.decodeDigit(d),h.append(x.toString()),g.forEach(function(w){o+=w})}}decodeStart(s){let o=it.skipWhiteSpace(s),c=it.findGuardPattern(s,o,it.START_PATTERN);return this.narrowLineWidth=(c[1]-c[0])/4,this.validateQuietZone(s,c[0]),c}validateQuietZone(s,o){let c=this.narrowLineWidth*10;c=c<o?c:o;for(let h=o-1;c>0&&h>=0&&!s.get(h);h--)c--;if(c!==0)throw new te}static skipWhiteSpace(s){const o=s.getSize(),c=s.getNextSet(0);if(c===o)throw new te;return c}decodeEnd(s){s.reverse();try{let o=it.skipWhiteSpace(s),c;try{c=it.findGuardPattern(s,o,it.END_PATTERN_REVERSED[0])}catch(g){g instanceof te&&(c=it.findGuardPattern(s,o,it.END_PATTERN_REVERSED[1]))}this.validateQuietZone(s,c[0]);let h=c[0];return c[0]=s.getSize()-c[1],c[1]=s.getSize()-h,c}finally{s.reverse()}}static findGuardPattern(s,o,c){let h=c.length,g=new Int32Array(h),l=s.getSize(),d=!1,x=0,w=o;g.fill(0);for(let _=o;_<l;_++)if(s.get(_)!==d)g[x]++;else{if(x===h-1){if(Vt.patternMatchVariance(g,c,it.MAX_INDIVIDUAL_VARIANCE)<it.MAX_AVG_VARIANCE)return[w,_];w+=g[0]+g[1],I.arraycopy(g,2,g,0,x-1),g[x-1]=0,g[x]=0,x--}else x++;g[x]=1,d=!d}throw new te}static decodeDigit(s){let o=it.MAX_AVG_VARIANCE,c=-1,h=it.PATTERNS.length;for(let g=0;g<h;g++){let l=it.PATTERNS[g],d=Vt.patternMatchVariance(s,l,it.MAX_INDIVIDUAL_VARIANCE);d<o?(o=d,c=g):d===o&&(c=-1)}if(c>=0)return c%10;throw new te}}it.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],it.MAX_AVG_VARIANCE=.38,it.MAX_INDIVIDUAL_VARIANCE=.5,it.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],it.START_PATTERN=Int32Array.from([1,1,1,1]),it.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class At extends Vt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(s){let o=!1,c,h=0,g=Int32Array.from([0,0,0]);for(;!o;){g=Int32Array.from([0,0,0]),c=At.findGuardPattern(s,h,!1,this.START_END_PATTERN,g);let l=c[0];h=c[1];let d=l-(h-l);d>=0&&(o=s.isRange(d,l,!1))}return c}static checkChecksum(s){return At.checkStandardUPCEANChecksum(s)}static checkStandardUPCEANChecksum(s){let o=s.length;if(o===0)return!1;let c=parseInt(s.charAt(o-1),10);return At.getStandardUPCEANChecksum(s.substring(0,o-1))===c}static getStandardUPCEANChecksum(s){let o=s.length,c=0;for(let h=o-1;h>=0;h-=2){let g=s.charAt(h).charCodeAt(0)-48;if(g<0||g>9)throw new Y;c+=g}c*=3;for(let h=o-2;h>=0;h-=2){let g=s.charAt(h).charCodeAt(0)-48;if(g<0||g>9)throw new Y;c+=g}return(1e3-c)%10}static decodeEnd(s,o){return At.findGuardPattern(s,o,!1,At.START_END_PATTERN,new Int32Array(At.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(s,o,c,h){return this.findGuardPattern(s,o,c,h,new Int32Array(h.length))}static findGuardPattern(s,o,c,h,g){let l=s.getSize();o=c?s.getNextUnset(o):s.getNextSet(o);let d=0,x=o,w=h.length,_=c;for(let N=o;N<l;N++)if(s.get(N)!==_)g[d]++;else{if(d===w-1){if(Vt.patternMatchVariance(g,h,At.MAX_INDIVIDUAL_VARIANCE)<At.MAX_AVG_VARIANCE)return Int32Array.from([x,N]);x+=g[0]+g[1];let D=g.slice(2,g.length-1);for(let U=0;U<d-1;U++)g[U]=D[U];g[d-1]=0,g[d]=0,d--}else d++;g[d]=1,_=!_}throw new te}static decodeDigit(s,o,c,h){this.recordPattern(s,c,o);let g=this.MAX_AVG_VARIANCE,l=-1,d=h.length;for(let x=0;x<d;x++){let w=h[x],_=Vt.patternMatchVariance(o,w,At.MAX_INDIVIDUAL_VARIANCE);_<g&&(g=_,l=x)}if(l>=0)return l;throw new te}}At.MAX_AVG_VARIANCE=.48,At.MAX_INDIVIDUAL_VARIANCE=.7,At.START_END_PATTERN=Int32Array.from([1,1,1]),At.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),At.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),At.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class pn{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(s,o,c){let h=this.decodeRowStringBuffer,g=this.decodeMiddle(o,c,h),l=h.toString(),d=pn.parseExtensionString(l),x=[new Ke((c[0]+c[1])/2,s),new Ke(g,s)],w=new fe(l,null,0,x,se.UPC_EAN_EXTENSION,new Date().getTime());return d!=null&&w.putAllMetadata(d),w}decodeMiddle(s,o,c){let h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;let g=s.getSize(),l=o[1],d=0;for(let w=0;w<5&&l<g;w++){let _=At.decodeDigit(s,h,l,At.L_AND_G_PATTERNS);c+=String.fromCharCode(48+_%10);for(let N of h)l+=N;_>=10&&(d|=1<<4-w),w!==4&&(l=s.getNextSet(l),l=s.getNextUnset(l))}if(c.length!==5)throw new te;let x=this.determineCheckDigit(d);if(pn.extensionChecksum(c.toString())!==x)throw new te;return l}static extensionChecksum(s){let o=s.length,c=0;for(let h=o-2;h>=0;h-=2)c+=s.charAt(h).charCodeAt(0)-48;c*=3;for(let h=o-1;h>=0;h-=2)c+=s.charAt(h).charCodeAt(0)-48;return c*=3,c%10}determineCheckDigit(s){for(let o=0;o<10;o++)if(s===this.CHECK_DIGIT_ENCODINGS[o])return o;throw new te}static parseExtensionString(s){if(s.length!==5)return null;let o=pn.parseExtension5String(s);return o==null?null:new Map([[Re.SUGGESTED_PRICE,o]])}static parseExtension5String(s){let o;switch(s.charAt(0)){case"0":o="";break;case"5":o="$";break;case"9":switch(s){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}o="";break;default:o="";break}let c=parseInt(s.substring(1)),h=(c/100).toString(),g=c%100,l=g<10?"0"+g:g.toString();return o+h+"."+l}}class on{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(s,o,c){let h=this.decodeRowStringBuffer,g=this.decodeMiddle(o,c,h),l=h.toString(),d=on.parseExtensionString(l),x=[new Ke((c[0]+c[1])/2,s),new Ke(g,s)],w=new fe(l,null,0,x,se.UPC_EAN_EXTENSION,new Date().getTime());return d!=null&&w.putAllMetadata(d),w}decodeMiddle(s,o,c){let h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;let g=s.getSize(),l=o[1],d=0;for(let x=0;x<2&&l<g;x++){let w=At.decodeDigit(s,h,l,At.L_AND_G_PATTERNS);c+=String.fromCharCode(48+w%10);for(let _ of h)l+=_;w>=10&&(d|=1<<1-x),x!==1&&(l=s.getNextSet(l),l=s.getNextUnset(l))}if(c.length!==2)throw new te;if(parseInt(c.toString())%4!==d)throw new te;return l}static parseExtensionString(s){return s.length!==2?null:new Map([[Re.ISSUE_NUMBER,parseInt(s)]])}}class ut{static decodeRow(s,o,c){let h=At.findGuardPattern(o,c,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new pn().decodeRow(s,o,h)}catch{return new on().decodeRow(s,o,h)}}}ut.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class nn extends At{constructor(){super(),this.decodeRowStringBuffer="",nn.L_AND_G_PATTERNS=nn.L_PATTERNS.map(s=>Int32Array.from(s));for(let s=10;s<20;s++){let o=nn.L_PATTERNS[s-10],c=new Int32Array(o.length);for(let h=0;h<o.length;h++)c[h]=o[o.length-h-1];nn.L_AND_G_PATTERNS[s]=c}}decodeRow(s,o,c){let h=nn.findStartGuardPattern(o),g=c==null?null:c.get(ce.NEED_RESULT_POINT_CALLBACK);if(g!=null){const me=new Ke((h[0]+h[1])/2,s);g.foundPossibleResultPoint(me)}let l=this.decodeMiddle(o,h,this.decodeRowStringBuffer),d=l.rowOffset,x=l.resultString;if(g!=null){const me=new Ke(d,s);g.foundPossibleResultPoint(me)}let w=this.decodeEnd(o,d);if(g!=null){const me=new Ke((w[0]+w[1])/2,s);g.foundPossibleResultPoint(me)}let _=w[1],N=_+(_-w[0]);if(N>=o.getSize()||!o.isRange(_,N,!1))throw new te;let D=x.toString();if(D.length<8)throw new Y;if(!nn.checkChecksum(D))throw new A;let U=(h[1]+h[0])/2,G=(w[1]+w[0])/2,X=this.getBarcodeFormat(),re=[new Ke(U,s),new Ke(G,s)],Q=new fe(D,null,0,re,X,new Date().getTime()),ge=0;try{let me=ut.decodeRow(s,o,w[1]);Q.putMetadata(Re.UPC_EAN_EXTENSION,me.getText()),Q.putAllMetadata(me.getResultMetadata()),Q.addResultPoints(me.getResultPoints()),ge=me.getText().length}catch{}let de=c==null?null:c.get(ce.ALLOWED_EAN_EXTENSIONS);if(de!=null){let me=!1;for(let Te in de)if(ge.toString()===Te){me=!0;break}if(!me)throw new te}return Q}decodeEnd(s,o){return nn.findGuardPattern(s,o,!1,nn.START_END_PATTERN,new Int32Array(nn.START_END_PATTERN.length).fill(0))}static checkChecksum(s){return nn.checkStandardUPCEANChecksum(s)}static checkStandardUPCEANChecksum(s){let o=s.length;if(o===0)return!1;let c=parseInt(s.charAt(o-1),10);return nn.getStandardUPCEANChecksum(s.substring(0,o-1))===c}static getStandardUPCEANChecksum(s){let o=s.length,c=0;for(let h=o-1;h>=0;h-=2){let g=s.charAt(h).charCodeAt(0)-48;if(g<0||g>9)throw new Y;c+=g}c*=3;for(let h=o-2;h>=0;h-=2){let g=s.charAt(h).charCodeAt(0)-48;if(g<0||g>9)throw new Y;c+=g}return(1e3-c)%10}}class Pn extends nn{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(s,o,c){let h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;let g=s.getSize(),l=o[1],d=0;for(let w=0;w<6&&l<g;w++){let _=nn.decodeDigit(s,h,l,nn.L_AND_G_PATTERNS);c+=String.fromCharCode(48+_%10);for(let N of h)l+=N;_>=10&&(d|=1<<5-w)}c=Pn.determineFirstDigit(c,d),l=nn.findGuardPattern(s,l,!0,nn.MIDDLE_PATTERN,new Int32Array(nn.MIDDLE_PATTERN.length).fill(0))[1];for(let w=0;w<6&&l<g;w++){let _=nn.decodeDigit(s,h,l,nn.L_PATTERNS);c+=String.fromCharCode(48+_);for(let N of h)l+=N}return{rowOffset:l,resultString:c}}getBarcodeFormat(){return se.EAN_13}static determineFirstDigit(s,o){for(let c=0;c<10;c++)if(o===this.FIRST_DIGIT_ENCODINGS[c])return s=String.fromCharCode(48+c)+s,s;throw new te}}Pn.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class qt extends nn{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(s,o,c){const h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;let g=s.getSize(),l=o[1];for(let x=0;x<4&&l<g;x++){let w=nn.decodeDigit(s,h,l,nn.L_PATTERNS);c+=String.fromCharCode(48+w);for(let _ of h)l+=_}l=nn.findGuardPattern(s,l,!0,nn.MIDDLE_PATTERN,new Int32Array(nn.MIDDLE_PATTERN.length).fill(0))[1];for(let x=0;x<4&&l<g;x++){let w=nn.decodeDigit(s,h,l,nn.L_PATTERNS);c+=String.fromCharCode(48+w);for(let _ of h)l+=_}return{rowOffset:l,resultString:c}}getBarcodeFormat(){return se.EAN_8}}class Hn extends nn{constructor(){super(...arguments),this.ean13Reader=new Pn}getBarcodeFormat(){return se.UPC_A}decode(s,o){return this.maybeReturnResult(this.ean13Reader.decode(s))}decodeRow(s,o,c){return this.maybeReturnResult(this.ean13Reader.decodeRow(s,o,c))}decodeMiddle(s,o,c){return this.ean13Reader.decodeMiddle(s,o,c)}maybeReturnResult(s){let o=s.getText();if(o.charAt(0)==="0"){let c=new fe(o.substring(1),null,null,s.getResultPoints(),se.UPC_A);return s.getResultMetadata()!=null&&c.putAllMetadata(s.getResultMetadata()),c}else throw new te}reset(){this.ean13Reader.reset()}}class Bt extends nn{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(s,o,c){const h=this.decodeMiddleCounters.map(w=>w);h[0]=0,h[1]=0,h[2]=0,h[3]=0;const g=s.getSize();let l=o[1],d=0;for(let w=0;w<6&&l<g;w++){const _=Bt.decodeDigit(s,h,l,Bt.L_AND_G_PATTERNS);c+=String.fromCharCode(48+_%10);for(let N of h)l+=N;_>=10&&(d|=1<<5-w)}let x=Bt.determineNumSysAndCheckDigit(c,d);return{rowOffset:l,resultString:x}}decodeEnd(s,o){return Bt.findGuardPatternWithoutCounters(s,o,!0,Bt.MIDDLE_END_PATTERN)}checkChecksum(s){return nn.checkChecksum(Bt.convertUPCEtoUPCA(s))}static determineNumSysAndCheckDigit(s,o){for(let c=0;c<=1;c++)for(let h=0;h<10;h++)if(o===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[c][h]){let g=String.fromCharCode(48+c),l=String.fromCharCode(48+h);return g+s+l}throw te.getNotFoundInstance()}getBarcodeFormat(){return se.UPC_E}static convertUPCEtoUPCA(s){const o=s.slice(1,7).split("").map(g=>g.charCodeAt(0)),c=new ue;c.append(s.charAt(0));let h=o[5];switch(h){case 0:case 1:case 2:c.appendChars(o,0,2),c.append(h),c.append("0000"),c.appendChars(o,2,3);break;case 3:c.appendChars(o,0,3),c.append("00000"),c.appendChars(o,3,2);break;case 4:c.appendChars(o,0,4),c.append("00000"),c.append(o[4]);break;default:c.appendChars(o,0,5),c.append("0000"),c.append(h);break}return s.length>=8&&c.append(s.charAt(7)),c.toString()}}Bt.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Bt.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class mn extends Vt{constructor(s){super();let o=s==null?null:s.get(ce.POSSIBLE_FORMATS),c=[];r(o)?(c.push(new Pn),c.push(new Hn),c.push(new qt),c.push(new Bt)):(o.indexOf(se.EAN_13)>-1&&c.push(new Pn),o.indexOf(se.UPC_A)>-1&&c.push(new Hn),o.indexOf(se.EAN_8)>-1&&c.push(new qt),o.indexOf(se.UPC_E)>-1&&c.push(new Bt)),this.readers=c}decodeRow(s,o,c){for(let h of this.readers)try{const g=h.decodeRow(s,o,c),l=g.getBarcodeFormat()===se.EAN_13&&g.getText().charAt(0)==="0",d=c==null?null:c.get(ce.POSSIBLE_FORMATS),x=d==null||d.includes(se.UPC_A);if(l&&x){const w=g.getRawBytes(),_=new fe(g.getText().substring(1),w,w?w.length:null,g.getResultPoints(),se.UPC_A);return _.putAllMetadata(g.getResultMetadata()),_}return g}catch{}throw new te}reset(){for(let s of this.readers)s.reset()}}class un extends Vt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(s,o){for(let c=0;c<o.length;c++)if(Vt.patternMatchVariance(s,o[c],un.MAX_INDIVIDUAL_VARIANCE)<un.MAX_AVG_VARIANCE)return c;throw new te}static count(s){return Qe.sum(new Int32Array(s))}static increment(s,o){let c=0,h=o[0];for(let g=1;g<s.length;g++)o[g]>h&&(h=o[g],c=g);s[c]++}static decrement(s,o){let c=0,h=o[0];for(let g=1;g<s.length;g++)o[g]<h&&(h=o[g],c=g);s[c]--}static isFinderPattern(s){let o=s[0]+s[1],c=o+s[2]+s[3],h=o/c;if(h>=un.MIN_FINDER_PATTERN_RATIO&&h<=un.MAX_FINDER_PATTERN_RATIO){let g=Number.MAX_SAFE_INTEGER,l=Number.MIN_SAFE_INTEGER;for(let d of s)d>l&&(l=d),d<g&&(g=d);return l<10*g}return!1}}un.MAX_AVG_VARIANCE=.2,un.MAX_INDIVIDUAL_VARIANCE=.45,un.MIN_FINDER_PATTERN_RATIO=9.5/12,un.MAX_FINDER_PATTERN_RATIO=12.5/14;class Zn{constructor(s,o){this.value=s,this.checksumPortion=o}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(s){if(!(s instanceof Zn))return!1;const o=s;return this.value===o.value&&this.checksumPortion===o.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class kt{constructor(s,o,c,h,g){this.value=s,this.startEnd=o,this.value=s,this.startEnd=o,this.resultPoints=new Array,this.resultPoints.push(new Ke(c,g)),this.resultPoints.push(new Ke(h,g))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(s){if(!(s instanceof kt))return!1;const o=s;return this.value===o.value}hashCode(){return this.value}}class ar{constructor(){}static getRSSvalue(s,o,c){let h=0;for(let x of s)h+=x;let g=0,l=0,d=s.length;for(let x=0;x<d-1;x++){let w;for(w=1,l|=1<<x;w<s[x];w++,l&=~(1<<x)){let _=ar.combins(h-w-1,d-x-2);if(c&&l===0&&h-w-(d-x-1)>=d-x-1&&(_-=ar.combins(h-w-(d-x),d-x-2)),d-x-1>1){let N=0;for(let D=h-w-(d-x-2);D>o;D--)N+=ar.combins(h-w-D-1,d-x-3);_-=N*(d-1-x)}else h-w>o&&_--;g+=_}h-=w}return g}static combins(s,o){let c,h;s-o>o?(h=o,c=s-o):(h=s-o,c=o);let g=1,l=1;for(let d=s;d>c;d--)g*=d,l<=h&&(g/=l,l++);for(;l<=h;)g/=l,l++;return g}}class Jr{static buildBitArray(s){let o=s.length*2-1;s[s.length-1].getRightChar()==null&&(o-=1);let c=12*o,h=new j(c),g=0,d=s[0].getRightChar().getValue();for(let x=11;x>=0;--x)d&1<<x&&h.set(g),g++;for(let x=1;x<s.length;++x){let w=s[x],_=w.getLeftChar().getValue();for(let N=11;N>=0;--N)_&1<<N&&h.set(g),g++;if(w.getRightChar()!=null){let N=w.getRightChar().getValue();for(let D=11;D>=0;--D)N&1<<D&&h.set(g),g++}}return h}}class rn{constructor(s,o){o?this.decodedInformation=null:(this.finished=s,this.decodedInformation=o)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class En{constructor(s){this.newPosition=s}getNewPosition(){return this.newPosition}}class zn extends En{constructor(s,o){super(s),this.value=o}getValue(){return this.value}isFNC1(){return this.value===zn.FNC1}}zn.FNC1="$";class gr extends En{constructor(s,o,c){super(s),c?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=o}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Jn extends En{constructor(s,o,c){if(super(s),o<0||o>10||c<0||c>10)throw new Y;this.firstDigit=o,this.secondDigit=c}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Jn.FNC1}isSecondDigitFNC1(){return this.secondDigit===Jn.FNC1}isAnyFNC1(){return this.firstDigit===Jn.FNC1||this.secondDigit===Jn.FNC1}}Jn.FNC1=10;class St{constructor(){}static parseFieldsInGeneralPurpose(s){if(!s)return null;if(s.length<2)throw new te;let o=s.substring(0,2);for(let g of St.TWO_DIGIT_DATA_LENGTH)if(g[0]===o)return g[1]===St.VARIABLE_LENGTH?St.processVariableAI(2,g[2],s):St.processFixedAI(2,g[1],s);if(s.length<3)throw new te;let c=s.substring(0,3);for(let g of St.THREE_DIGIT_DATA_LENGTH)if(g[0]===c)return g[1]===St.VARIABLE_LENGTH?St.processVariableAI(3,g[2],s):St.processFixedAI(3,g[1],s);for(let g of St.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(g[0]===c)return g[1]===St.VARIABLE_LENGTH?St.processVariableAI(4,g[2],s):St.processFixedAI(4,g[1],s);if(s.length<4)throw new te;let h=s.substring(0,4);for(let g of St.FOUR_DIGIT_DATA_LENGTH)if(g[0]===h)return g[1]===St.VARIABLE_LENGTH?St.processVariableAI(4,g[2],s):St.processFixedAI(4,g[1],s);throw new te}static processFixedAI(s,o,c){if(c.length<s)throw new te;let h=c.substring(0,s);if(c.length<s+o)throw new te;let g=c.substring(s,s+o),l=c.substring(s+o),d="("+h+")"+g,x=St.parseFieldsInGeneralPurpose(l);return x==null?d:d+x}static processVariableAI(s,o,c){let h=c.substring(0,s),g;c.length<s+o?g=c.length:g=s+o;let l=c.substring(s,g),d=c.substring(g),x="("+h+")"+l,w=St.parseFieldsInGeneralPurpose(d);return w==null?x:x+w}}St.VARIABLE_LENGTH=[],St.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",St.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",St.VARIABLE_LENGTH,20],["22",St.VARIABLE_LENGTH,29],["30",St.VARIABLE_LENGTH,8],["37",St.VARIABLE_LENGTH,8],["90",St.VARIABLE_LENGTH,30],["91",St.VARIABLE_LENGTH,30],["92",St.VARIABLE_LENGTH,30],["93",St.VARIABLE_LENGTH,30],["94",St.VARIABLE_LENGTH,30],["95",St.VARIABLE_LENGTH,30],["96",St.VARIABLE_LENGTH,30],["97",St.VARIABLE_LENGTH,3],["98",St.VARIABLE_LENGTH,30],["99",St.VARIABLE_LENGTH,30]],St.THREE_DIGIT_DATA_LENGTH=[["240",St.VARIABLE_LENGTH,30],["241",St.VARIABLE_LENGTH,30],["242",St.VARIABLE_LENGTH,6],["250",St.VARIABLE_LENGTH,30],["251",St.VARIABLE_LENGTH,30],["253",St.VARIABLE_LENGTH,17],["254",St.VARIABLE_LENGTH,20],["400",St.VARIABLE_LENGTH,30],["401",St.VARIABLE_LENGTH,30],["402",17],["403",St.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",St.VARIABLE_LENGTH,20],["421",St.VARIABLE_LENGTH,15],["422",3],["423",St.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],St.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",St.VARIABLE_LENGTH,15],["391",St.VARIABLE_LENGTH,18],["392",St.VARIABLE_LENGTH,15],["393",St.VARIABLE_LENGTH,18],["703",St.VARIABLE_LENGTH,30]],St.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",St.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",St.VARIABLE_LENGTH,20],["8003",St.VARIABLE_LENGTH,30],["8004",St.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",St.VARIABLE_LENGTH,30],["8008",St.VARIABLE_LENGTH,12],["8018",18],["8020",St.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",St.VARIABLE_LENGTH,70],["8200",St.VARIABLE_LENGTH,70]];class Zi{constructor(s){this.buffer=new ue,this.information=s}decodeAllCodes(s,o){let c=o,h=null;do{let g=this.decodeGeneralPurposeField(c,h),l=St.parseFieldsInGeneralPurpose(g.getNewString());if(l!=null&&s.append(l),g.isRemaining()?h=""+g.getRemainingValue():h=null,c===g.getNewPosition())break;c=g.getNewPosition()}while(!0);return s.toString()}isStillNumeric(s){if(s+7>this.information.getSize())return s+4<=this.information.getSize();for(let o=s;o<s+3;++o)if(this.information.get(o))return!0;return this.information.get(s+3)}decodeNumeric(s){if(s+7>this.information.getSize()){let g=this.extractNumericValueFromBitArray(s,4);return g===0?new Jn(this.information.getSize(),Jn.FNC1,Jn.FNC1):new Jn(this.information.getSize(),g-1,Jn.FNC1)}let o=this.extractNumericValueFromBitArray(s,7),c=(o-8)/11,h=(o-8)%11;return new Jn(s+7,c,h)}extractNumericValueFromBitArray(s,o){return Zi.extractNumericValueFromBitArray(this.information,s,o)}static extractNumericValueFromBitArray(s,o,c){let h=0;for(let g=0;g<c;++g)s.get(o+g)&&(h|=1<<c-g-1);return h}decodeGeneralPurposeField(s,o){this.buffer.setLengthToZero(),o!=null&&this.buffer.append(o),this.current.setPosition(s);let c=this.parseBlocks();return c!=null&&c.isRemaining()?new gr(this.current.getPosition(),this.buffer.toString(),c.getRemainingValue()):new gr(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let s,o;do{let c=this.current.getPosition();if(this.current.isAlpha()?(o=this.parseAlphaBlock(),s=o.isFinished()):this.current.isIsoIec646()?(o=this.parseIsoIec646Block(),s=o.isFinished()):(o=this.parseNumericBlock(),s=o.isFinished()),!(c!==this.current.getPosition())&&!s)break}while(!s);return o.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let s=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFirstDigitFNC1()){let o;return s.isSecondDigitFNC1()?o=new gr(this.current.getPosition(),this.buffer.toString()):o=new gr(this.current.getPosition(),this.buffer.toString(),s.getSecondDigit()),new rn(!0,o)}if(this.buffer.append(s.getFirstDigit()),s.isSecondDigitFNC1()){let o=new gr(this.current.getPosition(),this.buffer.toString());return new rn(!0,o)}this.buffer.append(s.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new rn(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let s=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFNC1()){let o=new gr(this.current.getPosition(),this.buffer.toString());return new rn(!0,o)}this.buffer.append(s.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new rn(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let s=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFNC1()){let o=new gr(this.current.getPosition(),this.buffer.toString());return new rn(!0,o)}this.buffer.append(s.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new rn(!1)}isStillIsoIec646(s){if(s+5>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(s,5);if(o>=5&&o<16)return!0;if(s+7>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(s,7);if(c>=64&&c<116)return!0;if(s+8>this.information.getSize())return!1;let h=this.extractNumericValueFromBitArray(s,8);return h>=232&&h<253}decodeIsoIec646(s){let o=this.extractNumericValueFromBitArray(s,5);if(o===15)return new zn(s+5,zn.FNC1);if(o>=5&&o<15)return new zn(s+5,"0"+(o-5));let c=this.extractNumericValueFromBitArray(s,7);if(c>=64&&c<90)return new zn(s+7,""+(c+1));if(c>=90&&c<116)return new zn(s+7,""+(c+7));let h=this.extractNumericValueFromBitArray(s,8),g;switch(h){case 232:g="!";break;case 233:g='"';break;case 234:g="%";break;case 235:g="&";break;case 236:g="'";break;case 237:g="(";break;case 238:g=")";break;case 239:g="*";break;case 240:g="+";break;case 241:g=",";break;case 242:g="-";break;case 243:g=".";break;case 244:g="/";break;case 245:g=":";break;case 246:g=";";break;case 247:g="<";break;case 248:g="=";break;case 249:g=">";break;case 250:g="?";break;case 251:g="_";break;case 252:g=" ";break;default:throw new Y}return new zn(s+8,g)}isStillAlpha(s){if(s+5>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(s,5);if(o>=5&&o<16)return!0;if(s+6>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(s,6);return c>=16&&c<63}decodeAlphanumeric(s){let o=this.extractNumericValueFromBitArray(s,5);if(o===15)return new zn(s+5,zn.FNC1);if(o>=5&&o<15)return new zn(s+5,"0"+(o-5));let c=this.extractNumericValueFromBitArray(s,6);if(c>=32&&c<58)return new zn(s+6,""+(c+33));let h;switch(c){case 58:h="*";break;case 59:h=",";break;case 60:h="-";break;case 61:h=".";break;case 62:h="/";break;default:throw new be("Decoding invalid alphanumeric value: "+c)}return new zn(s+6,h)}isAlphaTo646ToAlphaLatch(s){if(s+1>this.information.getSize())return!1;for(let o=0;o<5&&o+s<this.information.getSize();++o)if(o===2){if(!this.information.get(s+2))return!1}else if(this.information.get(s+o))return!1;return!0}isAlphaOr646ToNumericLatch(s){if(s+3>this.information.getSize())return!1;for(let o=s;o<s+3;++o)if(this.information.get(o))return!1;return!0}isNumericToAlphaNumericLatch(s){if(s+1>this.information.getSize())return!1;for(let o=0;o<4&&o+s<this.information.getSize();++o)if(this.information.get(s+o))return!1;return!0}}class ei{constructor(s){this.information=s,this.generalDecoder=new Zi(s)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class dr extends ei{constructor(s){super(s)}encodeCompressedGtin(s,o){s.append("(01)");let c=s.length();s.append("9"),this.encodeCompressedGtinWithoutAI(s,o,c)}encodeCompressedGtinWithoutAI(s,o,c){for(let h=0;h<4;++h){let g=this.getGeneralDecoder().extractNumericValueFromBitArray(o+10*h,10);g/100===0&&s.append("0"),g/10===0&&s.append("0"),s.append(g)}dr.appendCheckDigit(s,c)}static appendCheckDigit(s,o){let c=0;for(let h=0;h<13;h++){let g=s.charAt(h+o).charCodeAt(0)-48;c+=h&1?g:3*g}c=10-c%10,c===10&&(c=0),s.append(c)}}dr.GTIN_SIZE=40;class Rr extends dr{constructor(s){super(s)}parseInformation(){let s=new ue;s.append("(01)");let o=s.length(),c=this.getGeneralDecoder().extractNumericValueFromBitArray(Rr.HEADER_SIZE,4);return s.append(c),this.encodeCompressedGtinWithoutAI(s,Rr.HEADER_SIZE+4,o),this.getGeneralDecoder().decodeAllCodes(s,Rr.HEADER_SIZE+44)}}Rr.HEADER_SIZE=4;class vi extends ei{constructor(s){super(s)}parseInformation(){let s=new ue;return this.getGeneralDecoder().decodeAllCodes(s,vi.HEADER_SIZE)}}vi.HEADER_SIZE=5;class Oi extends dr{constructor(s){super(s)}encodeCompressedWeight(s,o,c){let h=this.getGeneralDecoder().extractNumericValueFromBitArray(o,c);this.addWeightCode(s,h);let g=this.checkWeight(h),l=1e5;for(let d=0;d<5;++d)g/l===0&&s.append("0"),l/=10;s.append(g)}}class Or extends Oi{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()!=Or.HEADER_SIZE+Oi.GTIN_SIZE+Or.WEIGHT_SIZE)throw new te;let s=new ue;return this.encodeCompressedGtin(s,Or.HEADER_SIZE),this.encodeCompressedWeight(s,Or.HEADER_SIZE+Oi.GTIN_SIZE,Or.WEIGHT_SIZE),s.toString()}}Or.HEADER_SIZE=5,Or.WEIGHT_SIZE=15;class Rs extends Or{constructor(s){super(s)}addWeightCode(s,o){s.append("(3103)")}checkWeight(s){return s}}class Qi extends Or{constructor(s){super(s)}addWeightCode(s,o){o<1e4?s.append("(3202)"):s.append("(3203)")}checkWeight(s){return s<1e4?s:s-1e4}}class Ni extends dr{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()<Ni.HEADER_SIZE+dr.GTIN_SIZE)throw new te;let s=new ue;this.encodeCompressedGtin(s,Ni.HEADER_SIZE);let o=this.getGeneralDecoder().extractNumericValueFromBitArray(Ni.HEADER_SIZE+dr.GTIN_SIZE,Ni.LAST_DIGIT_SIZE);s.append("(392"),s.append(o),s.append(")");let c=this.getGeneralDecoder().decodeGeneralPurposeField(Ni.HEADER_SIZE+dr.GTIN_SIZE+Ni.LAST_DIGIT_SIZE,null);return s.append(c.getNewString()),s.toString()}}Ni.HEADER_SIZE=8,Ni.LAST_DIGIT_SIZE=2;class Br extends dr{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()<Br.HEADER_SIZE+dr.GTIN_SIZE)throw new te;let s=new ue;this.encodeCompressedGtin(s,Br.HEADER_SIZE);let o=this.getGeneralDecoder().extractNumericValueFromBitArray(Br.HEADER_SIZE+dr.GTIN_SIZE,Br.LAST_DIGIT_SIZE);s.append("(393"),s.append(o),s.append(")");let c=this.getGeneralDecoder().extractNumericValueFromBitArray(Br.HEADER_SIZE+dr.GTIN_SIZE+Br.LAST_DIGIT_SIZE,Br.FIRST_THREE_DIGITS_SIZE);c/100==0&&s.append("0"),c/10==0&&s.append("0"),s.append(c);let h=this.getGeneralDecoder().decodeGeneralPurposeField(Br.HEADER_SIZE+dr.GTIN_SIZE+Br.LAST_DIGIT_SIZE+Br.FIRST_THREE_DIGITS_SIZE,null);return s.append(h.getNewString()),s.toString()}}Br.HEADER_SIZE=8,Br.LAST_DIGIT_SIZE=2,Br.FIRST_THREE_DIGITS_SIZE=10;class dn extends Oi{constructor(s,o,c){super(s),this.dateCode=c,this.firstAIdigits=o}parseInformation(){if(this.getInformation().getSize()!=dn.HEADER_SIZE+dn.GTIN_SIZE+dn.WEIGHT_SIZE+dn.DATE_SIZE)throw new te;let s=new ue;return this.encodeCompressedGtin(s,dn.HEADER_SIZE),this.encodeCompressedWeight(s,dn.HEADER_SIZE+dn.GTIN_SIZE,dn.WEIGHT_SIZE),this.encodeCompressedDate(s,dn.HEADER_SIZE+dn.GTIN_SIZE+dn.WEIGHT_SIZE),s.toString()}encodeCompressedDate(s,o){let c=this.getGeneralDecoder().extractNumericValueFromBitArray(o,dn.DATE_SIZE);if(c==38400)return;s.append("("),s.append(this.dateCode),s.append(")");let h=c%32;c/=32;let g=c%12+1;c/=12;let l=c;l/10==0&&s.append("0"),s.append(l),g/10==0&&s.append("0"),s.append(g),h/10==0&&s.append("0"),s.append(h)}addWeightCode(s,o){s.append("("),s.append(this.firstAIdigits),s.append(o/1e5),s.append(")")}checkWeight(s){return s%1e5}}dn.HEADER_SIZE=8,dn.WEIGHT_SIZE=20,dn.DATE_SIZE=16;function Zs(q){try{if(q.get(1))return new Rr(q);if(!q.get(2))return new vi(q);switch(Zi.extractNumericValueFromBitArray(q,1,4)){case 4:return new Rs(q);case 5:return new Qi(q)}switch(Zi.extractNumericValueFromBitArray(q,1,5)){case 12:return new Ni(q);case 13:return new Br(q)}switch(Zi.extractNumericValueFromBitArray(q,1,7)){case 56:return new dn(q,"310","11");case 57:return new dn(q,"320","11");case 58:return new dn(q,"310","13");case 59:return new dn(q,"320","13");case 60:return new dn(q,"310","15");case 61:return new dn(q,"320","15");case 62:return new dn(q,"310","17");case 63:return new dn(q,"320","17")}}catch(s){throw console.log(s),new be("unknown decoder: "+q)}}class ti{constructor(s,o,c,h){this.leftchar=s,this.rightchar=o,this.finderpattern=c,this.maybeLast=h}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(s,o){return s instanceof ti?ti.equalsOrNull(s.leftchar,o.leftchar)&&ti.equalsOrNull(s.rightchar,o.rightchar)&&ti.equalsOrNull(s.finderpattern,o.finderpattern):!1}static equalsOrNull(s,o){return s===null?o===null:ti.equals(s,o)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Ja{constructor(s,o,c){this.pairs=s,this.rowNumber=o,this.wasReversed=c}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(s){return this.checkEqualitity(this,s)}toString(){return"{ "+this.pairs+" }"}equals(s,o){return s instanceof Ja?this.checkEqualitity(s,o)&&s.wasReversed===o.wasReversed:!1}checkEqualitity(s,o){if(!s||!o)return;let c;return s.forEach((h,g)=>{o.forEach(l=>{h.getLeftChar().getValue()===l.getLeftChar().getValue()&&h.getRightChar().getValue()===l.getRightChar().getValue()&&h.getFinderPatter().getValue()===l.getFinderPatter().getValue()&&(c=!0)})}),c}}class at extends un{constructor(s){super(...arguments),this.pairs=new Array(at.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=s===!0}decodeRow(s,o,c){this.pairs.length=0,this.startFromEven=!1;try{return at.constructResult(this.decodeRow2pairs(s,o))}catch(h){this.verbose&&console.log(h)}return this.pairs.length=0,this.startFromEven=!0,at.constructResult(this.decodeRow2pairs(s,o))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(s,o){let c=!1;for(;!c;)try{this.pairs.push(this.retrieveNextPair(o,this.pairs,s))}catch(g){if(g instanceof te){if(!this.pairs.length)throw new te;c=!0}}if(this.checkChecksum())return this.pairs;let h;if(this.rows.length?h=!0:h=!1,this.storeRow(s,!1),h){let g=this.checkRowsBoolean(!1);if(g!=null||(g=this.checkRowsBoolean(!0),g!=null))return g}throw new te}checkRowsBoolean(s){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,s&&(this.rows=this.rows.reverse());let o=null;try{o=this.checkRows(new Array,0)}catch(c){this.verbose&&console.log(c)}return s&&(this.rows=this.rows.reverse()),o}checkRows(s,o){for(let c=o;c<this.rows.length;c++){let h=this.rows[c];this.pairs.length=0;for(let l of s)this.pairs.push(l.getPairs());if(this.pairs.push(h.getPairs()),!at.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let g=new Array(s);g.push(h);try{return this.checkRows(g,c+1)}catch(l){this.verbose&&console.log(l)}}throw new te}static isValidSequence(s){for(let o of at.FINDER_PATTERN_SEQUENCES){if(s.length>o.length)continue;let c=!0;for(let h=0;h<s.length;h++)if(s[h].getFinderPattern().getValue()!=o[h]){c=!1;break}if(c)return!0}return!1}storeRow(s,o){let c=0,h=!1,g=!1;for(;c<this.rows.length;){let l=this.rows[c];if(l.getRowNumber()>s){g=l.isEquivalent(this.pairs);break}h=l.isEquivalent(this.pairs),c++}g||h||at.isPartialRow(this.pairs,this.rows)||(this.rows.push(c,new Ja(this.pairs,s,o)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(s,o){for(let c of o)if(c.getPairs().length!==s.length){for(let h of c.getPairs())for(let g of s)if(ti.equals(h,g))break}}static isPartialRow(s,o){for(let c of o){let h=!0;for(let g of s){let l=!1;for(let d of c.getPairs())if(g.equals(d)){l=!0;break}if(!l){h=!1;break}}if(h)return!0}return!1}getRows(){return this.rows}static constructResult(s){let o=Jr.buildBitArray(s),h=Zs(o).parseInformation(),g=s[0].getFinderPattern().getResultPoints(),l=s[s.length-1].getFinderPattern().getResultPoints(),d=[g[0],g[1],l[0],l[1]];return new fe(h,null,null,d,se.RSS_EXPANDED,null)}checkChecksum(){let s=this.pairs.get(0),o=s.getLeftChar(),c=s.getRightChar();if(c==null)return!1;let h=c.getChecksumPortion(),g=2;for(let d=1;d<this.pairs.size();++d){let x=this.pairs.get(d);h+=x.getLeftChar().getChecksumPortion(),g++;let w=x.getRightChar();w!=null&&(h+=w.getChecksumPortion(),g++)}return h%=211,211*(g-4)+h==o.getValue()}static getNextSecondBar(s,o){let c;return s.get(o)?(c=s.getNextUnset(o),c=s.getNextSet(c)):(c=s.getNextSet(o),c=s.getNextUnset(c)),c}retrieveNextPair(s,o,c){let h=o.length%2==0;this.startFromEven&&(h=!h);let g,l=!0,d=-1;do this.findNextPair(s,o,d),g=this.parseFoundFinderPattern(s,c,h),g==null?d=at.getNextSecondBar(s,this.startEnd[0]):l=!1;while(l);let x=this.decodeDataCharacter(s,g,h,!0);if(!this.isEmptyPair(o)&&o[o.length-1].mustBeLast())throw new te;let w;try{w=this.decodeDataCharacter(s,g,h,!1)}catch(_){w=null,this.verbose&&console.log(_)}return new ti(x,w,g,!0)}isEmptyPair(s){return s.length===0}findNextPair(s,o,c){let h=this.getDecodeFinderCounters();h[0]=0,h[1]=0,h[2]=0,h[3]=0;let g=s.getSize(),l;c>=0?l=c:this.isEmptyPair(o)?l=0:l=o[o.length-1].getFinderPattern().getStartEnd()[1];let d=o.length%2!=0;this.startFromEven&&(d=!d);let x=!1;for(;l<g&&(x=!s.get(l),!!x);)l++;let w=0,_=l;for(let N=l;N<g;N++)if(s.get(N)!=x)h[w]++;else{if(w==3){if(d&&at.reverseCounters(h),at.isFinderPattern(h)){this.startEnd[0]=_,this.startEnd[1]=N;return}d&&at.reverseCounters(h),_+=h[0]+h[1],h[0]=h[2],h[1]=h[3],h[2]=0,h[3]=0,w--}else w++;h[w]=1,x=!x}throw new te}static reverseCounters(s){let o=s.length;for(let c=0;c<o/2;++c){let h=s[c];s[c]=s[o-c-1],s[o-c-1]=h}}parseFoundFinderPattern(s,o,c){let h,g,l;if(c){let w=this.startEnd[0]-1;for(;w>=0&&!s.get(w);)w--;w++,h=this.startEnd[0]-w,g=w,l=this.startEnd[1]}else g=this.startEnd[0],l=s.getNextUnset(this.startEnd[1]+1),h=l-this.startEnd[1];let d=this.getDecodeFinderCounters();I.arraycopy(d,0,d,1,d.length-1),d[0]=h;let x;try{x=this.parseFinderValue(d,at.FINDER_PATTERNS)}catch{return null}return new kt(x,[g,l],g,l,o)}decodeDataCharacter(s,o,c,h){let g=this.getDataCharacterCounters();for(let We=0;We<g.length;We++)g[We]=0;if(h)at.recordPatternInReverse(s,o.getStartEnd()[0],g);else{at.recordPattern(s,o.getStartEnd()[1],g);for(let We=0,ot=g.length-1;We<ot;We++,ot--){let dt=g[We];g[We]=g[ot],g[ot]=dt}}let l=17,d=Qe.sum(new Int32Array(g))/l,x=(o.getStartEnd()[1]-o.getStartEnd()[0])/15;if(Math.abs(d-x)/x>.3)throw new te;let w=this.getOddCounts(),_=this.getEvenCounts(),N=this.getOddRoundingErrors(),D=this.getEvenRoundingErrors();for(let We=0;We<g.length;We++){let ot=1*g[We]/d,dt=ot+.5;if(dt<1){if(ot<.3)throw new te;dt=1}else if(dt>8){if(ot>8.7)throw new te;dt=8}let ft=We/2;We&1?(_[ft]=dt,D[ft]=ot-dt):(w[ft]=dt,N[ft]=ot-dt)}this.adjustOddEvenCounts(l);let U=4*o.getValue()+(c?0:2)+(h?0:1)-1,G=0,X=0;for(let We=w.length-1;We>=0;We--){if(at.isNotA1left(o,c,h)){let ot=at.WEIGHTS[U][2*We];X+=w[We]*ot}G+=w[We]}let re=0;for(let We=_.length-1;We>=0;We--)if(at.isNotA1left(o,c,h)){let ot=at.WEIGHTS[U][2*We+1];re+=_[We]*ot}let Q=X+re;if(G&1||G>13||G<4)throw new te;let ge=(13-G)/2,de=at.SYMBOL_WIDEST[ge],me=9-de,Te=ar.getRSSvalue(w,de,!0),ke=ar.getRSSvalue(_,me,!1),De=at.EVEN_TOTAL_SUBSET[ge],He=at.GSUM[ge],Xe=Te*De+ke+He;return new Zn(Xe,Q)}static isNotA1left(s,o,c){return!(s.getValue()==0&&o&&c)}adjustOddEvenCounts(s){let o=Qe.sum(new Int32Array(this.getOddCounts())),c=Qe.sum(new Int32Array(this.getEvenCounts())),h=!1,g=!1;o>13?g=!0:o<4&&(h=!0);let l=!1,d=!1;c>13?d=!0:c<4&&(l=!0);let x=o+c-s,w=(o&1)==1,_=(c&1)==0;if(x==1)if(w){if(_)throw new te;g=!0}else{if(!_)throw new te;d=!0}else if(x==-1)if(w){if(_)throw new te;h=!0}else{if(!_)throw new te;l=!0}else if(x==0){if(w){if(!_)throw new te;o<c?(h=!0,d=!0):(g=!0,l=!0)}else if(_)throw new te}else throw new te;if(h){if(g)throw new te;at.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(g&&at.decrement(this.getOddCounts(),this.getOddRoundingErrors()),l){if(d)throw new te;at.increment(this.getEvenCounts(),this.getOddRoundingErrors())}d&&at.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}at.SYMBOL_WIDEST=[7,5,4,3,1],at.EVEN_TOTAL_SUBSET=[4,20,52,104,204],at.GSUM=[0,348,1388,2948,3988],at.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],at.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],at.FINDER_PAT_A=0,at.FINDER_PAT_B=1,at.FINDER_PAT_C=2,at.FINDER_PAT_D=3,at.FINDER_PAT_E=4,at.FINDER_PAT_F=5,at.FINDER_PATTERN_SEQUENCES=[[at.FINDER_PAT_A,at.FINDER_PAT_A],[at.FINDER_PAT_A,at.FINDER_PAT_B,at.FINDER_PAT_B],[at.FINDER_PAT_A,at.FINDER_PAT_C,at.FINDER_PAT_B,at.FINDER_PAT_D],[at.FINDER_PAT_A,at.FINDER_PAT_E,at.FINDER_PAT_B,at.FINDER_PAT_D,at.FINDER_PAT_C],[at.FINDER_PAT_A,at.FINDER_PAT_E,at.FINDER_PAT_B,at.FINDER_PAT_D,at.FINDER_PAT_D,at.FINDER_PAT_F],[at.FINDER_PAT_A,at.FINDER_PAT_E,at.FINDER_PAT_B,at.FINDER_PAT_D,at.FINDER_PAT_E,at.FINDER_PAT_F,at.FINDER_PAT_F],[at.FINDER_PAT_A,at.FINDER_PAT_A,at.FINDER_PAT_B,at.FINDER_PAT_B,at.FINDER_PAT_C,at.FINDER_PAT_C,at.FINDER_PAT_D,at.FINDER_PAT_D],[at.FINDER_PAT_A,at.FINDER_PAT_A,at.FINDER_PAT_B,at.FINDER_PAT_B,at.FINDER_PAT_C,at.FINDER_PAT_C,at.FINDER_PAT_D,at.FINDER_PAT_E,at.FINDER_PAT_E],[at.FINDER_PAT_A,at.FINDER_PAT_A,at.FINDER_PAT_B,at.FINDER_PAT_B,at.FINDER_PAT_C,at.FINDER_PAT_C,at.FINDER_PAT_D,at.FINDER_PAT_E,at.FINDER_PAT_F,at.FINDER_PAT_F],[at.FINDER_PAT_A,at.FINDER_PAT_A,at.FINDER_PAT_B,at.FINDER_PAT_B,at.FINDER_PAT_C,at.FINDER_PAT_D,at.FINDER_PAT_D,at.FINDER_PAT_E,at.FINDER_PAT_E,at.FINDER_PAT_F,at.FINDER_PAT_F]],at.MAX_PAIRS=11;class Li extends Zn{constructor(s,o,c){super(s,o),this.count=0,this.finderPattern=c}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class fr extends un{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(s,o,c){const h=this.decodePair(o,!1,s,c);fr.addOrTally(this.possibleLeftPairs,h),o.reverse();let g=this.decodePair(o,!0,s,c);fr.addOrTally(this.possibleRightPairs,g),o.reverse();for(let l of this.possibleLeftPairs)if(l.getCount()>1){for(let d of this.possibleRightPairs)if(d.getCount()>1&&fr.checkChecksum(l,d))return fr.constructResult(l,d)}throw new te}static addOrTally(s,o){if(o==null)return;let c=!1;for(let h of s)if(h.getValue()===o.getValue()){h.incrementCount(),c=!0;break}c||s.push(o)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(s,o){let c=4537077*s.getValue()+o.getValue(),h=new String(c).toString(),g=new ue;for(let w=13-h.length;w>0;w--)g.append("0");g.append(h);let l=0;for(let w=0;w<13;w++){let _=g.charAt(w).charCodeAt(0)-48;l+=w&1?_:3*_}l=10-l%10,l===10&&(l=0),g.append(l.toString());let d=s.getFinderPattern().getResultPoints(),x=o.getFinderPattern().getResultPoints();return new fe(g.toString(),null,0,[d[0],d[1],x[0],x[1]],se.RSS_14,new Date().getTime())}static checkChecksum(s,o){let c=(s.getChecksumPortion()+16*o.getChecksumPortion())%79,h=9*s.getFinderPattern().getValue()+o.getFinderPattern().getValue();return h>72&&h--,h>8&&h--,c===h}decodePair(s,o,c,h){try{let g=this.findFinderPattern(s,o),l=this.parseFoundFinderPattern(s,c,o,g),d=h==null?null:h.get(ce.NEED_RESULT_POINT_CALLBACK);if(d!=null){let _=(g[0]+g[1])/2;o&&(_=s.getSize()-1-_),d.foundPossibleResultPoint(new Ke(_,c))}let x=this.decodeDataCharacter(s,l,!0),w=this.decodeDataCharacter(s,l,!1);return new Li(1597*x.getValue()+w.getValue(),x.getChecksumPortion()+4*w.getChecksumPortion(),l)}catch{return null}}decodeDataCharacter(s,o,c){let h=this.getDataCharacterCounters();for(let re=0;re<h.length;re++)h[re]=0;if(c)Vt.recordPatternInReverse(s,o.getStartEnd()[0],h);else{Vt.recordPattern(s,o.getStartEnd()[1]+1,h);for(let re=0,Q=h.length-1;re<Q;re++,Q--){let ge=h[re];h[re]=h[Q],h[Q]=ge}}let g=c?16:15,l=Qe.sum(new Int32Array(h))/g,d=this.getOddCounts(),x=this.getEvenCounts(),w=this.getOddRoundingErrors(),_=this.getEvenRoundingErrors();for(let re=0;re<h.length;re++){let Q=h[re]/l,ge=Math.floor(Q+.5);ge<1?ge=1:ge>8&&(ge=8);let de=Math.floor(re/2);re&1?(x[de]=ge,_[de]=Q-ge):(d[de]=ge,w[de]=Q-ge)}this.adjustOddEvenCounts(c,g);let N=0,D=0;for(let re=d.length-1;re>=0;re--)D*=9,D+=d[re],N+=d[re];let U=0,G=0;for(let re=x.length-1;re>=0;re--)U*=9,U+=x[re],G+=x[re];let X=D+3*U;if(c){if(N&1||N>12||N<4)throw new te;let re=(12-N)/2,Q=fr.OUTSIDE_ODD_WIDEST[re],ge=9-Q,de=ar.getRSSvalue(d,Q,!1),me=ar.getRSSvalue(x,ge,!0),Te=fr.OUTSIDE_EVEN_TOTAL_SUBSET[re],ke=fr.OUTSIDE_GSUM[re];return new Zn(de*Te+me+ke,X)}else{if(G&1||G>10||G<4)throw new te;let re=(10-G)/2,Q=fr.INSIDE_ODD_WIDEST[re],ge=9-Q,de=ar.getRSSvalue(d,Q,!0),me=ar.getRSSvalue(x,ge,!1),Te=fr.INSIDE_ODD_TOTAL_SUBSET[re],ke=fr.INSIDE_GSUM[re];return new Zn(me*Te+de+ke,X)}}findFinderPattern(s,o){let c=this.getDecodeFinderCounters();c[0]=0,c[1]=0,c[2]=0,c[3]=0;let h=s.getSize(),g=!1,l=0;for(;l<h&&(g=!s.get(l),o!==g);)l++;let d=0,x=l;for(let w=l;w<h;w++)if(s.get(w)!==g)c[d]++;else{if(d===3){if(un.isFinderPattern(c))return[x,w];x+=c[0]+c[1],c[0]=c[2],c[1]=c[3],c[2]=0,c[3]=0,d--}else d++;c[d]=1,g=!g}throw new te}parseFoundFinderPattern(s,o,c,h){let g=s.get(h[0]),l=h[0]-1;for(;l>=0&&g!==s.get(l);)l--;l++;const d=h[0]-l,x=this.getDecodeFinderCounters(),w=new Int32Array(x.length);I.arraycopy(x,0,w,1,x.length-1),w[0]=d;const _=this.parseFinderValue(w,fr.FINDER_PATTERNS);let N=l,D=h[1];return c&&(N=s.getSize()-1-N,D=s.getSize()-1-D),new kt(_,[l,h[1]],N,D,o)}adjustOddEvenCounts(s,o){let c=Qe.sum(new Int32Array(this.getOddCounts())),h=Qe.sum(new Int32Array(this.getEvenCounts())),g=!1,l=!1,d=!1,x=!1;s?(c>12?l=!0:c<4&&(g=!0),h>12?x=!0:h<4&&(d=!0)):(c>11?l=!0:c<5&&(g=!0),h>10?x=!0:h<4&&(d=!0));let w=c+h-o,_=(c&1)===(s?1:0),N=(h&1)===1;if(w===1)if(_){if(N)throw new te;l=!0}else{if(!N)throw new te;x=!0}else if(w===-1)if(_){if(N)throw new te;g=!0}else{if(!N)throw new te;d=!0}else if(w===0){if(_){if(!N)throw new te;c<h?(g=!0,x=!0):(l=!0,d=!0)}else if(N)throw new te}else throw new te;if(g){if(l)throw new te;un.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(l&&un.decrement(this.getOddCounts(),this.getOddRoundingErrors()),d){if(x)throw new te;un.increment(this.getEvenCounts(),this.getOddRoundingErrors())}x&&un.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}fr.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],fr.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],fr.OUTSIDE_GSUM=[0,161,961,2015,2715],fr.INSIDE_GSUM=[0,336,1036,1516],fr.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],fr.INSIDE_ODD_WIDEST=[2,4,6,8],fr.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Os extends Vt{constructor(s,o){super(),this.readers=[],this.verbose=o===!0;const c=s?s.get(ce.POSSIBLE_FORMATS):null,h=s&&s.get(ce.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;c?((c.includes(se.EAN_13)||c.includes(se.UPC_A)||c.includes(se.EAN_8)||c.includes(se.UPC_E))&&this.readers.push(new mn(s)),c.includes(se.CODE_39)&&this.readers.push(new It(h)),c.includes(se.CODE_128)&&this.readers.push(new Ze),c.includes(se.ITF)&&this.readers.push(new it),c.includes(se.RSS_14)&&this.readers.push(new fr),c.includes(se.RSS_EXPANDED)&&this.readers.push(new at(this.verbose))):(this.readers.push(new mn(s)),this.readers.push(new It),this.readers.push(new mn(s)),this.readers.push(new Ze),this.readers.push(new it),this.readers.push(new fr),this.readers.push(new at(this.verbose)))}decodeRow(s,o,c){for(let h=0;h<this.readers.length;h++)try{return this.readers[h].decodeRow(s,o,c)}catch{}throw new te}reset(){this.readers.forEach(s=>s.reset())}}class Ls extends ae{constructor(s=500,o){super(new Os(o),s,o)}}class Vn{constructor(s,o,c){this.ecCodewords=s,this.ecBlocks=[o],c&&this.ecBlocks.push(c)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Ln{constructor(s,o){this.count=s,this.dataCodewords=o}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class In{constructor(s,o,c,h,g,l){this.versionNumber=s,this.symbolSizeRows=o,this.symbolSizeColumns=c,this.dataRegionSizeRows=h,this.dataRegionSizeColumns=g,this.ecBlocks=l;let d=0;const x=l.getECCodewords(),w=l.getECBlocks();for(let _ of w)d+=_.getCount()*(_.getDataCodewords()+x);this.totalCodewords=d}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(s,o){if(s&1||o&1)throw new Y;for(let c of In.VERSIONS)if(c.symbolSizeRows===s&&c.symbolSizeColumns===o)return c;throw new Y}toString(){return""+this.versionNumber}static buildVersions(){return[new In(1,10,10,8,8,new Vn(5,new Ln(1,3))),new In(2,12,12,10,10,new Vn(7,new Ln(1,5))),new In(3,14,14,12,12,new Vn(10,new Ln(1,8))),new In(4,16,16,14,14,new Vn(12,new Ln(1,12))),new In(5,18,18,16,16,new Vn(14,new Ln(1,18))),new In(6,20,20,18,18,new Vn(18,new Ln(1,22))),new In(7,22,22,20,20,new Vn(20,new Ln(1,30))),new In(8,24,24,22,22,new Vn(24,new Ln(1,36))),new In(9,26,26,24,24,new Vn(28,new Ln(1,44))),new In(10,32,32,14,14,new Vn(36,new Ln(1,62))),new In(11,36,36,16,16,new Vn(42,new Ln(1,86))),new In(12,40,40,18,18,new Vn(48,new Ln(1,114))),new In(13,44,44,20,20,new Vn(56,new Ln(1,144))),new In(14,48,48,22,22,new Vn(68,new Ln(1,174))),new In(15,52,52,24,24,new Vn(42,new Ln(2,102))),new In(16,64,64,14,14,new Vn(56,new Ln(2,140))),new In(17,72,72,16,16,new Vn(36,new Ln(4,92))),new In(18,80,80,18,18,new Vn(48,new Ln(4,114))),new In(19,88,88,20,20,new Vn(56,new Ln(4,144))),new In(20,96,96,22,22,new Vn(68,new Ln(4,174))),new In(21,104,104,24,24,new Vn(56,new Ln(6,136))),new In(22,120,120,18,18,new Vn(68,new Ln(6,175))),new In(23,132,132,20,20,new Vn(62,new Ln(8,163))),new In(24,144,144,22,22,new Vn(62,new Ln(8,156),new Ln(2,155))),new In(25,8,18,6,16,new Vn(7,new Ln(1,5))),new In(26,8,32,6,14,new Vn(11,new Ln(1,10))),new In(27,12,26,10,24,new Vn(14,new Ln(1,16))),new In(28,12,36,10,16,new Vn(18,new Ln(1,22))),new In(29,16,36,14,16,new Vn(24,new Ln(1,32))),new In(30,16,48,14,22,new Vn(28,new Ln(1,49)))]}}In.VERSIONS=In.buildVersions();class Sn{constructor(s){const o=s.getHeight();if(o<8||o>144||o&1)throw new Y;this.version=Sn.readVersion(s),this.mappingBitMatrix=this.extractDataRegion(s),this.readMappingMatrix=new oe(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(s){const o=s.getHeight(),c=s.getWidth();return In.getVersionForDimensions(o,c)}readCodewords(){const s=new Int8Array(this.version.getTotalCodewords());let o=0,c=4,h=0;const g=this.mappingBitMatrix.getHeight(),l=this.mappingBitMatrix.getWidth();let d=!1,x=!1,w=!1,_=!1;do if(c===g&&h===0&&!d)s[o++]=this.readCorner1(g,l)&255,c-=2,h+=2,d=!0;else if(c===g-2&&h===0&&l&3&&!x)s[o++]=this.readCorner2(g,l)&255,c-=2,h+=2,x=!0;else if(c===g+4&&h===2&&!(l&7)&&!w)s[o++]=this.readCorner3(g,l)&255,c-=2,h+=2,w=!0;else if(c===g-2&&h===0&&(l&7)===4&&!_)s[o++]=this.readCorner4(g,l)&255,c-=2,h+=2,_=!0;else{do c<g&&h>=0&&!this.readMappingMatrix.get(h,c)&&(s[o++]=this.readUtah(c,h,g,l)&255),c-=2,h+=2;while(c>=0&&h<l);c+=1,h+=3;do c>=0&&h<l&&!this.readMappingMatrix.get(h,c)&&(s[o++]=this.readUtah(c,h,g,l)&255),c+=2,h-=2;while(c<g&&h>=0);c+=3,h+=1}while(c<g||h<l);if(o!==this.version.getTotalCodewords())throw new Y;return s}readModule(s,o,c,h){return s<0&&(s+=c,o+=4-(c+4&7)),o<0&&(o+=h,s+=4-(h+4&7)),this.readMappingMatrix.set(o,s),this.mappingBitMatrix.get(o,s)}readUtah(s,o,c,h){let g=0;return this.readModule(s-2,o-2,c,h)&&(g|=1),g<<=1,this.readModule(s-2,o-1,c,h)&&(g|=1),g<<=1,this.readModule(s-1,o-2,c,h)&&(g|=1),g<<=1,this.readModule(s-1,o-1,c,h)&&(g|=1),g<<=1,this.readModule(s-1,o,c,h)&&(g|=1),g<<=1,this.readModule(s,o-2,c,h)&&(g|=1),g<<=1,this.readModule(s,o-1,c,h)&&(g|=1),g<<=1,this.readModule(s,o,c,h)&&(g|=1),g}readCorner1(s,o){let c=0;return this.readModule(s-1,0,s,o)&&(c|=1),c<<=1,this.readModule(s-1,1,s,o)&&(c|=1),c<<=1,this.readModule(s-1,2,s,o)&&(c|=1),c<<=1,this.readModule(0,o-2,s,o)&&(c|=1),c<<=1,this.readModule(0,o-1,s,o)&&(c|=1),c<<=1,this.readModule(1,o-1,s,o)&&(c|=1),c<<=1,this.readModule(2,o-1,s,o)&&(c|=1),c<<=1,this.readModule(3,o-1,s,o)&&(c|=1),c}readCorner2(s,o){let c=0;return this.readModule(s-3,0,s,o)&&(c|=1),c<<=1,this.readModule(s-2,0,s,o)&&(c|=1),c<<=1,this.readModule(s-1,0,s,o)&&(c|=1),c<<=1,this.readModule(0,o-4,s,o)&&(c|=1),c<<=1,this.readModule(0,o-3,s,o)&&(c|=1),c<<=1,this.readModule(0,o-2,s,o)&&(c|=1),c<<=1,this.readModule(0,o-1,s,o)&&(c|=1),c<<=1,this.readModule(1,o-1,s,o)&&(c|=1),c}readCorner3(s,o){let c=0;return this.readModule(s-1,0,s,o)&&(c|=1),c<<=1,this.readModule(s-1,o-1,s,o)&&(c|=1),c<<=1,this.readModule(0,o-3,s,o)&&(c|=1),c<<=1,this.readModule(0,o-2,s,o)&&(c|=1),c<<=1,this.readModule(0,o-1,s,o)&&(c|=1),c<<=1,this.readModule(1,o-3,s,o)&&(c|=1),c<<=1,this.readModule(1,o-2,s,o)&&(c|=1),c<<=1,this.readModule(1,o-1,s,o)&&(c|=1),c}readCorner4(s,o){let c=0;return this.readModule(s-3,0,s,o)&&(c|=1),c<<=1,this.readModule(s-2,0,s,o)&&(c|=1),c<<=1,this.readModule(s-1,0,s,o)&&(c|=1),c<<=1,this.readModule(0,o-2,s,o)&&(c|=1),c<<=1,this.readModule(0,o-1,s,o)&&(c|=1),c<<=1,this.readModule(1,o-1,s,o)&&(c|=1),c<<=1,this.readModule(2,o-1,s,o)&&(c|=1),c<<=1,this.readModule(3,o-1,s,o)&&(c|=1),c}extractDataRegion(s){const o=this.version.getSymbolSizeRows(),c=this.version.getSymbolSizeColumns();if(s.getHeight()!==o)throw new S("Dimension of bitMatrix must match the version size");const h=this.version.getDataRegionSizeRows(),g=this.version.getDataRegionSizeColumns(),l=o/h|0,d=c/g|0,x=l*h,w=d*g,_=new oe(w,x);for(let N=0;N<l;++N){const D=N*h;for(let U=0;U<d;++U){const G=U*g;for(let X=0;X<h;++X){const re=N*(h+2)+1+X,Q=D+X;for(let ge=0;ge<g;++ge){const de=U*(g+2)+1+ge;if(s.get(de,re)){const me=G+ge;_.set(me,Q)}}}}}return _}}class ko{constructor(s,o){this.numDataCodewords=s,this.codewords=o}static getDataBlocks(s,o){const c=o.getECBlocks();let h=0;const g=c.getECBlocks();for(let X of g)h+=X.getCount();const l=new Array(h);let d=0;for(let X of g)for(let re=0;re<X.getCount();re++){const Q=X.getDataCodewords(),ge=c.getECCodewords()+Q;l[d++]=new ko(Q,new Uint8Array(ge))}const w=l[0].codewords.length-c.getECCodewords(),_=w-1;let N=0;for(let X=0;X<_;X++)for(let re=0;re<d;re++)l[re].codewords[X]=s[N++];const D=o.getVersionNumber()===24,U=D?8:d;for(let X=0;X<U;X++)l[X].codewords[w-1]=s[N++];const G=l[0].codewords.length;for(let X=w;X<G;X++)for(let re=0;re<d;re++){const Q=D?(re+8)%d:re,ge=D&&Q>7?X-1:X;l[Q].codewords[ge]=s[N++]}if(N!==s.length)throw new S;return l}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Lr{constructor(s){this.bytes=s,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(s){if(s<1||s>32||s>this.available())throw new S(""+s);let o=0,c=this.bitOffset,h=this.byteOffset;const g=this.bytes;if(c>0){const l=8-c,d=s<l?s:l,x=l-d,w=255>>8-d<<x;o=(g[h]&w)>>x,s-=d,c+=d,c===8&&(c=0,h++)}if(s>0){for(;s>=8;)o=o<<8|g[h]&255,h++,s-=8;if(s>0){const l=8-s,d=255>>l<<l;o=o<<s|(g[h]&d)>>l,c+=s}}return this.bitOffset=c,this.byteOffset=h,o}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var wr;(function(q){q[q.PAD_ENCODE=0]="PAD_ENCODE",q[q.ASCII_ENCODE=1]="ASCII_ENCODE",q[q.C40_ENCODE=2]="C40_ENCODE",q[q.TEXT_ENCODE=3]="TEXT_ENCODE",q[q.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",q[q.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",q[q.BASE256_ENCODE=6]="BASE256_ENCODE"})(wr||(wr={}));class ps{static decode(s){const o=new Lr(s),c=new ue,h=new ue,g=new Array;let l=wr.ASCII_ENCODE;do if(l===wr.ASCII_ENCODE)l=this.decodeAsciiSegment(o,c,h);else{switch(l){case wr.C40_ENCODE:this.decodeC40Segment(o,c);break;case wr.TEXT_ENCODE:this.decodeTextSegment(o,c);break;case wr.ANSIX12_ENCODE:this.decodeAnsiX12Segment(o,c);break;case wr.EDIFACT_ENCODE:this.decodeEdifactSegment(o,c);break;case wr.BASE256_ENCODE:this.decodeBase256Segment(o,c,g);break;default:throw new Y}l=wr.ASCII_ENCODE}while(l!==wr.PAD_ENCODE&&o.available()>0);return h.length()>0&&c.append(h.toString()),new Ie(s,c.toString(),g.length===0?null:g,null)}static decodeAsciiSegment(s,o,c){let h=!1;do{let g=s.readBits(8);if(g===0)throw new Y;if(g<=128)return h&&(g+=128),o.append(String.fromCharCode(g-1)),wr.ASCII_ENCODE;if(g===129)return wr.PAD_ENCODE;if(g<=229){const l=g-130;l<10&&o.append("0"),o.append(""+l)}else switch(g){case 230:return wr.C40_ENCODE;case 231:return wr.BASE256_ENCODE;case 232:o.append("");break;case 233:case 234:break;case 235:h=!0;break;case 236:o.append("[)>05"),c.insert(0,"");break;case 237:o.append("[)>06"),c.insert(0,"");break;case 238:return wr.ANSIX12_ENCODE;case 239:return wr.TEXT_ENCODE;case 240:return wr.EDIFACT_ENCODE;case 241:break;default:if(g!==254||s.available()!==0)throw new Y;break}}while(s.available()>0);return wr.ASCII_ENCODE}static decodeC40Segment(s,o){let c=!1;const h=[];let g=0;do{if(s.available()===8)return;const l=s.readBits(8);if(l===254)return;this.parseTwoBytes(l,s.readBits(8),h);for(let d=0;d<3;d++){const x=h[d];switch(g){case 0:if(x<3)g=x+1;else if(x<this.C40_BASIC_SET_CHARS.length){const w=this.C40_BASIC_SET_CHARS[x];c?(o.append(String.fromCharCode(w.charCodeAt(0)+128)),c=!1):o.append(w)}else throw new Y;break;case 1:c?(o.append(String.fromCharCode(x+128)),c=!1):o.append(String.fromCharCode(x)),g=0;break;case 2:if(x<this.C40_SHIFT2_SET_CHARS.length){const w=this.C40_SHIFT2_SET_CHARS[x];c?(o.append(String.fromCharCode(w.charCodeAt(0)+128)),c=!1):o.append(w)}else switch(x){case 27:o.append("");break;case 30:c=!0;break;default:throw new Y}g=0;break;case 3:c?(o.append(String.fromCharCode(x+224)),c=!1):o.append(String.fromCharCode(x+96)),g=0;break;default:throw new Y}}}while(s.available()>0)}static decodeTextSegment(s,o){let c=!1,h=[],g=0;do{if(s.available()===8)return;const l=s.readBits(8);if(l===254)return;this.parseTwoBytes(l,s.readBits(8),h);for(let d=0;d<3;d++){const x=h[d];switch(g){case 0:if(x<3)g=x+1;else if(x<this.TEXT_BASIC_SET_CHARS.length){const w=this.TEXT_BASIC_SET_CHARS[x];c?(o.append(String.fromCharCode(w.charCodeAt(0)+128)),c=!1):o.append(w)}else throw new Y;break;case 1:c?(o.append(String.fromCharCode(x+128)),c=!1):o.append(String.fromCharCode(x)),g=0;break;case 2:if(x<this.TEXT_SHIFT2_SET_CHARS.length){const w=this.TEXT_SHIFT2_SET_CHARS[x];c?(o.append(String.fromCharCode(w.charCodeAt(0)+128)),c=!1):o.append(w)}else switch(x){case 27:o.append("");break;case 30:c=!0;break;default:throw new Y}g=0;break;case 3:if(x<this.TEXT_SHIFT3_SET_CHARS.length){const w=this.TEXT_SHIFT3_SET_CHARS[x];c?(o.append(String.fromCharCode(w.charCodeAt(0)+128)),c=!1):o.append(w),g=0}else throw new Y;break;default:throw new Y}}}while(s.available()>0)}static decodeAnsiX12Segment(s,o){const c=[];do{if(s.available()===8)return;const h=s.readBits(8);if(h===254)return;this.parseTwoBytes(h,s.readBits(8),c);for(let g=0;g<3;g++){const l=c[g];switch(l){case 0:o.append("\r");break;case 1:o.append("*");break;case 2:o.append(">");break;case 3:o.append(" ");break;default:if(l<14)o.append(String.fromCharCode(l+44));else if(l<40)o.append(String.fromCharCode(l+51));else throw new Y;break}}}while(s.available()>0)}static parseTwoBytes(s,o,c){let h=(s<<8)+o-1,g=Math.floor(h/1600);c[0]=g,h-=g*1600,g=Math.floor(h/40),c[1]=g,c[2]=h-g*40}static decodeEdifactSegment(s,o){do{if(s.available()<=16)return;for(let c=0;c<4;c++){let h=s.readBits(6);if(h===31){const g=8-s.getBitOffset();g!==8&&s.readBits(g);return}h&32||(h|=64),o.append(String.fromCharCode(h))}}while(s.available()>0)}static decodeBase256Segment(s,o,c){let h=1+s.getByteOffset();const g=this.unrandomize255State(s.readBits(8),h++);let l;if(g===0?l=s.available()/8|0:g<250?l=g:l=250*(g-249)+this.unrandomize255State(s.readBits(8),h++),l<0)throw new Y;const d=new Uint8Array(l);for(let x=0;x<l;x++){if(s.available()<8)throw new Y;d[x]=this.unrandomize255State(s.readBits(8),h++)}c.push(d);try{o.append(H.decode(d,K.ISO88591))}catch(x){throw new be("Platform does not support required encoding: "+x.message)}}static unrandomize255State(s,o){const c=149*o%255+1,h=s-c;return h>=0?h:h+256}}ps.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],ps.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],ps.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],ps.TEXT_SHIFT2_SET_CHARS=ps.C40_SHIFT2_SET_CHARS,ps.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Kn{constructor(){this.rsDecoder=new ln(Je.DATA_MATRIX_FIELD_256)}decode(s){const o=new Sn(s),c=o.getVersion(),h=o.readCodewords(),g=ko.getDataBlocks(h,c);let l=0;for(let w of g)l+=w.getNumDataCodewords();const d=new Uint8Array(l),x=g.length;for(let w=0;w<x;w++){const _=g[w],N=_.getCodewords(),D=_.getNumDataCodewords();this.correctErrors(N,D);for(let U=0;U<D;U++)d[U*x+w]=N[U]}return ps.decode(d)}correctErrors(s,o){const c=new Int32Array(s);try{this.rsDecoder.decode(c,s.length-o)}catch{throw new A}for(let h=0;h<o;h++)s[h]=c[h]}}class er{constructor(s){this.image=s,this.rectangleDetector=new bn(this.image)}detect(){const s=this.rectangleDetector.detect();let o=this.detectSolid1(s);if(o=this.detectSolid2(o),o[3]=this.correctTopRight(o),!o[3])throw new te;o=this.shiftToModuleCenter(o);const c=o[0],h=o[1],g=o[2],l=o[3];let d=this.transitionsBetween(c,l)+1,x=this.transitionsBetween(g,l)+1;(d&1)===1&&(d+=1),(x&1)===1&&(x+=1),4*d<7*x&&4*x<7*d&&(d=x=Math.max(d,x));let w=er.sampleGrid(this.image,c,h,g,l,d,x);return new cn(w,[c,h,g,l])}static shiftPoint(s,o,c){let h=(o.getX()-s.getX())/(c+1),g=(o.getY()-s.getY())/(c+1);return new Ke(s.getX()+h,s.getY()+g)}static moveAway(s,o,c){let h=s.getX(),g=s.getY();return h<o?h-=1:h+=1,g<c?g-=1:g+=1,new Ke(h,g)}detectSolid1(s){let o=s[0],c=s[1],h=s[3],g=s[2],l=this.transitionsBetween(o,c),d=this.transitionsBetween(c,h),x=this.transitionsBetween(h,g),w=this.transitionsBetween(g,o),_=l,N=[g,o,c,h];return _>d&&(_=d,N[0]=o,N[1]=c,N[2]=h,N[3]=g),_>x&&(_=x,N[0]=c,N[1]=h,N[2]=g,N[3]=o),_>w&&(N[0]=h,N[1]=g,N[2]=o,N[3]=c),N}detectSolid2(s){let o=s[0],c=s[1],h=s[2],g=s[3],l=this.transitionsBetween(o,g),d=er.shiftPoint(c,h,(l+1)*4),x=er.shiftPoint(h,c,(l+1)*4),w=this.transitionsBetween(d,o),_=this.transitionsBetween(x,g);return w<_?(s[0]=o,s[1]=c,s[2]=h,s[3]=g):(s[0]=c,s[1]=h,s[2]=g,s[3]=o),s}correctTopRight(s){let o=s[0],c=s[1],h=s[2],g=s[3],l=this.transitionsBetween(o,g),d=this.transitionsBetween(c,g),x=er.shiftPoint(o,c,(d+1)*4),w=er.shiftPoint(h,c,(l+1)*4);l=this.transitionsBetween(x,g),d=this.transitionsBetween(w,g);let _=new Ke(g.getX()+(h.getX()-c.getX())/(l+1),g.getY()+(h.getY()-c.getY())/(l+1)),N=new Ke(g.getX()+(o.getX()-c.getX())/(d+1),g.getY()+(o.getY()-c.getY())/(d+1));if(!this.isValid(_))return this.isValid(N)?N:null;if(!this.isValid(N))return _;let D=this.transitionsBetween(x,_)+this.transitionsBetween(w,_),U=this.transitionsBetween(x,N)+this.transitionsBetween(w,N);return D>U?_:N}shiftToModuleCenter(s){let o=s[0],c=s[1],h=s[2],g=s[3],l=this.transitionsBetween(o,g)+1,d=this.transitionsBetween(h,g)+1,x=er.shiftPoint(o,c,d*4),w=er.shiftPoint(h,c,l*4);l=this.transitionsBetween(x,g)+1,d=this.transitionsBetween(w,g)+1,(l&1)===1&&(l+=1),(d&1)===1&&(d+=1);let _=(o.getX()+c.getX()+h.getX()+g.getX())/4,N=(o.getY()+c.getY()+h.getY()+g.getY())/4;o=er.moveAway(o,_,N),c=er.moveAway(c,_,N),h=er.moveAway(h,_,N),g=er.moveAway(g,_,N);let D,U;return x=er.shiftPoint(o,c,d*4),x=er.shiftPoint(x,g,l*4),D=er.shiftPoint(c,o,d*4),D=er.shiftPoint(D,h,l*4),w=er.shiftPoint(h,g,d*4),w=er.shiftPoint(w,c,l*4),U=er.shiftPoint(g,h,d*4),U=er.shiftPoint(U,o,l*4),[x,D,w,U]}isValid(s){return s.getX()>=0&&s.getX()<this.image.getWidth()&&s.getY()>0&&s.getY()<this.image.getHeight()}static sampleGrid(s,o,c,h,g,l,d){return tn.getInstance().sampleGrid(s,l,d,.5,.5,l-.5,.5,l-.5,d-.5,.5,d-.5,o.getX(),o.getY(),g.getX(),g.getY(),h.getX(),h.getY(),c.getX(),c.getY())}transitionsBetween(s,o){let c=Math.trunc(s.getX()),h=Math.trunc(s.getY()),g=Math.trunc(o.getX()),l=Math.trunc(o.getY()),d=Math.abs(l-h)>Math.abs(g-c);if(d){let X=c;c=h,h=X,X=g,g=l,l=X}let x=Math.abs(g-c),w=Math.abs(l-h),_=-x/2,N=h<l?1:-1,D=c<g?1:-1,U=0,G=this.image.get(d?h:c,d?c:h);for(let X=c,re=h;X!==g;X+=D){let Q=this.image.get(d?re:X,d?X:re);if(Q!==G&&(U++,G=Q),_+=w,_>0){if(re===l)break;re+=N,_-=x}}return U}}class Ur{constructor(){this.decoder=new Kn}decode(s,o=null){let c,h;if(o!=null&&o.has(ce.PURE_BARCODE)){const w=Ur.extractPureBits(s.getBlackMatrix());c=this.decoder.decode(w),h=Ur.NO_POINTS}else{const w=new er(s.getBlackMatrix()).detect();c=this.decoder.decode(w.getBits()),h=w.getPoints()}const g=c.getRawBytes(),l=new fe(c.getText(),g,8*g.length,h,se.DATA_MATRIX,I.currentTimeMillis()),d=c.getByteSegments();d!=null&&l.putMetadata(Re.BYTE_SEGMENTS,d);const x=c.getECLevel();return x!=null&&l.putMetadata(Re.ERROR_CORRECTION_LEVEL,x),l}reset(){}static extractPureBits(s){const o=s.getTopLeftOnBit(),c=s.getBottomRightOnBit();if(o==null||c==null)throw new te;const h=this.moduleSize(o,s);let g=o[1];const l=c[1];let d=o[0];const w=(c[0]-d+1)/h,_=(l-g+1)/h;if(w<=0||_<=0)throw new te;const N=h/2;g+=N,d+=N;const D=new oe(w,_);for(let U=0;U<_;U++){const G=g+U*h;for(let X=0;X<w;X++)s.get(d+X*h,G)&&D.set(X,U)}return D}static moduleSize(s,o){const c=o.getWidth();let h=s[0];const g=s[1];for(;h<c&&o.get(h,g);)h++;if(h===c)throw new te;const l=h-s[0];if(l===0)throw new te;return l}}Ur.NO_POINTS=[];class ms extends ae{constructor(s=500){super(new Ur,s)}}var hr;(function(q){q[q.L=0]="L",q[q.M=1]="M",q[q.Q=2]="Q",q[q.H=3]="H"})(hr||(hr={}));class Qn{constructor(s,o,c){this.value=s,this.stringValue=o,this.bits=c,Qn.FOR_BITS.set(c,this),Qn.FOR_VALUE.set(s,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(s){switch(s){case"L":return Qn.L;case"M":return Qn.M;case"Q":return Qn.Q;case"H":return Qn.H;default:throw new y(s+"not available")}}toString(){return this.stringValue}equals(s){if(!(s instanceof Qn))return!1;const o=s;return this.value===o.value}static forBits(s){if(s<0||s>=Qn.FOR_BITS.size)throw new S;return Qn.FOR_BITS.get(s)}}Qn.FOR_BITS=new Map,Qn.FOR_VALUE=new Map,Qn.L=new Qn(hr.L,"L",1),Qn.M=new Qn(hr.M,"M",0),Qn.Q=new Qn(hr.Q,"Q",3),Qn.H=new Qn(hr.H,"H",2);class Vr{constructor(s){this.errorCorrectionLevel=Qn.forBits(s>>3&3),this.dataMask=s&7}static numBitsDiffering(s,o){return L.bitCount(s^o)}static decodeFormatInformation(s,o){const c=Vr.doDecodeFormatInformation(s,o);return c!==null?c:Vr.doDecodeFormatInformation(s^Vr.FORMAT_INFO_MASK_QR,o^Vr.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(s,o){let c=Number.MAX_SAFE_INTEGER,h=0;for(const g of Vr.FORMAT_INFO_DECODE_LOOKUP){const l=g[0];if(l===s||l===o)return new Vr(g[1]);let d=Vr.numBitsDiffering(s,l);d<c&&(h=g[1],c=d),s!==o&&(d=Vr.numBitsDiffering(o,l),d<c&&(h=g[1],c=d))}return c<=3?new Vr(h):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(s){if(!(s instanceof Vr))return!1;const o=s;return this.errorCorrectionLevel===o.errorCorrectionLevel&&this.dataMask===o.dataMask}}Vr.FORMAT_INFO_MASK_QR=21522,Vr.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class Ue{constructor(s,...o){this.ecCodewordsPerBlock=s,this.ecBlocks=o}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let s=0;const o=this.ecBlocks;for(const c of o)s+=c.getCount();return s}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class xe{constructor(s,o){this.count=s,this.dataCodewords=o}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Dt{constructor(s,o,...c){this.versionNumber=s,this.alignmentPatternCenters=o,this.ecBlocks=c;let h=0;const g=c[0].getECCodewordsPerBlock(),l=c[0].getECBlocks();for(const d of l)h+=d.getCount()*(d.getDataCodewords()+g);this.totalCodewords=h}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(s){return this.ecBlocks[s.getValue()]}static getProvisionalVersionForDimension(s){if(s%4!==1)throw new Y;try{return this.getVersionForNumber((s-17)/4)}catch{throw new Y}}static getVersionForNumber(s){if(s<1||s>40)throw new S;return Dt.VERSIONS[s-1]}static decodeVersionInformation(s){let o=Number.MAX_SAFE_INTEGER,c=0;for(let h=0;h<Dt.VERSION_DECODE_INFO.length;h++){const g=Dt.VERSION_DECODE_INFO[h];if(g===s)return Dt.getVersionForNumber(h+7);const l=Vr.numBitsDiffering(s,g);l<o&&(c=h+7,o=l)}return o<=3?Dt.getVersionForNumber(c):null}buildFunctionPattern(){const s=this.getDimensionForVersion(),o=new oe(s);o.setRegion(0,0,9,9),o.setRegion(s-8,0,8,9),o.setRegion(0,s-8,9,8);const c=this.alignmentPatternCenters.length;for(let h=0;h<c;h++){const g=this.alignmentPatternCenters[h]-2;for(let l=0;l<c;l++)h===0&&(l===0||l===c-1)||h===c-1&&l===0||o.setRegion(this.alignmentPatternCenters[l]-2,g,5,5)}return o.setRegion(6,9,1,s-17),o.setRegion(9,6,s-17,1),this.versionNumber>6&&(o.setRegion(s-11,0,3,6),o.setRegion(0,s-11,6,3)),o}toString(){return""+this.versionNumber}}Dt.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Dt.VERSIONS=[new Dt(1,new Int32Array(0),new Ue(7,new xe(1,19)),new Ue(10,new xe(1,16)),new Ue(13,new xe(1,13)),new Ue(17,new xe(1,9))),new Dt(2,Int32Array.from([6,18]),new Ue(10,new xe(1,34)),new Ue(16,new xe(1,28)),new Ue(22,new xe(1,22)),new Ue(28,new xe(1,16))),new Dt(3,Int32Array.from([6,22]),new Ue(15,new xe(1,55)),new Ue(26,new xe(1,44)),new Ue(18,new xe(2,17)),new Ue(22,new xe(2,13))),new Dt(4,Int32Array.from([6,26]),new Ue(20,new xe(1,80)),new Ue(18,new xe(2,32)),new Ue(26,new xe(2,24)),new Ue(16,new xe(4,9))),new Dt(5,Int32Array.from([6,30]),new Ue(26,new xe(1,108)),new Ue(24,new xe(2,43)),new Ue(18,new xe(2,15),new xe(2,16)),new Ue(22,new xe(2,11),new xe(2,12))),new Dt(6,Int32Array.from([6,34]),new Ue(18,new xe(2,68)),new Ue(16,new xe(4,27)),new Ue(24,new xe(4,19)),new Ue(28,new xe(4,15))),new Dt(7,Int32Array.from([6,22,38]),new Ue(20,new xe(2,78)),new Ue(18,new xe(4,31)),new Ue(18,new xe(2,14),new xe(4,15)),new Ue(26,new xe(4,13),new xe(1,14))),new Dt(8,Int32Array.from([6,24,42]),new Ue(24,new xe(2,97)),new Ue(22,new xe(2,38),new xe(2,39)),new Ue(22,new xe(4,18),new xe(2,19)),new Ue(26,new xe(4,14),new xe(2,15))),new Dt(9,Int32Array.from([6,26,46]),new Ue(30,new xe(2,116)),new Ue(22,new xe(3,36),new xe(2,37)),new Ue(20,new xe(4,16),new xe(4,17)),new Ue(24,new xe(4,12),new xe(4,13))),new Dt(10,Int32Array.from([6,28,50]),new Ue(18,new xe(2,68),new xe(2,69)),new Ue(26,new xe(4,43),new xe(1,44)),new Ue(24,new xe(6,19),new xe(2,20)),new Ue(28,new xe(6,15),new xe(2,16))),new Dt(11,Int32Array.from([6,30,54]),new Ue(20,new xe(4,81)),new Ue(30,new xe(1,50),new xe(4,51)),new Ue(28,new xe(4,22),new xe(4,23)),new Ue(24,new xe(3,12),new xe(8,13))),new Dt(12,Int32Array.from([6,32,58]),new Ue(24,new xe(2,92),new xe(2,93)),new Ue(22,new xe(6,36),new xe(2,37)),new Ue(26,new xe(4,20),new xe(6,21)),new Ue(28,new xe(7,14),new xe(4,15))),new Dt(13,Int32Array.from([6,34,62]),new Ue(26,new xe(4,107)),new Ue(22,new xe(8,37),new xe(1,38)),new Ue(24,new xe(8,20),new xe(4,21)),new Ue(22,new xe(12,11),new xe(4,12))),new Dt(14,Int32Array.from([6,26,46,66]),new Ue(30,new xe(3,115),new xe(1,116)),new Ue(24,new xe(4,40),new xe(5,41)),new Ue(20,new xe(11,16),new xe(5,17)),new Ue(24,new xe(11,12),new xe(5,13))),new Dt(15,Int32Array.from([6,26,48,70]),new Ue(22,new xe(5,87),new xe(1,88)),new Ue(24,new xe(5,41),new xe(5,42)),new Ue(30,new xe(5,24),new xe(7,25)),new Ue(24,new xe(11,12),new xe(7,13))),new Dt(16,Int32Array.from([6,26,50,74]),new Ue(24,new xe(5,98),new xe(1,99)),new Ue(28,new xe(7,45),new xe(3,46)),new Ue(24,new xe(15,19),new xe(2,20)),new Ue(30,new xe(3,15),new xe(13,16))),new Dt(17,Int32Array.from([6,30,54,78]),new Ue(28,new xe(1,107),new xe(5,108)),new Ue(28,new xe(10,46),new xe(1,47)),new Ue(28,new xe(1,22),new xe(15,23)),new Ue(28,new xe(2,14),new xe(17,15))),new Dt(18,Int32Array.from([6,30,56,82]),new Ue(30,new xe(5,120),new xe(1,121)),new Ue(26,new xe(9,43),new xe(4,44)),new Ue(28,new xe(17,22),new xe(1,23)),new Ue(28,new xe(2,14),new xe(19,15))),new Dt(19,Int32Array.from([6,30,58,86]),new Ue(28,new xe(3,113),new xe(4,114)),new Ue(26,new xe(3,44),new xe(11,45)),new Ue(26,new xe(17,21),new xe(4,22)),new Ue(26,new xe(9,13),new xe(16,14))),new Dt(20,Int32Array.from([6,34,62,90]),new Ue(28,new xe(3,107),new xe(5,108)),new Ue(26,new xe(3,41),new xe(13,42)),new Ue(30,new xe(15,24),new xe(5,25)),new Ue(28,new xe(15,15),new xe(10,16))),new Dt(21,Int32Array.from([6,28,50,72,94]),new Ue(28,new xe(4,116),new xe(4,117)),new Ue(26,new xe(17,42)),new Ue(28,new xe(17,22),new xe(6,23)),new Ue(30,new xe(19,16),new xe(6,17))),new Dt(22,Int32Array.from([6,26,50,74,98]),new Ue(28,new xe(2,111),new xe(7,112)),new Ue(28,new xe(17,46)),new Ue(30,new xe(7,24),new xe(16,25)),new Ue(24,new xe(34,13))),new Dt(23,Int32Array.from([6,30,54,78,102]),new Ue(30,new xe(4,121),new xe(5,122)),new Ue(28,new xe(4,47),new xe(14,48)),new Ue(30,new xe(11,24),new xe(14,25)),new Ue(30,new xe(16,15),new xe(14,16))),new Dt(24,Int32Array.from([6,28,54,80,106]),new Ue(30,new xe(6,117),new xe(4,118)),new Ue(28,new xe(6,45),new xe(14,46)),new Ue(30,new xe(11,24),new xe(16,25)),new Ue(30,new xe(30,16),new xe(2,17))),new Dt(25,Int32Array.from([6,32,58,84,110]),new Ue(26,new xe(8,106),new xe(4,107)),new Ue(28,new xe(8,47),new xe(13,48)),new Ue(30,new xe(7,24),new xe(22,25)),new Ue(30,new xe(22,15),new xe(13,16))),new Dt(26,Int32Array.from([6,30,58,86,114]),new Ue(28,new xe(10,114),new xe(2,115)),new Ue(28,new xe(19,46),new xe(4,47)),new Ue(28,new xe(28,22),new xe(6,23)),new Ue(30,new xe(33,16),new xe(4,17))),new Dt(27,Int32Array.from([6,34,62,90,118]),new Ue(30,new xe(8,122),new xe(4,123)),new Ue(28,new xe(22,45),new xe(3,46)),new Ue(30,new xe(8,23),new xe(26,24)),new Ue(30,new xe(12,15),new xe(28,16))),new Dt(28,Int32Array.from([6,26,50,74,98,122]),new Ue(30,new xe(3,117),new xe(10,118)),new Ue(28,new xe(3,45),new xe(23,46)),new Ue(30,new xe(4,24),new xe(31,25)),new Ue(30,new xe(11,15),new xe(31,16))),new Dt(29,Int32Array.from([6,30,54,78,102,126]),new Ue(30,new xe(7,116),new xe(7,117)),new Ue(28,new xe(21,45),new xe(7,46)),new Ue(30,new xe(1,23),new xe(37,24)),new Ue(30,new xe(19,15),new xe(26,16))),new Dt(30,Int32Array.from([6,26,52,78,104,130]),new Ue(30,new xe(5,115),new xe(10,116)),new Ue(28,new xe(19,47),new xe(10,48)),new Ue(30,new xe(15,24),new xe(25,25)),new Ue(30,new xe(23,15),new xe(25,16))),new Dt(31,Int32Array.from([6,30,56,82,108,134]),new Ue(30,new xe(13,115),new xe(3,116)),new Ue(28,new xe(2,46),new xe(29,47)),new Ue(30,new xe(42,24),new xe(1,25)),new Ue(30,new xe(23,15),new xe(28,16))),new Dt(32,Int32Array.from([6,34,60,86,112,138]),new Ue(30,new xe(17,115)),new Ue(28,new xe(10,46),new xe(23,47)),new Ue(30,new xe(10,24),new xe(35,25)),new Ue(30,new xe(19,15),new xe(35,16))),new Dt(33,Int32Array.from([6,30,58,86,114,142]),new Ue(30,new xe(17,115),new xe(1,116)),new Ue(28,new xe(14,46),new xe(21,47)),new Ue(30,new xe(29,24),new xe(19,25)),new Ue(30,new xe(11,15),new xe(46,16))),new Dt(34,Int32Array.from([6,34,62,90,118,146]),new Ue(30,new xe(13,115),new xe(6,116)),new Ue(28,new xe(14,46),new xe(23,47)),new Ue(30,new xe(44,24),new xe(7,25)),new Ue(30,new xe(59,16),new xe(1,17))),new Dt(35,Int32Array.from([6,30,54,78,102,126,150]),new Ue(30,new xe(12,121),new xe(7,122)),new Ue(28,new xe(12,47),new xe(26,48)),new Ue(30,new xe(39,24),new xe(14,25)),new Ue(30,new xe(22,15),new xe(41,16))),new Dt(36,Int32Array.from([6,24,50,76,102,128,154]),new Ue(30,new xe(6,121),new xe(14,122)),new Ue(28,new xe(6,47),new xe(34,48)),new Ue(30,new xe(46,24),new xe(10,25)),new Ue(30,new xe(2,15),new xe(64,16))),new Dt(37,Int32Array.from([6,28,54,80,106,132,158]),new Ue(30,new xe(17,122),new xe(4,123)),new Ue(28,new xe(29,46),new xe(14,47)),new Ue(30,new xe(49,24),new xe(10,25)),new Ue(30,new xe(24,15),new xe(46,16))),new Dt(38,Int32Array.from([6,32,58,84,110,136,162]),new Ue(30,new xe(4,122),new xe(18,123)),new Ue(28,new xe(13,46),new xe(32,47)),new Ue(30,new xe(48,24),new xe(14,25)),new Ue(30,new xe(42,15),new xe(32,16))),new Dt(39,Int32Array.from([6,26,54,82,110,138,166]),new Ue(30,new xe(20,117),new xe(4,118)),new Ue(28,new xe(40,47),new xe(7,48)),new Ue(30,new xe(43,24),new xe(22,25)),new Ue(30,new xe(10,15),new xe(67,16))),new Dt(40,Int32Array.from([6,30,58,86,114,142,170]),new Ue(30,new xe(19,118),new xe(6,119)),new Ue(28,new xe(18,47),new xe(31,48)),new Ue(30,new xe(34,24),new xe(34,25)),new Ue(30,new xe(20,15),new xe(61,16)))];var br;(function(q){q[q.DATA_MASK_000=0]="DATA_MASK_000",q[q.DATA_MASK_001=1]="DATA_MASK_001",q[q.DATA_MASK_010=2]="DATA_MASK_010",q[q.DATA_MASK_011=3]="DATA_MASK_011",q[q.DATA_MASK_100=4]="DATA_MASK_100",q[q.DATA_MASK_101=5]="DATA_MASK_101",q[q.DATA_MASK_110=6]="DATA_MASK_110",q[q.DATA_MASK_111=7]="DATA_MASK_111"})(br||(br={}));class Ii{constructor(s,o){this.value=s,this.isMasked=o}unmaskBitMatrix(s,o){for(let c=0;c<o;c++)for(let h=0;h<o;h++)this.isMasked(c,h)&&s.flip(h,c)}}Ii.values=new Map([[br.DATA_MASK_000,new Ii(br.DATA_MASK_000,(q,s)=>(q+s&1)===0)],[br.DATA_MASK_001,new Ii(br.DATA_MASK_001,(q,s)=>(q&1)===0)],[br.DATA_MASK_010,new Ii(br.DATA_MASK_010,(q,s)=>s%3===0)],[br.DATA_MASK_011,new Ii(br.DATA_MASK_011,(q,s)=>(q+s)%3===0)],[br.DATA_MASK_100,new Ii(br.DATA_MASK_100,(q,s)=>(Math.floor(q/2)+Math.floor(s/3)&1)===0)],[br.DATA_MASK_101,new Ii(br.DATA_MASK_101,(q,s)=>q*s%6===0)],[br.DATA_MASK_110,new Ii(br.DATA_MASK_110,(q,s)=>q*s%6<3)],[br.DATA_MASK_111,new Ii(br.DATA_MASK_111,(q,s)=>(q+s+q*s%3&1)===0)]]);class Fa{constructor(s){const o=s.getHeight();if(o<21||(o&3)!==1)throw new Y;this.bitMatrix=s}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let s=0;for(let g=0;g<6;g++)s=this.copyBit(g,8,s);s=this.copyBit(7,8,s),s=this.copyBit(8,8,s),s=this.copyBit(8,7,s);for(let g=5;g>=0;g--)s=this.copyBit(8,g,s);const o=this.bitMatrix.getHeight();let c=0;const h=o-7;for(let g=o-1;g>=h;g--)c=this.copyBit(8,g,c);for(let g=o-8;g<o;g++)c=this.copyBit(g,8,c);if(this.parsedFormatInfo=Vr.decodeFormatInformation(s,c),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new Y}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const s=this.bitMatrix.getHeight(),o=Math.floor((s-17)/4);if(o<=6)return Dt.getVersionForNumber(o);let c=0;const h=s-11;for(let l=5;l>=0;l--)for(let d=s-9;d>=h;d--)c=this.copyBit(d,l,c);let g=Dt.decodeVersionInformation(c);if(g!==null&&g.getDimensionForVersion()===s)return this.parsedVersion=g,g;c=0;for(let l=5;l>=0;l--)for(let d=s-9;d>=h;d--)c=this.copyBit(l,d,c);if(g=Dt.decodeVersionInformation(c),g!==null&&g.getDimensionForVersion()===s)return this.parsedVersion=g,g;throw new Y}copyBit(s,o,c){return(this.isMirror?this.bitMatrix.get(o,s):this.bitMatrix.get(s,o))?c<<1|1:c<<1}readCodewords(){const s=this.readFormatInformation(),o=this.readVersion(),c=Ii.values.get(s.getDataMask()),h=this.bitMatrix.getHeight();c.unmaskBitMatrix(this.bitMatrix,h);const g=o.buildFunctionPattern();let l=!0;const d=new Uint8Array(o.getTotalCodewords());let x=0,w=0,_=0;for(let N=h-1;N>0;N-=2){N===6&&N--;for(let D=0;D<h;D++){const U=l?h-1-D:D;for(let G=0;G<2;G++)g.get(N-G,U)||(_++,w<<=1,this.bitMatrix.get(N-G,U)&&(w|=1),_===8&&(d[x++]=w,_=0,w=0))}l=!l}if(x!==o.getTotalCodewords())throw new Y;return d}remask(){if(this.parsedFormatInfo===null)return;const s=Ii.values[this.parsedFormatInfo.getDataMask()],o=this.bitMatrix.getHeight();s.unmaskBitMatrix(this.bitMatrix,o)}setMirror(s){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=s}mirror(){const s=this.bitMatrix;for(let o=0,c=s.getWidth();o<c;o++)for(let h=o+1,g=s.getHeight();h<g;h++)s.get(o,h)!==s.get(h,o)&&(s.flip(h,o),s.flip(o,h))}}class Rn{constructor(s,o){this.numDataCodewords=s,this.codewords=o}static getDataBlocks(s,o,c){if(s.length!==o.getTotalCodewords())throw new S;const h=o.getECBlocksForLevel(c);let g=0;const l=h.getECBlocks();for(const G of l)g+=G.getCount();const d=new Array(g);let x=0;for(const G of l)for(let X=0;X<G.getCount();X++){const re=G.getDataCodewords(),Q=h.getECCodewordsPerBlock()+re;d[x++]=new Rn(re,new Uint8Array(Q))}const w=d[0].codewords.length;let _=d.length-1;for(;_>=0&&d[_].codewords.length!==w;)_--;_++;const N=w-h.getECCodewordsPerBlock();let D=0;for(let G=0;G<N;G++)for(let X=0;X<x;X++)d[X].codewords[G]=s[D++];for(let G=_;G<x;G++)d[G].codewords[N]=s[D++];const U=d[0].codewords.length;for(let G=N;G<U;G++)for(let X=0;X<x;X++){const re=X<_?G:G+1;d[X].codewords[re]=s[D++]}return d}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Di;(function(q){q[q.TERMINATOR=0]="TERMINATOR",q[q.NUMERIC=1]="NUMERIC",q[q.ALPHANUMERIC=2]="ALPHANUMERIC",q[q.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",q[q.BYTE=4]="BYTE",q[q.ECI=5]="ECI",q[q.KANJI=6]="KANJI",q[q.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",q[q.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",q[q.HANZI=9]="HANZI"})(Di||(Di={}));class Xt{constructor(s,o,c,h){this.value=s,this.stringValue=o,this.characterCountBitsForVersions=c,this.bits=h,Xt.FOR_BITS.set(h,this),Xt.FOR_VALUE.set(s,this)}static forBits(s){const o=Xt.FOR_BITS.get(s);if(o===void 0)throw new S;return o}getCharacterCountBits(s){const o=s.getVersionNumber();let c;return o<=9?c=0:o<=26?c=1:c=2,this.characterCountBitsForVersions[c]}getValue(){return this.value}getBits(){return this.bits}equals(s){if(!(s instanceof Xt))return!1;const o=s;return this.value===o.value}toString(){return this.stringValue}}Xt.FOR_BITS=new Map,Xt.FOR_VALUE=new Map,Xt.TERMINATOR=new Xt(Di.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Xt.NUMERIC=new Xt(Di.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Xt.ALPHANUMERIC=new Xt(Di.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Xt.STRUCTURED_APPEND=new Xt(Di.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Xt.BYTE=new Xt(Di.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Xt.ECI=new Xt(Di.ECI,"ECI",Int32Array.from([0,0,0]),7),Xt.KANJI=new Xt(Di.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Xt.FNC1_FIRST_POSITION=new Xt(Di.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Xt.FNC1_SECOND_POSITION=new Xt(Di.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Xt.HANZI=new Xt(Di.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Ar{static decode(s,o,c,h){const g=new Lr(s);let l=new ue;const d=new Array;let x=-1,w=-1;try{let _=null,N=!1,D;do{if(g.available()<4)D=Xt.TERMINATOR;else{const U=g.readBits(4);D=Xt.forBits(U)}switch(D){case Xt.TERMINATOR:break;case Xt.FNC1_FIRST_POSITION:case Xt.FNC1_SECOND_POSITION:N=!0;break;case Xt.STRUCTURED_APPEND:if(g.available()<16)throw new Y;x=g.readBits(8),w=g.readBits(8);break;case Xt.ECI:const U=Ar.parseECIValue(g);if(_=z.getCharacterSetECIByValue(U),_===null)throw new Y;break;case Xt.HANZI:const G=g.readBits(4),X=g.readBits(D.getCharacterCountBits(o));G===Ar.GB2312_SUBSET&&Ar.decodeHanziSegment(g,l,X);break;default:const re=g.readBits(D.getCharacterCountBits(o));switch(D){case Xt.NUMERIC:Ar.decodeNumericSegment(g,l,re);break;case Xt.ALPHANUMERIC:Ar.decodeAlphanumericSegment(g,l,re,N);break;case Xt.BYTE:Ar.decodeByteSegment(g,l,re,_,d,h);break;case Xt.KANJI:Ar.decodeKanjiSegment(g,l,re);break;default:throw new Y}break}}while(D!==Xt.TERMINATOR)}catch{throw new Y}return new Ie(s,l.toString(),d.length===0?null:d,c===null?null:c.toString(),x,w)}static decodeHanziSegment(s,o,c){if(c*13>s.available())throw new Y;const h=new Uint8Array(2*c);let g=0;for(;c>0;){const l=s.readBits(13);let d=l/96<<8&4294967295|l%96;d<959?d+=41377:d+=42657,h[g]=d>>8&255,h[g+1]=d&255,g+=2,c--}try{o.append(H.decode(h,K.GB2312))}catch(l){throw new Y(l)}}static decodeKanjiSegment(s,o,c){if(c*13>s.available())throw new Y;const h=new Uint8Array(2*c);let g=0;for(;c>0;){const l=s.readBits(13);let d=l/192<<8&4294967295|l%192;d<7936?d+=33088:d+=49472,h[g]=d>>8,h[g+1]=d,g+=2,c--}try{o.append(H.decode(h,K.SHIFT_JIS))}catch(l){throw new Y(l)}}static decodeByteSegment(s,o,c,h,g,l){if(8*c>s.available())throw new Y;const d=new Uint8Array(c);for(let w=0;w<c;w++)d[w]=s.readBits(8);let x;h===null?x=K.guessEncoding(d,l):x=h.getName();try{o.append(H.decode(d,x))}catch(w){throw new Y(w)}g.push(d)}static toAlphaNumericChar(s){if(s>=Ar.ALPHANUMERIC_CHARS.length)throw new Y;return Ar.ALPHANUMERIC_CHARS[s]}static decodeAlphanumericSegment(s,o,c,h){const g=o.length();for(;c>1;){if(s.available()<11)throw new Y;const l=s.readBits(11);o.append(Ar.toAlphaNumericChar(Math.floor(l/45))),o.append(Ar.toAlphaNumericChar(l%45)),c-=2}if(c===1){if(s.available()<6)throw new Y;o.append(Ar.toAlphaNumericChar(s.readBits(6)))}if(h)for(let l=g;l<o.length();l++)o.charAt(l)==="%"&&(l<o.length()-1&&o.charAt(l+1)==="%"?o.deleteCharAt(l+1):o.setCharAt(l,""))}static decodeNumericSegment(s,o,c){for(;c>=3;){if(s.available()<10)throw new Y;const h=s.readBits(10);if(h>=1e3)throw new Y;o.append(Ar.toAlphaNumericChar(Math.floor(h/100))),o.append(Ar.toAlphaNumericChar(Math.floor(h/10)%10)),o.append(Ar.toAlphaNumericChar(h%10)),c-=3}if(c===2){if(s.available()<7)throw new Y;const h=s.readBits(7);if(h>=100)throw new Y;o.append(Ar.toAlphaNumericChar(Math.floor(h/10))),o.append(Ar.toAlphaNumericChar(h%10))}else if(c===1){if(s.available()<4)throw new Y;const h=s.readBits(4);if(h>=10)throw new Y;o.append(Ar.toAlphaNumericChar(h))}}static parseECIValue(s){const o=s.readBits(8);if(!(o&128))return o&127;if((o&192)===128){const c=s.readBits(8);return(o&63)<<8&4294967295|c}if((o&224)===192){const c=s.readBits(16);return(o&31)<<16&4294967295|c}throw new Y}}Ar.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Ar.GB2312_SUBSET=1;class ui{constructor(s){this.mirrored=s}isMirrored(){return this.mirrored}applyMirroredCorrection(s){if(!this.mirrored||s===null||s.length<3)return;const o=s[0];s[0]=s[2],s[2]=o}}class gs{constructor(){this.rsDecoder=new ln(Je.QR_CODE_FIELD_256)}decodeBooleanArray(s,o){return this.decodeBitMatrix(oe.parseFromBooleanArray(s),o)}decodeBitMatrix(s,o){const c=new Fa(s);let h=null;try{return this.decodeBitMatrixParser(c,o)}catch(g){h=g}try{c.remask(),c.setMirror(!0),c.readVersion(),c.readFormatInformation(),c.mirror();const g=this.decodeBitMatrixParser(c,o);return g.setOther(new ui(!0)),g}catch(g){throw h!==null?h:g}}decodeBitMatrixParser(s,o){const c=s.readVersion(),h=s.readFormatInformation().getErrorCorrectionLevel(),g=s.readCodewords(),l=Rn.getDataBlocks(g,c,h);let d=0;for(const _ of l)d+=_.getNumDataCodewords();const x=new Uint8Array(d);let w=0;for(const _ of l){const N=_.getCodewords(),D=_.getNumDataCodewords();this.correctErrors(N,D);for(let U=0;U<D;U++)x[w++]=N[U]}return Ar.decode(x,c,h,o)}correctErrors(s,o){const c=new Int32Array(s);try{this.rsDecoder.decode(c,s.length-o)}catch{throw new A}for(let h=0;h<o;h++)s[h]=c[h]}}class Ji extends Ke{constructor(s,o,c){super(s,o),this.estimatedModuleSize=c}aboutEquals(s,o,c){if(Math.abs(o-this.getY())<=s&&Math.abs(c-this.getX())<=s){const h=Math.abs(s-this.estimatedModuleSize);return h<=1||h<=this.estimatedModuleSize}return!1}combineEstimate(s,o,c){const h=(this.getX()+o)/2,g=(this.getY()+s)/2,l=(this.estimatedModuleSize+c)/2;return new Ji(h,g,l)}}class es{constructor(s,o,c,h,g,l,d){this.image=s,this.startX=o,this.startY=c,this.width=h,this.height=g,this.moduleSize=l,this.resultPointCallback=d,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const s=this.startX,o=this.height,c=this.width,h=s+c,g=this.startY+o/2,l=new Int32Array(3),d=this.image;for(let x=0;x<o;x++){const w=g+(x&1?-Math.floor((x+1)/2):Math.floor((x+1)/2));l[0]=0,l[1]=0,l[2]=0;let _=s;for(;_<h&&!d.get(_,w);)_++;let N=0;for(;_<h;){if(d.get(_,w))if(N===1)l[1]++;else if(N===2){if(this.foundPatternCross(l)){const D=this.handlePossibleCenter(l,w,_);if(D!==null)return D}l[0]=l[2],l[1]=1,l[2]=0,N=1}else l[++N]++;else N===1&&N++,l[N]++;_++}if(this.foundPatternCross(l)){const D=this.handlePossibleCenter(l,w,h);if(D!==null)return D}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new te}static centerFromEnd(s,o){return o-s[2]-s[1]/2}foundPatternCross(s){const o=this.moduleSize,c=o/2;for(let h=0;h<3;h++)if(Math.abs(o-s[h])>=c)return!1;return!0}crossCheckVertical(s,o,c,h){const g=this.image,l=g.getHeight(),d=this.crossCheckStateCount;d[0]=0,d[1]=0,d[2]=0;let x=s;for(;x>=0&&g.get(o,x)&&d[1]<=c;)d[1]++,x--;if(x<0||d[1]>c)return NaN;for(;x>=0&&!g.get(o,x)&&d[0]<=c;)d[0]++,x--;if(d[0]>c)return NaN;for(x=s+1;x<l&&g.get(o,x)&&d[1]<=c;)d[1]++,x++;if(x===l||d[1]>c)return NaN;for(;x<l&&!g.get(o,x)&&d[2]<=c;)d[2]++,x++;if(d[2]>c)return NaN;const w=d[0]+d[1]+d[2];return 5*Math.abs(w-h)>=2*h?NaN:this.foundPatternCross(d)?es.centerFromEnd(d,x):NaN}handlePossibleCenter(s,o,c){const h=s[0]+s[1]+s[2],g=es.centerFromEnd(s,c),l=this.crossCheckVertical(o,g,2*s[1],h);if(!isNaN(l)){const d=(s[0]+s[1]+s[2])/3;for(const w of this.possibleCenters)if(w.aboutEquals(d,l,g))return w.combineEstimate(l,g,d);const x=new Ji(g,l,d);this.possibleCenters.push(x),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(x)}return null}}class Qs extends Ke{constructor(s,o,c,h){super(s,o),this.estimatedModuleSize=c,this.count=h,h===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(s,o,c){if(Math.abs(o-this.getY())<=s&&Math.abs(c-this.getX())<=s){const h=Math.abs(s-this.estimatedModuleSize);return h<=1||h<=this.estimatedModuleSize}return!1}combineEstimate(s,o,c){const h=this.count+1,g=(this.count*this.getX()+o)/h,l=(this.count*this.getY()+s)/h,d=(this.count*this.estimatedModuleSize+c)/h;return new Qs(g,l,d,h)}}class Po{constructor(s){this.bottomLeft=s[0],this.topLeft=s[1],this.topRight=s[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class wt{constructor(s,o){this.image=s,this.resultPointCallback=o,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=o}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(s){const o=s!=null&&s.get(ce.TRY_HARDER)!==void 0,c=s!=null&&s.get(ce.PURE_BARCODE)!==void 0,h=this.image,g=h.getHeight(),l=h.getWidth();let d=Math.floor(3*g/(4*wt.MAX_MODULES));(d<wt.MIN_SKIP||o)&&(d=wt.MIN_SKIP);let x=!1;const w=new Int32Array(5);for(let N=d-1;N<g&&!x;N+=d){w[0]=0,w[1]=0,w[2]=0,w[3]=0,w[4]=0;let D=0;for(let U=0;U<l;U++)if(h.get(U,N))(D&1)===1&&D++,w[D]++;else if(D&1)w[D]++;else if(D===4)if(wt.foundPatternCross(w)){if(this.handlePossibleCenter(w,N,U,c)===!0)if(d=2,this.hasSkipped===!0)x=this.haveMultiplyConfirmedCenters();else{const X=this.findRowSkip();X>w[2]&&(N+=X-w[2]-d,U=l-1)}else{w[0]=w[2],w[1]=w[3],w[2]=w[4],w[3]=1,w[4]=0,D=3;continue}D=0,w[0]=0,w[1]=0,w[2]=0,w[3]=0,w[4]=0}else w[0]=w[2],w[1]=w[3],w[2]=w[4],w[3]=1,w[4]=0,D=3;else w[++D]++;wt.foundPatternCross(w)&&this.handlePossibleCenter(w,N,l,c)===!0&&(d=w[0],this.hasSkipped&&(x=this.haveMultiplyConfirmedCenters()))}const _=this.selectBestPatterns();return Ke.orderBestPatterns(_),new Po(_)}static centerFromEnd(s,o){return o-s[4]-s[3]-s[2]/2}static foundPatternCross(s){let o=0;for(let g=0;g<5;g++){const l=s[g];if(l===0)return!1;o+=l}if(o<7)return!1;const c=o/7,h=c/2;return Math.abs(c-s[0])<h&&Math.abs(c-s[1])<h&&Math.abs(3*c-s[2])<3*h&&Math.abs(c-s[3])<h&&Math.abs(c-s[4])<h}getCrossCheckStateCount(){const s=this.crossCheckStateCount;return s[0]=0,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s}crossCheckDiagonal(s,o,c,h){const g=this.getCrossCheckStateCount();let l=0;const d=this.image;for(;s>=l&&o>=l&&d.get(o-l,s-l);)g[2]++,l++;if(s<l||o<l)return!1;for(;s>=l&&o>=l&&!d.get(o-l,s-l)&&g[1]<=c;)g[1]++,l++;if(s<l||o<l||g[1]>c)return!1;for(;s>=l&&o>=l&&d.get(o-l,s-l)&&g[0]<=c;)g[0]++,l++;if(g[0]>c)return!1;const x=d.getHeight(),w=d.getWidth();for(l=1;s+l<x&&o+l<w&&d.get(o+l,s+l);)g[2]++,l++;if(s+l>=x||o+l>=w)return!1;for(;s+l<x&&o+l<w&&!d.get(o+l,s+l)&&g[3]<c;)g[3]++,l++;if(s+l>=x||o+l>=w||g[3]>=c)return!1;for(;s+l<x&&o+l<w&&d.get(o+l,s+l)&&g[4]<c;)g[4]++,l++;if(g[4]>=c)return!1;const _=g[0]+g[1]+g[2]+g[3]+g[4];return Math.abs(_-h)<2*h&&wt.foundPatternCross(g)}crossCheckVertical(s,o,c,h){const g=this.image,l=g.getHeight(),d=this.getCrossCheckStateCount();let x=s;for(;x>=0&&g.get(o,x);)d[2]++,x--;if(x<0)return NaN;for(;x>=0&&!g.get(o,x)&&d[1]<=c;)d[1]++,x--;if(x<0||d[1]>c)return NaN;for(;x>=0&&g.get(o,x)&&d[0]<=c;)d[0]++,x--;if(d[0]>c)return NaN;for(x=s+1;x<l&&g.get(o,x);)d[2]++,x++;if(x===l)return NaN;for(;x<l&&!g.get(o,x)&&d[3]<c;)d[3]++,x++;if(x===l||d[3]>=c)return NaN;for(;x<l&&g.get(o,x)&&d[4]<c;)d[4]++,x++;if(d[4]>=c)return NaN;const w=d[0]+d[1]+d[2]+d[3]+d[4];return 5*Math.abs(w-h)>=2*h?NaN:wt.foundPatternCross(d)?wt.centerFromEnd(d,x):NaN}crossCheckHorizontal(s,o,c,h){const g=this.image,l=g.getWidth(),d=this.getCrossCheckStateCount();let x=s;for(;x>=0&&g.get(x,o);)d[2]++,x--;if(x<0)return NaN;for(;x>=0&&!g.get(x,o)&&d[1]<=c;)d[1]++,x--;if(x<0||d[1]>c)return NaN;for(;x>=0&&g.get(x,o)&&d[0]<=c;)d[0]++,x--;if(d[0]>c)return NaN;for(x=s+1;x<l&&g.get(x,o);)d[2]++,x++;if(x===l)return NaN;for(;x<l&&!g.get(x,o)&&d[3]<c;)d[3]++,x++;if(x===l||d[3]>=c)return NaN;for(;x<l&&g.get(x,o)&&d[4]<c;)d[4]++,x++;if(d[4]>=c)return NaN;const w=d[0]+d[1]+d[2]+d[3]+d[4];return 5*Math.abs(w-h)>=h?NaN:wt.foundPatternCross(d)?wt.centerFromEnd(d,x):NaN}handlePossibleCenter(s,o,c,h){const g=s[0]+s[1]+s[2]+s[3]+s[4];let l=wt.centerFromEnd(s,c),d=this.crossCheckVertical(o,Math.floor(l),s[2],g);if(!isNaN(d)&&(l=this.crossCheckHorizontal(Math.floor(l),Math.floor(d),s[2],g),!isNaN(l)&&(!h||this.crossCheckDiagonal(Math.floor(d),Math.floor(l),s[2],g)))){const x=g/7;let w=!1;const _=this.possibleCenters;for(let N=0,D=_.length;N<D;N++){const U=_[N];if(U.aboutEquals(x,d,l)){_[N]=U.combineEstimate(d,l,x),w=!0;break}}if(!w){const N=new Qs(l,d,x);_.push(N),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(N)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let o=null;for(const c of this.possibleCenters)if(c.getCount()>=wt.CENTER_QUORUM)if(o==null)o=c;else return this.hasSkipped=!0,Math.floor((Math.abs(o.getX()-c.getX())-Math.abs(o.getY()-c.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let s=0,o=0;const c=this.possibleCenters.length;for(const l of this.possibleCenters)l.getCount()>=wt.CENTER_QUORUM&&(s++,o+=l.getEstimatedModuleSize());if(s<3)return!1;const h=o/c;let g=0;for(const l of this.possibleCenters)g+=Math.abs(l.getEstimatedModuleSize()-h);return g<=.05*o}selectBestPatterns(){const s=this.possibleCenters.length;if(s<3)throw new te;const o=this.possibleCenters;let c;if(s>3){let h=0,g=0;for(const x of this.possibleCenters){const w=x.getEstimatedModuleSize();h+=w,g+=w*w}c=h/s;let l=Math.sqrt(g/s-c*c);o.sort((x,w)=>{const _=Math.abs(w.getEstimatedModuleSize()-c),N=Math.abs(x.getEstimatedModuleSize()-c);return _<N?-1:_>N?1:0});const d=Math.max(.2*c,l);for(let x=0;x<o.length&&o.length>3;x++){const w=o[x];Math.abs(w.getEstimatedModuleSize()-c)>d&&(o.splice(x,1),x--)}}if(o.length>3){let h=0;for(const g of o)h+=g.getEstimatedModuleSize();c=h/o.length,o.sort((g,l)=>{if(l.getCount()===g.getCount()){const d=Math.abs(l.getEstimatedModuleSize()-c),x=Math.abs(g.getEstimatedModuleSize()-c);return d<x?1:d>x?-1:0}else return l.getCount()-g.getCount()}),o.splice(3)}return[o[0],o[1],o[2]]}}wt.CENTER_QUORUM=2,wt.MIN_SKIP=3,wt.MAX_MODULES=57;class Ti{constructor(s){this.image=s}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(s){this.resultPointCallback=s==null?null:s.get(ce.NEED_RESULT_POINT_CALLBACK);const c=new wt(this.image,this.resultPointCallback).find(s);return this.processFinderPatternInfo(c)}processFinderPatternInfo(s){const o=s.getTopLeft(),c=s.getTopRight(),h=s.getBottomLeft(),g=this.calculateModuleSize(o,c,h);if(g<1)throw new te("No pattern found in proccess finder.");const l=Ti.computeDimension(o,c,h,g),d=Dt.getProvisionalVersionForDimension(l),x=d.getDimensionForVersion()-7;let w=null;if(d.getAlignmentPatternCenters().length>0){const U=c.getX()-o.getX()+h.getX(),G=c.getY()-o.getY()+h.getY(),X=1-3/x,re=Math.floor(o.getX()+X*(U-o.getX())),Q=Math.floor(o.getY()+X*(G-o.getY()));for(let ge=4;ge<=16;ge<<=1)try{w=this.findAlignmentInRegion(g,re,Q,ge);break}catch(de){if(!(de instanceof te))throw de}}const _=Ti.createTransform(o,c,h,w,l),N=Ti.sampleGrid(this.image,_,l);let D;return w===null?D=[h,o,c]:D=[h,o,c,w],new cn(N,D)}static createTransform(s,o,c,h,g){const l=g-3.5;let d,x,w,_;return h!==null?(d=h.getX(),x=h.getY(),w=l-3,_=w):(d=o.getX()-s.getX()+c.getX(),x=o.getY()-s.getY()+c.getY(),w=l,_=l),Nt.quadrilateralToQuadrilateral(3.5,3.5,l,3.5,w,_,3.5,l,s.getX(),s.getY(),o.getX(),o.getY(),d,x,c.getX(),c.getY())}static sampleGrid(s,o,c){return tn.getInstance().sampleGridWithTransform(s,c,c,o)}static computeDimension(s,o,c,h){const g=Qe.round(Ke.distance(s,o)/h),l=Qe.round(Ke.distance(s,c)/h);let d=Math.floor((g+l)/2)+7;switch(d&3){case 0:d++;break;case 2:d--;break;case 3:throw new te("Dimensions could be not found.")}return d}calculateModuleSize(s,o,c){return(this.calculateModuleSizeOneWay(s,o)+this.calculateModuleSizeOneWay(s,c))/2}calculateModuleSizeOneWay(s,o){const c=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(s.getX()),Math.floor(s.getY()),Math.floor(o.getX()),Math.floor(o.getY())),h=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(o.getX()),Math.floor(o.getY()),Math.floor(s.getX()),Math.floor(s.getY()));return isNaN(c)?h/7:isNaN(h)?c/7:(c+h)/14}sizeOfBlackWhiteBlackRunBothWays(s,o,c,h){let g=this.sizeOfBlackWhiteBlackRun(s,o,c,h),l=1,d=s-(c-s);d<0?(l=s/(s-d),d=0):d>=this.image.getWidth()&&(l=(this.image.getWidth()-1-s)/(d-s),d=this.image.getWidth()-1);let x=Math.floor(o-(h-o)*l);return l=1,x<0?(l=o/(o-x),x=0):x>=this.image.getHeight()&&(l=(this.image.getHeight()-1-o)/(x-o),x=this.image.getHeight()-1),d=Math.floor(s+(d-s)*l),g+=this.sizeOfBlackWhiteBlackRun(s,o,d,x),g-1}sizeOfBlackWhiteBlackRun(s,o,c,h){const g=Math.abs(h-o)>Math.abs(c-s);if(g){let U=s;s=o,o=U,U=c,c=h,h=U}const l=Math.abs(c-s),d=Math.abs(h-o);let x=-l/2;const w=s<c?1:-1,_=o<h?1:-1;let N=0;const D=c+w;for(let U=s,G=o;U!==D;U+=w){const X=g?G:U,re=g?U:G;if(N===1===this.image.get(X,re)){if(N===2)return Qe.distance(U,G,s,o);N++}if(x+=d,x>0){if(G===h)break;G+=_,x-=l}}return N===2?Qe.distance(c+w,h,s,o):NaN}findAlignmentInRegion(s,o,c,h){const g=Math.floor(h*s),l=Math.max(0,o-g),d=Math.min(this.image.getWidth()-1,o+g);if(d-l<s*3)throw new te("Alignment top exceeds estimated module size.");const x=Math.max(0,c-g),w=Math.min(this.image.getHeight()-1,c+g);if(w-x<s*3)throw new te("Alignment bottom exceeds estimated module size.");return new es(this.image,l,x,d-l,w-x,s,this.resultPointCallback).find()}}class Vi{constructor(){this.decoder=new gs}getDecoder(){return this.decoder}decode(s,o){let c,h;if(o!=null&&o.get(ce.PURE_BARCODE)!==void 0){const x=Vi.extractPureBits(s.getBlackMatrix());c=this.decoder.decodeBitMatrix(x,o),h=Vi.NO_POINTS}else{const x=new Ti(s.getBlackMatrix()).detect(o);c=this.decoder.decodeBitMatrix(x.getBits(),o),h=x.getPoints()}c.getOther()instanceof ui&&c.getOther().applyMirroredCorrection(h);const g=new fe(c.getText(),c.getRawBytes(),void 0,h,se.QR_CODE,void 0),l=c.getByteSegments();l!==null&&g.putMetadata(Re.BYTE_SEGMENTS,l);const d=c.getECLevel();return d!==null&&g.putMetadata(Re.ERROR_CORRECTION_LEVEL,d),c.hasStructuredAppend()&&(g.putMetadata(Re.STRUCTURED_APPEND_SEQUENCE,c.getStructuredAppendSequenceNumber()),g.putMetadata(Re.STRUCTURED_APPEND_PARITY,c.getStructuredAppendParity())),g}reset(){}static extractPureBits(s){const o=s.getTopLeftOnBit(),c=s.getBottomRightOnBit();if(o===null||c===null)throw new te;const h=this.moduleSize(o,s);let g=o[1],l=c[1],d=o[0],x=c[0];if(d>=x||g>=l)throw new te;if(l-g!==x-d&&(x=d+(l-g),x>=s.getWidth()))throw new te;const w=Math.round((x-d+1)/h),_=Math.round((l-g+1)/h);if(w<=0||_<=0)throw new te;if(_!==w)throw new te;const N=Math.floor(h/2);g+=N,d+=N;const D=d+Math.floor((w-1)*h)-x;if(D>0){if(D>N)throw new te;d-=D}const U=g+Math.floor((_-1)*h)-l;if(U>0){if(U>N)throw new te;g-=U}const G=new oe(w,_);for(let X=0;X<_;X++){const re=g+Math.floor(X*h);for(let Q=0;Q<w;Q++)s.get(d+Math.floor(Q*h),re)&&G.set(Q,X)}return G}static moduleSize(s,o){const c=o.getHeight(),h=o.getWidth();let g=s[0],l=s[1],d=!0,x=0;for(;g<h&&l<c;){if(d!==o.get(g,l)){if(++x===5)break;d=!d}g++,l++}if(g===h||l===c)throw new te;return(g-s[0])/7}}Vi.NO_POINTS=new Array;class Yt{PDF417Common(){}static getBitCountSum(s){return Qe.sum(s)}static toIntArray(s){if(s==null||!s.length)return Yt.EMPTY_INT_ARRAY;const o=new Int32Array(s.length);let c=0;for(const h of s)o[c++]=h;return o}static getCodeword(s){const o=O.binarySearch(Yt.SYMBOL_TABLE,s&262143);return o<0?-1:(Yt.CODEWORD_TABLE[o]-1)%Yt.NUMBER_OF_CODEWORDS}}Yt.NUMBER_OF_CODEWORDS=929,Yt.MAX_CODEWORDS_IN_BARCODE=Yt.NUMBER_OF_CODEWORDS-1,Yt.MIN_ROWS_IN_BARCODE=3,Yt.MAX_ROWS_IN_BARCODE=90,Yt.MODULES_IN_CODEWORD=17,Yt.MODULES_IN_STOP_PATTERN=18,Yt.BARS_IN_MODULE=8,Yt.EMPTY_INT_ARRAY=new Int32Array([]),Yt.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Yt.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class il{constructor(s,o){this.bits=s,this.points=o}getBits(){return this.bits}getPoints(){return this.points}}class Zt{static detectMultiple(s,o,c){let h=s.getBlackMatrix(),g=Zt.detect(c,h);return g.length||(h=h.clone(),h.rotate180(),g=Zt.detect(c,h)),new il(h,g)}static detect(s,o){const c=new Array;let h=0,g=0,l=!1;for(;h<o.getHeight();){const d=Zt.findVertices(o,h,g);if(d[0]==null&&d[3]==null){if(!l)break;l=!1,g=0;for(const x of c)x[1]!=null&&(h=Math.trunc(Math.max(h,x[1].getY()))),x[3]!=null&&(h=Math.max(h,Math.trunc(x[3].getY())));h+=Zt.ROW_STEP;continue}if(l=!0,c.push(d),!s)break;d[2]!=null?(g=Math.trunc(d[2].getX()),h=Math.trunc(d[2].getY())):(g=Math.trunc(d[4].getX()),h=Math.trunc(d[4].getY()))}return c}static findVertices(s,o,c){const h=s.getHeight(),g=s.getWidth(),l=new Array(8);return Zt.copyToResult(l,Zt.findRowsWithPattern(s,h,g,o,c,Zt.START_PATTERN),Zt.INDEXES_START_PATTERN),l[4]!=null&&(c=Math.trunc(l[4].getX()),o=Math.trunc(l[4].getY())),Zt.copyToResult(l,Zt.findRowsWithPattern(s,h,g,o,c,Zt.STOP_PATTERN),Zt.INDEXES_STOP_PATTERN),l}static copyToResult(s,o,c){for(let h=0;h<c.length;h++)s[c[h]]=o[h]}static findRowsWithPattern(s,o,c,h,g,l){const d=new Array(4);let x=!1;const w=new Int32Array(l.length);for(;h<o;h+=Zt.ROW_STEP){let N=Zt.findGuardPattern(s,g,h,c,!1,l,w);if(N!=null){for(;h>0;){const D=Zt.findGuardPattern(s,g,--h,c,!1,l,w);if(D!=null)N=D;else{h++;break}}d[0]=new Ke(N[0],h),d[1]=new Ke(N[1],h),x=!0;break}}let _=h+1;if(x){let N=0,D=Int32Array.from([Math.trunc(d[0].getX()),Math.trunc(d[1].getX())]);for(;_<o;_++){const U=Zt.findGuardPattern(s,D[0],_,c,!1,l,w);if(U!=null&&Math.abs(D[0]-U[0])<Zt.MAX_PATTERN_DRIFT&&Math.abs(D[1]-U[1])<Zt.MAX_PATTERN_DRIFT)D=U,N=0;else{if(N>Zt.SKIPPED_ROW_COUNT_MAX)break;N++}}_-=N+1,d[2]=new Ke(D[0],_),d[3]=new Ke(D[1],_)}return _-h<Zt.BARCODE_MIN_HEIGHT&&O.fill(d,null),d}static findGuardPattern(s,o,c,h,g,l,d){O.fillWithin(d,0,d.length,0);let x=o,w=0;for(;s.get(x,c)&&x>0&&w++<Zt.MAX_PIXEL_DRIFT;)x--;let _=x,N=0,D=l.length;for(let U=g;_<h;_++)if(s.get(_,c)!==U)d[N]++;else{if(N===D-1){if(Zt.patternMatchVariance(d,l,Zt.MAX_INDIVIDUAL_VARIANCE)<Zt.MAX_AVG_VARIANCE)return new Int32Array([x,_]);x+=d[0]+d[1],I.arraycopy(d,2,d,0,N-1),d[N-1]=0,d[N]=0,N--}else N++;d[N]=1,U=!U}return N===D-1&&Zt.patternMatchVariance(d,l,Zt.MAX_INDIVIDUAL_VARIANCE)<Zt.MAX_AVG_VARIANCE?new Int32Array([x,_-1]):null}static patternMatchVariance(s,o,c){let h=s.length,g=0,l=0;for(let w=0;w<h;w++)g+=s[w],l+=o[w];if(g<l)return 1/0;let d=g/l;c*=d;let x=0;for(let w=0;w<h;w++){let _=s[w],N=o[w]*d,D=_>N?_-N:N-_;if(D>c)return 1/0;x+=D}return x/g}}Zt.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Zt.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Zt.MAX_AVG_VARIANCE=.42,Zt.MAX_INDIVIDUAL_VARIANCE=.8,Zt.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Zt.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Zt.MAX_PIXEL_DRIFT=3,Zt.MAX_PATTERN_DRIFT=5,Zt.SKIPPED_ROW_COUNT_MAX=25,Zt.ROW_STEP=5,Zt.BARCODE_MIN_HEIGHT=10;class Sr{constructor(s,o){if(o.length===0)throw new S;this.field=s;let c=o.length;if(c>1&&o[0]===0){let h=1;for(;h<c&&o[h]===0;)h++;h===c?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(c-h),I.arraycopy(o,h,this.coefficients,0,this.coefficients.length))}else this.coefficients=o}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(s){return this.coefficients[this.coefficients.length-1-s]}evaluateAt(s){if(s===0)return this.getCoefficient(0);if(s===1){let h=0;for(let g of this.coefficients)h=this.field.add(h,g);return h}let o=this.coefficients[0],c=this.coefficients.length;for(let h=1;h<c;h++)o=this.field.add(this.field.multiply(s,o),this.coefficients[h]);return o}add(s){if(!this.field.equals(s.field))throw new S("ModulusPolys do not have same ModulusGF field");if(this.isZero())return s;if(s.isZero())return this;let o=this.coefficients,c=s.coefficients;if(o.length>c.length){let l=o;o=c,c=l}let h=new Int32Array(c.length),g=c.length-o.length;I.arraycopy(c,0,h,0,g);for(let l=g;l<c.length;l++)h[l]=this.field.add(o[l-g],c[l]);return new Sr(this.field,h)}subtract(s){if(!this.field.equals(s.field))throw new S("ModulusPolys do not have same ModulusGF field");return s.isZero()?this:this.add(s.negative())}multiply(s){return s instanceof Sr?this.multiplyOther(s):this.multiplyScalar(s)}multiplyOther(s){if(!this.field.equals(s.field))throw new S("ModulusPolys do not have same ModulusGF field");if(this.isZero()||s.isZero())return new Sr(this.field,new Int32Array([0]));let o=this.coefficients,c=o.length,h=s.coefficients,g=h.length,l=new Int32Array(c+g-1);for(let d=0;d<c;d++){let x=o[d];for(let w=0;w<g;w++)l[d+w]=this.field.add(l[d+w],this.field.multiply(x,h[w]))}return new Sr(this.field,l)}negative(){let s=this.coefficients.length,o=new Int32Array(s);for(let c=0;c<s;c++)o[c]=this.field.subtract(0,this.coefficients[c]);return new Sr(this.field,o)}multiplyScalar(s){if(s===0)return new Sr(this.field,new Int32Array([0]));if(s===1)return this;let o=this.coefficients.length,c=new Int32Array(o);for(let h=0;h<o;h++)c[h]=this.field.multiply(this.coefficients[h],s);return new Sr(this.field,c)}multiplyByMonomial(s,o){if(s<0)throw new S;if(o===0)return new Sr(this.field,new Int32Array([0]));let c=this.coefficients.length,h=new Int32Array(c+s);for(let g=0;g<c;g++)h[g]=this.field.multiply(this.coefficients[g],o);return new Sr(this.field,h)}toString(){let s=new ue;for(let o=this.getDegree();o>=0;o--){let c=this.getCoefficient(o);c!==0&&(c<0?(s.append(" - "),c=-c):s.length()>0&&s.append(" + "),(o===0||c!==1)&&s.append(c),o!==0&&(o===1?s.append("x"):(s.append("x^"),s.append(o))))}return s.toString()}}class xs{add(s,o){return(s+o)%this.modulus}subtract(s,o){return(this.modulus+s-o)%this.modulus}exp(s){return this.expTable[s]}log(s){if(s===0)throw new S;return this.logTable[s]}inverse(s){if(s===0)throw new Ge;return this.expTable[this.modulus-this.logTable[s]-1]}multiply(s,o){return s===0||o===0?0:this.expTable[(this.logTable[s]+this.logTable[o])%(this.modulus-1)]}getSize(){return this.modulus}equals(s){return s===this}}class eo extends xs{constructor(s,o){super(),this.modulus=s,this.expTable=new Int32Array(s),this.logTable=new Int32Array(s);let c=1;for(let h=0;h<s;h++)this.expTable[h]=c,c=c*o%s;for(let h=0;h<s-1;h++)this.logTable[this.expTable[h]]=h;this.zero=new Sr(this,new Int32Array([0])),this.one=new Sr(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(s,o){if(s<0)throw new S;if(o===0)return this.zero;let c=new Int32Array(s+1);return c[0]=o,new Sr(this,c)}}eo.PDF417_GF=new eo(Yt.NUMBER_OF_CODEWORDS,3);class Ba{constructor(){this.field=eo.PDF417_GF}decode(s,o,c){let h=new Sr(this.field,s),g=new Int32Array(o),l=!1;for(let G=o;G>0;G--){let X=h.evaluateAt(this.field.exp(G));g[o-G]=X,X!==0&&(l=!0)}if(!l)return 0;let d=this.field.getOne();if(c!=null)for(const G of c){let X=this.field.exp(s.length-1-G),re=new Sr(this.field,new Int32Array([this.field.subtract(0,X),1]));d=d.multiply(re)}let x=new Sr(this.field,g),w=this.runEuclideanAlgorithm(this.field.buildMonomial(o,1),x,o),_=w[0],N=w[1],D=this.findErrorLocations(_),U=this.findErrorMagnitudes(N,_,D);for(let G=0;G<D.length;G++){let X=s.length-1-this.field.log(D[G]);if(X<0)throw A.getChecksumInstance();s[X]=this.field.subtract(s[X],U[G])}return D.length}runEuclideanAlgorithm(s,o,c){if(s.getDegree()<o.getDegree()){let D=s;s=o,o=D}let h=s,g=o,l=this.field.getZero(),d=this.field.getOne();for(;g.getDegree()>=Math.round(c/2);){let D=h,U=l;if(h=g,l=d,h.isZero())throw A.getChecksumInstance();g=D;let G=this.field.getZero(),X=h.getCoefficient(h.getDegree()),re=this.field.inverse(X);for(;g.getDegree()>=h.getDegree()&&!g.isZero();){let Q=g.getDegree()-h.getDegree(),ge=this.field.multiply(g.getCoefficient(g.getDegree()),re);G=G.add(this.field.buildMonomial(Q,ge)),g=g.subtract(h.multiplyByMonomial(Q,ge))}d=G.multiply(l).subtract(U).negative()}let x=d.getCoefficient(0);if(x===0)throw A.getChecksumInstance();let w=this.field.inverse(x),_=d.multiply(w),N=g.multiply(w);return[_,N]}findErrorLocations(s){let o=s.getDegree(),c=new Int32Array(o),h=0;for(let g=1;g<this.field.getSize()&&h<o;g++)s.evaluateAt(g)===0&&(c[h]=this.field.inverse(g),h++);if(h!==o)throw A.getChecksumInstance();return c}findErrorMagnitudes(s,o,c){let h=o.getDegree(),g=new Int32Array(h);for(let w=1;w<=h;w++)g[h-w]=this.field.multiply(w,o.getCoefficient(w));let l=new Sr(this.field,g),d=c.length,x=new Int32Array(d);for(let w=0;w<d;w++){let _=this.field.inverse(c[w]),N=this.field.subtract(0,s.evaluateAt(_)),D=this.field.inverse(l.evaluateAt(_));x[w]=this.field.multiply(N,D)}return x}}class ts{constructor(s,o,c,h,g){s instanceof ts?this.constructor_2(s):this.constructor_1(s,o,c,h,g)}constructor_1(s,o,c,h,g){const l=o==null||c==null,d=h==null||g==null;if(l&&d)throw new te;l?(o=new Ke(0,h.getY()),c=new Ke(0,g.getY())):d&&(h=new Ke(s.getWidth()-1,o.getY()),g=new Ke(s.getWidth()-1,c.getY())),this.image=s,this.topLeft=o,this.bottomLeft=c,this.topRight=h,this.bottomRight=g,this.minX=Math.trunc(Math.min(o.getX(),c.getX())),this.maxX=Math.trunc(Math.max(h.getX(),g.getX())),this.minY=Math.trunc(Math.min(o.getY(),h.getY())),this.maxY=Math.trunc(Math.max(c.getY(),g.getY()))}constructor_2(s){this.image=s.image,this.topLeft=s.getTopLeft(),this.bottomLeft=s.getBottomLeft(),this.topRight=s.getTopRight(),this.bottomRight=s.getBottomRight(),this.minX=s.getMinX(),this.maxX=s.getMaxX(),this.minY=s.getMinY(),this.maxY=s.getMaxY()}static merge(s,o){return s==null?o:o==null?s:new ts(s.image,s.topLeft,s.bottomLeft,o.topRight,o.bottomRight)}addMissingRows(s,o,c){let h=this.topLeft,g=this.bottomLeft,l=this.topRight,d=this.bottomRight;if(s>0){let x=c?this.topLeft:this.topRight,w=Math.trunc(x.getY()-s);w<0&&(w=0);let _=new Ke(x.getX(),w);c?h=_:l=_}if(o>0){let x=c?this.bottomLeft:this.bottomRight,w=Math.trunc(x.getY()+o);w>=this.image.getHeight()&&(w=this.image.getHeight()-1);let _=new Ke(x.getX(),w);c?g=_:d=_}return new ts(this.image,h,g,l,d)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Ds{constructor(s,o,c,h){this.columnCount=s,this.errorCorrectionLevel=h,this.rowCountUpperPart=o,this.rowCountLowerPart=c,this.rowCount=o+c}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class vs{constructor(){this.buffer=""}static form(s,o){let c=-1;function h(l,d,x,w,_,N){if(l==="%%")return"%";if(o[++c]===void 0)return;l=w?parseInt(w.substr(1)):void 0;let D=_?parseInt(_.substr(1)):void 0,U;switch(N){case"s":U=o[c];break;case"c":U=o[c][0];break;case"f":U=parseFloat(o[c]).toFixed(l);break;case"p":U=parseFloat(o[c]).toPrecision(l);break;case"e":U=parseFloat(o[c]).toExponential(l);break;case"x":U=parseInt(o[c]).toString(D||16);break;case"d":U=parseFloat(parseInt(o[c],D||10).toPrecision(l)).toFixed(0);break}U=typeof U=="object"?JSON.stringify(U):(+U).toString(D);let G=parseInt(x),X=x&&x[0]+""=="0"?"0":" ";for(;U.length<G;)U=d!==void 0?U+X:X+U;return U}let g=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return s.replace(g,h)}format(s,...o){this.buffer+=vs.form(s,o)}toString(){return this.buffer}}class Ms{constructor(s){this.boundingBox=new ts(s),this.codewords=new Array(s.getMaxY()-s.getMinY()+1)}getCodewordNearby(s){let o=this.getCodeword(s);if(o!=null)return o;for(let c=1;c<Ms.MAX_NEARBY_DISTANCE;c++){let h=this.imageRowToCodewordIndex(s)-c;if(h>=0&&(o=this.codewords[h],o!=null)||(h=this.imageRowToCodewordIndex(s)+c,h<this.codewords.length&&(o=this.codewords[h],o!=null)))return o}return null}imageRowToCodewordIndex(s){return s-this.boundingBox.getMinY()}setCodeword(s,o){this.codewords[this.imageRowToCodewordIndex(s)]=o}getCodeword(s){return this.codewords[this.imageRowToCodewordIndex(s)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const s=new vs;let o=0;for(const c of this.codewords){if(c==null){s.format("%3d:    |   %n",o++);continue}s.format("%3d: %3d|%3d%n",o++,c.getRowNumber(),c.getValue())}return s.toString()}}Ms.MAX_NEARBY_DISTANCE=5;class to{constructor(){this.values=new Map}setValue(s){s=Math.trunc(s);let o=this.values.get(s);o==null&&(o=0),o++,this.values.set(s,o)}getValue(){let s=-1,o=new Array;for(const[c,h]of this.values.entries()){const g={getKey:()=>c,getValue:()=>h};g.getValue()>s?(s=g.getValue(),o=[],o.push(g.getKey())):g.getValue()===s&&o.push(g.getKey())}return Yt.toIntArray(o)}getConfidence(s){return this.values.get(s)}}class Js extends Ms{constructor(s,o){super(s),this._isLeft=o}setRowNumbers(){for(let s of this.getCodewords())s!=null&&s.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(s){let o=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(o,s);let c=this.getBoundingBox(),h=this._isLeft?c.getTopLeft():c.getTopRight(),g=this._isLeft?c.getBottomLeft():c.getBottomRight(),l=this.imageRowToCodewordIndex(Math.trunc(h.getY())),d=this.imageRowToCodewordIndex(Math.trunc(g.getY())),x=-1,w=1,_=0;for(let N=l;N<d;N++){if(o[N]==null)continue;let D=o[N],U=D.getRowNumber()-x;if(U===0)_++;else if(U===1)w=Math.max(w,_),_=1,x=D.getRowNumber();else if(U<0||D.getRowNumber()>=s.getRowCount()||U>N)o[N]=null;else{let G;w>2?G=(w-2)*U:G=U;let X=G>=N;for(let re=1;re<=G&&!X;re++)X=o[N-re]!=null;X?o[N]=null:(x=D.getRowNumber(),_=1)}}}getRowHeights(){let s=this.getBarcodeMetadata();if(s==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(s);let o=new Int32Array(s.getRowCount());for(let c of this.getCodewords())if(c!=null){let h=c.getRowNumber();if(h>=o.length)continue;o[h]++}return o}adjustIncompleteIndicatorColumnRowNumbers(s){let o=this.getBoundingBox(),c=this._isLeft?o.getTopLeft():o.getTopRight(),h=this._isLeft?o.getBottomLeft():o.getBottomRight(),g=this.imageRowToCodewordIndex(Math.trunc(c.getY())),l=this.imageRowToCodewordIndex(Math.trunc(h.getY())),d=this.getCodewords(),x=-1;for(let w=g;w<l;w++){if(d[w]==null)continue;let _=d[w];_.setRowNumberAsRowIndicatorColumn();let N=_.getRowNumber()-x;N===0||(N===1?x=_.getRowNumber():_.getRowNumber()>=s.getRowCount()?d[w]=null:x=_.getRowNumber())}}getBarcodeMetadata(){let s=this.getCodewords(),o=new to,c=new to,h=new to,g=new to;for(let d of s){if(d==null)continue;d.setRowNumberAsRowIndicatorColumn();let x=d.getValue()%30,w=d.getRowNumber();switch(this._isLeft||(w+=2),w%3){case 0:c.setValue(x*3+1);break;case 1:g.setValue(x/3),h.setValue(x%3);break;case 2:o.setValue(x+1);break}}if(o.getValue().length===0||c.getValue().length===0||h.getValue().length===0||g.getValue().length===0||o.getValue()[0]<1||c.getValue()[0]+h.getValue()[0]<Yt.MIN_ROWS_IN_BARCODE||c.getValue()[0]+h.getValue()[0]>Yt.MAX_ROWS_IN_BARCODE)return null;let l=new Ds(o.getValue()[0],c.getValue()[0],h.getValue()[0],g.getValue()[0]);return this.removeIncorrectCodewords(s,l),l}removeIncorrectCodewords(s,o){for(let c=0;c<s.length;c++){let h=s[c];if(s[c]==null)continue;let g=h.getValue()%30,l=h.getRowNumber();if(l>o.getRowCount()){s[c]=null;continue}switch(this._isLeft||(l+=2),l%3){case 0:g*3+1!==o.getRowCountUpperPart()&&(s[c]=null);break;case 1:(Math.trunc(g/3)!==o.getErrorCorrectionLevel()||g%3!==o.getRowCountLowerPart())&&(s[c]=null);break;case 2:g+1!==o.getColumnCount()&&(s[c]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class ga{constructor(s,o){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=s,this.barcodeColumnCount=s.getColumnCount(),this.boundingBox=o,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let s=Yt.MAX_CODEWORDS_IN_BARCODE,o;do o=s,s=this.adjustRowNumbersAndGetCount();while(s>0&&s<o);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(s){s!=null&&s.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let s=this.adjustRowNumbersByRow();if(s===0)return 0;for(let o=1;o<this.barcodeColumnCount+1;o++){let c=this.detectionResultColumns[o].getCodewords();for(let h=0;h<c.length;h++)c[h]!=null&&(c[h].hasValidRowNumber()||this.adjustRowNumbers(o,h,c))}return s}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let s=this.detectionResultColumns[0].getCodewords(),o=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let c=0;c<s.length;c++)if(s[c]!=null&&o[c]!=null&&s[c].getRowNumber()===o[c].getRowNumber())for(let h=1;h<=this.barcodeColumnCount;h++){let g=this.detectionResultColumns[h].getCodewords()[c];g!=null&&(g.setRowNumber(s[c].getRowNumber()),g.hasValidRowNumber()||(this.detectionResultColumns[h].getCodewords()[c]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let s=0,o=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let c=0;c<o.length;c++){if(o[c]==null)continue;let h=o[c].getRowNumber(),g=0;for(let l=this.barcodeColumnCount+1;l>0&&g<this.ADJUST_ROW_NUMBER_SKIP;l--){let d=this.detectionResultColumns[l].getCodewords()[c];d!=null&&(g=ga.adjustRowNumberIfValid(h,g,d),d.hasValidRowNumber()||s++)}}return s}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let s=0,o=this.detectionResultColumns[0].getCodewords();for(let c=0;c<o.length;c++){if(o[c]==null)continue;let h=o[c].getRowNumber(),g=0;for(let l=1;l<this.barcodeColumnCount+1&&g<this.ADJUST_ROW_NUMBER_SKIP;l++){let d=this.detectionResultColumns[l].getCodewords()[c];d!=null&&(g=ga.adjustRowNumberIfValid(h,g,d),d.hasValidRowNumber()||s++)}}return s}static adjustRowNumberIfValid(s,o,c){return c==null||c.hasValidRowNumber()||(c.isValidRowNumber(s)?(c.setRowNumber(s),o=0):++o),o}adjustRowNumbers(s,o,c){if(!this.detectionResultColumns[s-1])return;let h=c[o],g=this.detectionResultColumns[s-1].getCodewords(),l=g;this.detectionResultColumns[s+1]!=null&&(l=this.detectionResultColumns[s+1].getCodewords());let d=new Array(14);d[2]=g[o],d[3]=l[o],o>0&&(d[0]=c[o-1],d[4]=g[o-1],d[5]=l[o-1]),o>1&&(d[8]=c[o-2],d[10]=g[o-2],d[11]=l[o-2]),o<c.length-1&&(d[1]=c[o+1],d[6]=g[o+1],d[7]=l[o+1]),o<c.length-2&&(d[9]=c[o+2],d[12]=g[o+2],d[13]=l[o+2]);for(let x of d)if(ga.adjustRowNumber(h,x))return}static adjustRowNumber(s,o){return o==null?!1:o.hasValidRowNumber()&&o.getBucket()===s.getBucket()?(s.setRowNumber(o.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(s){this.boundingBox=s}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(s,o){this.detectionResultColumns[s]=o}getDetectionResultColumn(s){return this.detectionResultColumns[s]}toString(){let s=this.detectionResultColumns[0];s==null&&(s=this.detectionResultColumns[this.barcodeColumnCount+1]);let o=new vs;for(let c=0;c<s.getCodewords().length;c++){o.format("CW %3d:",c);for(let h=0;h<this.barcodeColumnCount+2;h++){if(this.detectionResultColumns[h]==null){o.format("    |   ");continue}let g=this.detectionResultColumns[h].getCodewords()[c];if(g==null){o.format("    |   ");continue}o.format(" %3d|%3d",g.getRowNumber(),g.getValue())}o.format("%n")}return o.toString()}}class js{constructor(s,o,c,h){this.rowNumber=js.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(s),this.endX=Math.trunc(o),this.bucket=Math.trunc(c),this.value=Math.trunc(h)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(s){return s!==js.BARCODE_ROW_UNKNOWN&&this.bucket===s%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(s){this.rowNumber=s}toString(){return this.rowNumber+"|"+this.value}}js.BARCODE_ROW_UNKNOWN=-1;class Dr{static initialize(){for(let s=0;s<Yt.SYMBOL_TABLE.length;s++){let o=Yt.SYMBOL_TABLE[s],c=o&1;for(let h=0;h<Yt.BARS_IN_MODULE;h++){let g=0;for(;(o&1)===c;)g+=1,o>>=1;c=o&1,Dr.RATIOS_TABLE[s]||(Dr.RATIOS_TABLE[s]=new Array(Yt.BARS_IN_MODULE)),Dr.RATIOS_TABLE[s][Yt.BARS_IN_MODULE-h-1]=Math.fround(g/Yt.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(s){let o=Dr.getDecodedCodewordValue(Dr.sampleBitCounts(s));return o!==-1?o:Dr.getClosestDecodedValue(s)}static sampleBitCounts(s){let o=Qe.sum(s),c=new Int32Array(Yt.BARS_IN_MODULE),h=0,g=0;for(let l=0;l<Yt.MODULES_IN_CODEWORD;l++){let d=o/(2*Yt.MODULES_IN_CODEWORD)+l*o/Yt.MODULES_IN_CODEWORD;g+s[h]<=d&&(g+=s[h],h++),c[h]++}return c}static getDecodedCodewordValue(s){let o=Dr.getBitValue(s);return Yt.getCodeword(o)===-1?-1:o}static getBitValue(s){let o=0;for(let c=0;c<s.length;c++)for(let h=0;h<s[c];h++)o=o<<1|(c%2===0?1:0);return Math.trunc(o)}static getClosestDecodedValue(s){let o=Qe.sum(s),c=new Array(Yt.BARS_IN_MODULE);if(o>1)for(let l=0;l<c.length;l++)c[l]=Math.fround(s[l]/o);let h=Mt.MAX_VALUE,g=-1;this.bSymbolTableReady||Dr.initialize();for(let l=0;l<Dr.RATIOS_TABLE.length;l++){let d=0,x=Dr.RATIOS_TABLE[l];for(let w=0;w<Yt.BARS_IN_MODULE;w++){let _=Math.fround(x[w]-c[w]);if(d+=Math.fround(_*_),d>=h)break}d<h&&(h=d,g=Yt.SYMBOL_TABLE[l])}return g}}Dr.bSymbolTableReady=!1,Dr.RATIOS_TABLE=new Array(Yt.SYMBOL_TABLE.length).map(q=>new Array(Yt.BARS_IN_MODULE));class xa{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(s){this.segmentIndex=s}getFileId(){return this.fileId}setFileId(s){this.fileId=s}getOptionalData(){return this.optionalData}setOptionalData(s){this.optionalData=s}isLastSegment(){return this.lastSegment}setLastSegment(s){this.lastSegment=s}getSegmentCount(){return this.segmentCount}setSegmentCount(s){this.segmentCount=s}getSender(){return this.sender||null}setSender(s){this.sender=s}getAddressee(){return this.addressee||null}setAddressee(s){this.addressee=s}getFileName(){return this.fileName}setFileName(s){this.fileName=s}getFileSize(){return this.fileSize}setFileSize(s){this.fileSize=s}getChecksum(){return this.checksum}setChecksum(s){this.checksum=s}getTimestamp(){return this.timestamp}setTimestamp(s){this.timestamp=s}}class va{static parseLong(s,o=void 0){return parseInt(s,o)}}class Ro extends p{}Ro.kind="NullPointerException";class no{writeBytes(s){this.writeBytesOffset(s,0,s.length)}writeBytesOffset(s,o,c){if(s==null)throw new Ro;if(o<0||o>s.length||c<0||o+c>s.length||o+c<0)throw new P;if(c===0)return;for(let h=0;h<c;h++)this.write(s[o+h])}flush(){}close(){}}class Bl extends p{}class Oo extends no{constructor(s=32){if(super(),this.count=0,s<0)throw new S("Negative initial size: "+s);this.buf=new Uint8Array(s)}ensureCapacity(s){s-this.buf.length>0&&this.grow(s)}grow(s){let c=this.buf.length<<1;if(c-s<0&&(c=s),c<0){if(s<0)throw new Bl;c=L.MAX_VALUE}this.buf=O.copyOfUint8Array(this.buf,c)}write(s){this.ensureCapacity(this.count+1),this.buf[this.count]=s,this.count+=1}writeBytesOffset(s,o,c){if(o<0||o>s.length||c<0||o+c-s.length>0)throw new P;this.ensureCapacity(this.count+c),I.arraycopy(s,o,this.buf,this.count,c),this.count+=c}writeTo(s){s.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return O.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(s){return s?typeof s=="string"?this.toString_string(s):this.toString_number(s):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(s){return new String(this.buf).toString()}toString_number(s){return new String(this.buf).toString()}close(){}}var On;(function(q){q[q.ALPHA=0]="ALPHA",q[q.LOWER=1]="LOWER",q[q.MIXED=2]="MIXED",q[q.PUNCT=3]="PUNCT",q[q.ALPHA_SHIFT=4]="ALPHA_SHIFT",q[q.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(On||(On={}));function Fs(){if(typeof window<"u")return window.BigInt||null;if(typeof $c<"u")return $c.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let ea;function qi(q){if(typeof ea>"u"&&(ea=Fs()),ea===null)throw new Error("BigInt is not supported!");return ea(q)}function ta(){let q=[];q[0]=qi(1);let s=qi(900);q[1]=s;for(let o=2;o<16;o++)q[o]=q[o-1]*s;return q}class $e{static decode(s,o){let c=new ue(""),h=z.ISO8859_1;c.enableDecoding(h);let g=1,l=s[g++],d=new xa;for(;g<s[0];){switch(l){case $e.TEXT_COMPACTION_MODE_LATCH:g=$e.textCompaction(s,g,c);break;case $e.BYTE_COMPACTION_MODE_LATCH:case $e.BYTE_COMPACTION_MODE_LATCH_6:g=$e.byteCompaction(l,s,h,g,c);break;case $e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(s[g++]);break;case $e.NUMERIC_COMPACTION_MODE_LATCH:g=$e.numericCompaction(s,g,c);break;case $e.ECI_CHARSET:z.getCharacterSetECIByValue(s[g++]);break;case $e.ECI_GENERAL_PURPOSE:g+=2;break;case $e.ECI_USER_DEFINED:g++;break;case $e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:g=$e.decodeMacroBlock(s,g,d);break;case $e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case $e.MACRO_PDF417_TERMINATOR:throw new Y;default:g--,g=$e.textCompaction(s,g,c);break}if(g<s.length)l=s[g++];else throw Y.getFormatInstance()}if(c.length()===0)throw Y.getFormatInstance();let x=new Ie(null,c.toString(),null,o);return x.setOther(d),x}static decodeMacroBlock(s,o,c){if(o+$e.NUMBER_OF_SEQUENCE_CODEWORDS>s[0])throw Y.getFormatInstance();let h=new Int32Array($e.NUMBER_OF_SEQUENCE_CODEWORDS);for(let d=0;d<$e.NUMBER_OF_SEQUENCE_CODEWORDS;d++,o++)h[d]=s[o];c.setSegmentIndex(L.parseInt($e.decodeBase900toBase10(h,$e.NUMBER_OF_SEQUENCE_CODEWORDS)));let g=new ue;o=$e.textCompaction(s,o,g),c.setFileId(g.toString());let l=-1;for(s[o]===$e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(l=o+1);o<s[0];)switch(s[o]){case $e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(o++,s[o]){case $e.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let d=new ue;o=$e.textCompaction(s,o+1,d),c.setFileName(d.toString());break;case $e.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let x=new ue;o=$e.textCompaction(s,o+1,x),c.setSender(x.toString());break;case $e.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let w=new ue;o=$e.textCompaction(s,o+1,w),c.setAddressee(w.toString());break;case $e.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let _=new ue;o=$e.numericCompaction(s,o+1,_),c.setSegmentCount(L.parseInt(_.toString()));break;case $e.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let N=new ue;o=$e.numericCompaction(s,o+1,N),c.setTimestamp(va.parseLong(N.toString()));break;case $e.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let D=new ue;o=$e.numericCompaction(s,o+1,D),c.setChecksum(L.parseInt(D.toString()));break;case $e.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let U=new ue;o=$e.numericCompaction(s,o+1,U),c.setFileSize(va.parseLong(U.toString()));break;default:throw Y.getFormatInstance()}break;case $e.MACRO_PDF417_TERMINATOR:o++,c.setLastSegment(!0);break;default:throw Y.getFormatInstance()}if(l!==-1){let d=o-l;c.isLastSegment()&&d--,c.setOptionalData(O.copyOfRange(s,l,l+d))}return o}static textCompaction(s,o,c){let h=new Int32Array((s[0]-o)*2),g=new Int32Array((s[0]-o)*2),l=0,d=!1;for(;o<s[0]&&!d;){let x=s[o++];if(x<$e.TEXT_COMPACTION_MODE_LATCH)h[l]=x/30,h[l+1]=x%30,l+=2;else switch(x){case $e.TEXT_COMPACTION_MODE_LATCH:h[l++]=$e.TEXT_COMPACTION_MODE_LATCH;break;case $e.BYTE_COMPACTION_MODE_LATCH:case $e.BYTE_COMPACTION_MODE_LATCH_6:case $e.NUMERIC_COMPACTION_MODE_LATCH:case $e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case $e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case $e.MACRO_PDF417_TERMINATOR:o--,d=!0;break;case $e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h[l]=$e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,x=s[o++],g[l]=x,l++;break}}return $e.decodeTextCompaction(h,g,l,c),o}static decodeTextCompaction(s,o,c,h){let g=On.ALPHA,l=On.ALPHA,d=0;for(;d<c;){let x=s[d],w="";switch(g){case On.ALPHA:if(x<26)w=String.fromCharCode(65+x);else switch(x){case 26:w=" ";break;case $e.LL:g=On.LOWER;break;case $e.ML:g=On.MIXED;break;case $e.PS:l=g,g=On.PUNCT_SHIFT;break;case $e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(o[d]);break;case $e.TEXT_COMPACTION_MODE_LATCH:g=On.ALPHA;break}break;case On.LOWER:if(x<26)w=String.fromCharCode(97+x);else switch(x){case 26:w=" ";break;case $e.AS:l=g,g=On.ALPHA_SHIFT;break;case $e.ML:g=On.MIXED;break;case $e.PS:l=g,g=On.PUNCT_SHIFT;break;case $e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(o[d]);break;case $e.TEXT_COMPACTION_MODE_LATCH:g=On.ALPHA;break}break;case On.MIXED:if(x<$e.PL)w=$e.MIXED_CHARS[x];else switch(x){case $e.PL:g=On.PUNCT;break;case 26:w=" ";break;case $e.LL:g=On.LOWER;break;case $e.AL:g=On.ALPHA;break;case $e.PS:l=g,g=On.PUNCT_SHIFT;break;case $e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(o[d]);break;case $e.TEXT_COMPACTION_MODE_LATCH:g=On.ALPHA;break}break;case On.PUNCT:if(x<$e.PAL)w=$e.PUNCT_CHARS[x];else switch(x){case $e.PAL:g=On.ALPHA;break;case $e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(o[d]);break;case $e.TEXT_COMPACTION_MODE_LATCH:g=On.ALPHA;break}break;case On.ALPHA_SHIFT:if(g=l,x<26)w=String.fromCharCode(65+x);else switch(x){case 26:w=" ";break;case $e.TEXT_COMPACTION_MODE_LATCH:g=On.ALPHA;break}break;case On.PUNCT_SHIFT:if(g=l,x<$e.PAL)w=$e.PUNCT_CHARS[x];else switch(x){case $e.PAL:g=On.ALPHA;break;case $e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(o[d]);break;case $e.TEXT_COMPACTION_MODE_LATCH:g=On.ALPHA;break}break}w!==""&&h.append(w),d++}}static byteCompaction(s,o,c,h,g){let l=new Oo,d=0,x=0,w=!1;switch(s){case $e.BYTE_COMPACTION_MODE_LATCH:let _=new Int32Array(6),N=o[h++];for(;h<o[0]&&!w;)switch(_[d++]=N,x=900*x+N,N=o[h++],N){case $e.TEXT_COMPACTION_MODE_LATCH:case $e.BYTE_COMPACTION_MODE_LATCH:case $e.NUMERIC_COMPACTION_MODE_LATCH:case $e.BYTE_COMPACTION_MODE_LATCH_6:case $e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case $e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case $e.MACRO_PDF417_TERMINATOR:h--,w=!0;break;default:if(d%5===0&&d>0){for(let D=0;D<6;++D)l.write(Number(qi(x)>>qi(8*(5-D))));x=0,d=0}break}h===o[0]&&N<$e.TEXT_COMPACTION_MODE_LATCH&&(_[d++]=N);for(let D=0;D<d;D++)l.write(_[D]);break;case $e.BYTE_COMPACTION_MODE_LATCH_6:for(;h<o[0]&&!w;){let D=o[h++];if(D<$e.TEXT_COMPACTION_MODE_LATCH)d++,x=900*x+D;else switch(D){case $e.TEXT_COMPACTION_MODE_LATCH:case $e.BYTE_COMPACTION_MODE_LATCH:case $e.NUMERIC_COMPACTION_MODE_LATCH:case $e.BYTE_COMPACTION_MODE_LATCH_6:case $e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case $e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case $e.MACRO_PDF417_TERMINATOR:h--,w=!0;break}if(d%5===0&&d>0){for(let U=0;U<6;++U)l.write(Number(qi(x)>>qi(8*(5-U))));x=0,d=0}}break}return g.append(H.decode(l.toByteArray(),c)),h}static numericCompaction(s,o,c){let h=0,g=!1,l=new Int32Array($e.MAX_NUMERIC_CODEWORDS);for(;o<s[0]&&!g;){let d=s[o++];if(o===s[0]&&(g=!0),d<$e.TEXT_COMPACTION_MODE_LATCH)l[h]=d,h++;else switch(d){case $e.TEXT_COMPACTION_MODE_LATCH:case $e.BYTE_COMPACTION_MODE_LATCH:case $e.BYTE_COMPACTION_MODE_LATCH_6:case $e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case $e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case $e.MACRO_PDF417_TERMINATOR:o--,g=!0;break}(h%$e.MAX_NUMERIC_CODEWORDS===0||d===$e.NUMERIC_COMPACTION_MODE_LATCH||g)&&h>0&&(c.append($e.decodeBase900toBase10(l,h)),h=0)}return o}static decodeBase900toBase10(s,o){let c=qi(0);for(let g=0;g<o;g++)c+=$e.EXP900[o-g-1]*qi(s[g]);let h=c.toString();if(h.charAt(0)!=="1")throw new Y;return h.substring(1)}}$e.TEXT_COMPACTION_MODE_LATCH=900,$e.BYTE_COMPACTION_MODE_LATCH=901,$e.NUMERIC_COMPACTION_MODE_LATCH=902,$e.BYTE_COMPACTION_MODE_LATCH_6=924,$e.ECI_USER_DEFINED=925,$e.ECI_GENERAL_PURPOSE=926,$e.ECI_CHARSET=927,$e.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,$e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,$e.MACRO_PDF417_TERMINATOR=922,$e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,$e.MAX_NUMERIC_CODEWORDS=15,$e.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,$e.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,$e.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,$e.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,$e.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,$e.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,$e.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,$e.PL=25,$e.LL=27,$e.AS=27,$e.ML=28,$e.AL=28,$e.PS=29,$e.PAL=29,$e.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,$e.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",$e.EXP900=Fs()?ta():[],$e.NUMBER_OF_SEQUENCE_CODEWORDS=2;class T{constructor(){}static decode(s,o,c,h,g,l,d){let x=new ts(s,o,c,h,g),w=null,_=null,N;for(let G=!0;;G=!1){if(o!=null&&(w=T.getRowIndicatorColumn(s,x,o,!0,l,d)),h!=null&&(_=T.getRowIndicatorColumn(s,x,h,!1,l,d)),N=T.merge(w,_),N==null)throw te.getNotFoundInstance();let X=N.getBoundingBox();if(G&&X!=null&&(X.getMinY()<x.getMinY()||X.getMaxY()>x.getMaxY()))x=X;else break}N.setBoundingBox(x);let D=N.getBarcodeColumnCount()+1;N.setDetectionResultColumn(0,w),N.setDetectionResultColumn(D,_);let U=w!=null;for(let G=1;G<=D;G++){let X=U?G:D-G;if(N.getDetectionResultColumn(X)!==void 0)continue;let re;X===0||X===D?re=new Js(x,X===0):re=new Ms(x),N.setDetectionResultColumn(X,re);let Q=-1,ge=Q;for(let de=x.getMinY();de<=x.getMaxY();de++){if(Q=T.getStartColumn(N,X,de,U),Q<0||Q>x.getMaxX()){if(ge===-1)continue;Q=ge}let me=T.detectCodeword(s,x.getMinX(),x.getMaxX(),U,Q,de,l,d);me!=null&&(re.setCodeword(de,me),ge=Q,l=Math.min(l,me.getWidth()),d=Math.max(d,me.getWidth()))}}return T.createDecoderResult(N)}static merge(s,o){if(s==null&&o==null)return null;let c=T.getBarcodeMetadata(s,o);if(c==null)return null;let h=ts.merge(T.adjustBoundingBox(s),T.adjustBoundingBox(o));return new ga(c,h)}static adjustBoundingBox(s){if(s==null)return null;let o=s.getRowHeights();if(o==null)return null;let c=T.getMax(o),h=0;for(let d of o)if(h+=c-d,d>0)break;let g=s.getCodewords();for(let d=0;h>0&&g[d]==null;d++)h--;let l=0;for(let d=o.length-1;d>=0&&(l+=c-o[d],!(o[d]>0));d--);for(let d=g.length-1;l>0&&g[d]==null;d--)l--;return s.getBoundingBox().addMissingRows(h,l,s.isLeft())}static getMax(s){let o=-1;for(let c of s)o=Math.max(o,c);return o}static getBarcodeMetadata(s,o){let c;if(s==null||(c=s.getBarcodeMetadata())==null)return o==null?null:o.getBarcodeMetadata();let h;return o==null||(h=o.getBarcodeMetadata())==null?c:c.getColumnCount()!==h.getColumnCount()&&c.getErrorCorrectionLevel()!==h.getErrorCorrectionLevel()&&c.getRowCount()!==h.getRowCount()?null:c}static getRowIndicatorColumn(s,o,c,h,g,l){let d=new Js(o,h);for(let x=0;x<2;x++){let w=x===0?1:-1,_=Math.trunc(Math.trunc(c.getX()));for(let N=Math.trunc(Math.trunc(c.getY()));N<=o.getMaxY()&&N>=o.getMinY();N+=w){let D=T.detectCodeword(s,0,s.getWidth(),h,_,N,g,l);D!=null&&(d.setCodeword(N,D),h?_=D.getStartX():_=D.getEndX())}}return d}static adjustCodewordCount(s,o){let c=o[0][1],h=c.getValue(),g=s.getBarcodeColumnCount()*s.getBarcodeRowCount()-T.getNumberOfECCodeWords(s.getBarcodeECLevel());if(h.length===0){if(g<1||g>Yt.MAX_CODEWORDS_IN_BARCODE)throw te.getNotFoundInstance();c.setValue(g)}else h[0]!==g&&c.setValue(g)}static createDecoderResult(s){let o=T.createBarcodeMatrix(s);T.adjustCodewordCount(s,o);let c=new Array,h=new Int32Array(s.getBarcodeRowCount()*s.getBarcodeColumnCount()),g=[],l=new Array;for(let x=0;x<s.getBarcodeRowCount();x++)for(let w=0;w<s.getBarcodeColumnCount();w++){let _=o[x][w+1].getValue(),N=x*s.getBarcodeColumnCount()+w;_.length===0?c.push(N):_.length===1?h[N]=_[0]:(l.push(N),g.push(_))}let d=new Array(g.length);for(let x=0;x<d.length;x++)d[x]=g[x];return T.createDecoderResultFromAmbiguousValues(s.getBarcodeECLevel(),h,Yt.toIntArray(c),Yt.toIntArray(l),d)}static createDecoderResultFromAmbiguousValues(s,o,c,h,g){let l=new Int32Array(h.length),d=100;for(;d-- >0;){for(let x=0;x<l.length;x++)o[h[x]]=g[x][l[x]];try{return T.decodeCodewords(o,s,c)}catch(x){if(!(x instanceof A))throw x}if(l.length===0)throw A.getChecksumInstance();for(let x=0;x<l.length;x++)if(l[x]<g[x].length-1){l[x]++;break}else if(l[x]=0,x===l.length-1)throw A.getChecksumInstance()}throw A.getChecksumInstance()}static createBarcodeMatrix(s){let o=Array.from({length:s.getBarcodeRowCount()},()=>new Array(s.getBarcodeColumnCount()+2));for(let h=0;h<o.length;h++)for(let g=0;g<o[h].length;g++)o[h][g]=new to;let c=0;for(let h of s.getDetectionResultColumns()){if(h!=null){for(let g of h.getCodewords())if(g!=null){let l=g.getRowNumber();if(l>=0){if(l>=o.length)continue;o[l][c].setValue(g.getValue())}}}c++}return o}static isValidBarcodeColumn(s,o){return o>=0&&o<=s.getBarcodeColumnCount()+1}static getStartColumn(s,o,c,h){let g=h?1:-1,l=null;if(T.isValidBarcodeColumn(s,o-g)&&(l=s.getDetectionResultColumn(o-g).getCodeword(c)),l!=null)return h?l.getEndX():l.getStartX();if(l=s.getDetectionResultColumn(o).getCodewordNearby(c),l!=null)return h?l.getStartX():l.getEndX();if(T.isValidBarcodeColumn(s,o-g)&&(l=s.getDetectionResultColumn(o-g).getCodewordNearby(c)),l!=null)return h?l.getEndX():l.getStartX();let d=0;for(;T.isValidBarcodeColumn(s,o-g);){o-=g;for(let x of s.getDetectionResultColumn(o).getCodewords())if(x!=null)return(h?x.getEndX():x.getStartX())+g*d*(x.getEndX()-x.getStartX());d++}return h?s.getBoundingBox().getMinX():s.getBoundingBox().getMaxX()}static detectCodeword(s,o,c,h,g,l,d,x){g=T.adjustCodewordStartColumn(s,o,c,h,g,l);let w=T.getModuleBitCount(s,o,c,h,g,l);if(w==null)return null;let _,N=Qe.sum(w);if(h)_=g+N;else{for(let G=0;G<w.length/2;G++){let X=w[G];w[G]=w[w.length-1-G],w[w.length-1-G]=X}_=g,g=_-N}if(!T.checkCodewordSkew(N,d,x))return null;let D=Dr.getDecodedValue(w),U=Yt.getCodeword(D);return U===-1?null:new js(g,_,T.getCodewordBucketNumber(D),U)}static getModuleBitCount(s,o,c,h,g,l){let d=g,x=new Int32Array(8),w=0,_=h?1:-1,N=h;for(;(h?d<c:d>=o)&&w<x.length;)s.get(d,l)===N?(x[w]++,d+=_):(w++,N=!N);return w===x.length||d===(h?c:o)&&w===x.length-1?x:null}static getNumberOfECCodeWords(s){return 2<<s}static adjustCodewordStartColumn(s,o,c,h,g,l){let d=g,x=h?-1:1;for(let w=0;w<2;w++){for(;(h?d>=o:d<c)&&h===s.get(d,l);){if(Math.abs(g-d)>T.CODEWORD_SKEW_SIZE)return g;d+=x}x=-x,h=!h}return d}static checkCodewordSkew(s,o,c){return o-T.CODEWORD_SKEW_SIZE<=s&&s<=c+T.CODEWORD_SKEW_SIZE}static decodeCodewords(s,o,c){if(s.length===0)throw Y.getFormatInstance();let h=1<<o+1,g=T.correctErrors(s,c,h);T.verifyCodewordCount(s,h);let l=$e.decode(s,""+o);return l.setErrorsCorrected(g),l.setErasures(c.length),l}static correctErrors(s,o,c){if(o!=null&&o.length>c/2+T.MAX_ERRORS||c<0||c>T.MAX_EC_CODEWORDS)throw A.getChecksumInstance();return T.errorCorrection.decode(s,c,o)}static verifyCodewordCount(s,o){if(s.length<4)throw Y.getFormatInstance();let c=s[0];if(c>s.length)throw Y.getFormatInstance();if(c===0)if(o<s.length)s[0]=s.length-o;else throw Y.getFormatInstance()}static getBitCountForCodeword(s){let o=new Int32Array(8),c=0,h=o.length-1;for(;!((s&1)!==c&&(c=s&1,h--,h<0));)o[h]++,s>>=1;return o}static getCodewordBucketNumber(s){return s instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(s):this.getCodewordBucketNumber_number(s)}static getCodewordBucketNumber_number(s){return T.getCodewordBucketNumber(T.getBitCountForCodeword(s))}static getCodewordBucketNumber_Int32Array(s){return(s[0]-s[2]+s[4]-s[6]+9)%9}static toString(s){let o=new vs;for(let c=0;c<s.length;c++){o.format("Row %2d: ",c);for(let h=0;h<s[c].length;h++){let g=s[c][h];g.getValue().length===0?o.format("        ",null):o.format("%4d(%2d)",g.getValue()[0],g.getConfidence(g.getValue()[0]))}o.format("%n")}return o.toString()}}T.CODEWORD_SKEW_SIZE=2,T.MAX_ERRORS=3,T.MAX_EC_CODEWORDS=512,T.errorCorrection=new Ba;class V{decode(s,o=null){let c=V.decode(s,o,!1);if(c==null||c.length===0||c[0]==null)throw te.getNotFoundInstance();return c[0]}decodeMultiple(s,o=null){try{return V.decode(s,o,!0)}catch(c){throw c instanceof Y||c instanceof A?te.getNotFoundInstance():c}}static decode(s,o,c){const h=new Array,g=Zt.detectMultiple(s,o,c);for(const l of g.getPoints()){const d=T.decode(g.getBits(),l[4],l[5],l[6],l[7],V.getMinCodewordWidth(l),V.getMaxCodewordWidth(l)),x=new fe(d.getText(),d.getRawBytes(),void 0,l,se.PDF_417);x.putMetadata(Re.ERROR_CORRECTION_LEVEL,d.getECLevel());const w=d.getOther();w!=null&&x.putMetadata(Re.PDF417_EXTRA_METADATA,w),h.push(x)}return h.map(l=>l)}static getMaxWidth(s,o){return s==null||o==null?0:Math.trunc(Math.abs(s.getX()-o.getX()))}static getMinWidth(s,o){return s==null||o==null?L.MAX_VALUE:Math.trunc(Math.abs(s.getX()-o.getX()))}static getMaxCodewordWidth(s){return Math.floor(Math.max(Math.max(V.getMaxWidth(s[0],s[4]),V.getMaxWidth(s[6],s[2])*Yt.MODULES_IN_CODEWORD/Yt.MODULES_IN_STOP_PATTERN),Math.max(V.getMaxWidth(s[1],s[5]),V.getMaxWidth(s[7],s[3])*Yt.MODULES_IN_CODEWORD/Yt.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(s){return Math.floor(Math.min(Math.min(V.getMinWidth(s[0],s[4]),V.getMinWidth(s[6],s[2])*Yt.MODULES_IN_CODEWORD/Yt.MODULES_IN_STOP_PATTERN),Math.min(V.getMinWidth(s[1],s[5]),V.getMinWidth(s[7],s[3])*Yt.MODULES_IN_CODEWORD/Yt.MODULES_IN_STOP_PATTERN)))}reset(){}}class ye extends p{}ye.kind="ReaderException";class Pe{constructor(s,o){this.verbose=s===!0,o&&this.setHints(o)}decode(s,o){return o&&this.setHints(o),this.decodeInternal(s)}decodeWithState(s){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(s)}setHints(s){this.hints=s;const o=!r(s)&&s.get(ce.TRY_HARDER)===!0,c=r(s)?null:s.get(ce.POSSIBLE_FORMATS),h=new Array;if(!r(c)){const g=c.some(l=>l===se.UPC_A||l===se.UPC_E||l===se.EAN_13||l===se.EAN_8||l===se.CODABAR||l===se.CODE_39||l===se.CODE_93||l===se.CODE_128||l===se.ITF||l===se.RSS_14||l===se.RSS_EXPANDED);g&&!o&&h.push(new Os(s,this.verbose)),c.includes(se.QR_CODE)&&h.push(new Vi),c.includes(se.DATA_MATRIX)&&h.push(new Ur),c.includes(se.AZTEC)&&h.push(new Ft),c.includes(se.PDF_417)&&h.push(new V),g&&o&&h.push(new Os(s,this.verbose))}h.length===0&&(o||h.push(new Os(s,this.verbose)),h.push(new Vi),h.push(new Ur),h.push(new Ft),h.push(new V),o&&h.push(new Os(s,this.verbose))),this.readers=h}reset(){if(this.readers!==null)for(const s of this.readers)s.reset()}decodeInternal(s){if(this.readers===null)throw new ye("No readers where selected, nothing can be read.");for(const o of this.readers)try{return o.decode(s,this.hints)}catch(c){if(c instanceof ye)continue}throw new te("No MultiFormat Readers were able to detect the code.")}}class Fe extends ae{constructor(s=null,o=500){const c=new Pe;c.setHints(s),super(c,o)}decodeBitmap(s){return this.reader.decodeWithState(s)}}class et extends ae{constructor(s=500){super(new V,s)}}class nt extends ae{constructor(s=500){super(new Vi,s)}}var Pt;(function(q){q[q.ERROR_CORRECTION=0]="ERROR_CORRECTION",q[q.CHARACTER_SET=1]="CHARACTER_SET",q[q.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",q[q.MIN_SIZE=3]="MIN_SIZE",q[q.MAX_SIZE=4]="MAX_SIZE",q[q.MARGIN=5]="MARGIN",q[q.PDF417_COMPACT=6]="PDF417_COMPACT",q[q.PDF417_COMPACTION=7]="PDF417_COMPACTION",q[q.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",q[q.AZTEC_LAYERS=9]="AZTEC_LAYERS",q[q.QR_VERSION=10]="QR_VERSION"})(Pt||(Pt={}));var xt=Pt;class fn{constructor(s){this.field=s,this.cachedGenerators=[],this.cachedGenerators.push(new ze(s,Int32Array.from([1])))}buildGenerator(s){const o=this.cachedGenerators;if(s>=o.length){let c=o[o.length-1];const h=this.field;for(let g=o.length;g<=s;g++){const l=c.multiply(new ze(h,Int32Array.from([1,h.exp(g-1+h.getGeneratorBase())])));o.push(l),c=l}}return o[s]}encode(s,o){if(o===0)throw new S("No error correction bytes");const c=s.length-o;if(c<=0)throw new S("No data bytes provided");const h=this.buildGenerator(o),g=new Int32Array(c);I.arraycopy(s,0,g,0,c);let l=new ze(this.field,g);l=l.multiplyByMonomial(o,1);const x=l.divide(h)[1].getCoefficients(),w=o-x.length;for(let _=0;_<w;_++)s[c+_]=0;I.arraycopy(x,0,s,c+w,x.length)}}class Rt{constructor(){}static applyMaskPenaltyRule1(s){return Rt.applyMaskPenaltyRule1Internal(s,!0)+Rt.applyMaskPenaltyRule1Internal(s,!1)}static applyMaskPenaltyRule2(s){let o=0;const c=s.getArray(),h=s.getWidth(),g=s.getHeight();for(let l=0;l<g-1;l++){const d=c[l];for(let x=0;x<h-1;x++){const w=d[x];w===d[x+1]&&w===c[l+1][x]&&w===c[l+1][x+1]&&o++}}return Rt.N2*o}static applyMaskPenaltyRule3(s){let o=0;const c=s.getArray(),h=s.getWidth(),g=s.getHeight();for(let l=0;l<g;l++)for(let d=0;d<h;d++){const x=c[l];d+6<h&&x[d]===1&&x[d+1]===0&&x[d+2]===1&&x[d+3]===1&&x[d+4]===1&&x[d+5]===0&&x[d+6]===1&&(Rt.isWhiteHorizontal(x,d-4,d)||Rt.isWhiteHorizontal(x,d+7,d+11))&&o++,l+6<g&&c[l][d]===1&&c[l+1][d]===0&&c[l+2][d]===1&&c[l+3][d]===1&&c[l+4][d]===1&&c[l+5][d]===0&&c[l+6][d]===1&&(Rt.isWhiteVertical(c,d,l-4,l)||Rt.isWhiteVertical(c,d,l+7,l+11))&&o++}return o*Rt.N3}static isWhiteHorizontal(s,o,c){o=Math.max(o,0),c=Math.min(c,s.length);for(let h=o;h<c;h++)if(s[h]===1)return!1;return!0}static isWhiteVertical(s,o,c,h){c=Math.max(c,0),h=Math.min(h,s.length);for(let g=c;g<h;g++)if(s[g][o]===1)return!1;return!0}static applyMaskPenaltyRule4(s){let o=0;const c=s.getArray(),h=s.getWidth(),g=s.getHeight();for(let x=0;x<g;x++){const w=c[x];for(let _=0;_<h;_++)w[_]===1&&o++}const l=s.getHeight()*s.getWidth();return Math.floor(Math.abs(o*2-l)*10/l)*Rt.N4}static getDataMaskBit(s,o,c){let h,g;switch(s){case 0:h=c+o&1;break;case 1:h=c&1;break;case 2:h=o%3;break;case 3:h=(c+o)%3;break;case 4:h=Math.floor(c/2)+Math.floor(o/3)&1;break;case 5:g=c*o,h=(g&1)+g%3;break;case 6:g=c*o,h=(g&1)+g%3&1;break;case 7:g=c*o,h=g%3+(c+o&1)&1;break;default:throw new S("Invalid mask pattern: "+s)}return h===0}static applyMaskPenaltyRule1Internal(s,o){let c=0;const h=o?s.getHeight():s.getWidth(),g=o?s.getWidth():s.getHeight(),l=s.getArray();for(let d=0;d<h;d++){let x=0,w=-1;for(let _=0;_<g;_++){const N=o?l[d][_]:l[_][d];N===w?x++:(x>=5&&(c+=Rt.N1+(x-5)),x=1,w=N)}x>=5&&(c+=Rt.N1+(x-5))}return c}}Rt.N1=3,Rt.N2=3,Rt.N3=40,Rt.N4=10;class Wn{constructor(s,o){this.width=s,this.height=o;const c=new Array(o);for(let h=0;h!==o;h++)c[h]=new Uint8Array(s);this.bytes=c}getHeight(){return this.height}getWidth(){return this.width}get(s,o){return this.bytes[o][s]}getArray(){return this.bytes}setNumber(s,o,c){this.bytes[o][s]=c}setBoolean(s,o,c){this.bytes[o][s]=c?1:0}clear(s){for(const o of this.bytes)O.fill(o,s)}equals(s){if(!(s instanceof Wn))return!1;const o=s;if(this.width!==o.width||this.height!==o.height)return!1;for(let c=0,h=this.height;c<h;++c){const g=this.bytes[c],l=o.bytes[c];for(let d=0,x=this.width;d<x;++d)if(g[d]!==l[d])return!1}return!0}toString(){const s=new ue;for(let o=0,c=this.height;o<c;++o){const h=this.bytes[o];for(let g=0,l=this.width;g<l;++g)switch(h[g]){case 0:s.append(" 0");break;case 1:s.append(" 1");break;default:s.append("  ");break}s.append(`
`)}return s.toString()}}class ir{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const s=new ue;return s.append(`<<
`),s.append(" mode: "),s.append(this.mode?this.mode.toString():"null"),s.append(`
 ecLevel: `),s.append(this.ecLevel?this.ecLevel.toString():"null"),s.append(`
 version: `),s.append(this.version?this.version.toString():"null"),s.append(`
 maskPattern: `),s.append(this.maskPattern.toString()),this.matrix?(s.append(`
 matrix:
`),s.append(this.matrix.toString())):s.append(`
 matrix: null
`),s.append(`>>
`),s.toString()}setMode(s){this.mode=s}setECLevel(s){this.ecLevel=s}setVersion(s){this.version=s}setMaskPattern(s){this.maskPattern=s}setMatrix(s){this.matrix=s}static isValidMaskPattern(s){return s>=0&&s<ir.NUM_MASK_PATTERNS}}ir.NUM_MASK_PATTERNS=8;class hn extends p{}hn.kind="WriterException";class bt{constructor(){}static clearMatrix(s){s.clear(255)}static buildMatrix(s,o,c,h,g){bt.clearMatrix(g),bt.embedBasicPatterns(c,g),bt.embedTypeInfo(o,h,g),bt.maybeEmbedVersionInfo(c,g),bt.embedDataBits(s,h,g)}static embedBasicPatterns(s,o){bt.embedPositionDetectionPatternsAndSeparators(o),bt.embedDarkDotAtLeftBottomCorner(o),bt.maybeEmbedPositionAdjustmentPatterns(s,o),bt.embedTimingPatterns(o)}static embedTypeInfo(s,o,c){const h=new j;bt.makeTypeInfoBits(s,o,h);for(let g=0,l=h.getSize();g<l;++g){const d=h.get(h.getSize()-1-g),x=bt.TYPE_INFO_COORDINATES[g],w=x[0],_=x[1];if(c.setBoolean(w,_,d),g<8){const N=c.getWidth()-g-1;c.setBoolean(N,8,d)}else{const D=c.getHeight()-7+(g-8);c.setBoolean(8,D,d)}}}static maybeEmbedVersionInfo(s,o){if(s.getVersionNumber()<7)return;const c=new j;bt.makeVersionInfoBits(s,c);let h=6*3-1;for(let g=0;g<6;++g)for(let l=0;l<3;++l){const d=c.get(h);h--,o.setBoolean(g,o.getHeight()-11+l,d),o.setBoolean(o.getHeight()-11+l,g,d)}}static embedDataBits(s,o,c){let h=0,g=-1,l=c.getWidth()-1,d=c.getHeight()-1;for(;l>0;){for(l===6&&(l-=1);d>=0&&d<c.getHeight();){for(let x=0;x<2;++x){const w=l-x;if(!bt.isEmpty(c.get(w,d)))continue;let _;h<s.getSize()?(_=s.get(h),++h):_=!1,o!==255&&Rt.getDataMaskBit(o,w,d)&&(_=!_),c.setBoolean(w,d,_)}d+=g}g=-g,d+=g,l-=2}if(h!==s.getSize())throw new hn("Not all bits consumed: "+h+"/"+s.getSize())}static findMSBSet(s){return 32-L.numberOfLeadingZeros(s)}static calculateBCHCode(s,o){if(o===0)throw new S("0 polynomial");const c=bt.findMSBSet(o);for(s<<=c-1;bt.findMSBSet(s)>=c;)s^=o<<bt.findMSBSet(s)-c;return s}static makeTypeInfoBits(s,o,c){if(!ir.isValidMaskPattern(o))throw new hn("Invalid mask pattern");const h=s.getBits()<<3|o;c.appendBits(h,5);const g=bt.calculateBCHCode(h,bt.TYPE_INFO_POLY);c.appendBits(g,10);const l=new j;if(l.appendBits(bt.TYPE_INFO_MASK_PATTERN,15),c.xor(l),c.getSize()!==15)throw new hn("should not happen but we got: "+c.getSize())}static makeVersionInfoBits(s,o){o.appendBits(s.getVersionNumber(),6);const c=bt.calculateBCHCode(s.getVersionNumber(),bt.VERSION_INFO_POLY);if(o.appendBits(c,12),o.getSize()!==18)throw new hn("should not happen but we got: "+o.getSize())}static isEmpty(s){return s===255}static embedTimingPatterns(s){for(let o=8;o<s.getWidth()-8;++o){const c=(o+1)%2;bt.isEmpty(s.get(o,6))&&s.setNumber(o,6,c),bt.isEmpty(s.get(6,o))&&s.setNumber(6,o,c)}}static embedDarkDotAtLeftBottomCorner(s){if(s.get(8,s.getHeight()-8)===0)throw new hn;s.setNumber(8,s.getHeight()-8,1)}static embedHorizontalSeparationPattern(s,o,c){for(let h=0;h<8;++h){if(!bt.isEmpty(c.get(s+h,o)))throw new hn;c.setNumber(s+h,o,0)}}static embedVerticalSeparationPattern(s,o,c){for(let h=0;h<7;++h){if(!bt.isEmpty(c.get(s,o+h)))throw new hn;c.setNumber(s,o+h,0)}}static embedPositionAdjustmentPattern(s,o,c){for(let h=0;h<5;++h){const g=bt.POSITION_ADJUSTMENT_PATTERN[h];for(let l=0;l<5;++l)c.setNumber(s+l,o+h,g[l])}}static embedPositionDetectionPattern(s,o,c){for(let h=0;h<7;++h){const g=bt.POSITION_DETECTION_PATTERN[h];for(let l=0;l<7;++l)c.setNumber(s+l,o+h,g[l])}}static embedPositionDetectionPatternsAndSeparators(s){const o=bt.POSITION_DETECTION_PATTERN[0].length;bt.embedPositionDetectionPattern(0,0,s),bt.embedPositionDetectionPattern(s.getWidth()-o,0,s),bt.embedPositionDetectionPattern(0,s.getWidth()-o,s);const c=8;bt.embedHorizontalSeparationPattern(0,c-1,s),bt.embedHorizontalSeparationPattern(s.getWidth()-c,c-1,s),bt.embedHorizontalSeparationPattern(0,s.getWidth()-c,s);const h=7;bt.embedVerticalSeparationPattern(h,0,s),bt.embedVerticalSeparationPattern(s.getHeight()-h-1,0,s),bt.embedVerticalSeparationPattern(h,s.getHeight()-h,s)}static maybeEmbedPositionAdjustmentPatterns(s,o){if(s.getVersionNumber()<2)return;const c=s.getVersionNumber()-1,h=bt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[c];for(let g=0,l=h.length;g!==l;g++){const d=h[g];if(d>=0)for(let x=0;x!==l;x++){const w=h[x];w>=0&&bt.isEmpty(o.get(w,d))&&bt.embedPositionAdjustmentPattern(w-2,d-2,o)}}}}bt.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),bt.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),bt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),bt.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),bt.VERSION_INFO_POLY=7973,bt.TYPE_INFO_POLY=1335,bt.TYPE_INFO_MASK_PATTERN=21522;class _r{constructor(s,o){this.dataBytes=s,this.errorCorrectionBytes=o}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class xn{constructor(){}static calculateMaskPenalty(s){return Rt.applyMaskPenaltyRule1(s)+Rt.applyMaskPenaltyRule2(s)+Rt.applyMaskPenaltyRule3(s)+Rt.applyMaskPenaltyRule4(s)}static encode(s,o,c=null){let h=xn.DEFAULT_BYTE_MODE_ENCODING;const g=c!==null&&c.get(xt.CHARACTER_SET)!==void 0;g&&(h=c.get(xt.CHARACTER_SET).toString());const l=this.chooseMode(s,h),d=new j;if(l===Xt.BYTE&&(g||xn.DEFAULT_BYTE_MODE_ENCODING!==h)){const de=z.getCharacterSetECIByName(h);de!==void 0&&this.appendECI(de,d)}this.appendModeInfo(l,d);const x=new j;this.appendBytes(s,l,x,h);let w;if(c!==null&&c.get(xt.QR_VERSION)!==void 0){const de=Number.parseInt(c.get(xt.QR_VERSION).toString(),10);w=Dt.getVersionForNumber(de);const me=this.calculateBitsNeeded(l,d,x,w);if(!this.willFit(me,w,o))throw new hn("Data too big for requested version")}else w=this.recommendVersion(o,l,d,x);const _=new j;_.appendBitArray(d);const N=l===Xt.BYTE?x.getSizeInBytes():s.length;this.appendLengthInfo(N,w,l,_),_.appendBitArray(x);const D=w.getECBlocksForLevel(o),U=w.getTotalCodewords()-D.getTotalECCodewords();this.terminateBits(U,_);const G=this.interleaveWithECBytes(_,w.getTotalCodewords(),U,D.getNumBlocks()),X=new ir;X.setECLevel(o),X.setMode(l),X.setVersion(w);const re=w.getDimensionForVersion(),Q=new Wn(re,re),ge=this.chooseMaskPattern(G,o,w,Q);return X.setMaskPattern(ge),bt.buildMatrix(G,o,w,ge,Q),X.setMatrix(Q),X}static recommendVersion(s,o,c,h){const g=this.calculateBitsNeeded(o,c,h,Dt.getVersionForNumber(1)),l=this.chooseVersion(g,s),d=this.calculateBitsNeeded(o,c,h,l);return this.chooseVersion(d,s)}static calculateBitsNeeded(s,o,c,h){return o.getSize()+s.getCharacterCountBits(h)+c.getSize()}static getAlphanumericCode(s){return s<xn.ALPHANUMERIC_TABLE.length?xn.ALPHANUMERIC_TABLE[s]:-1}static chooseMode(s,o=null){if(z.SJIS.getName()===o&&this.isOnlyDoubleByteKanji(s))return Xt.KANJI;let c=!1,h=!1;for(let g=0,l=s.length;g<l;++g){const d=s.charAt(g);if(xn.isDigit(d))c=!0;else if(this.getAlphanumericCode(d.charCodeAt(0))!==-1)h=!0;else return Xt.BYTE}return h?Xt.ALPHANUMERIC:c?Xt.NUMERIC:Xt.BYTE}static isOnlyDoubleByteKanji(s){let o;try{o=H.encode(s,z.SJIS)}catch{return!1}const c=o.length;if(c%2!==0)return!1;for(let h=0;h<c;h+=2){const g=o[h]&255;if((g<129||g>159)&&(g<224||g>235))return!1}return!0}static chooseMaskPattern(s,o,c,h){let g=Number.MAX_SAFE_INTEGER,l=-1;for(let d=0;d<ir.NUM_MASK_PATTERNS;d++){bt.buildMatrix(s,o,c,d,h);let x=this.calculateMaskPenalty(h);x<g&&(g=x,l=d)}return l}static chooseVersion(s,o){for(let c=1;c<=40;c++){const h=Dt.getVersionForNumber(c);if(xn.willFit(s,h,o))return h}throw new hn("Data too big")}static willFit(s,o,c){const h=o.getTotalCodewords(),l=o.getECBlocksForLevel(c).getTotalECCodewords(),d=h-l,x=(s+7)/8;return d>=x}static terminateBits(s,o){const c=s*8;if(o.getSize()>c)throw new hn("data bits cannot fit in the QR Code"+o.getSize()+" > "+c);for(let l=0;l<4&&o.getSize()<c;++l)o.appendBit(!1);const h=o.getSize()&7;if(h>0)for(let l=h;l<8;l++)o.appendBit(!1);const g=s-o.getSizeInBytes();for(let l=0;l<g;++l)o.appendBits(l&1?17:236,8);if(o.getSize()!==c)throw new hn("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(s,o,c,h,g,l){if(h>=c)throw new hn("Block ID too large");const d=s%c,x=c-d,w=Math.floor(s/c),_=w+1,N=Math.floor(o/c),D=N+1,U=w-N,G=_-D;if(U!==G)throw new hn("EC bytes mismatch");if(c!==x+d)throw new hn("RS blocks mismatch");if(s!==(N+U)*x+(D+G)*d)throw new hn("Total bytes mismatch");h<x?(g[0]=N,l[0]=U):(g[0]=D,l[0]=G)}static interleaveWithECBytes(s,o,c,h){if(s.getSizeInBytes()!==c)throw new hn("Number of bits and data bytes does not match");let g=0,l=0,d=0;const x=new Array;for(let _=0;_<h;++_){const N=new Int32Array(1),D=new Int32Array(1);xn.getNumDataBytesAndNumECBytesForBlockID(o,c,h,_,N,D);const U=N[0],G=new Uint8Array(U);s.toBytes(8*g,G,0,U);const X=xn.generateECBytes(G,D[0]);x.push(new _r(G,X)),l=Math.max(l,U),d=Math.max(d,X.length),g+=N[0]}if(c!==g)throw new hn("Data bytes does not match offset");const w=new j;for(let _=0;_<l;++_)for(const N of x){const D=N.getDataBytes();_<D.length&&w.appendBits(D[_],8)}for(let _=0;_<d;++_)for(const N of x){const D=N.getErrorCorrectionBytes();_<D.length&&w.appendBits(D[_],8)}if(o!==w.getSizeInBytes())throw new hn("Interleaving error: "+o+" and "+w.getSizeInBytes()+" differ.");return w}static generateECBytes(s,o){const c=s.length,h=new Int32Array(c+o);for(let l=0;l<c;l++)h[l]=s[l]&255;new fn(Je.QR_CODE_FIELD_256).encode(h,o);const g=new Uint8Array(o);for(let l=0;l<o;l++)g[l]=h[c+l];return g}static appendModeInfo(s,o){o.appendBits(s.getBits(),4)}static appendLengthInfo(s,o,c,h){const g=c.getCharacterCountBits(o);if(s>=1<<g)throw new hn(s+" is bigger than "+((1<<g)-1));h.appendBits(s,g)}static appendBytes(s,o,c,h){switch(o){case Xt.NUMERIC:xn.appendNumericBytes(s,c);break;case Xt.ALPHANUMERIC:xn.appendAlphanumericBytes(s,c);break;case Xt.BYTE:xn.append8BitBytes(s,c,h);break;case Xt.KANJI:xn.appendKanjiBytes(s,c);break;default:throw new hn("Invalid mode: "+o)}}static getDigit(s){return s.charCodeAt(0)-48}static isDigit(s){const o=xn.getDigit(s);return o>=0&&o<=9}static appendNumericBytes(s,o){const c=s.length;let h=0;for(;h<c;){const g=xn.getDigit(s.charAt(h));if(h+2<c){const l=xn.getDigit(s.charAt(h+1)),d=xn.getDigit(s.charAt(h+2));o.appendBits(g*100+l*10+d,10),h+=3}else if(h+1<c){const l=xn.getDigit(s.charAt(h+1));o.appendBits(g*10+l,7),h+=2}else o.appendBits(g,4),h++}}static appendAlphanumericBytes(s,o){const c=s.length;let h=0;for(;h<c;){const g=xn.getAlphanumericCode(s.charCodeAt(h));if(g===-1)throw new hn;if(h+1<c){const l=xn.getAlphanumericCode(s.charCodeAt(h+1));if(l===-1)throw new hn;o.appendBits(g*45+l,11),h+=2}else o.appendBits(g,6),h++}}static append8BitBytes(s,o,c){let h;try{h=H.encode(s,c)}catch(g){throw new hn(g)}for(let g=0,l=h.length;g!==l;g++){const d=h[g];o.appendBits(d,8)}}static appendKanjiBytes(s,o){let c;try{c=H.encode(s,z.SJIS)}catch(g){throw new hn(g)}const h=c.length;for(let g=0;g<h;g+=2){const l=c[g]&255,d=c[g+1]&255,x=l<<8&4294967295|d;let w=-1;if(x>=33088&&x<=40956?w=x-33088:x>=57408&&x<=60351&&(w=x-49472),w===-1)throw new hn("Invalid byte sequence");const _=(w>>8)*192+(w&255);o.appendBits(_,13)}}static appendECI(s,o){o.appendBits(Xt.ECI.getBits(),4),o.appendBits(s.getValue(),8)}}xn.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),xn.DEFAULT_BYTE_MODE_ENCODING=z.UTF8.getName();class Cr{write(s,o,c,h=null){if(s.length===0)throw new S("Found empty contents");if(o<0||c<0)throw new S("Requested dimensions are too small: "+o+"x"+c);let g=Qn.L,l=Cr.QUIET_ZONE_SIZE;h!==null&&(h.get(xt.ERROR_CORRECTION)!==void 0&&(g=Qn.fromString(h.get(xt.ERROR_CORRECTION).toString())),h.get(xt.MARGIN)!==void 0&&(l=Number.parseInt(h.get(xt.MARGIN).toString(),10)));const d=xn.encode(s,g,h);return this.renderResult(d,o,c,l)}writeToDom(s,o,c,h,g=null){typeof s=="string"&&(s=document.querySelector(s));const l=this.write(o,c,h,g);s&&s.appendChild(l)}renderResult(s,o,c,h){const g=s.getMatrix();if(g===null)throw new be;const l=g.getWidth(),d=g.getHeight(),x=l+h*2,w=d+h*2,_=Math.max(o,x),N=Math.max(c,w),D=Math.min(Math.floor(_/x),Math.floor(N/w)),U=Math.floor((_-l*D)/2),G=Math.floor((N-d*D)/2),X=this.createSVGElement(_,N);for(let re=0,Q=G;re<d;re++,Q+=D)for(let ge=0,de=U;ge<l;ge++,de+=D)if(g.get(ge,re)===1){const me=this.createSvgRectElement(de,Q,D,D);X.appendChild(me)}return X}createSVGElement(s,o){const c=document.createElementNS(Cr.SVG_NS,"svg");return c.setAttributeNS(null,"height",s.toString()),c.setAttributeNS(null,"width",o.toString()),c}createSvgRectElement(s,o,c,h){const g=document.createElementNS(Cr.SVG_NS,"rect");return g.setAttributeNS(null,"x",s.toString()),g.setAttributeNS(null,"y",o.toString()),g.setAttributeNS(null,"height",c.toString()),g.setAttributeNS(null,"width",h.toString()),g.setAttributeNS(null,"fill","#000000"),g}}Cr.QUIET_ZONE_SIZE=4,Cr.SVG_NS="http://www.w3.org/2000/svg";class ni{encode(s,o,c,h,g){if(s.length===0)throw new S("Found empty contents");if(o!==se.QR_CODE)throw new S("Can only encode QR_CODE, but got "+o);if(c<0||h<0)throw new S(`Requested dimensions are too small: ${c}x${h}`);let l=Qn.L,d=ni.QUIET_ZONE_SIZE;g!==null&&(g.get(xt.ERROR_CORRECTION)!==void 0&&(l=Qn.fromString(g.get(xt.ERROR_CORRECTION).toString())),g.get(xt.MARGIN)!==void 0&&(d=Number.parseInt(g.get(xt.MARGIN).toString(),10)));const x=xn.encode(s,l,g);return ni.renderResult(x,c,h,d)}static renderResult(s,o,c,h){const g=s.getMatrix();if(g===null)throw new be;const l=g.getWidth(),d=g.getHeight(),x=l+h*2,w=d+h*2,_=Math.max(o,x),N=Math.max(c,w),D=Math.min(Math.floor(_/x),Math.floor(N/w)),U=Math.floor((_-l*D)/2),G=Math.floor((N-d*D)/2),X=new oe(_,N);for(let re=0,Q=G;re<d;re++,Q+=D)for(let ge=0,de=U;ge<l;ge++,de+=D)g.get(ge,re)===1&&X.setRegion(de,Q,D,D);return X}}ni.QUIET_ZONE_SIZE=4;class ki{encode(s,o,c,h,g){let l;switch(o){case se.QR_CODE:l=new ni;break;default:throw new S("No encoder available for format "+o)}return l.encode(s,o,c,h,g)}}class Gi extends ne{constructor(s,o,c,h,g,l,d,x){if(super(l,d),this.yuvData=s,this.dataWidth=o,this.dataHeight=c,this.left=h,this.top=g,h+l>o||g+d>c)throw new S("Crop rectangle does not fit within image data.");x&&this.reverseHorizontal(l,d)}getRow(s,o){if(s<0||s>=this.getHeight())throw new S("Requested row is outside the image: "+s);const c=this.getWidth();(o==null||o.length<c)&&(o=new Uint8ClampedArray(c));const h=(s+this.top)*this.dataWidth+this.left;return I.arraycopy(this.yuvData,h,o,0,c),o}getMatrix(){const s=this.getWidth(),o=this.getHeight();if(s===this.dataWidth&&o===this.dataHeight)return this.yuvData;const c=s*o,h=new Uint8ClampedArray(c);let g=this.top*this.dataWidth+this.left;if(s===this.dataWidth)return I.arraycopy(this.yuvData,g,h,0,c),h;for(let l=0;l<o;l++){const d=l*s;I.arraycopy(this.yuvData,g,h,d,s),g+=this.dataWidth}return h}isCropSupported(){return!0}crop(s,o,c,h){return new Gi(this.yuvData,this.dataWidth,this.dataHeight,this.left+s,this.top+o,c,h,!1)}renderThumbnail(){const s=this.getWidth()/Gi.THUMBNAIL_SCALE_FACTOR,o=this.getHeight()/Gi.THUMBNAIL_SCALE_FACTOR,c=new Int32Array(s*o),h=this.yuvData;let g=this.top*this.dataWidth+this.left;for(let l=0;l<o;l++){const d=l*s;for(let x=0;x<s;x++){const w=h[g+x*Gi.THUMBNAIL_SCALE_FACTOR]&255;c[d+x]=4278190080|w*65793}g+=this.dataWidth*Gi.THUMBNAIL_SCALE_FACTOR}return c}getThumbnailWidth(){return this.getWidth()/Gi.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Gi.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(s,o){const c=this.yuvData;for(let h=0,g=this.top*this.dataWidth+this.left;h<o;h++,g+=this.dataWidth){const l=g+s/2;for(let d=g,x=g+s-1;d<l;d++,x--){const w=c[d];c[d]=c[x],c[x]=w}}}invert(){return new _e(this)}}Gi.THUMBNAIL_SCALE_FACTOR=2;class Ua extends ne{constructor(s,o,c,h,g,l,d){if(super(o,c),this.dataWidth=h,this.dataHeight=g,this.left=l,this.top=d,s.BYTES_PER_ELEMENT===4){const x=o*c,w=new Uint8ClampedArray(x);for(let _=0;_<x;_++){const N=s[_],D=N>>16&255,U=N>>7&510,G=N&255;w[_]=(D+U+G)/4&255}this.luminances=w}else this.luminances=s;if(h===void 0&&(this.dataWidth=o),g===void 0&&(this.dataHeight=c),l===void 0&&(this.left=0),d===void 0&&(this.top=0),this.left+o>this.dataWidth||this.top+c>this.dataHeight)throw new S("Crop rectangle does not fit within image data.")}getRow(s,o){if(s<0||s>=this.getHeight())throw new S("Requested row is outside the image: "+s);const c=this.getWidth();(o==null||o.length<c)&&(o=new Uint8ClampedArray(c));const h=(s+this.top)*this.dataWidth+this.left;return I.arraycopy(this.luminances,h,o,0,c),o}getMatrix(){const s=this.getWidth(),o=this.getHeight();if(s===this.dataWidth&&o===this.dataHeight)return this.luminances;const c=s*o,h=new Uint8ClampedArray(c);let g=this.top*this.dataWidth+this.left;if(s===this.dataWidth)return I.arraycopy(this.luminances,g,h,0,c),h;for(let l=0;l<o;l++){const d=l*s;I.arraycopy(this.luminances,g,h,d,s),g+=this.dataWidth}return h}isCropSupported(){return!0}crop(s,o,c,h){return new Ua(this.luminances,c,h,this.dataWidth,this.dataHeight,this.left+s,this.top+o)}invert(){return new _e(this)}}class na extends z{static forName(s){return this.getCharacterSetECIByName(s)}}class ns{}ns.ISO_8859_1=z.ISO8859_1;class za{isCompact(){return this.compact}setCompact(s){this.compact=s}getSize(){return this.size}setSize(s){this.size=s}getLayers(){return this.layers}setLayers(s){this.layers=s}getCodeWords(){return this.codeWords}setCodeWords(s){this.codeWords=s}getMatrix(){return this.matrix}setMatrix(s){this.matrix=s}}class ra{static singletonList(s){return[s]}static min(s,o){return s.sort(o)[0]}}class ya{constructor(s){this.previous=s}getPrevious(){return this.previous}}class qr extends ya{constructor(s,o,c){super(s),this.value=o,this.bitCount=c}appendTo(s,o){s.appendBits(this.value,this.bitCount)}add(s,o){return new qr(this,s,o)}addBinaryShift(s,o){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new qr(this,s,o)}toString(){let s=this.value&(1<<this.bitCount)-1;return s|=1<<this.bitCount,"<"+L.toBinaryString(s|1<<this.bitCount).substring(1)+">"}}class ia extends qr{constructor(s,o,c){super(s,0,0),this.binaryShiftStart=o,this.binaryShiftByteCount=c}appendTo(s,o){for(let c=0;c<this.binaryShiftByteCount;c++)(c===0||c===31&&this.binaryShiftByteCount<=62)&&(s.appendBits(31,5),this.binaryShiftByteCount>62?s.appendBits(this.binaryShiftByteCount-31,16):c===0?s.appendBits(Math.min(this.binaryShiftByteCount,31),5):s.appendBits(this.binaryShiftByteCount-31,5)),s.appendBits(o[this.binaryShiftStart+c],8)}addBinaryShift(s,o){return new ia(this,s,o)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function ro(q,s,o){return new ia(q,s,o)}function sa(q,s,o){return new qr(q,s,o)}const Lo=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],or=0,rs=1,si=2,Do=3,zr=4,io=new qr(null,0,0),so=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function sl(q){for(let s of q)O.fill(s,-1);return q[or][zr]=0,q[rs][zr]=0,q[rs][or]=28,q[Do][zr]=0,q[si][zr]=0,q[si][or]=15,q}const ys=sl(O.createInt32Array(6,6));class kr{constructor(s,o,c,h){this.token=s,this.mode=o,this.binaryShiftByteCount=c,this.bitCount=h}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(s,o){let c=this.bitCount,h=this.token;if(s!==this.mode){let l=so[this.mode][s];h=sa(h,l&65535,l>>16),c+=l>>16}let g=s===si?4:5;return h=sa(h,o,g),new kr(h,s,0,c+g)}shiftAndAppend(s,o){let c=this.token,h=this.mode===si?4:5;return c=sa(c,ys[this.mode][s],h),c=sa(c,o,5),new kr(c,this.mode,0,this.bitCount+h+5)}addBinaryShiftChar(s){let o=this.token,c=this.mode,h=this.bitCount;if(this.mode===zr||this.mode===si){let d=so[c][or];o=sa(o,d&65535,d>>16),h+=d>>16,c=or}let g=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,l=new kr(o,c,this.binaryShiftByteCount+1,h+g);return l.binaryShiftByteCount===2078&&(l=l.endBinaryShift(s+1)),l}endBinaryShift(s){if(this.binaryShiftByteCount===0)return this;let o=this.token;return o=ro(o,s-this.binaryShiftByteCount,this.binaryShiftByteCount),new kr(o,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(s){let o=this.bitCount+(so[this.mode][s.mode]>>16);return this.binaryShiftByteCount<s.binaryShiftByteCount?o+=kr.calculateBinaryShiftCost(s)-kr.calculateBinaryShiftCost(this):this.binaryShiftByteCount>s.binaryShiftByteCount&&s.binaryShiftByteCount>0&&(o+=10),o<=s.bitCount}toBitArray(s){let o=[];for(let h=this.endBinaryShift(s.length).token;h!==null;h=h.getPrevious())o.unshift(h);let c=new j;for(const h of o)h.appendTo(c,s);return c}toString(){return K.format("%s bits=%d bytes=%d",Lo[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(s){return s.binaryShiftByteCount>62?21:s.binaryShiftByteCount>31?20:s.binaryShiftByteCount>0?10:0}}kr.INITIAL_STATE=new kr(io,or,0,0);function $n(q){const s=K.getCharCode(" "),o=K.getCharCode("."),c=K.getCharCode(",");q[or][s]=1;const h=K.getCharCode("Z"),g=K.getCharCode("A");for(let D=g;D<=h;D++)q[or][D]=D-g+2;q[rs][s]=1;const l=K.getCharCode("z"),d=K.getCharCode("a");for(let D=d;D<=l;D++)q[rs][D]=D-d+2;q[si][s]=1;const x=K.getCharCode("9"),w=K.getCharCode("0");for(let D=w;D<=x;D++)q[si][D]=D-w+2;q[si][c]=12,q[si][o]=13;const _=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let D=0;D<_.length;D++)q[Do][K.getCharCode(_[D])]=D;const N=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let D=0;D<N.length;D++)K.getCharCode(N[D])>0&&(q[zr][K.getCharCode(N[D])]=D);return q}const di=$n(O.createInt32Array(5,256));class Mr{constructor(s){this.text=s}encode(){const s=K.getCharCode(" "),o=K.getCharCode(`
`);let c=ra.singletonList(kr.INITIAL_STATE);for(let g=0;g<this.text.length;g++){let l,d=g+1<this.text.length?this.text[g+1]:0;switch(this.text[g]){case K.getCharCode("\r"):l=d===o?2:0;break;case K.getCharCode("."):l=d===s?3:0;break;case K.getCharCode(","):l=d===s?4:0;break;case K.getCharCode(":"):l=d===s?5:0;break;default:l=0}l>0?(c=Mr.updateStateListForPair(c,g,l),g++):c=this.updateStateListForChar(c,g)}return ra.min(c,(g,l)=>g.getBitCount()-l.getBitCount()).toBitArray(this.text)}updateStateListForChar(s,o){const c=[];for(let h of s)this.updateStateForChar(h,o,c);return Mr.simplifyStates(c)}updateStateForChar(s,o,c){let h=this.text[o]&255,g=di[s.getMode()][h]>0,l=null;for(let d=0;d<=zr;d++){let x=di[d][h];if(x>0){if(l==null&&(l=s.endBinaryShift(o)),!g||d===s.getMode()||d===si){const w=l.latchAndAppend(d,x);c.push(w)}if(!g&&ys[s.getMode()][d]>=0){const w=l.shiftAndAppend(d,x);c.push(w)}}}if(s.getBinaryShiftByteCount()>0||di[s.getMode()][h]===0){let d=s.addBinaryShiftChar(o);c.push(d)}}static updateStateListForPair(s,o,c){const h=[];for(let g of s)this.updateStateForPair(g,o,c,h);return this.simplifyStates(h)}static updateStateForPair(s,o,c,h){let g=s.endBinaryShift(o);if(h.push(g.latchAndAppend(zr,c)),s.getMode()!==zr&&h.push(g.shiftAndAppend(zr,c)),c===3||c===4){let l=g.latchAndAppend(si,16-c).latchAndAppend(si,1);h.push(l)}if(s.getBinaryShiftByteCount()>0){let l=s.addBinaryShiftChar(o).addBinaryShiftChar(o+1);h.push(l)}}static simplifyStates(s){let o=[];for(const c of s){let h=!0;for(const g of o){if(g.isBetterThanOrEqualTo(c)){h=!1;break}c.isBetterThanOrEqualTo(g)&&(o=o.filter(l=>l!==g))}h&&o.push(c)}return o}}class _n{constructor(){}static encodeBytes(s){return _n.encode(s,_n.DEFAULT_EC_PERCENT,_n.DEFAULT_AZTEC_LAYERS)}static encode(s,o,c){let h=new Mr(s).encode(),g=L.truncDivision(h.getSize()*o,100)+11,l=h.getSize()+g,d,x,w,_,N;if(c!==_n.DEFAULT_AZTEC_LAYERS){if(d=c<0,x=Math.abs(c),x>(d?_n.MAX_NB_BITS_COMPACT:_n.MAX_NB_BITS))throw new S(K.format("Illegal value %s for layers",c));w=_n.totalBitsInLayer(x,d),_=_n.WORD_SIZE[x];let me=w-w%_;if(N=_n.stuffBits(h,_),N.getSize()+g>me)throw new S("Data to large for user specified layer");if(d&&N.getSize()>_*64)throw new S("Data to large for user specified layer")}else{_=0,N=null;for(let me=0;;me++){if(me>_n.MAX_NB_BITS)throw new S("Data too large for an Aztec code");if(d=me<=3,x=d?me+1:me,w=_n.totalBitsInLayer(x,d),l>w)continue;(N==null||_!==_n.WORD_SIZE[x])&&(_=_n.WORD_SIZE[x],N=_n.stuffBits(h,_));let Te=w-w%_;if(!(d&&N.getSize()>_*64)&&N.getSize()+g<=Te)break}}let D=_n.generateCheckWords(N,w,_),U=N.getSize()/_,G=_n.generateModeMessage(d,x,U),X=(d?11:14)+x*4,re=new Int32Array(X),Q;if(d){Q=X;for(let me=0;me<re.length;me++)re[me]=me}else{Q=X+1+2*L.truncDivision(L.truncDivision(X,2)-1,15);let me=L.truncDivision(X,2),Te=L.truncDivision(Q,2);for(let ke=0;ke<me;ke++){let De=ke+L.truncDivision(ke,15);re[me-ke-1]=Te-De-1,re[me+ke]=Te+De+1}}let ge=new oe(Q);for(let me=0,Te=0;me<x;me++){let ke=(x-me)*4+(d?9:12);for(let De=0;De<ke;De++){let He=De*2;for(let Xe=0;Xe<2;Xe++)D.get(Te+He+Xe)&&ge.set(re[me*2+Xe],re[me*2+De]),D.get(Te+ke*2+He+Xe)&&ge.set(re[me*2+De],re[X-1-me*2-Xe]),D.get(Te+ke*4+He+Xe)&&ge.set(re[X-1-me*2-Xe],re[X-1-me*2-De]),D.get(Te+ke*6+He+Xe)&&ge.set(re[X-1-me*2-De],re[me*2+Xe])}Te+=ke*8}if(_n.drawModeMessage(ge,d,Q,G),d)_n.drawBullsEye(ge,L.truncDivision(Q,2),5);else{_n.drawBullsEye(ge,L.truncDivision(Q,2),7);for(let me=0,Te=0;me<L.truncDivision(X,2)-1;me+=15,Te+=16)for(let ke=L.truncDivision(Q,2)&1;ke<Q;ke+=2)ge.set(L.truncDivision(Q,2)-Te,ke),ge.set(L.truncDivision(Q,2)+Te,ke),ge.set(ke,L.truncDivision(Q,2)-Te),ge.set(ke,L.truncDivision(Q,2)+Te)}let de=new za;return de.setCompact(d),de.setSize(Q),de.setLayers(x),de.setCodeWords(U),de.setMatrix(ge),de}static drawBullsEye(s,o,c){for(let h=0;h<c;h+=2)for(let g=o-h;g<=o+h;g++)s.set(g,o-h),s.set(g,o+h),s.set(o-h,g),s.set(o+h,g);s.set(o-c,o-c),s.set(o-c+1,o-c),s.set(o-c,o-c+1),s.set(o+c,o-c),s.set(o+c,o-c+1),s.set(o+c,o+c-1)}static generateModeMessage(s,o,c){let h=new j;return s?(h.appendBits(o-1,2),h.appendBits(c-1,6),h=_n.generateCheckWords(h,28,4)):(h.appendBits(o-1,5),h.appendBits(c-1,11),h=_n.generateCheckWords(h,40,4)),h}static drawModeMessage(s,o,c,h){let g=L.truncDivision(c,2);if(o)for(let l=0;l<7;l++){let d=g-3+l;h.get(l)&&s.set(d,g-5),h.get(l+7)&&s.set(g+5,d),h.get(20-l)&&s.set(d,g+5),h.get(27-l)&&s.set(g-5,d)}else for(let l=0;l<10;l++){let d=g-5+l+L.truncDivision(l,5);h.get(l)&&s.set(d,g-7),h.get(l+10)&&s.set(g+7,d),h.get(29-l)&&s.set(d,g+7),h.get(39-l)&&s.set(g-7,d)}}static generateCheckWords(s,o,c){let h=s.getSize()/c,g=new fn(_n.getGF(c)),l=L.truncDivision(o,c),d=_n.bitsToWords(s,c,l);g.encode(d,l-h);let x=o%c,w=new j;w.appendBits(0,x);for(const _ of Array.from(d))w.appendBits(_,c);return w}static bitsToWords(s,o,c){let h=new Int32Array(c),g,l;for(g=0,l=s.getSize()/o;g<l;g++){let d=0;for(let x=0;x<o;x++)d|=s.get(g*o+x)?1<<o-x-1:0;h[g]=d}return h}static getGF(s){switch(s){case 4:return Je.AZTEC_PARAM;case 6:return Je.AZTEC_DATA_6;case 8:return Je.AZTEC_DATA_8;case 10:return Je.AZTEC_DATA_10;case 12:return Je.AZTEC_DATA_12;default:throw new S("Unsupported word size "+s)}}static stuffBits(s,o){let c=new j,h=s.getSize(),g=(1<<o)-2;for(let l=0;l<h;l+=o){let d=0;for(let x=0;x<o;x++)(l+x>=h||s.get(l+x))&&(d|=1<<o-1-x);(d&g)===g?(c.appendBits(d&g,o),l--):d&g?c.appendBits(d,o):(c.appendBits(d|1,o),l--)}return c}static totalBitsInLayer(s,o){return((o?88:112)+16*s)*s}}_n.DEFAULT_EC_PERCENT=33,_n.DEFAULT_AZTEC_LAYERS=0,_n.MAX_NB_BITS=32,_n.MAX_NB_BITS_COMPACT=4,_n.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class is{encode(s,o,c,h){return this.encodeWithHints(s,o,c,h,null)}encodeWithHints(s,o,c,h,g){let l=ns.ISO_8859_1,d=_n.DEFAULT_EC_PERCENT,x=_n.DEFAULT_AZTEC_LAYERS;return g!=null&&(g.has(xt.CHARACTER_SET)&&(l=na.forName(g.get(xt.CHARACTER_SET).toString())),g.has(xt.ERROR_CORRECTION)&&(d=L.parseInt(g.get(xt.ERROR_CORRECTION).toString())),g.has(xt.AZTEC_LAYERS)&&(x=L.parseInt(g.get(xt.AZTEC_LAYERS).toString()))),is.encodeLayers(s,o,c,h,l,d,x)}static encodeLayers(s,o,c,h,g,l,d){if(o!==se.AZTEC)throw new S("Can only encode AZTEC, but got "+o);let x=_n.encode(K.getBytes(s,g),l,d);return is.renderResult(x,c,h)}static renderResult(s,o,c){let h=s.getMatrix();if(h==null)throw new be;let g=h.getWidth(),l=h.getHeight(),d=Math.max(o,g),x=Math.max(c,l),w=Math.min(d/g,x/l),_=(d-g*w)/2,N=(x-l*w)/2,D=new oe(d,x);for(let U=0,G=N;U<l;U++,G+=w)for(let X=0,re=_;X<g;X++,re+=w)h.get(X,U)&&D.setRegion(re,G,w,w);return D}}n.AbstractExpandedDecoder=ei,n.ArgumentException=y,n.ArithmeticException=Ge,n.AztecCode=za,n.AztecCodeReader=Ft,n.AztecCodeWriter=is,n.AztecDecoder=gt,n.AztecDetector=$t,n.AztecDetectorResult=Ot,n.AztecEncoder=_n,n.AztecHighLevelEncoder=Mr,n.AztecPoint=Ct,n.BarcodeFormat=se,n.Binarizer=R,n.BinaryBitmap=E,n.BitArray=j,n.BitMatrix=oe,n.BitSource=Lr,n.BrowserAztecCodeReader=Un,n.BrowserBarcodeReader=Ls,n.BrowserCodeReader=ae,n.BrowserDatamatrixCodeReader=ms,n.BrowserMultiFormatReader=Fe,n.BrowserPDF417Reader=et,n.BrowserQRCodeReader=nt,n.BrowserQRCodeSvgWriter=Cr,n.CharacterSetECI=z,n.ChecksumException=A,n.Code128Reader=Ze,n.Code39Reader=It,n.DataMatrixDecodedBitStreamParser=ps,n.DataMatrixReader=Ur,n.DecodeHintType=ce,n.DecoderResult=Ie,n.DefaultGridSampler=An,n.DetectorResult=cn,n.EAN13Reader=Pn,n.EncodeHintType=xt,n.Exception=p,n.FormatException=Y,n.GenericGF=Je,n.GenericGFPoly=ze,n.GlobalHistogramBinarizer=Ne,n.GridSampler=an,n.GridSamplerInstance=tn,n.HTMLCanvasElementLuminanceSource=ve,n.HybridBinarizer=Ce,n.ITFReader=it,n.IllegalArgumentException=S,n.IllegalStateException=be,n.InvertedLuminanceSource=_e,n.LuminanceSource=ne,n.MathUtils=Qe,n.MultiFormatOneDReader=Os,n.MultiFormatReader=Pe,n.MultiFormatWriter=ki,n.NotFoundException=te,n.OneDReader=Vt,n.PDF417DecodedBitStreamParser=$e,n.PDF417DecoderErrorCorrection=Ba,n.PDF417Reader=V,n.PDF417ResultMetadata=xa,n.PerspectiveTransform=Nt,n.PlanarYUVLuminanceSource=Gi,n.QRCodeByteMatrix=Wn,n.QRCodeDataMask=Ii,n.QRCodeDecodedBitStreamParser=Ar,n.QRCodeDecoderErrorCorrectionLevel=Qn,n.QRCodeDecoderFormatInformation=Vr,n.QRCodeEncoder=xn,n.QRCodeEncoderQRCode=ir,n.QRCodeMaskUtil=Rt,n.QRCodeMatrixUtil=bt,n.QRCodeMode=Xt,n.QRCodeReader=Vi,n.QRCodeVersion=Dt,n.QRCodeWriter=ni,n.RGBLuminanceSource=Ua,n.RSS14Reader=fr,n.RSSExpandedReader=at,n.ReaderException=ye,n.ReedSolomonDecoder=ln,n.ReedSolomonEncoder=fn,n.ReedSolomonException=Ye,n.Result=fe,n.ResultMetadataType=Re,n.ResultPoint=Ke,n.StringUtils=K,n.UnsupportedOperationException=he,n.VideoInputDevice=Le,n.WhiteRectangleDetector=bn,n.WriterException=hn,n.ZXingArrays=O,n.ZXingCharset=na,n.ZXingInteger=L,n.ZXingStandardCharsets=ns,n.ZXingStringBuilder=ue,n.ZXingStringEncoding=H,n.ZXingSystem=I,n.createAbstractExpandedDecoder=Zs,Object.defineProperty(n,"__esModule",{value:!0})})})(Ix,Ix.exports);var Yr=Ix.exports;const tz=gp(Yr),nz=c4({__proto__:null,default:tz},[Yr]);var B3=function(){function e(t,n,r){if(this.formatMap=new Map([[jt.QR_CODE,Yr.BarcodeFormat.QR_CODE],[jt.AZTEC,Yr.BarcodeFormat.AZTEC],[jt.CODABAR,Yr.BarcodeFormat.CODABAR],[jt.CODE_39,Yr.BarcodeFormat.CODE_39],[jt.CODE_93,Yr.BarcodeFormat.CODE_93],[jt.CODE_128,Yr.BarcodeFormat.CODE_128],[jt.DATA_MATRIX,Yr.BarcodeFormat.DATA_MATRIX],[jt.MAXICODE,Yr.BarcodeFormat.MAXICODE],[jt.ITF,Yr.BarcodeFormat.ITF],[jt.EAN_13,Yr.BarcodeFormat.EAN_13],[jt.EAN_8,Yr.BarcodeFormat.EAN_8],[jt.PDF_417,Yr.BarcodeFormat.PDF_417],[jt.RSS_14,Yr.BarcodeFormat.RSS_14],[jt.RSS_EXPANDED,Yr.BarcodeFormat.RSS_EXPANDED],[jt.UPC_A,Yr.BarcodeFormat.UPC_A],[jt.UPC_E,Yr.BarcodeFormat.UPC_E],[jt.UPC_EAN_EXTENSION,Yr.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!nz)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=r;var i=this.createZXingFormats(t),a=new Map;a.set(Yr.DecodeHintType.POSSIBLE_FORMATS,i),a.set(Yr.DecodeHintType.TRY_HARDER,!1),this.hints=a}return e.prototype.decodeAsync=function(t){var n=this;return new Promise(function(r,i){try{r(n.decode(t))}catch(a){i(a)}})},e.prototype.decode=function(t){var n=new Yr.MultiFormatReader(this.verbose,this.hints),r=new Yr.HTMLCanvasElementLuminanceSource(t),i=new Yr.BinaryBitmap(new Yr.HybridBinarizer(r)),a=n.decode(i);return{text:a.text,format:pE.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,i){t.set(n,r)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var n=[],r=0,i=t;r<i.length;r++){var a=i[r];this.formatMap.has(a)?n.push(this.formatMap.get(a)):this.logger.logError("".concat(a," is not supported by")+"ZXingHtml5QrcodeShim")}return n},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),rz=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function f(y){try{p(r.next(y))}catch(S){u(S)}}function m(y){try{p(r.throw(y))}catch(S){u(S)}}function p(y){y.done?a(y.value):i(y.value).then(f,m)}p((r=r.apply(e,t||[])).next())})},iz=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,u;return u={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function f(p){return function(y){return m([p,y])}}function m(p){if(r)throw new TypeError("Generator is already executing.");for(;u&&(u=0,p[0]&&(n=0)),n;)try{if(r=1,i&&(a=p[0]&2?i.return:p[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,p[1])).done)return a;switch(i=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,i=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){n.label=p[1];break}if(p[0]===6&&n.label<a[1]){n.label=a[1],a=p;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(p);break}a[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(y){p=[6,y],i=0}finally{r=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},U3=function(){function e(t,n,r){if(this.formatMap=new Map([[jt.QR_CODE,"qr_code"],[jt.AZTEC,"aztec"],[jt.CODABAR,"codabar"],[jt.CODE_39,"code_39"],[jt.CODE_93,"code_93"],[jt.CODE_128,"code_128"],[jt.DATA_MATRIX,"data_matrix"],[jt.ITF,"itf"],[jt.EAN_13,"ean_13"],[jt.EAN_8,"ean_8"],[jt.PDF_417,"pdf417"],[jt.UPC_A,"upc_a"],[jt.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=r;var i=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(i),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return rz(this,void 0,void 0,function(){var n,r;return iz(this,function(i){switch(i.label){case 0:return[4,this.detector.detect(t)];case 1:if(n=i.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return r=this.selectLargestBarcode(n),[2,{text:r.rawValue,format:pE.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var n=null,r=0,i=0,a=t;i<a.length;i++){var u=a[i],f=u.boundingBox.width*u.boundingBox.height;f>r&&(r=f,n=u)}if(!n)throw"No largest barcode found";return n},e.prototype.createBarcodeDetectorFormats=function(t){for(var n=[],r=0,i=t;r<i.length;r++){var a=i[r];this.formatMap.has(a)?n.push(this.formatMap.get(a)):this.logger.warn("".concat(a," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,i){t.set(n,r)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),z3=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function f(y){try{p(r.next(y))}catch(S){u(S)}}function m(y){try{p(r.throw(y))}catch(S){u(S)}}function p(y){y.done?a(y.value):i(y.value).then(f,m)}p((r=r.apply(e,t||[])).next())})},W3=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,u;return u={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function f(p){return function(y){return m([p,y])}}function m(p){if(r)throw new TypeError("Generator is already executing.");for(;u&&(u=0,p[0]&&(n=0)),n;)try{if(r=1,i&&(a=p[0]&2?i.return:p[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,p[1])).done)return a;switch(i=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,i=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){n.label=p[1];break}if(p[0]===6&&n.label<a[1]){n.label=a[1],a=p;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(p);break}a[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(y){p=[6,y],i=0}finally{r=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},sz=function(){function e(t,n,r,i){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,n&&U3.isSupported()?(this.primaryDecoder=new U3(t,r,i),this.secondaryDecoder=new B3(t,r,i)):this.primaryDecoder=new B3(t,r,i)}return e.prototype.decodeAsync=function(t){return z3(this,void 0,void 0,function(){var n;return W3(this,function(r){switch(r.label){case 0:n=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return z3(this,void 0,void 0,function(){var n,r;return W3(this,function(i){switch(i.label){case 0:n=performance.now(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,i.sent()];case 3:if(r=i.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw r;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var n=performance.now()-t;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,n=0,r=this.executionResults;n<r.length;n++){var i=r[n];t+=i}var a=t/this.executionResults.length;console.log("".concat(a," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),Ey=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),fp=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function f(y){try{p(r.next(y))}catch(S){u(S)}}function m(y){try{p(r.throw(y))}catch(S){u(S)}}function p(y){y.done?a(y.value):i(y.value).then(f,m)}p((r=r.apply(e,t||[])).next())})},hp=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,u;return u={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function f(p){return function(y){return m([p,y])}}function m(p){if(r)throw new TypeError("Generator is already executing.");for(;u&&(u=0,p[0]&&(n=0)),n;)try{if(r=1,i&&(a=p[0]&2?i.return:p[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,p[1])).done)return a;switch(i=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,i=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){n.label=p[1];break}if(p[0]===6&&n.label<a[1]){n.label=a[1],a=p;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(p);break}a[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(y){p=[6,y],i=0}finally{r=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},gE=function(){function e(t,n){this.name=t,this.track=n}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var n={};n[this.name]=t;var r={advanced:[n]};return this.track.applyConstraints(r)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var n=t[this.name];return n}return null},e}(),az=function(e){Ey(t,e);function t(n,r){return e.call(this,n,r)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(n){var r={};r[this.name]=n;var i={advanced:[r]};return this.track.applyConstraints(i)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),r=n[this.name];return{min:r.min,max:r.max,step:r.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(gE),oz=function(e){Ey(t,e);function t(n){return e.call(this,"zoom",n)||this}return t}(az),lz=function(e){Ey(t,e);function t(n){return e.call(this,"torch",n)||this}return t}(gE),cz=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new oz(this.track)},e.prototype.torchFeature=function(){return new lz(this.track)},e}(),uz=function(){function e(t,n,r){this.isClosed=!1,this.parentElement=t,this.mediaStream=n,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var n=document.createElement("video");return n.style.width="".concat(t,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var r=t.surface.clientWidth,i=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(r,i),t.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,n,r,i){return fp(this,void 0,void 0,function(){var a,u;return hp(this,function(f){switch(f.label){case 0:return a=new e(t,n,i),r.aspectRatio?(u={aspectRatio:r.aspectRatio},[4,a.getFirstTrackOrFail().applyConstraints(u)]):[3,2];case 1:f.sent(),f.label=2;case 2:return a.setupSurface(),[2,a]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var n=this,r=function(){setTimeout(t,200),n.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return fp(this,void 0,void 0,function(){return hp(this,function(n){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(n,r){var i=t.mediaStream.getVideoTracks(),a=i.length,u=0;t.mediaStream.getVideoTracks().forEach(function(f){t.mediaStream.removeTrack(f),f.stop(),++u,u>=a&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),n())})})},e.prototype.getCapabilities=function(){return new cz(this.getFirstTrackOrFail())},e}(),dz=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,n,r){return fp(this,void 0,void 0,function(){return hp(this,function(i){return[2,uz.create(t,this.mediaStream,n,r)]})})},e.create=function(t){return fp(this,void 0,void 0,function(){var n,r;return hp(this,function(i){switch(i.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return r=i.sent(),[2,new e(r)]}})})},e}(),H3=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function f(y){try{p(r.next(y))}catch(S){u(S)}}function m(y){try{p(r.throw(y))}catch(S){u(S)}}function p(y){y.done?a(y.value):i(y.value).then(f,m)}p((r=r.apply(e,t||[])).next())})},V3=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,u;return u={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function f(p){return function(y){return m([p,y])}}function m(p){if(r)throw new TypeError("Generator is already executing.");for(;u&&(u=0,p[0]&&(n=0)),n;)try{if(r=1,i&&(a=p[0]&2?i.return:p[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,p[1])).done)return a;switch(i=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,i=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){n.label=p[1];break}if(p[0]===6&&n.label<a[1]){n.label=a[1],a=p;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(p);break}a[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(y){p=[6,y],i=0}finally{r=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},fz=function(){function e(){}return e.failIfNotSupported=function(){return H3(this,void 0,void 0,function(){return V3(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return H3(this,void 0,void 0,function(){return V3(this,function(n){return[2,dz.create(t)]})})},e}(),hz=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function f(y){try{p(r.next(y))}catch(S){u(S)}}function m(y){try{p(r.throw(y))}catch(S){u(S)}}function p(y){y.done?a(y.value):i(y.value).then(f,m)}p((r=r.apply(e,t||[])).next())})},pz=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,u;return u={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function f(p){return function(y){return m([p,y])}}function m(p){if(r)throw new TypeError("Generator is already executing.");for(;u&&(u=0,p[0]&&(n=0)),n;)try{if(r=1,i&&(a=p[0]&2?i.return:p[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,p[1])).done)return a;switch(i=0,a&&(p=[p[0]&2,a.value]),p[0]){case 0:case 1:a=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,i=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!a||p[1]>a[0]&&p[1]<a[3])){n.label=p[1];break}if(p[0]===6&&n.label<a[1]){n.label=a[1],a=p;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(p);break}a[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(y){p=[6,y],i=0}finally{r=a=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},mz=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=rd.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=rd.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return hz(this,void 0,void 0,function(){var t,n,r,i,a,u,f;return pz(this,function(m){switch(m.label){case 0:return t=function(p){for(var y=p.getVideoTracks(),S=0,E=y;S<E.length;S++){var A=E[S];A.enabled=!1,A.stop(),p.removeTrack(A)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=m.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=m.sent(),i=[],a=0,u=r;a<u.length;a++)f=u[a],f.kind==="videoinput"&&i.push({id:f.deviceId,label:f.label});return t(n),[2,i]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,n){var r=function(a){for(var u=[],f=0,m=a;f<m.length;f++){var p=m[f];p.kind==="video"&&u.push({id:p.id,label:p.label})}t(u)},i=MediaStreamTrack;i.getSources(r)})},e}(),gi;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(gi||(gi={}));var gz=function(){function e(){this.state=gi.NOT_STARTED,this.onGoingTransactionNewState=gi.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===gi.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=gi.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===gi.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=gi.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==gi.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case gi.UNKNOWN:throw"Transition from unknown is not allowed";case gi.NOT_STARTED:this.failIfNewStateIs(t,[gi.PAUSED]);break;case gi.SCANNING:break;case gi.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,n){for(var r=0,i=n;r<i.length;r++){var a=i[r];if(t===a)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),xz=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===gi.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==gi.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===gi.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===gi.PAUSED},e}(),vz=function(){function e(){}return e.create=function(){return new xz(new gz)},e}(),yz=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ea=function(e){yz(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(QU),wz=function(){function e(t,n){this.logger=n,this.fps=Ea.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=Ea.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?mE.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!hl(this.qrbox)},e.create=function(t,n){return new e(t,n)},e}(),KW=function(){function e(t,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var r;typeof n=="boolean"?this.verbose=n===!0:n&&(r=n,this.verbose=r.verbose===!0,r.experimentalFeatures),this.logger=new ez(this.verbose),this.qrcode=new sz(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(r),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=vz.create()}return e.prototype.start=function(t,n,r,i){var a=this;if(!t)throw"cameraIdOrConfig is required";if(!r||typeof r!="function")throw"qrCodeSuccessCallback is required and should be a function.";var u;i?u=i:u=this.verbose?this.logger.log:function(){};var f=wz.create(n,this.logger);this.clearElement();var m=!1;f.videoConstraints&&(f.isMediaStreamConstraintsValid()?m=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var p=m,y=document.getElementById(this.elementId);y.clientWidth?y.clientWidth:Ea.DEFAULT_WIDTH,y.style.position="relative",this.shouldScan=!0,this.element=y;var S=this,E=this.stateManagerProxy.startTransition(gi.SCANNING);return new Promise(function(A,R){var I=p?f.videoConstraints:S.createVideoConstraints(t);if(!I){E.cancel(),R("videoConstraints should be defined");return}var P={};(!p||f.aspectRatio)&&(P.aspectRatio=f.aspectRatio);var k={onRenderSurfaceReady:function(O,L){S.setupUi(O,L,f),S.isScanning=!0,S.foreverScan(f,r,u)}};fz.failIfNotSupported().then(function(O){O.create(I).then(function(L){return L.render(a.element,P,k).then(function(j){S.renderedCamera=j,E.execute(),A(null)}).catch(function(j){E.cancel(),R(j)})}).catch(function(L){E.cancel(),R(rd.errorGettingUserMedia(L))})}).catch(function(O){E.cancel(),R(rd.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(gi.PAUSED),this.showPausedState(),(hl(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,n=function(){t.stateManagerProxy.directTransition(gi.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(gi.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var r=function(){if(t.element){var a=document.getElementById(Ea.SHADED_REGION_ELEMENT_ID);a&&t.element.removeChild(a)}},i=this;return this.renderedCamera.close().then(function(){return i.renderedCamera=null,i.element&&(i.element.removeChild(i.canvasElement),i.canvasElement=null),r(),i.qrRegion&&(i.qrRegion=null),i.context&&(i.context=null),n.execute(),i.hidePausedState(),i.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,n){return this.scanFileV2(t,n).then(function(r){return r.decodedText})},e.prototype.scanFileV2=function(t,n){var r=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(hl(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(i,a){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(t);var u=new Image;u.onload=function(){var f=u.width,m=u.height,p=document.getElementById(r.elementId),y=p.clientWidth?p.clientWidth:Ea.DEFAULT_WIDTH,S=Math.max(p.clientHeight?p.clientHeight:m,Ea.FILE_SCAN_MIN_HEIGHT),E=r.computeCanvasDrawConfig(f,m,y,S);if(n){var A=r.createCanvasElement(y,S,"qr-canvas-visible");A.style.display="inline-block",p.appendChild(A);var R=A.getContext("2d");if(!R)throw"Unable to get 2d context from canvas";R.canvas.width=y,R.canvas.height=S,R.drawImage(u,0,0,f,m,E.x,E.y,E.width,E.height)}var I=Ea.FILE_SCAN_HIDDEN_CANVAS_PADDING,P=Math.max(u.width,E.width),k=Math.max(u.height,E.height),O=P+2*I,L=k+2*I,j=r.createCanvasElement(O,L);p.appendChild(j);var J=j.getContext("2d");if(!J)throw"Unable to get 2d context from canvas";J.canvas.width=O,J.canvas.height=L,J.drawImage(u,0,0,f,m,I,I,P,k);try{r.qrcode.decodeRobustlyAsync(j).then(function(ce){i(F3.createFromQrcodeResult(ce))}).catch(a)}catch(ce){a("QR code parse error, error = ".concat(ce))}},u.onerror=a,u.onabort=a,u.onstalled=a,u.onsuspend=a,u.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return mz.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!mE.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var n=[jt.QR_CODE,jt.AZTEC,jt.CODABAR,jt.CODE_39,jt.CODE_93,jt.CODE_128,jt.DATA_MATRIX,jt.MAXICODE,jt.ITF,jt.EAN_13,jt.EAN_8,jt.PDF_417,jt.RSS_14,jt.RSS_EXPANDED,jt.UPC_A,jt.UPC_E,jt.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return n;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],i=0,a=t.formatsToSupport;i<a.length;i++){var u=a[i];ZU(u)?r.push(u):this.logger.warn("Invalid format: ".concat(u," passed in config, ignoring."))}if(r.length===0)throw"None of formatsToSupport match supported values.";return r},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(hl(t))return!0;if(!hl(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(hl(t.experimentalFeatures))return!0;var n=t.experimentalFeatures;return hl(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,n,r){var i=this,a=r.qrbox;this.validateQrboxConfig(a);var u=this.toQrdimensions(t,n,a),f=function(p){if(p<Ea.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Ea.MIN_QR_BOX_SIZE,"px.")},m=function(p){return p>t&&(i.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),p=t),p};f(u.width),f(u.height),u.width=m(u.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,n,r){if(typeof r=="number")return{width:r,height:r};if(typeof r=="function")try{return r(t,n)}catch(i){throw new Error("qrbox config was passed as a function but it failed with unknown error"+i)}return r},e.prototype.setupUi=function(t,n,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(t,n,r);var i=hl(r.qrbox)?{width:t,height:n}:r.qrbox;this.validateQrboxConfig(i);var a=this.toQrdimensions(t,n,i);a.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var u=r.isShadedBoxEnabled()&&a.height<=n,f={x:0,y:0,width:t,height:n},m=u?this.getShadedRegionBounds(t,n,a):f,p=this.createCanvasElement(m.width,m.height),y={willReadFrequently:!0},S=p.getContext("2d",y);S.canvas.width=m.width,S.canvas.height=m.height,this.element.append(p),u&&this.possiblyInsertShadingElement(this.element,t,n,a),this.createScannerPausedUiElement(this.element),this.qrRegion=m,this.context=S,this.canvasElement=p},e.prototype.createScannerPausedUiElement=function(t){var n=document.createElement("div");n.innerText=rd.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",t.appendChild(n),this.scannerPausedUiElement=n},e.prototype.scanContext=function(t,n){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(i){return t(i.text,F3.createFromQrcodeResult(i)),r.possiblyUpdateShaders(!0),!0}).catch(function(i){r.possiblyUpdateShaders(!1);var a=rd.codeParseError(i);return n(a,JU.createFrom(a)),!1})},e.prototype.foreverScan=function(t,n,r){var i=this;if(this.shouldScan&&this.renderedCamera){var a=this.renderedCamera.getSurface(),u=a.videoWidth/a.clientWidth,f=a.videoHeight/a.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var m=this.qrRegion.width*u,p=this.qrRegion.height*f,y=this.qrRegion.x*u,S=this.qrRegion.y*f;this.context.drawImage(a,y,S,m,p,0,0,this.qrRegion.width,this.qrRegion.height);var E=function(){i.foreverScanTimeout=setTimeout(function(){i.foreverScan(t,n,r)},i.getTimeoutFps(t.fps))};this.scanContext(n,r).then(function(A){!A&&t.disableFlip!==!0?(i.context.translate(i.context.canvas.width,0),i.context.scale(-1,1),i.scanContext(n,r).finally(function(){E()})):E()}).catch(function(A){i.logger.logError("Error happend while scanning context",A),E()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var n="facingMode",r="deviceId",i={user:!0,environment:!0},a="exact",u=function(R){if(R in i)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(R,"'")},f=Object.keys(t);if(f.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(f.length," keys");var m=Object.keys(t)[0];if(m!==n&&m!==r)throw"Only '".concat(n,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(m===n){var p=t.facingMode;if(typeof p=="string"){if(u(p))return{facingMode:p}}else if(typeof p=="object")if(a in p){if(u(p["".concat(a)]))return{facingMode:{exact:p["".concat(a)]}}}else throw"'facingMode' should be string or object with"+" ".concat(a," as key.");else{var y=typeof p;throw"Invalid type of 'facingMode' = ".concat(y)}}else{var S=t.deviceId;if(typeof S=="string")return{deviceId:S};if(typeof S=="object"){if(a in S)return{deviceId:{exact:S["".concat(a)]}};throw"'deviceId' should be string or object with"+" ".concat(a," as key.")}else{var E=typeof S;throw"Invalid type of 'deviceId' = ".concat(E)}}}var A=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(A)},e.prototype.computeCanvasDrawConfig=function(t,n,r,i){if(t<=r&&n<=i){var a=(r-t)/2,u=(i-n)/2;return{x:a,y:u,width:t,height:n}}else{var f=t,m=n;return t>r&&(n=r/t*n,t=r),n>i&&(t=i/n*t,n=i),this.logger.log("Image downsampled from "+"".concat(f,"X").concat(m)+" to ".concat(t,"X").concat(n,".")),this.computeCanvasDrawConfig(t,n,r,i)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=t?Ea.BORDER_SHADER_MATCH_COLOR:Ea.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,n,r){var i=t,a=n,u=document.createElement("canvas");return u.style.width="".concat(i,"px"),u.style.height="".concat(a,"px"),u.style.display="none",u.id=hl(r)?"qr-canvas":r,u},e.prototype.getShadedRegionBounds=function(t,n,r){if(r.width>t||r.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-r.width)/2,y:(n-r.height)/2,width:r.width,height:r.height}},e.prototype.possiblyInsertShadingElement=function(t,n,r,i){if(!(n-i.width<1||r-i.height<1)){var a=document.createElement("div");a.style.position="absolute";var u=(n-i.width)/2,f=(r-i.height)/2;if(a.style.borderLeft="".concat(u,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderRight="".concat(u,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderTop="".concat(f,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderBottom="".concat(f,"px solid rgba(0, 0, 0, 0.48)"),a.style.boxSizing="border-box",a.style.top="0px",a.style.bottom="0px",a.style.left="0px",a.style.right="0px",a.id="".concat(Ea.SHADED_REGION_ELEMENT_ID),n-i.width<11||r-i.height<11)this.hasBorderShaders=!1;else{var m=5,p=40;this.insertShaderBorders(a,p,m,-m,null,0,!0),this.insertShaderBorders(a,p,m,-m,null,0,!1),this.insertShaderBorders(a,p,m,null,-m,0,!0),this.insertShaderBorders(a,p,m,null,-m,0,!1),this.insertShaderBorders(a,m,p+m,-m,null,-m,!0),this.insertShaderBorders(a,m,p+m,null,-m,-m,!0),this.insertShaderBorders(a,m,p+m,-m,null,-m,!1),this.insertShaderBorders(a,m,p+m,null,-m,-m,!1),this.hasBorderShaders=!0}t.append(a)}},e.prototype.insertShaderBorders=function(t,n,r,i,a,u,f){var m=document.createElement("div");m.style.position="absolute",m.style.backgroundColor=Ea.BORDER_SHADER_DEFAULT_COLOR,m.style.width="".concat(n,"px"),m.style.height="".concat(r,"px"),i!==null&&(m.style.top="".concat(i,"px")),a!==null&&(m.style.bottom="".concat(a,"px")),f?m.style.left="".concat(u,"px"):m.style.right="".concat(u,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(m),t.appendChild(m)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),q3;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(q3||(q3={}));var Tx;(function(e){e[e.BACK=1]="BACK",e[e.FRONT=2]="FRONT"})(Tx||(Tx={}));var kx;(function(e){e[e.PORTRAIT=1]="PORTRAIT",e[e.LANDSCAPE=2]="LANDSCAPE",e[e.ADAPTIVE=3]="ADAPTIVE"})(kx||(kx={}));var Px;(function(e){e[e.ALL=17]="ALL"})(Px||(Px={}));const $W=Object.assign(Object.assign({},jt),Px);var G3;(function(e){e.ZXING="zxing",e.MLKIT="mlkit"})(G3||(G3={}));const bz=[{selector:".scanner-container-display",css:"display: block;"},{selector:".scanner-dialog",css:"display: none; position: fixed; z-index: 999; left: 0; top: 0; width: 100%; height: 100%; overflow: auto; background-color: rgba(0,0,0,0.4);"},{selector:".scanner-dialog-inner",css:"background-color: #fefefe; margin: 2% auto; padding: 20px; border: 1px solid #888; width: 96%;"},{selector:".close-button",css:"color: #aaa; float: right; font-size: 28px; font-weight: bold; cursor: pointer;"},{selector:".close-button:hover",css:"color: #222;"},{selector:".scanner-container-full-width",css:"width: 100%;"}];function Az(e){const t="custom-style-os-cap-barcode";let n=document.getElementById(t);if(n||(n=document.createElement("style"),n.type="text/css",n.id=t,document.head.appendChild(n)),n.sheet){for(;n.sheet.cssRules.length;)n.sheet.deleteRule(0);for(const{selector:r,css:i}of e)n.sheet.insertRule(`${r} { ${i} }`)}else{n.textContent="";for(const{selector:r,css:i}of e)n.textContent+=`${r} { ${i} }`}}const Sz=Kh("CapacitorBarcodeScanner",{web:()=>(Az(bz),Ao(()=>import("./web-9XSAFZKx.js"),[]).then(e=>new e.CapacitorBarcodeScannerWeb))});class bf{static async scanBarcode(t){return t.scanInstructions=t.scanInstructions||" ",t.scanButton=t.scanButton||!1,t.scanText=t.scanText||" ",t.cameraDirection=t.cameraDirection||Tx.BACK,t.scanOrientation=t.scanOrientation||kx.ADAPTIVE,Sz.scanBarcode(t)}}const _z=({isOpen:e,onClose:t,onScan:n})=>{const[r,i]=F.useState(!1),[a,u]=F.useState(null),[f,m]=F.useState(null),[p,y]=F.useState(!1),[S,E]=F.useState(!1),[A,R]=F.useState(!1),I=F.useRef(null),P=F.useRef(null),{toast:k}=Ys();F.useEffect(()=>{e?O():Z()},[e]);const O=async()=>{try{E(!0),u(null);const he=kh.isNativePlatform();if(y(he),he)try{await L()}catch{y(!1),await j()}else await j();R(!0)}catch(he){const H=(he==null?void 0:he.message)||"Unknown error";u(`Failed to initialize scanner: ${H}`),k({title:"Scanner Initialization Failed",description:H,variant:"destructive"})}finally{E(!1)}},L=async()=>{try{if(!bf)throw new Error("CapacitorBarcodeScanner object is undefined");if(typeof bf.scanBarcode!="function")throw new Error("scanBarcode method is not available");m(!0)}catch(he){const H=(he==null?void 0:he.message)||"Unknown error";throw new Error(`Native scanner unavailable: ${H}`)}},j=async()=>{try{if(!(await navigator.mediaDevices.enumerateDevices()).some(ue=>ue.kind==="videoinput"))throw new Error("No camera found on this device");(await navigator.mediaDevices.getUserMedia({video:!0})).getTracks().forEach(ue=>ue.stop()),m(!0)}catch(he){const H=(he==null?void 0:he.message)||"Camera permission is required to scan QR codes";throw u(H),m(!1),new Error(H)}},J=async()=>{try{if(i(!0),u(null),!bf)throw new Error("CapacitorBarcodeScanner object is undefined");if(typeof bf.scanBarcode!="function")throw new Error("scanBarcode method is not available");const he=await bf.scanBarcode({hint:"QR_CODE",scanInstructions:"Point your camera at a QR code",scanButton:!0,scanText:"Scan QR Code",cameraDirection:"BACK",scanOrientation:"ADAPTIVE",android:{scanningLibrary:"ZXING"},web:{showCameraSelection:!0,scannerFPS:5}});he&&he.ScanResult&&(n(he.ScanResult),t())}catch(he){const H=(he==null?void 0:he.message)||(he==null?void 0:he.toString())||"Unknown error";H.includes("permission")?u("Camera permission is required. Please enable camera access in your device settings."):H.includes("not supported")||H.includes("not available")?u("QR scanner is not supported on this device. Please use manual entry instead."):H.includes("camera")?u("Camera is not available or in use by another app. Please try again."):H.includes("undefined")?u("Barcode scanner plugin is not properly installed or registered."):u(`Scanner error: ${H}`),k({title:"Scanner Error",description:H,variant:"destructive"})}finally{i(!1)}},ce=async()=>{try{if(i(!0),u(null),!f&&(await j(),!f)){i(!1);return}const he=(await Ao(async()=>{const{default:H}=await import("./qr-scanner.min-Cgpkgvcd.js");return{default:H}},[])).default;I.current&&(P.current=new he(I.current,H=>{n(H.data),Z(),t()},{highlightScanRegion:!0,highlightCodeOutline:!0,preferredCamera:"environment",maxScansPerSecond:5}),await P.current.start())}catch(he){console.error("Web QR Scanner error:",he);const H=(he==null?void 0:he.message)||"Failed to start QR scanner";u(`${H}. Please try again or enter the Member ID manually.`),k({title:"Scanner Error",description:H,variant:"destructive"}),i(!1)}},Y=async()=>{if(!A){u("Scanner is not ready yet. Please wait...");return}p?await J():await ce()},Z=async()=>{try{p||P.current&&(P.current.stop(),P.current.destroy(),P.current=null),i(!1)}catch{}},z=()=>{Z(),t()};return v.jsx(Jc,{open:e,onOpenChange:z,children:v.jsxs(mc,{className:"sm:max-w-lg",children:[v.jsx(yl,{children:v.jsxs(wl,{className:"flex items-center gap-2",children:[p?v.jsx(x5,{className:"h-5 w-5"}):v.jsx(z2,{className:"h-5 w-5"}),"QR Code Scanner",p&&v.jsx("span",{className:"text-xs bg-primary/10 text-primary px-2 py-1 rounded",children:"Mobile"})]})}),v.jsxs("div",{className:"space-y-4",children:[S?v.jsxs("div",{className:"flex flex-col items-center justify-center py-8 space-y-4",children:[v.jsx(Jm,{className:"h-8 w-8 animate-spin text-primary"}),v.jsxs("div",{className:"text-center",children:[v.jsx("p",{className:"font-medium",children:"Initializing Scanner..."}),v.jsx("p",{className:"text-sm text-muted-foreground",children:"Checking platform and permissions"})]})]}):a?v.jsxs("div",{className:"flex items-center gap-3 p-4 bg-destructive/10 border border-destructive/20 rounded-lg",children:[v.jsx(mk,{className:"h-5 w-5 text-destructive"}),v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-medium text-destructive",children:"Scanner Error"}),v.jsx("p",{className:"text-sm text-destructive/80",children:a}),a.includes("permission")&&v.jsx("p",{className:"text-xs text-destructive/60 mt-1",children:"Please enable camera access in your device settings and try again."})]})]}):v.jsx("div",{className:"space-y-4",children:r&&!p?v.jsxs("div",{className:"relative",children:[v.jsx("video",{ref:I,className:"w-full h-64 bg-black rounded-lg object-cover",playsInline:!0,muted:!0}),v.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:v.jsx("div",{className:"w-48 h-48 border-4 border-primary border-dashed rounded-lg animate-pulse opacity-50"})}),v.jsx("div",{className:"absolute bottom-4 left-4 right-4 text-center",children:v.jsx("p",{className:"text-white font-medium bg-black/50 rounded px-2 py-1",children:"Point camera at QR code"})})]}):v.jsxs("div",{className:"flex flex-col items-center justify-center py-8 space-y-4",children:[p?v.jsx(x5,{className:"h-16 w-16 text-primary"}):v.jsx(z2,{className:"h-16 w-16 text-muted-foreground"}),v.jsxs("div",{className:"text-center",children:[v.jsx("p",{className:"font-medium",children:p?"Native QR Scanner Ready":"Web QR Scanner Ready"}),v.jsx("p",{className:"text-sm text-muted-foreground",children:p?'Click "Start Scanning" to open native camera scanner':'Click "Start Scanning" to begin web camera scanning'}),f===!1&&v.jsx("p",{className:"text-xs text-destructive mt-2",children:"Camera permission required"})]})]})}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx(en,{onClick:Y,disabled:r||f===!1||S||!A,className:"flex-1",children:r?v.jsxs(v.Fragment,{children:[v.jsx(Jm,{className:"h-4 w-4 animate-spin mr-2"}),"Scanning..."]}):S?v.jsxs(v.Fragment,{children:[v.jsx(Jm,{className:"h-4 w-4 animate-spin mr-2"}),"Initializing..."]}):"Start Scanning"}),v.jsx(en,{variant:"outline",onClick:z,children:v.jsx(jp,{className:"h-4 w-4"})})]}),v.jsxs("div",{className:"text-xs text-muted-foreground text-center",children:[v.jsx("p",{children:p?"Supported formats: QR Code, Code 128, Code 39, EAN-13, EAN-8, UPC-A, UPC-E, Data Matrix, PDF417, Aztec, Codabar, ITF, RSS-14, RSS-Expanded":"Supported formats: QR Code"}),v.jsx("p",{children:"Make sure the code is well-lit and clearly visible"}),p&&v.jsx("p",{className:"text-primary font-medium mt-2",children:" Using official Capacitor barcode scanner with ZXING library"})]})]})]})})};var xE="AlertDialog",[Cz,XW]=Ml(xE,[L6]),Fl=L6(),vE=e=>{const{__scopeAlertDialog:t,...n}=e,r=Fl(t);return v.jsx(Y6,{...r,...n,modal:!0})};vE.displayName=xE;var Ez="AlertDialogTrigger",yE=F.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Fl(n);return v.jsx(kM,{...i,...r,ref:t})});yE.displayName=Ez;var Nz="AlertDialogPortal",wE=e=>{const{__scopeAlertDialog:t,...n}=e,r=Fl(t);return v.jsx(Z6,{...r,...n})};wE.displayName=Nz;var Iz="AlertDialogOverlay",bE=F.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Fl(n);return v.jsx(ly,{...i,...r,ref:t})});bE.displayName=Iz;var vd="AlertDialogContent",[Tz,kz]=Cz(vd),Pz=ES("AlertDialogContent"),AE=F.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...i}=e,a=Fl(n),u=F.useRef(null),f=Pr(t,u),m=F.useRef(null);return v.jsx(EM,{contentName:vd,titleName:SE,docsSlug:"alert-dialog",children:v.jsx(Tz,{scope:n,cancelRef:m,children:v.jsxs(cy,{role:"alertdialog",...a,...i,ref:f,onOpenAutoFocus:gn(i.onOpenAutoFocus,p=>{var y;p.preventDefault(),(y=m.current)==null||y.focus({preventScroll:!0})}),onPointerDownOutside:p=>p.preventDefault(),onInteractOutside:p=>p.preventDefault(),children:[v.jsx(Pz,{children:r}),v.jsx(Oz,{contentRef:u})]})})})});AE.displayName=vd;var SE="AlertDialogTitle",_E=F.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Fl(n);return v.jsx(uy,{...i,...r,ref:t})});_E.displayName=SE;var CE="AlertDialogDescription",EE=F.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Fl(n);return v.jsx(dy,{...i,...r,ref:t})});EE.displayName=CE;var Rz="AlertDialogAction",NE=F.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Fl(n);return v.jsx(fy,{...i,...r,ref:t})});NE.displayName=Rz;var IE="AlertDialogCancel",TE=F.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:i}=kz(IE,n),a=Fl(n),u=Pr(t,i);return v.jsx(fy,{...a,...r,ref:u})});TE.displayName=IE;var Oz=({contentRef:e})=>{const t=`\`${vd}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${vd}\` by passing a \`${CE}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${vd}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return F.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},Lz=vE,Dz=yE,Mz=wE,kE=bE,PE=AE,RE=NE,OE=TE,LE=_E,DE=EE;const y0=Lz,jz=Dz,Fz=Mz,ME=F.forwardRef(({className:e,...t},n)=>v.jsx(kE,{className:Ht("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));ME.displayName=kE.displayName;const Hf=F.forwardRef(({className:e,...t},n)=>v.jsxs(Fz,{children:[v.jsx(ME,{}),v.jsx(PE,{ref:n,className:Ht("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Hf.displayName=PE.displayName;const Vf=({className:e,...t})=>v.jsx("div",{className:Ht("flex flex-col space-y-2 text-center sm:text-left",e),...t});Vf.displayName="AlertDialogHeader";const qf=({className:e,...t})=>v.jsx("div",{className:Ht("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});qf.displayName="AlertDialogFooter";const Gf=F.forwardRef(({className:e,...t},n)=>v.jsx(LE,{ref:n,className:Ht("text-lg font-semibold",e),...t}));Gf.displayName=LE.displayName;const Kf=F.forwardRef(({className:e,...t},n)=>v.jsx(DE,{ref:n,className:Ht("text-sm text-muted-foreground",e),...t}));Kf.displayName=DE.displayName;const $f=F.forwardRef(({className:e,...t},n)=>v.jsx(RE,{ref:n,className:Ht(Xp(),e),...t}));$f.displayName=RE.displayName;const Xf=F.forwardRef(({className:e,...t},n)=>v.jsx(OE,{ref:n,className:Ht(Xp({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Xf.displayName=OE.displayName;const Bz=()=>{const[e,t]=F.useState(""),[n,r]=F.useState(null),[i,a]=F.useState([]),[u,f]=F.useState(1),m=10,{toast:p}=Ys(),[y,S]=F.useState(!1),[E,A]=F.useState("checkin"),[R,I]=F.useState(null),[P,k]=F.useState(!1),[O,L]=F.useState(()=>{const se=localStorage.getItem("attendance_checkin_type");return se==="walkin"||se==="member"?se:"member"}),[j,J]=F.useState("");F.useState("whole_day");const[ce,Y]=F.useState("Cash"),[Z,z]=F.useState({membershipFee:200,monthlySubscriptionFee:500,perSessionMemberFee:80,perSessionWalkInFee:100}),[he,H]=F.useState(!0),[K,ue]=F.useState(!1),[oe,te]=F.useState(!1),[Ne,Ce]=F.useState(null),ne=async()=>{const we=new Date().toISOString().split("T")[0],Re=await sn.attendance.where("date").equals(we).toArray();Re.sort((je,ze)=>ze.id>je.id?1:-1),a(Re);const Ie=Math.max(1,Math.ceil(Re.length/m));f(je=>Math.min(je,Ie))};F.useEffect(()=>{(async()=>{await Ks();const se=await J0();z(se),ne()})()},[]),F.useEffect(()=>{localStorage.setItem("attendance_checkin_type",O)},[O]),F.useEffect(()=>{(async()=>{const se=(j||"").trim().toLowerCase();if(!se){H(!0);return}const Re=(await sn.attendance.where("memberId").equals("WALKIN").toArray()).some(Ie=>(Ie.walkInName||"").trim().toLowerCase()===se);H(!Re)})()},[j]);const _e=(se,we)=>{A(se),I(we),S(!0)},ve=async se=>{t(se),await Le(se)},Le=async se=>{const we=await sn.members.get(se);if(!we){p({title:"Member Not Found",description:"No member found with this ID. Please check and try again.",variant:"destructive"});return}const Re=new Date().toISOString().split("T")[0],je=[...await sn.attendance.where("date").equals(Re).toArray()].filter(ze=>ze.memberId===we.id).sort((ze,Ge)=>Ge.id>ze.id?1:-1)[0];je&&!je.checkOutTime?_e("checkout",we):_e("checkin",we)},W=async()=>{await Le(e)},ae=async se=>{const we=new Date,Re=we.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0,timeZone:"Asia/Manila"}),Ie=we.toISOString().split("T")[0];await sn.attendance.add({id:`${Date.now()}`,memberId:se.id,memberName:se.fullName,date:Ie,checkInTime:Re}),r({id:se.id,fullName:se.fullName,status:se.status,checkInTime:Re}),p({title:"Check-in Successful",description:`${se.fullName} checked in at ${Re}`}),t(""),ne()},fe=async()=>{await Le(e)},Ee=async se=>{const we=new Date,Re=we.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0,timeZone:"Asia/Manila"}),Ie=we.toISOString().split("T")[0],ze=[...await sn.attendance.where("date").equals(Ie).toArray()].filter(Ge=>Ge.memberId===se.id).sort((Ge,Je)=>Je.id>Ge.id?1:-1)[0];ze&&await sn.attendance.update(ze.id,{checkOutTime:Re}),p({title:"Check-out Successful",description:`${se.fullName} checked out at ${Re}`}),t(""),ne()};return v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-3xl font-bold",children:"Attendance Tracking"}),v.jsx("p",{className:"text-muted-foreground",children:"Record member check-ins and view daily attendance"})]}),v.jsx("div",{className:"space-y-4",children:v.jsxs("div",{children:[v.jsx(Fn,{children:"Check-In Type"}),v.jsxs(Ic,{value:O,onValueChange:se=>L(se),children:[v.jsx(Cl,{className:"w-full mt-1",children:v.jsx(Tc,{placeholder:"Select Check-In Type"})}),v.jsxs(El,{children:[v.jsx(Ai,{value:"member",children:"Member"}),v.jsx(Ai,{value:"walkin",children:"Non-Member (Walk-In)"})]})]})]})}),v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[O==="member"&&v.jsxs(qn,{className:"border-0 shadow-md",children:[v.jsx(vr,{children:v.jsxs(yr,{className:"flex items-center gap-2",children:[v.jsx(Ck,{className:"h-5 w-5 text-primary"}),"Member Check-in"]})}),v.jsxs(Gn,{className:"space-y-4",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(Fn,{htmlFor:"memberId",children:"Member ID"}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx(mr,{id:"memberId",value:e,onChange:se=>t(se.target.value),placeholder:"Enter or scan Member ID (e.g., GM001234)",onKeyDown:se=>{se.key==="Enter"&&e&&W()}}),v.jsxs(en,{variant:"outline",onClick:()=>k(!0),className:"flex items-center gap-2",children:[v.jsx(z2,{className:"h-4 w-4"}),"Scan"]})]}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx(en,{onClick:W,disabled:!e,className:"bg-gradient-primary hover:opacity-90 flex-1",children:"Check In"}),v.jsx(en,{variant:"outline",onClick:fe,disabled:!e,className:"flex-1",children:"Check Out"})]}),v.jsx("p",{className:"text-sm text-muted-foreground",children:"Enter Member ID manually or use the camera to scan QR code/barcode"})]}),n&&v.jsx("div",{className:"bg-success/10 border border-success/20 rounded-lg p-4",children:v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx(Mv,{className:"h-8 w-8 text-success"}),v.jsxs("div",{children:[v.jsx("h3",{className:"font-semibold text-success",children:n.fullName}),v.jsxs("p",{className:"text-sm",children:["ID: ",n.id]}),v.jsxs("p",{className:"text-sm",children:["Status: ",v.jsx(us,{className:"bg-success/10 text-success border-success/20",children:n.status})]}),v.jsxs("p",{className:"text-sm font-medium",children:["Checked in at ",n.checkInTime]})]})]})})]})]}),O==="walkin"&&v.jsxs(qn,{className:"border-0 shadow-md",children:[v.jsx(vr,{children:v.jsx(yr,{children:"Walk-In Check-in"})}),v.jsxs(Gn,{className:"space-y-4",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(Fn,{htmlFor:"walkInName",children:"Walk-In Name"}),v.jsx(mr,{id:"walkInName",required:!0,placeholder:"e.g., Juan D.",value:j,onChange:se=>J(se.target.value)})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(Fn,{children:"Session Type"}),v.jsxs("div",{className:"w-full h-10 rounded-md border border-input bg-muted/40 px-3 flex items-center text-sm",children:["Per Session ",Z.perSessionWalkInFee?`(${Z.perSessionWalkInFee})`:""]})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(Fn,{children:"Payment Method"}),v.jsxs(Ic,{value:ce,onValueChange:se=>Y(se),children:[v.jsx(Cl,{children:v.jsx(Tc,{placeholder:"Payment method"})}),v.jsxs(El,{children:[v.jsx(Ai,{value:"Cash",children:"Cash"}),v.jsx(Ai,{value:"GCash",children:"GCash"}),v.jsx(Ai,{value:"Card",children:"Card"})]})]})]})]}),v.jsx("p",{className:"text-xs text-muted-foreground",children:"No lifetime fee for walk-ins. They pay the walk-in per session rate every visit."}),v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"text-sm text-muted-foreground",children:["Total: ",v.jsxs("span",{className:"font-semibold text-foreground",children:["",Number(Z.perSessionWalkInFee)||100]})]}),v.jsx(en,{className:"bg-gradient-primary hover:opacity-90",disabled:!j.trim(),onClick:()=>{if(!j.trim()){p({title:"Name Required",description:"Please enter the walk-in name before recording.",variant:"destructive"});return}ue(!0)},children:"Record Walk-In"})]})]})]}),v.jsxs(qn,{className:"border-0 shadow-md",children:[v.jsx(vr,{children:v.jsxs(yr,{children:["Today's Attendance (",i.length,")"]})}),v.jsxs(Gn,{children:[v.jsxs("div",{className:"space-y-3",children:[(()=>{Math.max(1,Math.ceil(i.length/m));const se=(u-1)*m;return i.slice(se,se+m)})().map(se=>{var we;return v.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg",children:[v.jsxs("div",{children:[v.jsxs("p",{className:"font-medium",children:[se.memberName," ",se.is_walk_in?v.jsx("span",{className:"text-xs text-muted-foreground",children:"(Non-Member)"}):null]}),v.jsx("p",{className:"text-sm text-muted-foreground",children:se.is_walk_in?`${(we=se.session_type)==null?void 0:we.replace("_"," ")}  ${se.payment_method}  ${se.price}`:`ID: ${se.memberId}`})]}),v.jsxs("div",{className:"text-right",children:[v.jsxs("p",{className:"font-medium",children:[se.checkInTime,se.checkOutTime?`  ${se.checkOutTime}`:""]}),v.jsx(us,{variant:"outline",className:"text-xs",children:se.is_walk_in?"Walk-In":"Active"})]})]},se.id)}),i.length===0&&v.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No check-ins recorded today"})]}),i.length>m&&v.jsx("div",{className:"pt-4",children:v.jsx(uE,{children:v.jsxs(dE,{children:[v.jsx(v0,{children:v.jsx(fE,{onClick:()=>f(se=>Math.max(1,se-1))})}),Array.from({length:Math.ceil(i.length/m)},(se,we)=>v.jsx(v0,{children:v.jsx(am,{isActive:u===we+1,onClick:()=>f(we+1),children:we+1})},we)),v.jsx(v0,{children:v.jsx(hE,{onClick:()=>f(se=>Math.min(Math.ceil(i.length/m),se+1))})})]})})})]})]})]}),v.jsx(y0,{open:y,onOpenChange:S,children:v.jsxs(Hf,{children:[v.jsxs(Vf,{children:[v.jsx(Gf,{children:E==="checkin"?"Confirm Check-in":"Confirm Check-out"}),v.jsx(Kf,{children:E==="checkin"?"Please verify the member details before checking in.":"Please verify the member details before checking out."})]}),R&&v.jsxs("div",{className:"relative overflow-hidden border border-border/50 rounded-lg bg-muted/10",children:[v.jsxs("div",{className:"grid grid-cols-[120px_1fr_70px] gap-4 p-4",children:[v.jsx("div",{className:"flex items-start",children:R.photoDataUrl?v.jsx("img",{src:R.photoDataUrl,alt:"Member",className:"h-24 w-24 rounded-md object-cover border"}):v.jsx("div",{className:"h-24 w-24 rounded-md border bg-muted"})}),v.jsxs("div",{className:"space-y-1",children:[v.jsx("p",{className:"text-xl font-semibold leading-6",children:R.fullName}),v.jsx("p",{className:"text-xs text-muted-foreground",children:"Member"}),v.jsxs("div",{className:"mt-3 space-y-2 text-sm",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("span",{className:"font-medium w-24",children:"ISSUE:"}),v.jsx("span",{className:"text-muted-foreground",children:new Date(R.membershipStartDate).toLocaleDateString(void 0,{month:"long",year:"numeric"})})]}),v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("span",{className:"font-medium w-24",children:"EXPIRY:"}),v.jsx("span",{className:"text-muted-foreground",children:new Date(R.membershipExpiryDate).toLocaleDateString(void 0,{month:"long",year:"numeric"})})]}),v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("span",{className:"font-medium w-24",children:"Member#:"}),v.jsx("span",{className:"text-muted-foreground",children:R.id})]}),v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("span",{className:"font-medium w-24",children:"Status:"}),v.jsx("div",{children:v.jsx(us,{className:R.status==="expired"||!R.isActive?"bg-destructive/15 text-destructive border-destructive/30":"",variant:R.status==="expired"||!R.isActive?"destructive":"outline",children:String(R.status).toUpperCase()})})]}),v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("span",{className:"font-medium w-24",children:"Membership Fee:"}),v.jsx(us,{variant:R.membershipFeePaid?"outline":"destructive",className:R.membershipFeePaid?"":"text-destructive border-destructive/30",children:R.membershipFeePaid?"Paid":"Unpaid"})]}),E==="checkout"&&v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("span",{className:"font-medium w-24",children:"Check-out:"}),v.jsx("span",{className:"text-muted-foreground",children:new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0,timeZone:"Asia/Manila"})})]}),E==="checkin"&&(R.status==="expired"||!R.isActive)&&v.jsx("p",{className:"text-destructive text-xs",children:"Member inactive or expired. Check-in disabled."})]})]}),v.jsxs("div",{className:"relative flex items-center justify-center",children:[v.jsx("div",{className:"absolute inset-y-0 right-0 w-[70px] bg-primary rounded-md"}),v.jsx("span",{className:"z-10 -rotate-90 tracking-widest text-background font-bold text-lg",children:"MEMBER"})]})]}),v.jsx("div",{className:"px-4 pb-4",children:v.jsx("div",{className:"h-10 rounded-md bg-primary flex items-center justify-center",children:v.jsx("span",{className:"text-background font-semibold text-sm",children:"POWERLIFT FITNESS GYM"})})})]}),v.jsxs(qf,{children:[v.jsx(Xf,{children:"Cancel"}),v.jsx($f,{disabled:E==="checkin"&&R&&(R.status==="expired"||!R.isActive),onClick:()=>{if(R)if(S(!1),E==="checkin"){const se=new Date,we=R.subscriptionExpiryDate?new Date(R.subscriptionExpiryDate):null;R.paymentType==="monthly"&&we&&we>=se?ae(R):(Ce(R),te(!0))}else Ee(R)},children:"Confirm"})]})]})}),v.jsx(y0,{open:K,onOpenChange:ue,children:v.jsxs(Hf,{children:[v.jsxs(Vf,{children:[v.jsx(Gf,{children:"Confirm Walk-In"}),v.jsx(Kf,{children:"Please review the walk-in details before recording."})]}),v.jsxs("div",{className:"space-y-2 text-sm",children:[v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-muted-foreground",children:"Name"}),v.jsx("span",{className:"font-medium",children:j||"Walk-In"})]}),v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-muted-foreground",children:"Session"}),v.jsx("span",{className:"font-medium",children:"Per session"})]}),v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-muted-foreground",children:"Payment"}),v.jsx("span",{className:"font-medium",children:ce})]}),v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-muted-foreground",children:"Rate"}),v.jsxs("span",{className:"font-medium",children:["",Number(Z.perSessionWalkInFee)||100]})]}),v.jsxs("div",{className:"flex justify-between border-t pt-2",children:[v.jsx("span",{className:"text-muted-foreground",children:"Total"}),v.jsxs("span",{className:"font-semibold",children:["",Number(Z.perSessionWalkInFee)||100]})]})]}),v.jsxs(qf,{children:[v.jsx(Xf,{children:"Cancel"}),v.jsx($f,{onClick:async()=>{const se=new Date,we=se.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0,timeZone:"Asia/Manila"}),Re=se.toISOString().split("T")[0],Ie=Number(Z.perSessionWalkInFee)||100,je=Ie;await sn.attendance.add({id:`${Date.now()}`,memberId:"WALKIN",memberName:j||"Walk-In",date:Re,checkInTime:we,is_walk_in:!0,walkInName:j||"Walk-In",session_type:"whole_day",payment_method:ce,price:je}),await ep({date:Re,amount:Ie,method:ce,category:"Walk-In Session Fee",description:`Walk-in per session for ${j||"Walk-In"}`,memberId:`WALKIN:${j||"Walk-In"}`}),ue(!1),J(""),Y("Cash"),p({title:"Walk-In Recorded",description:`Recorded ${j||"Walk-In"}  Per session  ${je}`}),ne()},children:"Confirm"})]})]})}),v.jsx(y0,{open:oe,onOpenChange:te,children:v.jsxs(Hf,{children:[v.jsxs(Vf,{children:[v.jsx(Gf,{children:"Per-Session Payment Required"}),v.jsx(Kf,{children:Ne?`${Ne.fullName} does not have an active monthly subscription.`:""})]}),v.jsxs("div",{className:"space-y-2 text-sm",children:[v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-muted-foreground",children:"Member"}),v.jsx("span",{className:"font-medium",children:Ne==null?void 0:Ne.fullName})]}),v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-muted-foreground",children:"Rate"}),v.jsxs("span",{className:"font-medium",children:["",Number(Z.perSessionMemberFee)||80]})]}),v.jsxs("div",{className:"space-y-2 pt-2",children:[v.jsx(Fn,{children:"Payment Method"}),v.jsxs(Ic,{value:ce,onValueChange:se=>Y(se),children:[v.jsx(Cl,{children:v.jsx(Tc,{placeholder:"Payment method"})}),v.jsxs(El,{children:[v.jsx(Ai,{value:"Cash",children:"Cash"}),v.jsx(Ai,{value:"GCash",children:"GCash"}),v.jsx(Ai,{value:"Card",children:"Card"})]})]})]})]}),v.jsxs(qf,{children:[v.jsx(Xf,{children:"Cancel"}),v.jsx($f,{onClick:async()=>{if(!Ne)return;const se=Number(Z.perSessionMemberFee)||80,we=new Date().toISOString().split("T")[0];await ep({date:we,amount:se,method:ce,category:"Member Session Fee",description:`Per-session payment for ${Ne.fullName} (${Ne.id})`,memberId:Ne.id}),te(!1),await ae(Ne),p({title:"Payment Successful",description:`Paid ${se}. Check-in completed.`})},children:"Pay & Check In"})]})]})}),v.jsx(_z,{isOpen:P,onClose:()=>k(!1),onScan:ve})]})},Uz=()=>{const[e,t]=F.useState({totalCheckIns:0,activeMembers:0,expiringMembers:0,retentionRate:0,walkInIncome:0,membershipFees:0,otherIncome:0});F.useEffect(()=>{(async()=>{await Ks();const i=new Date().toISOString().slice(0,7),u=(await sn.attendance.toArray()).filter(L=>L.date.startsWith(i)).length,f=new Date().toISOString().slice(0,7),p=(await c_()).filter(L=>(L.date||"").startsWith(f)),y=p.filter(L=>L.category==="Membership Fee").reduce((L,j)=>L+(Number(j.amount)||0),0),S=p.filter(L=>L.category==="Walk-In Daily Fee").reduce((L,j)=>L+(Number(j.amount)||0),0),E=p.filter(L=>L.category==="Other").reduce((L,j)=>L+(Number(j.amount)||0),0),A=(await sn.members.where("status").equals("active").toArray()).filter(L=>L.isActive===!0),R=new Date,I=new Date;I.setDate(R.getDate()+7);const P=A.filter(L=>{const j=new Date(L.membershipExpiryDate);return j>=R&&j<=I}),k=await sn.members.count(),O=k>0?Math.round(A.length/k*100):0;t({totalCheckIns:u,activeMembers:A.length,expiringMembers:P.length,retentionRate:O,walkInIncome:S,membershipFees:y,otherIncome:E})})()},[]);const n=[{title:"Attendance Report",description:"View daily, weekly, and monthly attendance records with detailed check-in times",icon:Mv,href:"/reports/attendance",color:"text-primary"},{title:"Membership Status Report",description:"Monitor active, expired, and soon-to-expire memberships with renewal insights",icon:jv,href:"/reports/membership",color:"text-success"},{title:"Member Activity Report",description:"Analyze individual member attendance patterns and workout frequency",icon:Mp,href:"/reports/member-activity",color:"text-accent"}];return v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-3xl font-bold",children:"Reports & Analytics"}),v.jsx("p",{className:"text-muted-foreground",children:"Generate comprehensive reports to track your gym's performance"})]}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(r=>v.jsxs(qn,{className:"border-0 shadow-md hover:shadow-lg transition-shadow",children:[v.jsxs(vr,{children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx(r.icon,{className:`h-6 w-6 ${r.color}`}),v.jsx(yr,{className:"text-lg",children:r.title})]}),v.jsx(el,{children:r.description})]}),v.jsx(Gn,{children:v.jsx(Ol,{to:r.href,children:v.jsxs(en,{className:"w-full justify-between bg-gradient-primary hover:opacity-90",children:["Generate Report",v.jsx(ck,{className:"h-4 w-4"})]})})})]},r.title))}),v.jsxs(qn,{className:"border-0 shadow-md",children:[v.jsxs(vr,{children:[v.jsx(yr,{children:"Report Overview"}),v.jsx(el,{children:"Key metrics at a glance"})]}),v.jsxs(Gn,{children:[v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[v.jsxs("div",{className:"text-center",children:[v.jsx("p",{className:"text-2xl font-bold text-primary",children:e.totalCheckIns}),v.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Check-ins This Month"})]}),v.jsxs("div",{className:"text-center",children:[v.jsx("p",{className:"text-2xl font-bold text-success",children:e.activeMembers}),v.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Members"})]}),v.jsxs("div",{className:"text-center",children:[v.jsx("p",{className:"text-2xl font-bold text-warning",children:e.expiringMembers}),v.jsx("p",{className:"text-sm text-muted-foreground",children:"Expiring Memberships"})]}),v.jsxs("div",{className:"text-center",children:[v.jsxs("p",{className:"text-2xl font-bold text-accent",children:[e.retentionRate,"%"]}),v.jsx("p",{className:"text-sm text-muted-foreground",children:"Member Retention Rate"})]})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-6",children:[v.jsxs("div",{className:"text-center",children:[v.jsxs("p",{className:"text-2xl font-bold",children:["",e.membershipFees]}),v.jsx("p",{className:"text-sm text-muted-foreground",children:"Membership Fees"})]}),v.jsxs("div",{className:"text-center",children:[v.jsxs("p",{className:"text-2xl font-bold",children:["",e.walkInIncome]}),v.jsx("p",{className:"text-sm text-muted-foreground",children:"Walk-In Daily Income"})]}),v.jsxs("div",{className:"text-center",children:[v.jsxs("p",{className:"text-2xl font-bold",children:["",e.membershipFees+e.walkInIncome+e.otherIncome]}),v.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Income"})]})]})]})]})]})};function jE(e,t,n,r,i){r=r||{};var a=1.15,u=i.internal.scaleFactor,f=i.internal.getFontSize()/u,m=i.getLineHeightFactor?i.getLineHeightFactor():a,p=f*m,y=/\r\n|\r|\n/g,S="",E=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(S=typeof e=="string"?e.split(y):e,E=S.length||1),n+=f*(2-a),r.valign==="middle"?n-=E/2*p:r.valign==="bottom"&&(n-=E*p),r.halign==="center"||r.halign==="right"){var A=f;if(r.halign==="center"&&(A*=.5),S&&E>=1){for(var R=0;R<S.length;R++)i.text(S[R],t-i.getStringUnitWidth(S[R])*A,n),n+=p;return i}t-=i.getStringUnitWidth(e)*A}return r.halign==="justify"?i.text(e,t,n,{maxWidth:r.maxWidth||100,align:"justify"}):i.text(e,t,n),i}var K3={},yd=function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,n){n===void 0&&(n=null),n?n.__autoTableDocumentDefaults=t:K3=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,n){var r,i,a;n===void 0&&(n=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var u=this.jsPDFDocument.internal.getFont(),f=u.fontStyle,m=u.fontName;if(t.font&&(m=t.font),t.fontStyle){f=t.fontStyle;var p=this.getFontList()[m];p&&p.indexOf(f)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(p[0]),f=p[0])}if(this.jsPDFDocument.setFont(m,f),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!n){var y=e.unifyColor(t.fillColor);y&&(r=this.jsPDFDocument).setFillColor.apply(r,y),y=e.unifyColor(t.textColor),y&&(i=this.jsPDFDocument).setTextColor.apply(i,y),y=e.unifyColor(t.lineColor),y&&(a=this.jsPDFDocument).setDrawColor.apply(a,y),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,n,r){return this.jsPDFDocument.splitTextToSize(t,n,r)},e.prototype.rect=function(t,n,r,i,a){return this.jsPDFDocument.rect(t,n,r,i,a)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return K3||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e}(),Rx=function(e,t){return Rx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Rx(e,t)};function FE(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Rx(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var BE=function(e){FE(t,e);function t(n){var r=e.call(this)||this;return r._element=n,r}return t}(Array);function zz(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function Wz(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function pp(e,t,n){n.applyStyles(t,!0);var r=Array.isArray(e)?e:[e],i=r.map(function(a){return n.getTextWidth(a)}).reduce(function(a,u){return Math.max(a,u)},0);return i}function UE(e,t,n,r){var i=t.settings.tableLineWidth,a=t.settings.tableLineColor;e.applyStyles({lineWidth:i,lineColor:a});var u=zE(i,!1);u&&e.rect(n.x,n.y,t.getWidth(e.pageSize().width),r.y-n.y,u)}function zE(e,t){var n=e>0,r=t||t===0;return n&&r?"DF":n?"S":r?"F":null}function om(e,t){var n,r,i,a;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(n=e.left)!==null&&n!==void 0?n:t,top:(r=e.top)!==null&&r!==void 0?r:t,right:(i=e.right)!==null&&i!==void 0?i:t,bottom:(a=e.bottom)!==null&&a!==void 0?a:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function WE(e,t){var n=om(t.settings.margin,0);return e.pageSize().width-(n.left+n.right)}function Hz(e,t,n,r,i){var a={},u=1.3333333333333333,f=zg(t,function(L){return i.getComputedStyle(L).backgroundColor});f!=null&&(a.fillColor=f);var m=zg(t,function(L){return i.getComputedStyle(L).color});m!=null&&(a.textColor=m);var p=qz(r,n);p&&(a.cellPadding=p);var y="borderTopColor",S=u*n,E=r.borderTopWidth;if(r.borderBottomWidth===E&&r.borderRightWidth===E&&r.borderLeftWidth===E){var A=(parseFloat(E)||0)/S;A&&(a.lineWidth=A)}else a.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/S,right:(parseFloat(r.borderRightWidth)||0)/S,bottom:(parseFloat(r.borderBottomWidth)||0)/S,left:(parseFloat(r.borderLeftWidth)||0)/S},a.lineWidth.top||(a.lineWidth.right?y="borderRightColor":a.lineWidth.bottom?y="borderBottomColor":a.lineWidth.left&&(y="borderLeftColor"));var R=zg(t,function(L){return i.getComputedStyle(L)[y]});R!=null&&(a.lineColor=R);var I=["left","right","center","justify"];I.indexOf(r.textAlign)!==-1&&(a.halign=r.textAlign),I=["middle","bottom","top"],I.indexOf(r.verticalAlign)!==-1&&(a.valign=r.verticalAlign);var P=parseInt(r.fontSize||"");isNaN(P)||(a.fontSize=P/u);var k=Vz(r);k&&(a.fontStyle=k);var O=(r.fontFamily||"").toLowerCase();return e.indexOf(O)!==-1&&(a.font=O),a}function Vz(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function zg(e,t){var n=HE(e,t);if(!n)return null;var r=n.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var i=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],a=parseInt(r[4]);return a===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function HE(e,t){var n=t(e);return n==="rgba(0, 0, 0, 0)"||n==="transparent"||n==="initial"||n==="inherit"?e.parentElement==null?null:HE(e.parentElement,t):n}function qz(e,t){var n=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],r=96/(72/t),i=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,a=n.map(function(f){return parseInt(f||"0")/r}),u=om(a,0);return i>u.top&&(u.top=i),i>u.bottom&&(u.bottom=i),u}function VE(e,t,n,r,i){var a,u;r===void 0&&(r=!1),i===void 0&&(i=!1);var f;typeof t=="string"?f=n.document.querySelector(t):f=t;var m=Object.keys(e.getFontList()),p=e.scaleFactor(),y=[],S=[],E=[];if(!f)return console.error("Html table could not be found with input: ",t),{head:y,body:S,foot:E};for(var A=0;A<f.rows.length;A++){var R=f.rows[A],I=(u=(a=R==null?void 0:R.parentElement)===null||a===void 0?void 0:a.tagName)===null||u===void 0?void 0:u.toLowerCase(),P=Gz(m,p,n,R,r,i);P&&(I==="thead"?y.push(P):I==="tfoot"?E.push(P):S.push(P))}return{head:y,body:S,foot:E}}function Gz(e,t,n,r,i,a){for(var u=new BE(r),f=0;f<r.cells.length;f++){var m=r.cells[f],p=n.getComputedStyle(m);if(i||p.display!=="none"){var y=void 0;a&&(y=Hz(e,m,t,p,n)),u.push({rowSpan:m.rowSpan,colSpan:m.colSpan,styles:y,_element:m,content:Kz(m)})}}var S=n.getComputedStyle(r);if(u.length>0&&(i||S.display!=="none"))return u}function Kz(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(n){return n.trim()}).join(`
`),t.innerText||t.textContent||""}function $z(e,t,n){for(var r=0,i=[e,t,n];r<i.length;r++){var a=i[r];a&&typeof a!="object"&&console.error("The options parameter should be of type object, is: "+typeof a),a.startY&&typeof a.startY!="number"&&(console.error("Invalid value for startY option",a.startY),delete a.startY)}}function Sl(e,t,n,r,i){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(e),u=1;u<arguments.length;u++){var f=arguments[u];if(f!=null)for(var m in f)Object.prototype.hasOwnProperty.call(f,m)&&(a[m]=f[m])}return a}function qE(e,t){var n=new yd(e),r=n.getDocumentOptions(),i=n.getGlobalOptions();$z(i,r,t);var a=Sl({},i,r,t),u;typeof window<"u"&&(u=window);var f=Xz(i,r,t),m=Yz(i,r,t),p=Zz(n,a),y=Jz(n,a,u);return{id:t.tableId,content:y,hooks:m,styles:f,settings:p}}function Xz(e,t,n){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(m){if(m==="columnStyles"){var p=e[m],y=t[m],S=n[m];r.columnStyles=Sl({},p,y,S)}else{var E=[e,t,n],A=E.map(function(R){return R[m]||{}});r[m]=Sl({},A[0],A[1],A[2])}},a=0,u=Object.keys(r);a<u.length;a++){var f=u[a];i(f)}return r}function Yz(e,t,n){for(var r=[e,t,n],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},a=0,u=r;a<u.length;a++){var f=u[a];f.didParseCell&&i.didParseCell.push(f.didParseCell),f.willDrawCell&&i.willDrawCell.push(f.willDrawCell),f.didDrawCell&&i.didDrawCell.push(f.didDrawCell),f.willDrawPage&&i.willDrawPage.push(f.willDrawPage),f.didDrawPage&&i.didDrawPage.push(f.didDrawPage)}return i}function Zz(e,t){var n,r,i,a,u,f,m,p,y,S,E,A,R=om(t.margin,40/e.scaleFactor()),I=(n=Qz(e,t.startY))!==null&&n!==void 0?n:R.top,P;t.showFoot===!0?P="everyPage":t.showFoot===!1?P="never":P=(r=t.showFoot)!==null&&r!==void 0?r:"everyPage";var k;t.showHead===!0?k="everyPage":t.showHead===!1?k="never":k=(i=t.showHead)!==null&&i!==void 0?i:"everyPage";var O=(a=t.useCss)!==null&&a!==void 0?a:!1,L=t.theme||(O?"plain":"striped"),j=!!t.horizontalPageBreak,J=(u=t.horizontalPageBreakRepeat)!==null&&u!==void 0?u:null;return{includeHiddenHtml:(f=t.includeHiddenHtml)!==null&&f!==void 0?f:!1,useCss:O,theme:L,startY:I,margin:R,pageBreak:(m=t.pageBreak)!==null&&m!==void 0?m:"auto",rowPageBreak:(p=t.rowPageBreak)!==null&&p!==void 0?p:"auto",tableWidth:(y=t.tableWidth)!==null&&y!==void 0?y:"auto",showHead:k,showFoot:P,tableLineWidth:(S=t.tableLineWidth)!==null&&S!==void 0?S:0,tableLineColor:(E=t.tableLineColor)!==null&&E!==void 0?E:200,horizontalPageBreak:j,horizontalPageBreakRepeat:J,horizontalPageBreakBehaviour:(A=t.horizontalPageBreakBehaviour)!==null&&A!==void 0?A:"afterAllRows"}}function Qz(e,t){var n=e.getLastAutoTable(),r=e.scaleFactor(),i=e.pageNumber(),a=!1;if(n&&n.startPageNumber){var u=n.startPageNumber+n.pageNumber-1;a=u===i}return typeof t=="number"?t:(t==null||t===!1)&&a&&(n==null?void 0:n.finalY)!=null?n.finalY+20/r:null}function Jz(e,t,n){var r=t.head||[],i=t.body||[],a=t.foot||[];if(t.html){var u=t.includeHiddenHtml;if(n){var f=VE(e,t.html,n,u,t.useCss)||{};r=f.head||r,i=f.body||r,a=f.foot||r}else console.error("Cannot parse html in non browser environment")}var m=t.columns||eW(r,i,a);return{columns:m,head:r,body:i,foot:a}}function eW(e,t,n){var r=e[0]||t[0]||n[0]||[],i=[];return Object.keys(r).filter(function(a){return a!=="_element"}).forEach(function(a){var u=1,f;Array.isArray(r)?f=r[parseInt(a)]:f=r[a],typeof f=="object"&&!Array.isArray(f)&&(u=(f==null?void 0:f.colSpan)||1);for(var m=0;m<u;m++){var p=void 0;Array.isArray(r)?p=i.length:p=a+(m>0?"_".concat(m):"");var y={dataKey:p};i.push(y)}}),i}var Ox=function(){function e(t,n,r){this.table=n,this.pageNumber=n.pageNumber,this.settings=n.settings,this.cursor=r,this.doc=t.getDocument()}return e}(),tW=function(e){FE(t,e);function t(n,r,i,a,u,f){var m=e.call(this,n,r,f)||this;return m.cell=i,m.row=a,m.column=u,m.section=a.section,m}return t}(Ox),nW=function(){function e(t,n){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=n.columns,this.head=n.head,this.body=n.body,this.foot=n.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(n,r){return n+r.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(n,r){return n+r.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,n,r,i,a,u){for(var f=0,m=n;f<m.length;f++){var p=m[f],y=new tW(t,this,r,i,a,u),S=p(y)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],S)return!1}return!0},e.prototype.callEndPageHooks=function(t,n){t.applyStyles(t.userStyles);for(var r=0,i=this.hooks.didDrawPage;r<i.length;r++){var a=i[r];a(new Ox(t,this,n))}},e.prototype.callWillDrawPageHooks=function(t,n){for(var r=0,i=this.hooks.willDrawPage;r<i.length;r++){var a=i[r];a(new Ox(t,this,n))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var n=this.columns.reduce(function(i,a){return i+a.wrappedWidth},0);return n}else{var r=this.settings.margin;return t-r.left-r.right}},e}(),GE=function(){function e(t,n,r,i,a){a===void 0&&(a=!1),this.height=0,this.raw=t,t instanceof BE&&(this.raw=t._element,this.element=t._element),this.index=n,this.section=r,this.cells=i,this.spansMultiplePages=a}return e.prototype.getMaxCellHeight=function(t){var n=this;return t.reduce(function(r,i){var a;return Math.max(r,((a=n.cells[i.index])===null||a===void 0?void 0:a.height)||0)},0)},e.prototype.hasRowSpan=function(t){var n=this;return t.filter(function(r){var i=n.cells[r.index];return i?i.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,n){return this.getMaxCellHeight(n)<=t},e.prototype.getMinimumRowHeight=function(t,n){var r=this;return t.reduce(function(i,a){var u=r.cells[a.index];if(!u)return 0;var f=n.getLineHeight(u.styles.fontSize),m=u.padding("vertical"),p=m+f;return p>i?p:i},0)},e}(),KE=function(){function e(t,n,r){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=n,this.section=r,this.raw=t;var a=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,a=(i=t.content)!==null&&i!==void 0?i:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var u=a!=null?""+a:"",f=/\r\n|\r|\n/g;this.text=u.split(f)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var n=this.height-this.padding("vertical");t=this.y+n/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");r=this.x+i/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:t}},e.prototype.getContentHeight=function(t,n){n===void 0&&(n=1.15);var r=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/t*n,a=r*i+this.padding("vertical");return Math.max(a,this.styles.minCellHeight)},e.prototype.padding=function(t){var n=om(this.styles.cellPadding,0);return t==="vertical"?n.top+n.bottom:t==="horizontal"?n.left+n.right:n[t]},e}(),rW=function(){function e(t,n,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=n,this.index=r}return e.prototype.getMaxCustomCellWidth=function(t){for(var n=0,r=0,i=t.allRows();r<i.length;r++){var a=i[r],u=a.cells[this.index];u&&typeof u.styles.cellWidth=="number"&&(n=Math.max(n,u.styles.cellWidth))}return n},e}();function iW(e,t){sW(e,t);var n=[],r=0;t.columns.forEach(function(a){var u=a.getMaxCustomCellWidth(t);u?a.width=u:(a.width=a.wrappedWidth,n.push(a)),r+=a.width});var i=t.getWidth(e.pageSize().width)-r;i&&(i=Lx(n,i,function(a){return Math.max(a.minReadableWidth,a.minWidth)})),i&&(i=Lx(n,i,function(a){return a.minWidth})),i=Math.abs(i),!t.settings.horizontalPageBreak&&i>.1/e.scaleFactor()&&(i=i<1?i:Math.round(i),console.warn("Of the table content, ".concat(i," units width could not fit page"))),oW(t),lW(t,e),aW(t)}function sW(e,t){var n=e.scaleFactor(),r=t.settings.horizontalPageBreak,i=WE(e,t);t.allRows().forEach(function(a){for(var u=0,f=t.columns;u<f.length;u++){var m=f[u],p=a.cells[m.index];if(p){var y=t.hooks.didParseCell;t.callCellHooks(e,y,p,a,m,null);var S=p.padding("horizontal");p.contentWidth=pp(p.text,p.styles,e)+S;var E=pp(p.text.join(" ").split(/[^\S\u00A0]+/),p.styles,e);if(p.minReadableWidth=E+p.padding("horizontal"),typeof p.styles.cellWidth=="number")p.minWidth=p.styles.cellWidth,p.wrappedWidth=p.styles.cellWidth;else if(p.styles.cellWidth==="wrap"||r===!0)p.contentWidth>i?(p.minWidth=i,p.wrappedWidth=i):(p.minWidth=p.contentWidth,p.wrappedWidth=p.contentWidth);else{var A=10/n;p.minWidth=p.styles.minCellWidth||A,p.wrappedWidth=p.contentWidth,p.minWidth>p.wrappedWidth&&(p.wrappedWidth=p.minWidth)}}}}),t.allRows().forEach(function(a){for(var u=0,f=t.columns;u<f.length;u++){var m=f[u],p=a.cells[m.index];if(p&&p.colSpan===1)m.wrappedWidth=Math.max(m.wrappedWidth,p.wrappedWidth),m.minWidth=Math.max(m.minWidth,p.minWidth),m.minReadableWidth=Math.max(m.minReadableWidth,p.minReadableWidth);else{var y=t.styles.columnStyles[m.dataKey]||t.styles.columnStyles[m.index]||{},S=y.cellWidth||y.minCellWidth;S&&typeof S=="number"&&(m.minWidth=S,m.wrappedWidth=S)}p&&(p.colSpan>1&&!m.minWidth&&(m.minWidth=p.minWidth),p.colSpan>1&&!m.wrappedWidth&&(m.wrappedWidth=p.minWidth))}})}function Lx(e,t,n){for(var r=t,i=e.reduce(function(A,R){return A+R.wrappedWidth},0),a=0;a<e.length;a++){var u=e[a],f=u.wrappedWidth/i,m=r*f,p=u.width+m,y=n(u),S=p<y?y:p;t-=S-u.width,u.width=S}if(t=Math.round(t*1e10)/1e10,t){var E=e.filter(function(A){return t<0?A.width>n(A):!0});E.length&&(t=Lx(E,t,n))}return t}function aW(e){for(var t={},n=1,r=e.allRows(),i=0;i<r.length;i++)for(var a=r[i],u=0,f=e.columns;u<f.length;u++){var m=f[u],p=t[m.index];if(n>1)n--,delete a.cells[m.index];else if(p)p.cell.height+=a.height,n=p.cell.colSpan,delete a.cells[m.index],p.left--,p.left<=1&&delete t[m.index];else{var y=a.cells[m.index];if(!y)continue;if(y.height=a.height,y.rowSpan>1){var S=r.length-i,E=y.rowSpan>S?S:y.rowSpan;t[m.index]={cell:y,left:E,row:a}}}}}function oW(e){for(var t=e.allRows(),n=0;n<t.length;n++)for(var r=t[n],i=null,a=0,u=0,f=0;f<e.columns.length;f++){var m=e.columns[f];if(u-=1,u>1&&e.columns[f+1])a+=m.width,delete r.cells[m.index];else if(i){var p=i;delete r.cells[m.index],i=null,p.width=m.width+a}else{var p=r.cells[m.index];if(!p)continue;if(u=p.colSpan,a=0,p.colSpan>1){i=p,a+=m.width;continue}p.width=m.width+a}}}function lW(e,t){for(var n={count:0,height:0},r=0,i=e.allRows();r<i.length;r++){for(var a=i[r],u=0,f=e.columns;u<f.length;u++){var m=f[u],p=a.cells[m.index];if(p){t.applyStyles(p.styles,!0);var y=p.width-p.padding("horizontal");if(p.styles.overflow==="linebreak")p.text=t.splitTextToSize(p.text,y+1/t.scaleFactor(),{fontSize:p.styles.fontSize});else if(p.styles.overflow==="ellipsize")p.text=$3(p.text,y,p.styles,t,"...");else if(p.styles.overflow==="hidden")p.text=$3(p.text,y,p.styles,t,"");else if(typeof p.styles.overflow=="function"){var S=p.styles.overflow(p.text,y);typeof S=="string"?p.text=[S]:p.text=S}p.contentHeight=p.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var E=p.contentHeight/p.rowSpan;p.rowSpan>1&&n.count*n.height<E*p.rowSpan?n={height:E,count:p.rowSpan}:n&&n.count>0&&n.height>E&&(E=n.height),E>a.height&&(a.height=E)}}n.count--}}function $3(e,t,n,r,i){return e.map(function(a){return cW(a,t,n,r,i)})}function cW(e,t,n,r,i){var a=1e4*r.scaleFactor();if(t=Math.ceil(t*a)/a,t>=pp(e,n,r))return e;for(;t<pp(e+i,n,r)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+i}function $E(e,t){var n=new yd(e),r=uW(t,n.scaleFactor()),i=new nW(t,r);return iW(n,i),n.applyStyles(n.userStyles),i}function uW(e,t){var n=e.content,r=fW(n.columns);if(n.head.length===0){var i=X3(r,"head");i&&n.head.push(i)}if(n.foot.length===0){var i=X3(r,"foot");i&&n.foot.push(i)}var a=e.settings.theme,u=e.styles;return{columns:r,head:Wg("head",n.head,r,u,a,t),body:Wg("body",n.body,r,u,a,t),foot:Wg("foot",n.foot,r,u,a,t)}}function Wg(e,t,n,r,i,a){var u={},f=t.map(function(m,p){for(var y=0,S={},E=0,A=0,R=0,I=n;R<I.length;R++){var P=I[R];if(u[P.index]==null||u[P.index].left===0)if(A===0){var k=void 0;Array.isArray(m)?k=m[P.index-E-y]:k=m[P.dataKey];var O={};typeof k=="object"&&!Array.isArray(k)&&(O=(k==null?void 0:k.styles)||{});var L=hW(e,P,p,i,r,a,O),j=new KE(k,L,e);S[P.dataKey]=j,S[P.index]=j,A=j.colSpan-1,u[P.index]={left:j.rowSpan-1,times:A}}else A--,E++;else u[P.index].left--,A=u[P.index].times,y++}return new GE(m,p,e,S)});return f}function X3(e,t){var n={};return e.forEach(function(r){if(r.raw!=null){var i=dW(t,r.raw);i!=null&&(n[r.dataKey]=i)}}),Object.keys(n).length>0?n:null}function dW(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function fW(e){return e.map(function(t,n){var r,i;return typeof t=="object"?i=(r=t.dataKey)!==null&&r!==void 0?r:n:i=n,new rW(i,t,n)})}function hW(e,t,n,r,i,a,u){var f=Wz(r),m;e==="head"?m=i.headStyles:e==="body"?m=i.bodyStyles:e==="foot"&&(m=i.footStyles);var p=Sl({},f.table,f[e],i.styles,m),y=i.columnStyles[t.dataKey]||i.columnStyles[t.index]||{},S=e==="body"?y:{},E=e==="body"&&n%2===0?Sl({},f.alternateRow,i.alternateRowStyles):{},A=zz(a),R=Sl({},A,p,E,S);return Sl(R,u)}function pW(e,t,n){var r;n===void 0&&(n={});var i=WE(e,t),a=new Map,u=[],f=[],m=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?m=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(m=[t.settings.horizontalPageBreakRepeat]),m.forEach(function(E){var A=t.columns.find(function(R){return R.dataKey===E||R.index===E});A&&!a.has(A.index)&&(a.set(A.index,!0),u.push(A.index),f.push(t.columns[A.index]),i-=A.wrappedWidth)});for(var p=!0,y=(r=n==null?void 0:n.start)!==null&&r!==void 0?r:0;y<t.columns.length;){if(a.has(y)){y++;continue}var S=t.columns[y].wrappedWidth;if(p||i>=S)p=!1,u.push(y),f.push(t.columns[y]),i-=S;else break;y++}return{colIndexes:u,columns:f,lastIndex:y-1}}function mW(e,t){for(var n=[],r=0;r<t.columns.length;r++){var i=pW(e,t,{start:r});i.columns.length&&(n.push(i),r=i.lastIndex)}return n}function XE(e,t){var n=t.settings,r=n.startY,i=n.margin,a={x:i.left,y:r},u=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),f=r+i.bottom+u;if(n.pageBreak==="avoid"){var m=t.body,p=m.reduce(function(E,A){return E+A.height},0);f+=p}var y=new yd(e);(n.pageBreak==="always"||n.startY!=null&&f>y.pageSize().height)&&(ZE(y),a.y=i.top),t.callWillDrawPageHooks(y,a);var S=Sl({},a);t.startPageNumber=y.pageNumber(),n.horizontalPageBreak?gW(y,t,S,a):(y.applyStyles(y.userStyles),(n.showHead==="firstPage"||n.showHead==="everyPage")&&t.head.forEach(function(E){return Ll(y,t,E,a,t.columns)}),y.applyStyles(y.userStyles),t.body.forEach(function(E,A){var R=A===t.body.length-1;mp(y,t,E,R,S,a,t.columns)}),y.applyStyles(y.userStyles),(n.showFoot==="lastPage"||n.showFoot==="everyPage")&&t.foot.forEach(function(E){return Ll(y,t,E,a,t.columns)})),UE(y,t,S,a),t.callEndPageHooks(y,a),t.finalY=a.y,e.lastAutoTable=t,y.applyStyles(y.userStyles)}function gW(e,t,n,r){var i=mW(e,t),a=t.settings;if(a.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(p,y){e.applyStyles(e.userStyles),y>0?Yf(e,t,n,r,p.columns,!0):Y3(e,t,r,p.columns),xW(e,t,n,r,p.columns),Hg(e,t,r,p.columns)});else for(var u=-1,f=i[0],m=function(){var p=u;if(f){e.applyStyles(e.userStyles);var y=f.columns;u>=0?Yf(e,t,n,r,y,!0):Y3(e,t,r,y),p=Z3(e,t,u+1,r,y),Hg(e,t,r,y)}var S=p-u;i.slice(1).forEach(function(E){e.applyStyles(e.userStyles),Yf(e,t,n,r,E.columns,!0),Z3(e,t,u+1,r,E.columns,S),Hg(e,t,r,E.columns)}),u=p};u<t.body.length-1;)m()}function Y3(e,t,n,r){var i=t.settings;e.applyStyles(e.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&t.head.forEach(function(a){return Ll(e,t,a,n,r)})}function xW(e,t,n,r,i){e.applyStyles(e.userStyles),t.body.forEach(function(a,u){var f=u===t.body.length-1;mp(e,t,a,f,n,r,i)})}function Z3(e,t,n,r,i,a){e.applyStyles(e.userStyles),a=a??t.body.length;var u=Math.min(n+a,t.body.length),f=-1;return t.body.slice(n,u).forEach(function(m,p){var y=n+p===t.body.length-1,S=YE(e,t,y,r);m.canEntireRowFit(S,i)&&(Ll(e,t,m,r,i),f=n+p)}),f}function Hg(e,t,n,r){var i=t.settings;e.applyStyles(e.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&t.foot.forEach(function(a){return Ll(e,t,a,n,r)})}function vW(e,t,n){var r=n.getLineHeight(e.styles.fontSize),i=e.padding("vertical"),a=Math.floor((t-i)/r);return Math.max(0,a)}function yW(e,t,n,r){var i={};e.spansMultiplePages=!0,e.height=0;for(var a=0,u=0,f=n.columns;u<f.length;u++){var m=f[u],p=e.cells[m.index];if(p){Array.isArray(p.text)||(p.text=[p.text]);var y=new KE(p.raw,p.styles,p.section);y=Sl(y,p),y.text=[];var S=vW(p,t,r);p.text.length>S&&(y.text=p.text.splice(S,p.text.length));var E=r.scaleFactor(),A=r.getLineHeightFactor();p.contentHeight=p.getContentHeight(E,A),p.contentHeight>=t&&(p.contentHeight=t,y.styles.minCellHeight-=t),p.contentHeight>e.height&&(e.height=p.contentHeight),y.contentHeight=y.getContentHeight(E,A),y.contentHeight>a&&(a=y.contentHeight),i[m.index]=y}}var R=new GE(e.raw,-1,e.section,i,!0);R.height=a;for(var I=0,P=n.columns;I<P.length;I++){var m=P[I],y=R.cells[m.index];y&&(y.height=R.height);var p=e.cells[m.index];p&&(p.height=e.height)}return R}function wW(e,t,n,r){var i=e.pageSize().height,a=r.settings.margin,u=a.top+a.bottom,f=i-u;t.section==="body"&&(f-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var m=t.getMinimumRowHeight(r.columns,e),p=m<n;if(m>f)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!p)return!1;var y=t.hasRowSpan(r.columns),S=t.getMaxCellHeight(r.columns)>f;return S?(y&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(y||r.settings.rowPageBreak==="avoid")}function mp(e,t,n,r,i,a,u){var f=YE(e,t,r,a);if(n.canEntireRowFit(f,u))Ll(e,t,n,a,u);else if(wW(e,n,f,t)){var m=yW(n,f,t,e);Ll(e,t,n,a,u),Yf(e,t,i,a,u),mp(e,t,m,r,i,a,u)}else Yf(e,t,i,a,u),mp(e,t,n,r,i,a,u)}function Ll(e,t,n,r,i){r.x=t.settings.margin.left;for(var a=0,u=i;a<u.length;a++){var f=u[a],m=n.cells[f.index];if(!m){r.x+=f.width;continue}e.applyStyles(m.styles),m.x=r.x,m.y=r.y;var p=t.callCellHooks(e,t.hooks.willDrawCell,m,n,f,r);if(p===!1){r.x+=f.width;continue}bW(e,m,r);var y=m.getTextPos();jE(m.text,y.x,y.y,{halign:m.styles.halign,valign:m.styles.valign,maxWidth:Math.ceil(m.width-m.padding("left")-m.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,m,n,f,r),r.x+=f.width}r.y+=n.height}function bW(e,t,n){var r=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof r.lineWidth=="number"){var i=zE(r.lineWidth,r.fillColor);i&&e.rect(t.x,n.y,t.width,t.height,i)}else typeof r.lineWidth=="object"&&(r.fillColor&&e.rect(t.x,n.y,t.width,t.height,"F"),AW(e,t,n,r.lineWidth))}function AW(e,t,n,r){var i,a,u,f;r.top&&(i=n.x,a=n.y,u=n.x+t.width,f=n.y,r.right&&(u+=.5*r.right),r.left&&(i-=.5*r.left),m(r.top,i,a,u,f)),r.bottom&&(i=n.x,a=n.y+t.height,u=n.x+t.width,f=n.y+t.height,r.right&&(u+=.5*r.right),r.left&&(i-=.5*r.left),m(r.bottom,i,a,u,f)),r.left&&(i=n.x,a=n.y,u=n.x,f=n.y+t.height,r.top&&(a-=.5*r.top),r.bottom&&(f+=.5*r.bottom),m(r.left,i,a,u,f)),r.right&&(i=n.x+t.width,a=n.y,u=n.x+t.width,f=n.y+t.height,r.top&&(a-=.5*r.top),r.bottom&&(f+=.5*r.bottom),m(r.right,i,a,u,f));function m(p,y,S,E,A){e.getDocument().setLineWidth(p),e.getDocument().line(y,S,E,A,"S")}}function YE(e,t,n,r){var i=t.settings.margin.bottom,a=t.settings.showFoot;return(a==="everyPage"||a==="lastPage"&&n)&&(i+=t.getFootHeight(t.columns)),e.pageSize().height-r.y-i}function Yf(e,t,n,r,i,a){i===void 0&&(i=[]),a===void 0&&(a=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!a&&t.foot.forEach(function(f){return Ll(e,t,f,r,i)}),t.callEndPageHooks(e,r);var u=t.settings.margin;UE(e,t,n,r),ZE(e),t.pageNumber++,r.x=u.left,r.y=u.top,n.y=u.top,t.callWillDrawPageHooks(e,r),t.settings.showHead==="everyPage"&&(t.head.forEach(function(f){return Ll(e,t,f,r,i)}),e.applyStyles(e.userStyles))}function ZE(e){var t=e.pageNumber();e.setPage(t+1);var n=e.pageNumber();return n===t?(e.addPage(),!0):!1}function SW(e){e.API.autoTable=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t[0],i=qE(this,r),a=$E(this,i);return XE(this,a),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,n,r,i){jE(t,n,r,i,this)},e.API.autoTableSetDefaults=function(t){return yd.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,n){yd.setDefaults(t,n)},e.API.autoTableHtmlToJson=function(t,n){var r;if(n===void 0&&(n=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new yd(this),a=VE(i,t,window,n,!1),u=a.head,f=a.body,m=((r=u[0])===null||r===void 0?void 0:r.map(function(p){return p.content}))||[];return{columns:m,rows:f,data:f}}}var Vg;function Q3(e,t){var n=qE(e,t),r=$E(e,n);XE(e,r)}try{if(typeof window<"u"&&window){var J3=window,e4=J3.jsPDF||((Vg=J3.jspdf)===null||Vg===void 0?void 0:Vg.jsPDF);e4&&SW(e4)}}catch(e){console.error("Could not apply autoTable plugin",e)}async function _W(e){try{const t=await fetch(e);if(!t.ok)return null;const n=await t.blob();return await new Promise(r=>{const i=new FileReader;i.onloadend=()=>r(typeof i.result=="string"?i.result:null),i.readAsDataURL(n)})}catch{return null}}function Ny(e){const t="Asia/Manila";try{return new Intl.DateTimeFormat("en-US",{dateStyle:"medium",timeStyle:"medium",timeZone:t}).format(new Date)}catch{return new Date().toLocaleString()}}async function Iy(e){var y,S;const t=new Jt({unit:"pt",format:"a4"}),n=40;let i=48;if(e.logoUrl){const E=await _W(e.logoUrl);if(E){const A=e.logoWidthPx??48,R=t.internal.pageSize.getWidth(),I=Math.max(0,(R-A)/2);t.addImage(E,"PNG",I,i-8,A,A),i+=A+8}}t.setFont("helvetica","bold"),t.setFontSize(16),t.text(e.title,n,i);let a=i+20;if(e.subtitle){t.setFont("helvetica","normal"),t.setFontSize(11);const E=t.splitTextToSize(e.subtitle,515);t.text(E,n,a),a+=(Array.isArray(E)?E.length:1)*14+6}if(e.prependTables&&e.prependTables.length>0)for(const E of e.prependTables){E.title&&(t.setFont("helvetica","bold"),t.setFontSize(12),t.text(E.title,n,a),a+=16);const A=[E.columns.map(I=>I.header)],R=E.rows.map(I=>E.columns.map(P=>{const k=I[P.dataKey];return k==null?"":k instanceof Date?k.toLocaleString():String(k)}));Q3(t,{head:A,body:R,startY:a,styles:{fontSize:10,cellPadding:6},headStyles:{fillColor:[30,41,59]},alternateRowStyles:{fillColor:[250,250,250]},margin:{left:n,right:n}}),a=(((y=t.lastAutoTable)==null?void 0:y.finalY)??a)+12}const u=[e.columns.map(E=>E.header)],f=e.rows.map(E=>e.columns.map(A=>{const R=E[A.dataKey];return R==null?"":R instanceof Date?R.toLocaleString():String(R)}));Q3(t,{head:u,body:f,startY:a,styles:{fontSize:10,cellPadding:6},headStyles:{fillColor:[15,23,42]},alternateRowStyles:{fillColor:[248,250,252]},margin:{left:n,right:n}});const m=((S=t.lastAutoTable)==null?void 0:S.finalY)??a;if(e.footnote&&(t.setFontSize(9),t.setTextColor(100),t.text(e.footnote,n,m+24)),e.includeSignatures){const R=(t.internal.pageSize.getWidth()-n*2)/3,I=m+64;for(let P=0;P<3;P++){const k=n+P*R,O=I;t.setDrawColor(180),t.line(k,O,k+R-16,O),t.setFontSize(10),t.setTextColor(80);const L=P===0?"Prepared by":P===1?"Checked by":"Approved by",j="Name & Signature",J=k+(R-16)/2;t.text(L,J,O+14,{align:"center"}),t.setFontSize(9),t.setTextColor(120),t.text(j,J,O+28,{align:"center"})}}const p=e.filename.endsWith(".pdf")?e.filename:`${e.filename}.pdf`;if(up()){const E=t.output("arraybuffer"),R=`data:application/pdf;base64,${cE(E)}`;await Cy(p,R)}else t.save(p)}const CW=()=>{const e=zc(),{toast:t}=Ys(),[n,r]=F.useState({period:"daily",startDate:new Date().toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0]}),[i,a]=F.useState([]),u=async()=>{await Ks();const m=await sn.attendance.toArray(),p=await c_(),y=m.filter(P=>P.date>=n.startDate&&P.date<=n.endDate).map(P=>({memberName:P.memberName,memberId:P.memberId,date:P.date,checkInTime:P.checkInTime,checkOutTime:P.checkOutTime||""})),S=p.filter(P=>(P.date||"")>=n.startDate&&(P.date||"")<=n.endDate),E=S.filter(P=>P.category==="Membership Fee").reduce((P,k)=>P+(Number(k.amount)||0),0),A=S.filter(P=>P.category==="Walk-In Daily Fee").reduce((P,k)=>P+(Number(k.amount)||0),0),R=S.filter(P=>P.category==="Other").reduce((P,k)=>P+(Number(k.amount)||0),0),I=E+A+R;Iy({title:"Attendance Report",subtitle:`Period: ${n.startDate} to ${n.endDate}  View: ${n.period}`,prependTables:[{title:"Income Summary",columns:[{header:"Category",dataKey:"label"},{header:"Amount ()",dataKey:"amount"}],rows:[{label:"Membership Fees",amount:E},{label:"Walk-In Income",amount:A},{label:"Other",amount:R},{label:"Total Income",amount:I}]}],columns:[{header:"Member",dataKey:"memberName"},{header:"Member ID",dataKey:"memberId"},{header:"Date",dataKey:"date"},{header:"Check-in",dataKey:"checkInTime"},{header:"Check-out",dataKey:"checkOutTime"}],rows:y,filename:`attendance_${n.startDate}_${n.endDate}`,footnote:`Generated by PowerLift Fitness Gym on ${Ny()}`,logoUrl:"/logo.png",logoWidthPx:80,includeSignatures:!0}),t({title:"Exported PDF",description:"Attendance report downloaded."})},f=()=>{t({title:"CSV Export",description:"Attendance report has been exported to CSV format."})};return F.useEffect(()=>{(async()=>{await Ks();const y=(await sn.attendance.toArray()).filter(S=>S.date>=n.startDate&&S.date<=n.endDate);a(y)})()},[n]),v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsxs(en,{variant:"ghost",size:"sm",onClick:()=>e("/reports"),children:[v.jsx(xu,{className:"h-4 w-4 mr-2"}),"Back to Reports"]}),v.jsxs("div",{children:[v.jsx("h1",{className:"text-3xl font-bold",children:"Attendance Report"}),v.jsx("p",{className:"text-muted-foreground",children:"Track member attendance patterns and check-in data"}),v.jsxs("p",{className:"mt-1 text-xl font-semibold",children:["View: ",v.jsx("span",{className:"capitalize",children:n.period})]})]})]}),v.jsxs(qn,{className:"border-0 shadow-md",children:[v.jsx(vr,{children:v.jsx(yr,{children:"Report Filters"})}),v.jsxs(Gn,{children:[v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(Fn,{children:"Report Period"}),v.jsxs(Ic,{value:n.period,onValueChange:m=>r(p=>({...p,period:m})),children:[v.jsx(Cl,{children:v.jsx(Tc,{})}),v.jsxs(El,{children:[v.jsx(Ai,{value:"daily",children:"Daily"}),v.jsx(Ai,{value:"weekly",children:"Weekly"}),v.jsx(Ai,{value:"monthly",children:"Monthly"})]})]})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(Fn,{htmlFor:"startDate",children:"Start Date"}),v.jsx(mr,{id:"startDate",type:"date",value:n.startDate,onChange:m=>r(p=>({...p,startDate:m.target.value}))})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(Fn,{htmlFor:"endDate",children:"End Date"}),v.jsx(mr,{id:"endDate",type:"date",value:n.endDate,onChange:m=>r(p=>({...p,endDate:m.target.value}))})]})]}),v.jsxs("div",{className:"flex gap-4 mt-4",children:[v.jsxs(en,{onClick:u,variant:"outline",className:"flex-1",children:[v.jsx(Mp,{className:"h-4 w-4 mr-2"}),"Export PDF"]}),v.jsxs(en,{onClick:f,variant:"outline",className:"flex-1",children:[v.jsx(Dv,{className:"h-4 w-4 mr-2"}),"Export CSV"]})]})]})]}),v.jsxs(qn,{className:"border-0 shadow-md",children:[v.jsx(vr,{children:v.jsx(yr,{children:"Attendance Records"})}),v.jsx(Gn,{children:v.jsx("div",{className:"space-y-4",children:i.length>0?i.map(m=>v.jsxs("div",{className:"flex items-center justify-between p-3 border border-border rounded-lg",children:[v.jsxs("div",{children:[v.jsx("p",{className:"font-medium",children:m.memberName}),v.jsxs("p",{className:"text-sm text-muted-foreground",children:["ID: ",m.memberId]})]}),v.jsxs("div",{className:"text-right",children:[v.jsxs("p",{className:"font-medium",children:[m.checkInTime,m.checkOutTime?`  ${m.checkOutTime}`:""]}),v.jsx("p",{className:"text-sm text-muted-foreground",children:m.date})]})]},m.id)):v.jsxs("div",{className:"text-center py-8",children:[v.jsx("p",{className:"text-muted-foreground",children:"No attendance records found for the selected period."}),v.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Try adjusting the date range or add some attendance data."})]})})})]})]})},EW=()=>{const e=zc(),{toast:t}=Ys(),[n,r]=F.useState([]);F.useEffect(()=>{(async()=>{await Ks();const y=await sn.members.toArray();r(y)})()},[]);const i=n.filter(p=>p.status==="active"),a=n.filter(p=>p.status==="expired"),u=n.filter(p=>p.status==="soon-to-expire"),f=p=>{if(p==="pdf"){const y=[{header:"Name",dataKey:"fullName"},{header:"Member ID",dataKey:"id"},{header:"Status",dataKey:"status"},{header:"Start",dataKey:"membershipStartDate"},{header:"Expiry",dataKey:"membershipExpiryDate"}];Iy({title:"Membership Status Report",subtitle:`Active: ${i.length}  Expiring Soon: ${u.length}  Expired: ${a.length}`,columns:y,rows:n,filename:"membership_status_report",footnote:`Generated by PowerLift Fitness Gym on ${Ny()}`,logoUrl:"/logo.png",logoWidthPx:80,includeSignatures:!0}),t({title:"Exported PDF",description:"Membership report downloaded."});return}t({title:"CSV Export",description:"CSV export coming soon."})},m=p=>{switch(p){case"active":return v.jsx(us,{className:"bg-success/10 text-success border-success/20",children:"Active"});case"expired":return v.jsx(us,{variant:"destructive",children:"Expired"});case"soon-to-expire":return v.jsx(us,{className:"bg-warning/10 text-warning border-warning/20",children:"Expiring Soon"});default:return v.jsx(us,{variant:"secondary",children:"Unknown"})}};return v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsxs(en,{variant:"ghost",size:"sm",onClick:()=>e("/reports"),children:[v.jsx(xu,{className:"h-4 w-4 mr-2"}),"Back to Reports"]}),v.jsxs("div",{children:[v.jsx("h1",{className:"text-3xl font-bold",children:"Membership Status Report"}),v.jsx("p",{className:"text-muted-foreground",children:"Overview of all membership statuses and renewal insights"})]})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[v.jsx(qn,{className:"border-0 shadow-md bg-gradient-to-br from-success/5 to-success/10",children:v.jsx(Gn,{className:"pt-6",children:v.jsxs("div",{className:"text-center",children:[v.jsx("p",{className:"text-3xl font-bold text-success",children:i.length}),v.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Members"})]})})}),v.jsx(qn,{className:"border-0 shadow-md bg-gradient-to-br from-warning/5 to-warning/10",children:v.jsx(Gn,{className:"pt-6",children:v.jsxs("div",{className:"text-center",children:[v.jsx("p",{className:"text-3xl font-bold text-warning",children:u.length}),v.jsx("p",{className:"text-sm text-muted-foreground",children:"Expiring Soon"})]})})}),v.jsx(qn,{className:"border-0 shadow-md bg-gradient-to-br from-destructive/5 to-destructive/10",children:v.jsx(Gn,{className:"pt-6",children:v.jsxs("div",{className:"text-center",children:[v.jsx("p",{className:"text-3xl font-bold text-destructive",children:a.length}),v.jsx("p",{className:"text-sm text-muted-foreground",children:"Expired"})]})})})]}),v.jsxs(qn,{className:"border-0 shadow-md",children:[v.jsx(vr,{children:v.jsx(yr,{children:"Export Options"})}),v.jsx(Gn,{children:v.jsxs("div",{className:"flex gap-4",children:[v.jsxs(en,{onClick:()=>f("pdf"),variant:"outline",className:"flex-1",children:[v.jsx(Mp,{className:"h-4 w-4 mr-2"}),"Export PDF"]}),v.jsxs(en,{onClick:()=>f("csv"),variant:"outline",className:"flex-1",children:[v.jsx(Dv,{className:"h-4 w-4 mr-2"}),"Export CSV"]})]})})]}),v.jsxs(qn,{className:"border-0 shadow-md",children:[v.jsx(vr,{children:v.jsx(yr,{children:"All Members"})}),v.jsx(Gn,{children:v.jsx("div",{className:"space-y-4",children:n.length>0?n.map(p=>v.jsxs("div",{className:"flex items-center justify-between p-3 border border-border rounded-lg",children:[v.jsxs("div",{children:[v.jsx("p",{className:"font-medium",children:p.fullName}),v.jsxs("p",{className:"text-sm text-muted-foreground",children:["ID: ",p.id]})]}),v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx("div",{className:"text-right text-sm",children:v.jsxs("p",{children:["Expires: ",p.membershipExpiryDate]})}),m(p.status)]})]},p.id)):v.jsxs("div",{className:"text-center py-8",children:[v.jsx("p",{className:"text-muted-foreground",children:"No members found."}),v.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Add some members to see the membership report."})]})})})]}),v.jsxs(qn,{className:"border-0 shadow-md",children:[v.jsx(vr,{children:v.jsx(yr,{children:"Signatures"})}),v.jsxs(Gn,{children:[v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[v.jsxs("div",{className:"flex flex-col justify-end",children:[v.jsx("div",{className:"h-16"}),v.jsx("div",{className:"border-t border-border"}),v.jsx("p",{className:"text-sm text-muted-foreground mt-2 text-center",children:"Prepared by"}),v.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Name & Signature"})]}),v.jsxs("div",{className:"flex flex-col justify-end",children:[v.jsx("div",{className:"h-16"}),v.jsx("div",{className:"border-t border-border"}),v.jsx("p",{className:"text-sm text-muted-foreground mt-2 text-center",children:"Checked by"}),v.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Name & Signature"})]}),v.jsxs("div",{className:"flex flex-col justify-end",children:[v.jsx("div",{className:"h-16"}),v.jsx("div",{className:"border-t border-border"}),v.jsx("p",{className:"text-sm text-muted-foreground mt-2 text-center",children:"Approved by"}),v.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Name & Signature"})]})]}),v.jsxs("p",{className:"text-xs text-muted-foreground mt-6",children:["Date: ",new Date().toLocaleDateString()]})]})]})]})},NW=()=>{const e=zc(),{toast:t}=Ys(),[n,r]=F.useState(""),[i,a]=F.useState([]),[u,f]=F.useState([]);F.useEffect(()=>{(async()=>{await Ks();const S=await sn.members.toArray();a(S)})()},[]),F.useEffect(()=>{(async()=>{if(n){await Ks();const S=await sn.attendance.where("memberId").equals(n).toArray();f(S)}else f([])})()},[n]);const m=i.find(y=>y.id===n),p=y=>{if(y==="pdf"&&m){const S=[{header:"Session",dataKey:"session"},{header:"Date",dataKey:"date"},{header:"Check-in",dataKey:"checkInTime"}],E=u.map((A,R)=>({session:`#${A.id??R+1}`,date:A.date,checkInTime:A.checkInTime}));Iy({title:`Member Activity  ${m.fullName} (${m.id})`,subtitle:`Email: ${m.email}  Status: ${m.status}`,columns:S,rows:E,filename:`member_activity_${m.id}`,footnote:`Generated by PowerLift Fitness Gym on ${Ny()}`,logoUrl:"/logo.png",logoWidthPx:80,includeSignatures:!0}),t({title:"Exported PDF",description:"Member activity report downloaded."});return}t({title:"CSV Export",description:"CSV export coming soon."})};return v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsxs(en,{variant:"ghost",size:"sm",onClick:()=>e("/reports"),children:[v.jsx(xu,{className:"h-4 w-4 mr-2"}),"Back to Reports"]}),v.jsxs("div",{children:[v.jsx("h1",{className:"text-3xl font-bold",children:"Member Activity Report"}),v.jsx("p",{className:"text-muted-foreground",children:"Analyze individual member attendance and activity patterns"})]})]}),v.jsxs(qn,{className:"border-0 shadow-md",children:[v.jsx(vr,{children:v.jsx(yr,{children:"Select Member"})}),v.jsx(Gn,{children:v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsxs(Ic,{value:n,onValueChange:r,children:[v.jsx(Cl,{children:v.jsx(Tc,{placeholder:"Choose a member to analyze"})}),v.jsx(El,{children:i.length>0?i.map(y=>v.jsxs(Ai,{value:y.id,children:[y.fullName," (",y.id,")"]},y.id)):v.jsx(Ai,{value:"no-members",disabled:!0,children:"No members available"})})]}),v.jsxs("div",{className:"flex gap-2",children:[v.jsxs(en,{onClick:()=>p("pdf"),variant:"outline",className:"flex-1",disabled:!n,children:[v.jsx(Mp,{className:"h-4 w-4 mr-2"}),"Export PDF"]}),v.jsxs(en,{onClick:()=>p("csv"),variant:"outline",className:"flex-1",disabled:!n,children:[v.jsx(Dv,{className:"h-4 w-4 mr-2"}),"Export CSV"]})]})]})})]}),m&&v.jsxs(v.Fragment,{children:[v.jsxs(qn,{className:"border-0 shadow-md",children:[v.jsx(vr,{children:v.jsx(yr,{children:"Member Information"})}),v.jsx(Gn,{children:v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[v.jsxs("div",{children:[v.jsxs("p",{children:[v.jsx("strong",{children:"Name:"})," ",m.fullName]}),v.jsxs("p",{children:[v.jsx("strong",{children:"ID:"})," ",m.id]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Email:"})," ",m.email]})]}),v.jsxs("div",{children:[v.jsxs("p",{children:[v.jsx("strong",{children:"Start Date:"})," ",m.membershipStartDate]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Expiry Date:"})," ",m.membershipExpiryDate]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Status:"})," ",m.status]})]})]})})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[v.jsx(qn,{className:"border-0 shadow-md",children:v.jsxs(Gn,{className:"pt-6 text-center",children:[v.jsx("p",{className:"text-2xl font-bold text-primary",children:u.length}),v.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Check-ins"})]})}),v.jsx(qn,{className:"border-0 shadow-md",children:v.jsxs(Gn,{className:"pt-6 text-center",children:[v.jsx("p",{className:"text-2xl font-bold text-success",children:"3.2"}),v.jsx("p",{className:"text-sm text-muted-foreground",children:"Avg. Weekly Visits"})]})}),v.jsx(qn,{className:"border-0 shadow-md",children:v.jsxs(Gn,{className:"pt-6 text-center",children:[v.jsx("p",{className:"text-2xl font-bold text-accent",children:"85%"}),v.jsx("p",{className:"text-sm text-muted-foreground",children:"Attendance Rate"})]})})]}),v.jsxs(qn,{className:"border-0 shadow-md",children:[v.jsx(vr,{children:v.jsx(yr,{children:"Recent Attendance History"})}),v.jsx(Gn,{children:v.jsx("div",{className:"space-y-3",children:u.length>0?u.map(y=>v.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg",children:[v.jsxs("div",{children:[v.jsx("p",{className:"font-medium",children:"Check-in"}),v.jsxs("p",{className:"text-sm text-muted-foreground",children:["Session #",y.id]})]}),v.jsxs("div",{className:"text-right",children:[v.jsx("p",{className:"font-medium",children:y.checkInTime}),v.jsx("p",{className:"text-sm text-muted-foreground",children:y.date})]})]},y.id)):v.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No attendance records found for this member"})})})]}),v.jsxs(qn,{className:"border-0 shadow-md",children:[v.jsx(vr,{children:v.jsx(yr,{children:"Signatures"})}),v.jsxs(Gn,{children:[v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[v.jsxs("div",{className:"flex flex-col justify-end",children:[v.jsx("div",{className:"h-16"}),v.jsx("div",{className:"border-t border-border"}),v.jsx("p",{className:"text-sm text-muted-foreground mt-2 text-center",children:"Prepared by"}),v.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Name & Signature"})]}),v.jsxs("div",{className:"flex flex-col justify-end",children:[v.jsx("div",{className:"h-16"}),v.jsx("div",{className:"border-t border-border"}),v.jsx("p",{className:"text-sm text-muted-foreground mt-2 text-center",children:"Checked by"}),v.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Name & Signature"})]}),v.jsxs("div",{className:"flex flex-col justify-end",children:[v.jsx("div",{className:"h-16"}),v.jsx("div",{className:"border-t border-border"}),v.jsx("p",{className:"text-sm text-muted-foreground mt-2 text-center",children:"Approved by"}),v.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Name & Signature"})]})]}),v.jsxs("p",{className:"text-xs text-muted-foreground mt-6",children:["Date: ",new Date().toLocaleDateString()]})]})]})]})]})},QE=F.forwardRef(({className:e,...t},n)=>v.jsx("div",{className:"relative w-full overflow-auto",children:v.jsx("table",{ref:n,className:Ht("w-full caption-bottom text-sm",e),...t})}));QE.displayName="Table";const JE=F.forwardRef(({className:e,...t},n)=>v.jsx("thead",{ref:n,className:Ht("[&_tr]:border-b",e),...t}));JE.displayName="TableHeader";const eN=F.forwardRef(({className:e,...t},n)=>v.jsx("tbody",{ref:n,className:Ht("[&_tr:last-child]:border-0",e),...t}));eN.displayName="TableBody";const IW=F.forwardRef(({className:e,...t},n)=>v.jsx("tfoot",{ref:n,className:Ht("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));IW.displayName="TableFooter";const Dx=F.forwardRef(({className:e,...t},n)=>v.jsx("tr",{ref:n,className:Ht("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...t}));Dx.displayName="TableRow";const ec=F.forwardRef(({className:e,...t},n)=>v.jsx("th",{ref:n,className:Ht("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));ec.displayName="TableHead";const tc=F.forwardRef(({className:e,...t},n)=>v.jsx("td",{ref:n,className:Ht("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));tc.displayName="TableCell";const TW=F.forwardRef(({className:e,...t},n)=>v.jsx("caption",{ref:n,className:Ht("mt-4 text-sm text-muted-foreground",e),...t}));TW.displayName="TableCaption";const kW=()=>{const[e,t]=F.useState([]),[n,r]=F.useState(!0),[i,a]=F.useState(!1),[u,f]=F.useState(null),[m,p]=F.useState({username:"",email:"",password:"",role:"staff",isActive:!0}),[y,S]=F.useState([]),{toast:E}=Ys();F.useEffect(()=>{A()},[]);const A=async()=>{try{const j=await gD();t(j)}catch(j){console.error("Error loading users:",j),E({title:"Error",description:"Failed to load users.",variant:"destructive"})}finally{r(!1)}},R=(j,J)=>{if(p(ce=>({...ce,[j]:J})),j==="password"){const ce=bh(J);S(ce.errors)}},I=()=>{p({username:"",email:"",password:"",role:"staff",isActive:!0}),S([]),f(null),a(!1)},P=async j=>{j.preventDefault();try{if(!u&&!m.password){E({title:"Password Required",description:"Password is required for new users.",variant:"destructive"});return}if(m.password&&!bh(m.password).isValid){E({title:"Invalid Password",description:"Please fix the password requirements.",variant:"destructive"});return}if((!u||u.username!==m.username)&&await Jv(m.username)){E({title:"Username Taken",description:"This username is already taken.",variant:"destructive"});return}if((!u||u.email!==m.email)&&await u_(m.email)){E({title:"Email Taken",description:"This email is already registered.",variant:"destructive"});return}if(u){const J={username:m.username,email:m.email,role:m.role,isActive:m.isActive};m.password&&(J.passwordHash=await wh(m.password)),await f_(u.id,J),E({title:"User Updated",description:"User has been updated successfully."})}else{const J=await wh(m.password),ce=vM();await d_({id:ce,username:m.username,email:m.email,passwordHash:J,role:m.role,isActive:m.isActive,createdAt:new Date().toISOString()}),E({title:"User Created",description:"User has been created successfully."})}I(),A()}catch(J){console.error("Error saving user:",J),E({title:"Error",description:"Failed to save user.",variant:"destructive"})}},k=j=>{f(j),p({username:j.username,email:j.email,password:"",role:j.role,isActive:j.isActive}),a(!0)},O=async j=>{try{await xD(j),E({title:"User Deleted",description:"User has been deleted successfully."}),A()}catch(J){console.error("Error deleting user:",J),E({title:"Error",description:"Failed to delete user.",variant:"destructive"})}},L=j=>new Date(j).toLocaleDateString();return n?v.jsx("div",{className:"flex items-center justify-center h-64",children:v.jsx("div",{className:"text-muted-foreground",children:"Loading users..."})}):v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-3xl font-bold",children:"User Management"}),v.jsx("p",{className:"text-muted-foreground",children:"Manage system users and their permissions"})]}),v.jsxs(en,{onClick:()=>a(!0),className:"bg-gradient-primary",children:[v.jsx(Ik,{className:"h-4 w-4 mr-2"}),"Add User"]})]}),i&&v.jsxs(qn,{children:[v.jsxs(vr,{children:[v.jsx(yr,{children:u?"Edit User":"Create New User"}),v.jsx(el,{children:u?"Update user information":"Add a new user to the system"})]}),v.jsx(Gn,{children:v.jsxs("form",{onSubmit:P,className:"space-y-4",children:[v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(Fn,{htmlFor:"username",children:"Username"}),v.jsx(mr,{id:"username",value:m.username,onChange:j=>R("username",j.target.value),required:!0})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(Fn,{htmlFor:"email",children:"Email"}),v.jsx(mr,{id:"email",type:"email",value:m.email,onChange:j=>R("email",j.target.value),required:!0})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs(Fn,{htmlFor:"password",children:["Password ",u&&"(leave blank to keep current)"]}),v.jsx(mr,{id:"password",type:"password",value:m.password,onChange:j=>R("password",j.target.value),required:!u}),y.length>0&&v.jsx("ul",{className:"text-sm text-destructive space-y-1",children:y.map((j,J)=>v.jsxs("li",{children:[" ",j]},J))})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(Fn,{htmlFor:"role",children:"Role"}),v.jsxs(Ic,{value:m.role,onValueChange:j=>R("role",j),children:[v.jsx(Cl,{children:v.jsx(Tc,{})}),v.jsxs(El,{children:[v.jsx(Ai,{value:"staff",children:"Staff"}),v.jsx(Ai,{value:"admin",children:"Admin"})]})]})]})]}),v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx("input",{type:"checkbox",id:"isActive",checked:m.isActive,onChange:j=>R("isActive",j.target.checked),className:"rounded"}),v.jsx(Fn,{htmlFor:"isActive",children:"Active"})]}),v.jsxs("div",{className:"flex space-x-2",children:[v.jsx(en,{type:"submit",className:"bg-gradient-primary",children:u?"Update User":"Create User"}),v.jsx(en,{type:"button",variant:"outline",onClick:I,children:"Cancel"})]})]})})]}),v.jsxs(qn,{children:[v.jsxs(vr,{children:[v.jsx(yr,{children:"All Users"}),v.jsx(el,{children:"Manage existing users in the system"})]}),v.jsx(Gn,{children:v.jsxs(QE,{children:[v.jsx(JE,{children:v.jsxs(Dx,{children:[v.jsx(ec,{children:"Username"}),v.jsx(ec,{children:"Email"}),v.jsx(ec,{children:"Role"}),v.jsx(ec,{children:"Status"}),v.jsx(ec,{children:"Created"}),v.jsx(ec,{children:"Last Login"}),v.jsx(ec,{children:"Actions"})]})}),v.jsx(eN,{children:e.map(j=>v.jsxs(Dx,{children:[v.jsx(tc,{className:"font-medium",children:j.username}),v.jsx(tc,{children:j.email}),v.jsx(tc,{children:v.jsx(us,{variant:j.role==="admin"?"default":"secondary",children:j.role})}),v.jsx(tc,{children:v.jsx(us,{variant:j.isActive?"default":"destructive",children:j.isActive?"Active":"Inactive"})}),v.jsx(tc,{children:L(j.createdAt)}),v.jsx(tc,{children:j.lastLoginAt?L(j.lastLoginAt):"Never"}),v.jsx(tc,{children:v.jsxs("div",{className:"flex space-x-2",children:[v.jsx(en,{variant:"outline",size:"sm",onClick:()=>k(j),children:v.jsx(Nk,{className:"h-4 w-4"})}),v.jsxs(y0,{children:[v.jsx(jz,{asChild:!0,children:v.jsx(en,{variant:"outline",size:"sm",children:v.jsx(W2,{className:"h-4 w-4"})})}),v.jsxs(Hf,{children:[v.jsxs(Vf,{children:[v.jsx(Gf,{children:"Delete User"}),v.jsxs(Kf,{children:['Are you sure you want to delete user "',j.username,'"? This action cannot be undone.']})]}),v.jsxs(qf,{children:[v.jsx(Xf,{children:"Cancel"}),v.jsx($f,{onClick:()=>O(j.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})]})]})})]},j.id))})]})})]})]})},PW=()=>{const{toast:e}=Ys(),[t,n]=F.useState("200"),[r,i]=F.useState("500"),[a,u]=F.useState("80"),[f,m]=F.useState("100");F.useEffect(()=>{(async()=>{await Ks();const y=await J0();n(String(y.membershipFee??200)),i(String(y.monthlySubscriptionFee??500)),u(String(y.perSessionMemberFee??80)),m(String(y.perSessionWalkInFee??100))})()},[]);const p=async()=>{await mD({membershipFee:Number(t)||200,monthlySubscriptionFee:Number(r)||500,perSessionMemberFee:Number(a)||80,perSessionWalkInFee:Number(f)||100}),e({title:"Saved",description:"Pricing has been updated."})};return v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-3xl font-bold",children:"Settings"}),v.jsx("p",{className:"text-muted-foreground",children:"Configure application preferences"})]}),v.jsxs(qn,{className:"border-0 shadow-md",children:[v.jsx(vr,{children:v.jsx(yr,{children:"Pricing"})}),v.jsxs(Gn,{className:"space-y-4",children:[v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx(Fn,{htmlFor:"membershipFee",children:"Membership Fee (Lifetime) ()"}),v.jsx(mr,{id:"membershipFee",type:"number",min:"0",value:t,onChange:y=>n(y.target.value)})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(Fn,{htmlFor:"monthlySubscriptionFee",children:"Monthly Subscription Fee ()"}),v.jsx(mr,{id:"monthlySubscriptionFee",type:"number",min:"0",value:r,onChange:y=>i(y.target.value)})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(Fn,{htmlFor:"perSessionMemberFee",children:"Per Session Fee (Member) ()"}),v.jsx(mr,{id:"perSessionMemberFee",type:"number",min:"0",value:a,onChange:y=>u(y.target.value)})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(Fn,{htmlFor:"perSessionWalkInFee",children:"Per Session Fee (Walk-in) ()"}),v.jsx(mr,{id:"perSessionWalkInFee",type:"number",min:"0",value:f,onChange:y=>m(y.target.value)})]})]}),v.jsx("div",{className:"flex justify-end",children:v.jsx(en,{className:"bg-gradient-primary hover:opacity-90",onClick:p,children:"Save"})})]})]})]})},RW=new tL,OW=()=>{const[e,t]=F.useState(!1);F.useEffect(()=>{Ks(),localStorage.getItem("fk:isAuthenticated")==="true"&&t(!0)},[]);const n=()=>{localStorage.setItem("fk:isAuthenticated","true"),t(!0)},r=()=>{},i=()=>{localStorage.removeItem("fk:isAuthenticated"),localStorage.removeItem("fk:currentUser"),t(!1)};return v.jsx(rL,{client:RW,children:v.jsxs(PO,{children:[v.jsx(hP,{}),v.jsx(qP,{}),v.jsx(nD,{children:v.jsx(a_,{children:e?v.jsxs(v.Fragment,{children:[v.jsxs(zi,{path:"/",element:v.jsx(Q9,{onLogout:i}),children:[v.jsx(zi,{index:!0,element:v.jsx(J9,{})}),v.jsx(zi,{path:"members",element:v.jsx(RM,{})}),v.jsx(zi,{path:"members/add",element:v.jsx(XU,{})}),v.jsx(zi,{path:"members/edit/:id",element:v.jsx(YU,{})}),v.jsx(zi,{path:"attendance",element:v.jsx(Bz,{})}),v.jsx(zi,{path:"reports",element:v.jsx(Uz,{})}),v.jsx(zi,{path:"reports/attendance",element:v.jsx(CW,{})}),v.jsx(zi,{path:"reports/membership",element:v.jsx(EW,{})}),v.jsx(zi,{path:"reports/member-activity",element:v.jsx(NW,{})}),v.jsx(zi,{path:"users",element:v.jsx(kW,{})}),v.jsx(zi,{path:"settings",element:v.jsx(PW,{})})]}),v.jsx(zi,{path:"/auth/*",element:v.jsx(K5,{to:"/",replace:!0})})]}):v.jsxs(v.Fragment,{children:[v.jsx(zi,{path:"/auth/*",element:v.jsx(Z9,{onLogin:n,onSignup:r})}),v.jsx(zi,{path:"*",element:v.jsx(K5,{to:"/auth/login",replace:!0})})]})})})]})})},Ty="Asia/Manila",LW=Date.prototype.toLocaleString,DW=Date.prototype.toLocaleDateString,MW=Date.prototype.toLocaleTimeString;Date.prototype.toLocaleString=function(e,t){return LW.call(this,e,{...t,timeZone:Ty})};Date.prototype.toLocaleDateString=function(e,t){return DW.call(this,e,{...t,timeZone:Ty})};Date.prototype.toLocaleTimeString=function(e,t){return MW.call(this,e,{...t,timeZone:Ty})};SS(document.getElementById("root")).render(v.jsx(OW,{}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").catch(()=>{})});export{kx as C,L3 as E,KW as H,lE as W,Ir as _,Ao as a,zU as b,$c as c,$W as d,gp as g};
